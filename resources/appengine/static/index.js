/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function r(a){return function(){return a}}var s,t=this;function u(){}function ca(a){a.ua=function(){return a.qi||(a.qi=new a)}}
function da(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===m}function x(a){return da(a)=="array"}function ea(a){var b=da(a);return b=="array"||b=="object"&&typeof a.length=="number"}function y(a){return typeof a=="string"}function fa(a){return typeof a=="number"}function ga(a){return da(a)=="function"}function ha(a){a=da(a);return a=="object"||a=="array"||a=="function"}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ka=0;function la(a){return a.call.apply(a.bind,arguments)}function ma(a,b){var c=b||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}else return function(){return a.apply(c,arguments)}}
function z(){z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma;return z.apply(m,arguments)}function na(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var A=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};function E(){oa&&(pa[ia(this)]=this)}var oa=!1,pa={};E.prototype.Qe=!1;E.prototype.m=function(){if(!this.Qe&&(this.Qe=!0,this.g(),oa)){var a=ia(this);pa.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete pa[a]}};E.prototype.g=aa();function qa(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.sc=d||0;this.Da=m;this.state=ra}D(qa,E);qa.prototype.g=function(){delete this.Da};var ra=0;function sa(a,b){for(var c in a)b.call(i,a[c],c,a)}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function va(){var a=wa,b;for(b in a)return!1;return!0}function xa(a,b){b in a&&delete a[b]}function ya(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Aa(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<za.length;f++)b=za[f],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}function Ba(){var a=arguments.length;if(a==1&&x(arguments[0]))return Ba.apply(m,arguments[0]);a%2&&e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function Ca(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Da(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ea=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Fa(a){a=String(a);if(!Ea.test(a))return encodeURIComponent(a);return a}function Ga(a){if(!Ha.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ia,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ja,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ka,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(La,"&quot;"));return a}
var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/\"/g,Ha=/[&<>\"]/;function Ma(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Na(a,b){for(var c=0,d=Da(String(a)).split("."),f=Da(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var o=l.exec(j)||["","",""],q=p.exec(k)||["","",""];if(o[0].length==0&&q[0].length==0)break;c=Oa(o[1].length==0?0:parseInt(o[1],10),q[1].length==0?0:parseInt(q[1],10))||Oa(o[2].length==0,q[2].length==0)||Oa(o[2],q[2])}while(c==0)}return c}
function Oa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var F=Array.prototype,Pa=F.indexOf?function(a,b,c){return F.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(y(a)){if(!y(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},G=F.forEach?function(a,b,c){F.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Qa=F.filter?function(a,b,c){return F.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=
0,h=y(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},Ra=F.map?function(a,b,c){return F.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=y(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Sa=F.every?function(a,b,c){return F.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function Ta(a,b){var c;a:{c=a.length;for(var d=y(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?m:y(a)?a.charAt(c):a[c]}function Ua(a,b){return Pa(a,b)>=0}function Va(a,b){var c=Pa(a,b);c>=0&&F.splice.call(a,c,1)}function Wa(){return F.concat.apply(F,arguments)}function Xa(a){if(x(a))return Wa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Ya(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(x(c)||(d=ea(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Za(a){F.splice.apply(a,$a(arguments,1))}function $a(a,b,c){return arguments.length<=2?F.slice.call(a,b):F.slice.call(a,b,c)}function ab(a,b){F.sort.call(a,b||bb)}function bb(a,b){return a>b?1:a<b?-1:0}
function cb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];x(c)?a.push.apply(a,cb.apply(m,c)):a.push(c)}return a};function db(a){if(typeof a.Jb=="function")return a.Jb();if(y(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ta(a)}function eb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ea(a)||y(a))G(a,b,c);else{var d;if(typeof a.ic=="function")d=a.ic();else if(typeof a.Jb!="function")if(ea(a)||y(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=ua(a);else d=i;for(var f=db(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};var fb="StopIteration"in t?t.StopIteration:Error("StopIteration");function gb(){}gb.prototype.next=function(){e(fb)};gb.prototype.Ge=function(){return this};function hb(a){if(a instanceof gb)return a;if(typeof a.Ge=="function")return a.Ge(!1);if(ea(a)){var b=0,c=new gb;c.next=function(){for(;;)if(b>=a.length&&e(fb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function ib(a,b,c){if(ea(a))try{G(a,b,c)}catch(d){d!==fb&&e(d)}else{a=hb(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==fb&&e(f)}}};function jb(a){this.Qa={};this.w=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){a instanceof jb?(b=a.ic(),c=a.Jb()):(b=ua(a),c=ta(a));for(var d=0;d<b.length;d++)this.set(b[d],c[d])}}s=jb.prototype;s.v=0;s.Pd=0;s.We=n("v");s.Jb=function(){kb(this);for(var a=[],b=0;b<this.w.length;b++)a.push(this.Qa[this.w[b]]);return a};s.ic=function(){kb(this);return this.w.concat()};
s.Gb=function(a){return lb(this.Qa,a)};s.Zd=function(a,b){if(this===a)return!0;if(this.v!=a.We())return!1;var c=b||mb;kb(this);for(var d,f=0;d=this.w[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function mb(a,b){return a===b}s.clear=function(){this.Qa={};this.Pd=this.v=this.w.length=0};s.remove=function(a){if(lb(this.Qa,a))return delete this.Qa[a],this.v--,this.Pd++,this.w.length>2*this.v&&kb(this),!0;return!1};
function kb(a){if(a.v!=a.w.length){for(var b=0,c=0;b<a.w.length;){var d=a.w[b];lb(a.Qa,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.v!=a.w.length){for(var f={},c=b=0;b<a.w.length;)d=a.w[b],lb(f,d)||(a.w[c++]=d,f[d]=1),b++;a.w.length=c}}s.get=function(a,b){if(lb(this.Qa,a))return this.Qa[a];return b};s.set=function(a,b){lb(this.Qa,a)||(this.v++,this.w.push(a),this.Pd++);this.Qa[a]=b};s.aa=function(){return new jb(this)};
s.Ge=function(a){kb(this);var b=0,c=this.w,d=this.Qa,f=this.Pd,g=this,h=new gb;h.next=function(){for(;;){f!=g.Pd&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(fb);var h=c[b++];return a?h:d[h]}};return h};function lb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nb(a){this.name=a}s=nb.prototype;s.Ze=r(0);s.ph=u;s.vd=0;s.wf=function(a){a.Da=new Image;a.Da.onload=function(b){return function(){a.state=20;b.vd--;b.ph(a)}}(this);a.Da.onerror=function(b){return function(){a.state=-10;b.vd--}}(this);a.state=10;a.Da.src=this.Ic(a.zoom,a.x,a.y);this.vd++;return!0};s.Td=aa();s.Ye=r(m);s.hg=u;function ob(a){return Math.floor(Math.random()*a)}function pb(a,b,c){return Math.min(Math.max(a,b),c)}function qb(a,b){var c=a%b;return c*b<0?c+b:c}function rb(a){return a*Math.PI/180};function sb(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText}function tb(a){a=qb(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function ub(a,b,c,d,f,g,h){this.name=a;this.url=b;this.Di=c;this.xi=d;this.nj=f;this.Yh=g===!0;this.Mf=h||[]}D(ub,nb);ub.prototype.Ze=n("Di");ub.prototype.Ib=n("xi");ub.prototype.jc=n("nj");ub.prototype.Ic=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.Yh?(1<<a)-c-1:c).toFixed(0));this.Mf.length>0&&(d=d.replace("{sub}",this.Mf[ob(this.Mf.length)]));return d};var vb,wb,xb,yb,zb,Ab,Bb;function Cb(){return t.navigator?t.navigator.userAgent:m}function Db(){return t.navigator}zb=yb=xb=wb=vb=!1;var Eb;if(Eb=Cb()){var Fb=Db();vb=Eb.indexOf("Opera")==0;wb=!vb&&Eb.indexOf("MSIE")!=-1;yb=(xb=!vb&&Eb.indexOf("WebKit")!=-1)&&Eb.indexOf("Mobile")!=-1;zb=!vb&&!xb&&Fb.product=="Gecko"}var Gb=vb,H=wb,I=zb,J=xb,Hb=yb,Ib,Kb=Db();Ib=Kb&&Kb.platform||"";Ab=Ib.indexOf("Mac")!=-1;Bb=Ib.indexOf("Win")!=-1;var Lb=!!Db()&&(Db().appVersion||"").indexOf("X11")!=-1,Mb;
a:{var Nb="",Ob;if(Gb&&t.opera)var Pb=t.opera.version,Nb=typeof Pb=="function"?Pb():Pb;else if(I?Ob=/rv\:([^\);]+)(\)|;)/:H?Ob=/MSIE\s+([^\);]+)(\)|;)/:J&&(Ob=/WebKit\/(\S+)/),Ob)var Qb=Ob.exec(Cb()),Nb=Qb?Qb[1]:"";if(H){var Rb,Sb=t.document;Rb=Sb?Sb.documentMode:i;if(Rb>parseFloat(Nb)){Mb=String(Rb);break a}}Mb=Nb}var Tb={};function K(a){return Tb[a]||(Tb[a]=Na(Mb,a)>=0)};function L(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}L.prototype.aa=function(){return new L(this.x,this.y)};function Ub(a,b){return new L(a.x-b.x,a.y-b.y)};function Vb(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Vb.prototype.aa=function(){return new Vb(this.top,this.right,this.bottom,this.left)};Vb.prototype.contains=function(a){a=!this||!a?!1:a instanceof Vb?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function Wb(a,b){this.width=a;this.height=b}function Xb(a,b){if(a==b)return!0;if(!a||!b)return!1;return a.width==b.width&&a.height==b.height}s=Wb.prototype;s.aa=function(){return new Wb(this.width,this.height)};s.Ud=function(){return this.width/this.height};s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};s.scale=function(a){this.width*=a;this.height*=a;return this};function Yb(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Yb.prototype.aa=function(){return new Yb(this.left,this.top,this.width,this.height)};Yb.prototype.contains=function(a){return a instanceof Yb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Yb.prototype.sb=function(){return new Wb(this.width,this.height)};var Zb;function $b(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function ac(a){var b=$b(a),c=$a(arguments,1),d;d=b;for(var f=0,g=0;g<c.length;g++)Ua(d,c[g])||(d.push(c[g]),f++);d=f==c.length;a.className=b.join(" ");return d}function bc(a){var b=$b(a),c=$a(arguments,1),d;d=b;for(var f=0,g=0;g<d.length;g++)Ua(c,d[g])&&(Za(d,g--,1),f++);d=f==c.length;a.className=b.join(" ");return d};var cc=!H||K("9");!I&&!H||H&&K("9")||I&&K("1.9.1");var dc=H&&!K("9");function M(a){return a?new ec(N(a)):Zb||(Zb=new ec)}function O(a){return y(a)?document.getElementById(a):a}
function fc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!J||gc(document)||K("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&Ua(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function hc(a,b){sa(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in ic?a.setAttribute(ic[d],b):a[d]=b})}var ic={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function jc(){return kc(document,arguments)}
function kc(a,b){var c=b[0],d=b[1];if(!cc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ga(d.name),'"');if(d.type){c.push(' type="',Ga(d.type),'"');var f={};Aa(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)y(d)?c.className=d:x(d)?ac.apply(m,[c].concat(d)):hc(c,d);b.length>2&&lc(a,c,b,2);return c}
function lc(a,b,c,d){function f(c){c&&b.appendChild(y(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ea(g)&&!(ha(g)&&g.nodeType>0)?G(mc(g)?Xa(g):g,f):f(g)}}function gc(a){return a.compatMode=="CSS1Compat"}function nc(a){lc(N(a),a,arguments,1)}function oc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function pc(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function qc(a){if(a.firstElementChild!=i)return a.firstElementChild;for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function rc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function N(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function sc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else oc(a),a.appendChild(N(a).createTextNode(b))}var tc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},uc={IMG:" ",BR:"\n"};function vc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified)return a=a.tabIndex,fa(a)&&a>=0;return!1}function wc(a){var b=[];xc(a,b,!1);return b.join("")}
function xc(a,b,c){if(!(a.nodeName in tc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in uc)b.push(uc[a.nodeName]);else for(a=a.firstChild;a;)xc(a,b,c),a=a.nextSibling}function mc(a){if(a&&typeof a.length=="number")if(ha(a))return typeof a.item=="function"||typeof a.item=="string";else if(ga(a))return typeof a.item=="function";return!1}function ec(a){this.A=a||t.document||document}s=ec.prototype;s.T=M;
function yc(a){return a.A}s.c=function(a){return y(a)?this.A.getElementById(a):a};s.o=function(){return kc(this.A,arguments)};s.createElement=function(a){return this.A.createElement(a)};s.createTextNode=function(a){return this.A.createTextNode(a)};function zc(a){var b=a.A,a=!J&&gc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new L(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=nc;s.ah=oc;s.removeNode=pc;s.pg=qc;
s.contains=rc;function Ac(a,b){var c=N(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m)))return c[b]||c.getPropertyValue(b);return""}function Bc(a,b){return Ac(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function Cc(a,b,c){var d,f=I&&(Ab||Lb)&&K("1.9");b instanceof L?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Dc(d,f);a.style.top=Dc(b,f)}
function Ec(a){var a=a?a.nodeType==9?a:N(a):document,b;if(b=H)if(b=!K(9))b=M(a),b=!gc(b.A);if(b)return a.body;return a.documentElement}function Fc(a){var b=a.getBoundingClientRect();if(H)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Gc(a){if(H)return a.offsetParent;for(var b=N(a),c=Bc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Bc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}
function Hc(a){for(var b=new Vb(0,Infinity,Infinity,0),c=M(a),d=c.A.body,f=!J&&gc(c.A)?c.A.documentElement:c.A.body,g;a=Gc(a);)if((!H||a.clientWidth!=0)&&(!J||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Bc(a,"overflow")!="visible"){var h=Ic(a),j;j=a;if(I&&!K("1.9")){var k=parseFloat(Ac(j,"borderLeftWidth"));if(Jc(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(Ac(j,"borderRightWidth"));k+=l}j=new L(k,parseFloat(Ac(j,"borderTopWidth")))}else j=new L(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;J?(b.left+=d,b.top+=f):(b.left=Math.max(b.left,d),b.top=Math.max(b.top,f));if(!g||J)b.right+=d,b.bottom+=f;c=c.A.parentWindow||c.A.defaultView||window;g=c.document;J&&!K("500")&&!Hb?(typeof c.innerHeight=="undefined"&&(c=window),g=c.innerHeight,a=c.document.documentElement.scrollHeight,
c==c.top&&a<g&&(g-=15),c=new Wb(c.innerWidth,g)):(c=gc(g)?g.documentElement:g.body,c=new Wb(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function Ic(a){var b,c=N(a),d=Bc(a,"position"),f=I&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new L(0,0),h=Ec(c);if(a==h)return g;if(a.getBoundingClientRect)b=Fc(a),a=zc(M(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(J&&
Bc(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Gb||J&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Gc(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Gb||b.tagName!="TR")g.y-=b.scrollTop}return g}
function Kc(a){var b=new L;if(a.nodeType==1)if(a.getBoundingClientRect)a=Fc(a),b.x=a.left,b.y=a.top;else{var c=zc(M(a)),a=Ic(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ga(a.$h),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.na.targetTouches&&(d=a.na.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Lc(a,b,c){var d=Ic(a);if(b instanceof L)c=b.y,b=b.x;Cc(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Mc(a,b,c){b instanceof Wb?(c=b.height,b=b.width):c==i&&e(Error("missing height argument"));a.style.width=Dc(b,!0);a.style.height=Dc(c,!0)}function Dc(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function Nc(a){if(Bc(a,"display")!="none")return new Wb(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g=a.offsetWidth,a=a.offsetHeight;b.display=c;b.position=f;b.visibility=d;return new Wb(g,a)}function Oc(a){var b=Ic(a),a=Nc(a);return new Yb(b.x,b.y,a.width,a.height)}function Pc(a,b){a.style.display=b?"":"none"}function Jc(a){return"rtl"==Bc(a,"direction")}
var Qc=I?"MozUserSelect":J?"WebkitUserSelect":m;function Rc(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(Qc){if(b=b?"none":"",a.style[Qc]=b,c)for(var a=0,d;d=c[a];a++)d.style[Qc]=b}else if(H||Gb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var Sc={thin:2,medium:4,thick:6};
function Tc(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:m)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;if(c in Sc)return Sc[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};var Uc;var Vc=!H||K("9"),Wc=H&&!K("8");function P(a,b){E.call(this);this.type=a;this.currentTarget=this.target=b}D(P,E);s=P.prototype;s.g=function(){delete this.type;delete this.target;delete this.currentTarget};s.qc=!1;s.Bd=!0;s.stopPropagation=function(){this.qc=!0};s.preventDefault=function(){this.Bd=!1};function Xc(a){a.preventDefault()};var Yc=new Function("a","return a");function Zc(a,b){a&&this.Lb(a,b)}D(Zc,P);var $c=[1,4,2];s=Zc.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=!1;s.altKey=!1;s.shiftKey=!1;s.metaKey=!1;s.Xi=!1;s.na=m;
s.Lb=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I){var f;a:{try{Yc(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=m)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xi=Ab?a.metaKey:a.ctrlKey;this.state=a.state;this.na=a;delete this.Bd;delete this.qc};function ad(a,b){return Vc?a.na.button==b:a.type=="click"?b==0:!!(a.na.button&$c[b])}function bd(a){return ad(a,0)&&!(J&&Ab&&a.ctrlKey)}
s.stopPropagation=function(){Zc.b.stopPropagation.call(this);this.na.stopPropagation?this.na.stopPropagation():this.na.cancelBubble=!0};s.preventDefault=function(){Zc.b.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};s.$h=n("na");s.g=function(){Zc.b.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.na=m};function cd(){}var dd=0;s=cd.prototype;s.key=0;s.Xc=!1;s.cg=!1;s.Lb=function(a,b,c,d,f,g){ga(a)?this.Fg=!0:a&&a.handleEvent&&ga(a.handleEvent)?this.Fg=!1:e(Error("Invalid listener argument"));this.Mc=a;this.Zg=b;this.src=c;this.type=d;this.capture=!!f;this.ge=g;this.cg=!1;this.key=++dd;this.Xc=!1};s.handleEvent=function(a){if(this.Fg)return this.Mc.call(this.ge||this.src,a);return this.Mc.handleEvent.call(this.Mc,a)};var ed,fd=(ed="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";function gd(a,b){E.call(this);this.Pg=b;this.gc=[];a>this.Pg&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.gc.push(this.pb?this.pb():{})}D(gd,E);gd.prototype.pb=m;gd.prototype.kg=m;gd.prototype.getObject=function(){if(this.gc.length)return this.gc.pop();return this.pb?this.pb():{}};function hd(a,b){a.gc.length<a.Pg?a.gc.push(b):id(a,b)}function id(a,b){if(a.kg)a.kg(b);else if(ha(b))if(ga(b.m))b.m();else for(var c in b)delete b[c]}
gd.prototype.g=function(){gd.b.g.call(this);for(var a=this.gc;a.length;)id(this,a.pop());delete this.gc};var jd,kd,ld,md,nd,od,pd,qd,rd,sd,td;
(function(){function a(){return{v:0,Sa:0}}function b(){return[]}function c(){function a(b){return h.call(a.src,a.key,b)}return a}function d(){return new cd}function f(){return new Zc}var g=ed&&!(Na(fd,"5.7")>=0),h;od=function(a){h=a};if(g){jd=function(){return j.getObject()};kd=function(a){hd(j,a)};ld=function(){return k.getObject()};md=function(a){hd(k,a)};nd=function(){return l.getObject()};pd=function(){hd(l,c())};qd=function(){return p.getObject()};rd=function(a){hd(p,a)};sd=function(){return o.getObject()};
td=function(a){hd(o,a)};var j=new gd(0,600);j.pb=a;var k=new gd(0,600);k.pb=b;var l=new gd(0,600);l.pb=c;var p=new gd(0,600);p.pb=d;var o=new gd(0,600);o.pb=f}else jd=a,kd=u,ld=b,md=u,nd=c,pd=u,qd=d,rd=u,sd=f,td=u})();var ud={},Q={},vd={},wd={};
function R(a,b,c,d,f){if(b)if(x(b)){for(var g=0;g<b.length;g++)R(a,b[g],c,d,f);return m}else{var d=!!d,h=Q;b in h||(h[b]=jd());h=h[b];d in h||(h[d]=jd(),h.v++);var h=h[d],j=ia(a),k;h.Sa++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.Mc==c&&h.ge==f){if(h.Xc)break;return k[g].key}}else k=h[j]=ld(),h.v++;g=nd();g.src=a;h=qd();h.Lb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);ud[c]=h;vd[j]||(vd[j]=ld());vd[j].push(h);a.addEventListener?(a==t||!a.ig)&&a.addEventListener(b,g,d):a.attachEvent(xd(b),g);return c}else e(Error("Invalid event type"))}
function yd(a,b,c,d,f){if(x(b))for(var g=0;g<b.length;g++)yd(a,b[g],c,d,f);else if(d=!!d,a=zd(a,b,d))for(g=0;g<a.length;g++)if(a[g].Mc==c&&a[g].capture==d&&a[g].ge==f){S(a[g].key);break}}function S(a){if(ud[a]){var b=ud[a];if(!b.Xc){var c=b.src,d=b.type,f=b.Zg,g=b.capture;c.removeEventListener?(c==t||!c.ig)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(xd(d),f);c=ia(c);f=Q[d][g][c];if(vd[c]){var h=vd[c];Va(h,b);h.length==0&&delete vd[c]}b.Xc=!0;f.Sg=!0;Ad(d,g,c,f);delete ud[a]}}}
function Ad(a,b,c,d){if(!d.me&&d.Sg){for(var f=0,g=0;f<d.length;f++)if(d[f].Xc){var h=d[f].Zg;h.src=m;pd(h);rd(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.Sg=!1;g==0&&(md(d),delete Q[a][b][c],Q[a][b].v--,Q[a][b].v==0&&(kd(Q[a][b]),delete Q[a][b],Q[a].v--),Q[a].v==0&&(kd(Q[a]),delete Q[a]))}}
function Bd(a){var b,c=0,d=b==m;b=!!b;if(a==m)sa(vd,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}});else if(a=ia(a),vd[a])for(var a=vd[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}}function zd(a,b,c){var d=Q;if(b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a])))return d[a];return m}function xd(a){if(a in wd)return wd[a];return wd[a]="on"+a}
function Cd(a,b,c,d,f){var g=1,b=ia(b);if(a[b]){a.Sa--;a=a[b];a.me?a.me++:a.me=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Xc&&(g&=Dd(k,f)!==!1)}}finally{a.me--,Ad(c,d,b,a)}}return Boolean(g)}function Dd(a,b){var c=a.handleEvent(b);a.cg&&S(a.key);return c}
od(function(a,b){if(!ud[a])return!0;var c=ud[a],d=c.type,f=Q;if(!(d in f))return!0;var f=f[d],g,h;Uc===i&&(Uc=H&&!t.addEventListener);if(Uc){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=t;g=j.shift();)if(k[g]!=m)k=k[g];else{j=m;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(p){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=sd();l.Lb(g,this);g=!0;try{if(j){for(var o=ld(),q=l.currentTarget;q;q=
q.parentNode)o.push(q);h=f[!0];h.Sa=h.v;for(var B=o.length-1;!l.qc&&B>=0&&h.Sa;B--)l.currentTarget=o[B],g&=Cd(h,o[B],d,!0,l);if(k){h=f[!1];h.Sa=h.v;for(B=0;!l.qc&&B<o.length&&h.Sa;B++)l.currentTarget=o[B],g&=Cd(h,o[B],d,!1,l)}}else g=Dd(c,l)}finally{if(o)o.length=0,md(o);l.m();td(l)}return g}d=new Zc(b,this);try{g=Dd(c,d)}finally{d.m()}return g});function Ed(a){E.call(this);this.yg=a}D(Ed,E);var Fd=new gd(0,100),Gd=[];Ed.prototype.h=function(a,b,c,d,f){x(b)||(Gd[0]=b,b=Gd);for(var g=0;g<b.length;g++){var h=R(a,b[g],c||this,d||!1,f||this.yg||this);this.w?this.w[h]=!0:this.Ob?(this.w=Fd.getObject(),this.w[this.Ob]=!0,this.Ob=m,this.w[h]=!0):this.Ob=h}return this};
Ed.prototype.X=function(a,b,c,d,f){if(this.Ob||this.w)if(x(b))for(var g=0;g<b.length;g++)this.X(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.yg||this;d=!!d;if(a=zd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Mc==c&&a[b].capture==d&&a[b].ge==f){a=a[b];break a}a=m}if(a)if(a=a.key,S(a),this.w)xa(this.w,a);else if(this.Ob==a)this.Ob=m}return this};function Hd(a){if(a.w){for(var b in a.w)S(b),delete a.w[b];hd(Fd,a.w);a.w=m}else a.Ob&&S(a.Ob)}Ed.prototype.g=function(){Ed.b.g.call(this);Hd(this)};
Ed.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Id(){}ca(Id);Id.prototype.Ki=0;function Jd(a){return":"+(a.Ki++).toString(36)}Id.ua();function T(){E.call(this)}D(T,E);s=T.prototype;s.ig=!0;s.ve=m;s.If=ba("ve");s.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){yd(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(y(a))a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var d=a,a=new P(b,this);Aa(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.ve)f.push(g);g=c[!0];g.Sa=g.v;for(var h=f.length-1;!a.qc&&h>=0&&g.Sa;h--)a.currentTarget=f[h],d&=Cd(g,f[h],a.type,!0,a)&&a.Bd!=!1}if(!1 in c)if(g=c[!1],g.Sa=g.v,b)for(h=0;!a.qc&&h<f.length&&g.Sa;h++)a.currentTarget=f[h],d&=Cd(g,f[h],a.type,!1,a)&&a.Bd!=!1;else for(f=this;!a.qc&&
f&&g.Sa;f=f.ve)a.currentTarget=f,d&=Cd(g,f,a.type,!1,a)&&a.Bd!=!1;a=Boolean(d)}else a=!0;return a};s.g=function(){T.b.g.call(this);Bd(this);this.ve=m};function Kd(a){E.call(this);this.P=a||M();this.Cd=Ld}D(Kd,T);Kd.prototype.ni=Id.ua();var Ld=m;function Md(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}s=Kd.prototype;s.Oa=m;s.F=!1;s.e=m;s.Cd=m;s.zf=m;s.Z=m;s.ga=m;s.Ja=m;s.xh=!1;
function Nd(a){return a.Oa||(a.Oa=Jd(a.ni))}function Od(a,b){a.Z&&a.Z.Ja&&(xa(a.Z.Ja,a.Oa),ya(a.Z.Ja,b,a));a.Oa=b}s.c=n("e");s.oa=function(){return this.Jc||(this.Jc=new Ed(this))};function Pd(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.Z&&a.Oa&&Qd(a.Z,a.Oa)&&a.Z!=b&&e(Error("Unable to set parent component"));a.Z=b;Kd.b.If.call(a,b)}s.getParent=n("Z");s.If=function(a){this.Z&&this.Z!=a&&e(Error("Method not supported"));Kd.b.If.call(this,a)};s.T=n("P");s.o=function(){this.e=this.P.createElement("div")};
s.yb=function(a){Rd(this,a)};function Rd(a,b,c){a.F&&e(Error("Component already rendered"));a.e||a.o();b?b.insertBefore(a.e,c||m):a.P.A.body.appendChild(a.e);(!a.Z||a.Z.F)&&a.Y()}s.ba=function(a){if(this.F)e(Error("Component already rendered"));else if(a&&this.Ia(a)){this.xh=!0;if(!this.P||this.P.A!=N(a))this.P=M(a);this.$a(a);this.Y()}else e(Error("Invalid element to decorate"))};s.Ia=r(!0);s.$a=ba("e");s.Y=function(){this.F=!0;Sd(this,function(a){!a.F&&a.c()&&a.Y()})};
s.bb=function(){Sd(this,function(a){a.F&&a.bb()});this.Jc&&Hd(this.Jc);this.F=!1};s.g=function(){Kd.b.g.call(this);this.F&&this.bb();this.Jc&&(this.Jc.m(),delete this.Jc);Sd(this,function(a){a.m()});!this.xh&&this.e&&pc(this.e);this.Z=this.zf=this.e=this.Ja=this.ga=m};s.hd=function(a,b){this.jd(a,Td(this),b)};
s.jd=function(a,b,c){a.F&&(c||!this.F)&&e(Error("Component already rendered"));(b<0||b>Td(this))&&e(Error("Child component index out of bounds"));if(!this.Ja||!this.ga)this.Ja={},this.ga=[];a.getParent()==this?(this.Ja[Nd(a)]=a,Va(this.ga,a)):ya(this.Ja,Nd(a),a);Pd(a,this);Za(this.ga,b,0,a);a.F&&this.F&&a.getParent()==this?(c=this.S(),c.insertBefore(a.c(),c.childNodes[b]||m)):c?(this.e||this.o(),b=U(this,b+1),Rd(a,this.S(),b?b.e:m)):this.F&&!a.F&&a.e&&a.Y()};s.S=n("e");
function Ud(a){if(a.Cd==m)a.Cd=Jc(a.F?a.e:a.P.A.body);return a.Cd}s.ad=function(a){this.F&&e(Error("Component already rendered"));this.Cd=a};function Td(a){return a.ga?a.ga.length:0}function Qd(a,b){var c;a.Ja&&b?(c=a.Ja,c=b in c?c[b]:i,c=c||m):c=m;return c}function U(a,b){return a.ga?a.ga[b]||m:m}function Sd(a,b,c){a.ga&&G(a.ga,b,c)}function Vd(a,b){return a.ga&&b?Pa(a.ga,b):-1}
s.removeChild=function(a,b){if(a){var c=y(a)?a:Nd(a),a=Qd(this,c);c&&a&&(xa(this.Ja,c),Va(this.ga,a),b&&(a.bb(),a.e&&pc(a.e)),Pd(a,m))}a||e(Error("Child is not in parent component"));return a};s.ah=function(a){for(;this.ga&&this.ga.length!=0;)this.removeChild(U(this,0),a)};function Wd(a,b){E.call(this);this.ud=a||1;this.Kd=b||Xd;this.Me=z(this.Of,this);this.vf=A()}D(Wd,T);Wd.prototype.enabled=!1;var Xd=t.window;s=Wd.prototype;s.s=m;s.setInterval=function(a){this.ud=a;this.s&&this.enabled?(this.stop(),this.start()):this.s&&this.stop()};s.Of=function(){if(this.enabled){var a=A()-this.vf;if(a>0&&a<this.ud*0.8)this.s=this.Kd.setTimeout(this.Me,this.ud-a);else if(this.dispatchEvent(Yd),this.enabled)this.s=this.Kd.setTimeout(this.Me,this.ud),this.vf=A()}};
s.start=function(){this.enabled=!0;if(!this.s)this.s=this.Kd.setTimeout(this.Me,this.ud),this.vf=A()};s.stop=function(){this.enabled=!1;if(this.s)this.Kd.clearTimeout(this.s),this.s=m};s.g=function(){Wd.b.g.call(this);this.stop();delete this.Kd};var Yd="tick";function Zd(a,b,c,d){E.call(this);(!x(a)||!x(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.bd=a;this.Wh=b;this.duration=c;this.Xf=d;this.coords=[]}D(Zd,T);var wa={},$d=m;function ae(){Xd.clearTimeout($d);var a=A(),b;for(b in wa)be(wa[b],a);$d=va()?m:Xd.setTimeout(ae,20)}function ce(a){a=ia(a);delete wa[a];$d&&va()&&(Xd.clearTimeout($d),$d=m)}s=Zd.prototype;s.u=0;s.og=0;s.Aa=0;s.startTime=m;s.mg=m;s.tf=m;
s.play=function(a){if(a||this.u==0)this.Aa=0,this.coords=this.bd;else if(this.u==1)return!1;ce(this);this.startTime=A();this.u==-1&&(this.startTime-=this.duration*this.Aa);this.mg=this.startTime+this.duration;this.tf=this.startTime;this.Aa||this.xb();de(this,"play");this.u==-1&&de(this,"resume");this.u=1;a=ia(this);a in wa||(wa[a]=this);$d||($d=Xd.setTimeout(ae,20));be(this,this.startTime);return!0};s.stop=function(a){ce(this);this.u=0;if(a)this.Aa=1;ee(this,this.Aa);de(this,"stop");this.Rc()};
s.g=function(){this.u!=0&&this.stop(!1);de(this,"destroy");Zd.b.g.call(this)};function be(a,b){a.Aa=(b-a.startTime)/(a.mg-a.startTime);if(a.Aa>=1)a.Aa=1;a.og=1E3/(b-a.tf);a.tf=b;ga(a.Xf)?ee(a,a.Xf(a.Aa)):ee(a,a.Aa);a.Aa==1?(a.u=0,ce(a),de(a,"finish"),a.Rc()):a.u==1&&a.Bf()}function ee(a,b){a.coords=Array(a.bd.length);for(var c=0;c<a.bd.length;c++)a.coords[c]=(a.Wh[c]-a.bd[c])*b+a.bd[c]}s.Bf=function(){de(this,"animate")};s.xb=function(){de(this,"begin")};s.Rc=function(){de(this,"end")};
function de(a,b){a.dispatchEvent(new fe(b,a))}function fe(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.G=b.coords[2];this.duration=b.duration;this.Aa=b.Aa;this.Te=b.og;this.state=b.u;this.vj=b}D(fe,P);function ge(a,b){this.x=a;this.y=b}D(ge,L);s=ge.prototype;s.aa=function(){return new ge(this.x,this.y)};s.ne=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};s.scale=function(a){this.x*=a;this.y*=a;return this};s.Eg=function(){this.x=-this.x;this.y=-this.y;return this};s.normalize=function(){return this.scale(1/this.ne())};s.add=function(a){this.x+=a.x;this.y+=a.y;return this};s.Ce=function(a){this.x-=a.x;this.y-=a.y;return this};
s.Zd=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function he(a){this.f=a;this.hb=this.Pa=0;this.ac=1E7;this.wa=m;this.eh=this.ed=this.sd=0;this.Q=!0}D(he,T);he.prototype.Wb=function(a,b){this.Pa=pb(a,-1.57,1.57);this.hb=tb(b);this.Q?(this.wa=m,this.dispatchEvent(new ie(je))):(this.ac=m,this.dispatchEvent(new ie(ke)))};function le(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.eh);b/=Math.max(Math.abs(Math.cos(a.ed)),0.1);d(a.sd);a.Wb(a.Pa+b,a.hb+c)}he.prototype.qg=function(){return[this.Pa,this.hb]};
function me(a,b){a.ac=pb(b,250,1E7);a.Q?a.wa=m:ne(a);a.dispatchEvent(new ie(ke));a.dispatchEvent(new ie(je))}function oe(a){w(a.ac)&&pe(a);return a.ac}function qe(a,b){a.wa=pb(b,re(a.f),a.f.la.ha.Ib());a.Q?pe(a):a.ac=m;a.dispatchEvent(new ie(je));a.dispatchEvent(new ie(ke))}function V(a){w(a.wa)&&ne(a);return a.wa}he.prototype.ee=function(){return se(this.f,this.f.a.Xa/2,this.f.a.Wa/2,!0)};
function ne(a){a.wa=pb(Math.log(Math.cos(Math.abs(a.Pa))*2*Math.PI/(2*(a.ac/te)*Math.tan(a.f.a.$d/2)/a.f.Id))/Math.LN2,re(a.f),a.f.la.ha.Ib())}function pe(a){a.ac=1/Math.tan(a.f.a.$d/2)*(Math.cos(Math.abs(a.Pa))*2*Math.PI/Math.pow(2,a.wa)*a.f.Id/2)*te}var je="zoomchanged",ke="altchanged";function ie(a){P.call(this,a)}D(ie,P);function ue(a,b,c,d,f){function g(a,b,c,d){return a?b:Math.max(1,Math.pow(2,Math.ceil(Math.log(b/Math.max(1,Math.sqrt(c*c+d*d)))/Math.LN2)))}a=a.ca;this.Va=[];this.Bc=[];this.t=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j);ve(this,h,j,k,[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k])}this.Fe=a.createBuffer();this.De=a.createBuffer();this.Cg=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Fe);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.Va),a.STATIC_DRAW);this.Fe.pf=2;a.bindBuffer(a.ARRAY_BUFFER,this.De);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.Bc),a.STATIC_DRAW);this.De.pf=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Cg);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.t),a.STATIC_DRAW);this.Mi=this.t.length}
function ve(a,b,c,d,f){for(var g=a.Va.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.Va.push(b+j/d,c+h/d),a.Bc.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.Va.length/2;for(j=0;j<d;++j)a.Va.push(b+(j+0.5)/d,c+1),a.Bc.push((j+0.5)/d,0)}if(f[1]){k[1]=a.Va.length/2;for(h=0;h<d;++h)a.Va.push(b+1,c+(h+0.5)/d),a.Bc.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.Va.length/2;for(j=0;j<d;++j)a.Va.push(b+(j+0.5)/d,c),a.Bc.push((j+0.5)/d,1)}if(f[3]){k[3]=a.Va.length/2;for(h=0;h<d;++h)a.Va.push(b,c+(h+0.5)/d),a.Bc.push(0,
1-(h+0.5)/d)}b=z(aa(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.t.push(l);var p=h==0&&f[2],o=j==0&&f[3];p&&!o?(a.t.push(k[2]+j),a.t.push(l+c),b(),a.t.push(k[2]+j)):o&&!p?(a.t.push(l+1),a.t.push(k[3]+h),b(),a.t.push(k[3]+h)):o&&p&&(a.t.push(k[2]+j),a.t.push(k[3]+h),b(),a.t.push(k[3]+h),a.t.push(k[2]+j),a.t.push(l+c),b(),a.t.push(k[2]+j));a.t.push(l+1);a.t.push(l+c);b();a.t.push(l+c+1);p=h==d-1&&f[0];o=j==d-1&&f[1];p&&!o?(a.t.push(k[0]+j),a.t.push(l+1),b(),a.t.push(k[0]+j)):o&&!p?(a.t.push(l+
c),a.t.push(k[1]+h),b(),a.t.push(k[1]+h)):p&&o&&(a.t.push(k[0]+j),a.t.push(k[1]+h),b(),a.t.push(k[1]+h),a.t.push(k[0]+j),a.t.push(l+1),b(),a.t.push(k[0]+j));a.t.push(l+c);a.t.push(l+1);b()}};function W(a,b){if(a instanceof W)this.B=a.Qf();else{var c;if(c=ea(a))a:{for(var d=c=0;d<a.length;d++){if(!ea(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!fa(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Xa(a):a instanceof Wb?this.B=we(a.height,a.width):fa(a)&&fa(b)&&a>0&&b>0?this.B=we(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new Wb(this.B[0].length,this.B.length)}
function xe(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new W(b)}function ye(a,b,c){for(var d=0;d<a.sb().height;d++)for(var f=0;f<a.sb().width;f++)b.call(c,a.B[d][f],d,f,a)}function ze(a,b){var c=new W(a.sb());ye(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function we(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}s=W.prototype;
s.add=function(a){Xb(this.l,a.sb())||e(Error("Matrix summation is only supported on arrays of equal size"));return ze(this,function(b,c,d){return b+a.B[c][d]})};function Ae(a,b){a.l.height!=b.sb().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new W(a.l.height,a.l.width+b.l.width);ye(a,function(a,b,g){c.B[b][g]=a});ye(b,function(a,b,g){c.B[b][this.l.width+g]=a},a);return c}
s.Zd=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return!1;return!0};s.sb=n("l");function Be(a){var b=new W(a.l.width,a.l.height);ye(a,function(a,d,f){b.B[f][d]=a});return b}function Ce(a,b,c){if(!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width))return m;return a.B[b][c]}
function De(a,b,c,d){b>=0&&b<a.l.height&&c>=0&&c<a.l.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.l.height+","+a.l.width+")"));a.B[b][c]=d}s.multiply=function(a){if(a instanceof W)return this.l.width!=a.sb().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Ee(this,a);else if(fa(a))return Fe(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};
s.Ce=function(a){Xb(this.l,a.sb())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return ze(this,function(b,c,d){return b-a.B[c][d]})};s.Qf=n("B");function Ge(a,b,c,d){var f=new W((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);ye(f,function(a,c,d){f.B[c][d]=this.B[0+c][b+d]},a);return f}function Ee(a,b){var c=new W(a.l.height,b.sb().width);ye(c,function(a,f,g){for(var h=a=0;h<this.l.width;h++)a+=Ce(this,f,h)*Ce(b,h,g);De(c,f,g,a)},a);return c}
function Fe(a,b){return ze(a,function(a){return a*b})};function He(){this.ib=xe(4)}He.prototype.translate=function(a,b,c){this.ib=this.ib.multiply(new W([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function Ie(a,b){var c=Math.cos(b),d=Math.sin(b);a.ib=a.ib.multiply(new W([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}function Je(a,b){var c=Math.cos(b),d=Math.sin(b);a.ib=a.ib.multiply(new W([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))};function Ke(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=m)return c}catch(d){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.Ue=b||m;this.ca=f;this.Xa=a.width;this.Wa=a.height;f.viewport(0,0,this.Xa,this.Wa);this.Rd=this.$d=0;this.Qd=1;
this.Ud=this.Xa/this.Wa;this.Wc=xe(4);this.Rb=new He;this.re=this.qe=this.Wc;this.Ve=this.ae=this.sf=this.ag=this.Te=0;R(t,"resize",this.we,!1,this)}function Le(a){a.$d=rb(50);a.Rd=1.0E-6;a.Qd=5;a.Ud=a.Xa/a.Wa;Me(a)}function Me(a){var b=1/Math.tan(a.$d/2);a.Wc=new W([[b/a.Ud,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);Ne(a)}function Ne(a){var b=a.Rd-a.Qd;De(a.Wc,2,2,(a.Qd+a.Rd)/b);De(a.Wc,2,3,2*a.Qd*a.Rd/b)}
Ke.prototype.we=function(){this.Xa=this.canvas.width=this.canvas.clientWidth;this.Wa=this.canvas.height=this.canvas.clientHeight;this.ca.viewport(0,0,this.Xa,this.Wa);this.Ud=this.Xa/this.Wa;Me(this);Oe(this.j)};Ke.prototype.j=m;
function Pe(a){a.qe=a.Wc.multiply(a.Rb.ib);var b;var c=a.qe;c.l.width!=c.l.height&&e(Error("An inverse can only be taken on a square matrix."));b=xe(c.l.height);b:{for(var c=Ae(c,b),d=new W(c),f=0,g=0;g<d.l.height;g++){if(f>=d.l.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.l.height&&(h=g,f++,f==d.l.width)){c=d;break b}var j=c,k=g,l=j.B[h];j.B[h]=j.B[k];j.B[k]=l;h=d.B[g][f];for(j=f;j<d.l.width;j++)d.B[g][j]/=h;for(h=0;h<d.l.height;h++)if(h!=g){k=d.B[h][f];for(j=f;j<d.l.width;j++)d.B[h][j]-=k*
d.B[g][j]}f++}c=d}b=Ge(c,0,b.l.width-1,b.l.height-1).Zd(b)?Ge(c,b.l.width):m;a.re=b;return a.qe};function Qe(a,b,c){c=a.ca.createShader(c);a.ca.shaderSource(c,b);a.ca.compileShader(c);a.ca.getShaderParameter(c,a.ca.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.ca.getShaderInfoLog(c)));return c};function Re(a,b,c){b=b.ca;this.N=a;this.vh=b.getAttribLocation(this.N,"aVertexPosition");b.enableVertexAttribArray(this.vh);this.oh=b.getAttribLocation(this.N,"aTextureCoord");b.enableVertexAttribArray(this.oh);this.Ji=X(b,this.N,"uMVPMatrix");this.zi=X(b,this.N,"uMetaL0");this.Bi=X(b,this.N,"uMetaL1");this.Ci=X(b,this.N,"uMetaL2");this.ti=X(b,this.N,"uOffL");this.Ih=X(b,this.N,"uBufferL0");this.Kh=X(b,this.N,"uBufferL1");this.Lh=X(b,this.N,"uBufferL2");this.Nh=X(b,this.N,"uBufferLn");if(c)this.Uh=
X(b,this.N,"uDegradationT"),this.yi=X(b,this.N,"uMetaL0T"),this.Ai=X(b,this.N,"uMetaL1T"),this.si=X(b,this.N,"uOffLT"),this.Hh=X(b,this.N,"uBufferL0T"),this.Jh=X(b,this.N,"uBufferL1T"),this.Mh=X(b,this.N,"uBufferLnT");this.lj=X(b,this.N,"uTileCount");this.Ni=X(b,this.N,"uOffset")}function X(a,b,c){a=a.getUniformLocation(b,c);w(a)&&e(Error("Invalid name "+c));return a};function Se(a){this.Ya=ed?[]:"";a!=m&&this.append.apply(this,arguments)}Se.prototype.set=function(a){this.clear();this.append(a)};ed?(Se.prototype.Ne=0,Se.prototype.append=function(a,b){b==m?this.Ya[this.Ne++]=a:(this.Ya.push.apply(this.Ya,arguments),this.Ne=this.Ya.length);return this}):Se.prototype.append=function(a,b){this.Ya+=a;if(b!=m)for(var c=1;c<arguments.length;c++)this.Ya+=arguments[c];return this};Se.prototype.clear=function(){ed?this.Ne=this.Ya.length=0:this.Ya=""};
Se.prototype.toString=function(){if(ed){var a=this.Ya.join("");this.clear();a&&this.append(a);return a}else return this.Ya};function Te(a){this.name=a||"OpenStreetMaps"}D(Te,nb);Te.prototype.Ib=r(18);Te.prototype.jc=r(256);Te.prototype.Ic=function(a,b,c){var d=["a","b","c"];return(new Se("http://",d[ob(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Te.prototype.Td=function(a){nc(a,"\u00a9 ",jc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function Ue(){Te.call(this,"MapQuest OSM")}D(Ue,Te);Ue.prototype.Ic=function(a,b,c){return(new Se("http://otile",1+ob(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};Ue.prototype.Td=function(a){nc(a,"Map data \u00a9 ",jc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",jc("br"));nc(a,"Tiles Courtesy of ",jc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",jc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};var We={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0;uniform sampler2D uBufferL1;uniform sampler2D uBufferL2;uniform sampler2D uBufferLn;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLn,vTCA);}else{discard;}}",
"earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0[BUFF_SIZE];uniform float uMetaL1[BUFF_SIZE];uniform float uMetaL2[BUFF_SIZE];uniform vec2 uOffL[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*vec2(aVertexPosition.x+uOffset.x,aVertexPosition.y+uOffset.y)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);float rawElev=0.0;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).r;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).r;}else{rawElev=texture2D(uBufferLnT,TCT).r;}elev=rawElev*8248.0/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffL[0],uTileCount);if(validateOffset(off)&&uMetaL0[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffL[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffL[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffL[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}"};function Xe(a){return a in We?We[a]:sb("../we/shaders/"+a)};function Ye(a){this.Yb=new jb;this.Qb=[];this.jj=512;this.gg=new Wd(2E4);R(this.gg,Yd,this.Ph,!1,this);this.gg.start();Ze(this,a)}function Ze(a,b){a.qh=A();a.yc=b;a.yc.ph=z(a.mj,a);a.Yb.clear();a.Qb=[]}s=Ye.prototype;s.yc=m;s.qh=0;s.kj=u;s.Ph=function(){var a=Qa(this.Yb.Jb(),function(a){return a.state==20||a.state==ra||a.state==-10});for(ab(a,function(a,b){return a.sc-b.sc});this.Yb.We()>this.jj&&a.length>0;){var b=a.shift();b.state==ra&&Va(this.Qb,b);this.Yb.remove(b.zoom+"_"+b.x+"_"+b.y);b.m()}};
s.mj=function(a){a.sc<this.qh?(a.state=-10,this.Yb.remove(a.zoom+"_"+a.x+"_"+a.y),a.m()):this.kj(a)};function $e(a){ab(a.Qb,function(a,b){return a.sc-b.sc});for(var b=Math.min(a.Qb.length,5-a.yc.vd),c=0;c<b;c++){var d=a.Qb.pop();a.yc.wf(d)||a.Qb.push(d)}};function af(a,b,c,d){this.za=b.ca;this.Db=[];this.D=c;this.yc=a;this.Pf=new Ye(a);this.wa=d;this.Ab=1<<this.wa;this.jg=this.D>=this.Ab;this.Qc=this.Pc=0;this.buffer=m;this.ra=[];bf(this)}function bf(a){a.ra=[];for(var b=0;b<a.D;++b)a.ra.push(Array(a.D))}af.prototype.disable=function(){this.Db=[];bf(this);this.buffer=m};
af.prototype.pe=function(a,b){if(!this.jg){var c=qb(Math.round(a-this.D/2),this.Ab),d=Math.round(b-this.D/2),f=c-this.Pc,g=d-this.Qc;Math.abs(f)>this.Ab/2&&(f=(f-(f==0?0:f<0?-1:1)*this.Ab)%this.Ab);this.Pc=c;this.Qc=d;if(Math.abs(f)>=this.D||Math.abs(g)>=this.D)bf(this);else{if(f>0)for(c=0;c<this.D;++c)this.ra[c].splice(0,f),this.ra[c].push.apply(this.ra[c],Array(f));if(f<0)for(c=0;c<this.D;++c)this.ra[c].splice(this.D+f,-f),this.ra[c].unshift.apply(this.ra[c],Array(-f));if(g>0)for(c=0;c<g;++c)this.ra.shift(),
this.ra.push(Array(this.D));if(g<0)for(c=0;c<-g;++c)this.ra.pop(),this.ra.unshift(Array(this.D))}}cf(this)};af.prototype.cc=function(a){this.yc=a;Ze(this.Pf,a);this.Db=[];bf(this)};
function cf(a){a.Db=[];for(var b=z(function(a,b){var c=(this.jg?this.Ab:this.D)/2;a+=c;b+=c;if(this.ra[b][a]!==1){var j=this.Pc+a,k=this.Qc+b,j=qb(j,this.Ab),k=qb(k,this.Ab),c=this.Pf,l=this.wa,p=d,o=l+"_"+j+"_"+k,q=c.Yb.get(o);q!=m?q.state==-10?p-q.sc>7E3&&(q.m(),q=new qa(l,j,k,p),c.Yb.set(o,q),c.Qb.push(q)):q.sc=p:(q=new qa(l,j,k,p),c.Yb.set(o,q),c.Qb.push(q));c=q;c.state==20&&this.Db.push(c)}},a),c=z(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=A(),
a=Math.min(a.D,a.Ab)/2;a>0;--a)c(d+a,a)};function df(a,b,c){var d;d=this.za=a.ca,a=d;this.Uf=b;this.kf=c;this.nb=a.createTexture();ef(this)}df.prototype.we=function(a,b){if(!(this.Uf==a&&this.kf==b))this.Uf=a,this.kf=b,this.za.deleteTexture(this.nb),this.nb=this.za.createTexture(),ef(this)};
function ef(a){var b=a.za;b.bindTexture(b.TEXTURE_2D,a.nb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.Uf,a.kf,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,ff?b.LINEAR_MIPMAP_LINEAR:b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,ff?b.LINEAR_MIPMAP_LINEAR:b.LINEAR)};function gf(a,b,c){function d(b,d){var k={x:b,y:d,Da:new Image,ng:0};k.Da.onload=function(){f.isTexture(g)&&(f.bindTexture(f.TEXTURE_2D,g),f.texSubImage2D(f.TEXTURE_2D,0,k.x*j,(h-k.y-1)*j,f.RGBA,f.UNSIGNED_BYTE,k.Da))};k.Da.onerror=function(){if(f.isTexture(g))k.ng++,k.ng>=3||(k.Da.src=a.Ic(c,b,d))};k.Da.src=a.Ic(c,b,d)}var f=this.za=b.ca,g=f.createTexture();this.nb=g;var h=1<<c,j=a.jc();f.bindTexture(f.TEXTURE_2D,g);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,1);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,j*h,j*
h,0,f.RGBA,f.UNSIGNED_BYTE,m);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR);for(b=0;b<h;++b)for(var k=0;k<h;++k)d(b,k)}D(gf,E);gf.prototype.g=function(){this.za.deleteTexture(this.nb)};function hf(a,b,c,d,f,g){this.Qh=b;this.D=c;this.jb=f;this.vi=g;var h=a.jc();this.bc=[];for(var j=0;j<d;++j)this.bc.push(new df(b,this.D*h,this.D*h));for(this.ea=[];f<=g;++f)this.ea.push(new af(a,b,c,f));for(j=0;j<d;++j)this.ea[j].buffer=this.bc[j];this.ob=0;this.le=new gf(a,b,2)}hf.prototype.cc=function(a){this.le.m();this.le=new gf(a,this.Qh,2);var b=this.D*a.jc();G(this.bc,function(a){a.we(b,b)});G(this.ea,function(b){b.cc(a)})};
hf.prototype.pe=function(a,b,c){for(var c=pb(c,this.jb,this.vi),d=c-(this.jb+this.ob+this.bc.length-1);d>0;){var f=this.ea[this.ob].buffer;this.ea[this.ob].disable();this.ea[++this.ob+this.bc.length-1].buffer=f;d--}for(;d<0&&this.ob>0;)f=this.ea[this.ob+this.bc.length-1].buffer,this.ea[this.ob+this.bc.length-1].disable(),this.ea[--this.ob].buffer=f,d++;var d=1<<c,g=1,b=(b/(2*Math.PI)+0.5)*d,a=(0.5-Math.log(Math.tan(a/2+Math.PI/4))/(Math.PI*2))*d;for(c-=this.jb;c>=this.ob;c--){this.ea[c].pe(b,a);b/=
2;a/=2;var d=g,f=this.ea[c],h=0;if(f.Db.length>0)for(var g=Math.min(f.Db.length,g>=0?1:0),j=0;j<g;j++){var k=f,l=f.Db.pop();if(!w(k.buffer)&&l.zoom==k.wa){var p=l.x-k.Pc,o=l.y-k.Qc,q=1<<k.wa,p=qb(p,q),o=qb(o,q);if(!(p<0||p>=k.D||o<0||o>=k.D)){var q=k.za,B=k.yc.jc();q.bindTexture(q.TEXTURE_2D,k.buffer.nb);q.texSubImage2D(q.TEXTURE_2D,0,qb(p+k.Pc,k.D)*B,(k.D-qb(o+k.Qc,k.D)-1)*B,q.RGBA,q.UNSIGNED_BYTE,l.Da);k.ra[o][p]=1}}h++}$e(f.Pf);ff&&h>0&&(f.za.bindTexture(f.za.TEXTURE_2D,f.buffer.nb),f.za.generateMipmap(f.za.TEXTURE_2D));
g=d-h}};function jf(a,b,c){if(b-c<a.jb)return Array(a.D*a.D);return cb(a.ea[b-a.jb-c].ra)}function kf(a,b,c){if(b-c<a.jb)return m;return a.ea[b-a.jb-c].buffer.nb}function lf(a,b,c){for(var d=[],f=b-a.jb;f>b-a.jb-c;--f)d.push(Math.round(a.ea[Math.max(0,f)].Pc),Math.round(a.ea[Math.max(0,f)].Qc));return d};var te=6378137;
function mf(a,b){this.a=a.a;this.j=a;var c=this.a.ca;this.ha=b||new Ue;this.Ba=new hf(this.ha,this.a,8,3,1,19);if(this.dd=this.a.ca.getParameter(this.a.ca.MAX_VERTEX_TEXTURE_IMAGE_UNITS)!==0)this.nh=new ub("CleanTOPO2","http://webglearth.googlecode.com/svn/resources/terrain/CleanTOPO2/{z}/{x}/{y}.png",3,5,256),this.Fb=new hf(this.nh,this.a,2,3,2,5);this.cc(this.ha,!0);this.xc=1;this.Af=[0,0];this.fh=[new ue(this.a,1,1,1),new ue(this.a,4,4,16,!0),new ue(this.a,6,6,8,!0),new ue(this.a,8,8,8,!0),new ue(this.a,
10,10,8),new ue(this.a,32,32,8)];var d=Xe("earth-fs.glsl"),f=Xe("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",this.Ba.D.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.dd?"1":"0");this.dd&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",this.Fb.D.toFixed(1)));var d=Qe(this.a,d,c.FRAGMENT_SHADER),f=Qe(this.a,f,c.VERTEX_SHADER),g=c.createProgram();w(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||
e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.L=new Re(g,this.a,this.dd)}mf.prototype.cc=function(a,b){this.ha=a;this.Ba.cc(this.ha);this.ha.hg=z(this.j.Tf,this);b!==!0&&(Oe(this.j),this.j.Tf(),qe(this.j.d,V(this.j.d)))};
mf.prototype.Re=function(){var a=this.a.ca;this.xc=1<<V(this.j.d);var b=this.j.d.ee();w(b)&&(b=this.j.d.qg());this.Af[0]=Math.floor(b[1]/(2*Math.PI)*this.xc);this.Af[1]=pb(Math.floor(Math.log(Math.tan(b[0]/2+Math.PI/4))/(Math.PI*2)*this.xc),-this.xc/2,this.xc/2);this.Ba.pe(b[0],b[1],Math.floor(V(this.j.d)));this.dd&&this.Fb.pe(b[0],b[1],Math.floor(V(this.j.d))-3);b=Math.floor(V(this.j.d));this.xc=1<<b;Je(this.a.Rb,-this.j.d.eh);Ie(this.a.Rb,-this.j.d.ed);Je(this.a.Rb,-this.j.d.sd);this.a.Rb.translate(0,
0,-1-oe(this.j.d)/te);Ie(this.a.Rb,this.j.d.Pa);var c=this.a.Rb,d=-this.j.d.hb,f=Math.cos(d),d=Math.sin(d);c.ib=c.ib.multiply(new W([[f,0,d,0],[0,1,0,0],[-d,0,f,0],[0,0,0,1]]));a.useProgram(this.L.N);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,kf(this.Ba,b,0));a.uniform1i(this.L.Ih,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,kf(this.Ba,b,1));a.uniform1i(this.L.Kh,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,kf(this.Ba,b,2));a.uniform1i(this.L.Lh,2);a.activeTexture(a.TEXTURE3);
a.bindTexture(a.TEXTURE_2D,this.Ba.le.nb);a.uniform1i(this.L.Nh,3);a.uniform1fv(this.L.zi,new Float32Array(jf(this.Ba,b,0)));a.uniform1fv(this.L.Bi,new Float32Array(jf(this.Ba,b,1)));a.uniform1fv(this.L.Ci,new Float32Array(jf(this.Ba,b,2)));a.uniform2fv(this.L.ti,new Float32Array(lf(this.Ba,b,3)));this.dd&&(c=pb(b-3,2,this.nh.Ib()),a.uniform1f(this.L.Uh,b-c),a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,kf(this.Fb,c,0)),a.uniform1i(this.L.Hh,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,
kf(this.Fb,c,1)),a.uniform1i(this.L.Jh,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,this.Fb.le.nb),a.uniform1i(this.L.Mh,6),a.uniform1fv(this.L.yi,new Float32Array(jf(this.Fb,c,0))),a.uniform1fv(this.L.Ai,new Float32Array(jf(this.Fb,c,1))),a.uniform2fv(this.L.si,new Float32Array(lf(this.Fb,c,2))));c=new Float32Array(cb(Be(Pe(this.a)).Qf()));b=this.fh[Math.min(b,this.fh.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.Fe);a.vertexAttribPointer(this.L.vh,b.Fe.pf,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,
b.De);a.vertexAttribPointer(this.L.oh,b.De.pf,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.L.Ji,!1,c);a.uniform1f(this.L.lj,this.xc);a.uniform2fv(this.L.Ni,new Float32Array(this.Af));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Cg);a.drawElements(a.TRIANGLES,b.Mi,a.UNSIGNED_SHORT,0)};function nf(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.G=v(c)?c:0}nf.prototype.aa=function(){return new nf(this.x,this.y,this.G)};nf.prototype.Qf=function(){return[this.x,this.y,this.G]};function of(a,b,c){this.x=a;this.y=b;this.G=c}D(of,nf);s=of.prototype;s.aa=function(){return new of(this.x,this.y,this.G)};s.ne=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.G*this.G)};s.scale=function(a){this.x*=a;this.y*=a;this.G*=a;return this};s.Eg=function(){this.x=-this.x;this.y=-this.y;this.G=-this.G;return this};s.normalize=function(){return this.scale(1/this.ne())};s.add=function(a){this.x+=a.x;this.y+=a.y;this.G+=a.G;return this};
s.Ce=function(a){this.x-=a.x;this.y-=a.y;this.G-=a.G;return this};s.Zd=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.G==a.G};function pf(a,b,c,d,f,g){if(w(d))return m;a=d.multiply(new W([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(Ce(a,3,0)==0)return m;a=a.multiply(1/Ce(a,3,0));return new of(Ce(a,0,0),Ce(a,1,0),Ce(a,2,0))};var ff=!1;function qf(a,b,c,d,f,g){this.a=a;this.Dg=b||m;this.fd=c||document.createElement("div");if(!v(c))a=this.a.canvas,a.parentNode&&a.parentNode.insertBefore(this.fd,a.nextSibling);this.Ld=d||document.createElement("img");if(!v(d))d=this.fd,d.parentNode&&d.parentNode.insertBefore(this.Ld,d.nextSibling);this.Ch=g||m;this.la=new mf(this,f);this.Id=0;this.d=new he(this);Oe(this);this.Tf()}
qf.prototype.Tf=function(){w(this.fd)||(oc(this.fd),nc(this.fd,this.Ch),this.la.ha.Td(this.fd));if(!w(this.Ld))w(this.la.ha.Ye())?this.Ld.style.visibility="hidden":(this.Ld.src=this.la.ha.Ye(),this.Ld.style.visibility="visible")};function re(a){return Math.max(3,a.la.ha.Ze())}function Oe(a){a.Id=0.7*a.a.canvas.height/a.la.ha.jc()}
qf.prototype.Re=function(){if(!w(this.Dg)){for(var a=this.Dg,b=(this.d.Pa*180/Math.PI).toFixed(4)+"; "+(this.d.hb*180/Math.PI).toFixed(4)+" @ "+oe(this.d).toFixed(0)+"m "+(this.d.Q?"->":"<-")+" z="+V(this.d).toFixed(3)+"; ",c=this.la.Ba,d="",f=0;f<c.ea.length;++f)d+=f+c.jb+":"+c.ea[f].Db.length+" ";a.innerHTML=b+("BufferQueue size: "+d+"; Loading tiles: "+this.la.ha.vd)}a=oe(this.d)/te;b=this.a;b.Rd=0.25*a;b.Qd=1+a;Ne(b);this.la.Re()};
function rf(a,b){var c=a.aa().Eg(),d=b.x*c.x+b.y*c.y+b.G*c.G,c=d*d-(c.x*c.x+c.y*c.y+c.G*c.G)+1;return c<0?m:[Math.min(d+Math.sqrt(c),d-Math.sqrt(c)),Math.max(d+Math.sqrt(c),d-Math.sqrt(c))]}
function se(a,b,c,d){var f=pf(b,c,0,a.a.re,a.a.Xa,a.a.Wa),a=pf(b,c,1,a.a.re,a.a.Xa,a.a.Wa);if(w(f)||w(a))return m;a.Ce(f);a.normalize();b=rf(f,a);if(w(b))return m;a=a.scale(b[0]);f=new of(f.x+a.x,f.y+a.y,f.G+a.G);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.G<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),tb(a)]:[Math.asin(f.y)*180/Math.PI,tb(a)*180/Math.PI]};function sf(a){return 1-Math.pow(1-a,3)};function tf(a){this.f=a;this.Ca=!1;this.td=m;this.te=this.se=this.wb=this.vb=0;this.nc=this.ja=m;R(this.f.a.canvas,"mousedown",z(this.Ti,this));R(N(this.f.a.canvas),"mouseup",z(this.Ui,this))}s=tf.prototype;
s.Ti=function(a){if(!ad(a,2)&&!a.ctrlKey&&!a.altKey){if(this.nc)this.nc.stop(!1),this.nc.m(),this.nc=m;this.Ca=!0;this.se=this.vb=a.screenX;this.te=this.wb=a.screenY;if(ad(a,1)||ad(a,0)&&a.shiftKey)this.td=se(this.f,a.offsetX,a.offsetY,!0);if(!w(this.ja))S(this.ja),this.ja=m;this.ja=R(N(this.f.a.canvas),"mousemove",z(this.Cf,this));a.preventDefault()}};
s.Ui=function(a){if(this.Ca){a.preventDefault();this.td=m;this.Ca=!1;if(!w(this.ja))S(this.ja),this.ja=m;if(ad(a,0)){var b=a.screenX-this.se,c=a.screenY-this.te,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.vb==this.se&&this.wb==this.te&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.nc=new Zd([this.vb,this.wb],[this.vb+a*b,this.wb+a*c],1300,sf),R(this.nc,["animate"],this.pi,!1,this),this.nc.play(!1)}}};
s.xe=function(a,b){if(this.td!=m){this.f.d.ed+=b/this.f.a.canvas.height*Math.PI/2;var c=this.f.d,d=this.td[0],f=this.td[1],g=a/this.f.a.canvas.width*Math.PI*-2;c.sd+=g;var h=new ge(c.hb-f,c.Pa-d),j=h.ne();h.normalize();var k=h.x;h.x=k*Math.cos(g)-h.y*Math.sin(g);h.y=k*Math.sin(g)+h.y*Math.cos(g);c.Wb(d+h.y*j,f+h.x*j)}else c=Math.PI*(1/this.f.a.canvas.height)*(this.f.Id/Math.pow(2,V(this.f.d))),le(this.f.d,b*c,-2*a*c)};
s.Cf=function(a){this.xe(a.screenX-this.vb,a.screenY-this.wb);this.se=this.vb;this.te=this.wb;this.vb=a.screenX;this.wb=a.screenY;a.preventDefault()};s.pi=function(a){this.xe(a.x-this.vb,a.y-this.wb);this.vb=a.x;this.wb=a.y};function uf(a,b,c){E.call(this);this.wd=a;this.tc=c;this.i=b;R(b,[vf,wf,xf,yf],this);this.Ta=m;this.ka=[];this.qa=-1;this.ta=0;this.fc=this.fa=m}D(uf,T);s=uf.prototype;s.wi=10;s.Gh=!0;s.$f=!1;s.zh=!1;s.rh=!1;var vf="hilite",wf="select",yf="dismiss",xf="canceldismiss";s=uf.prototype;s.handleEvent=function(a){if(a.target==this.i)switch(a.type){case vf:this.Na(a.Yc);break;case wf:zf(this);break;case xf:Af(this);break;case yf:Bf(this)}};s.ee=n("fa");s.gb=function(){return this.i.r};
function Cf(a){var b=a.ta+a.ka.length-1;a.qa>=a.ta&&a.qa<b?a.Na(a.qa+1):a.qa==-1?a.Na(a.ta):a.qa==b&&(a.$f?a.Na(-1):a.zh&&a.Na(a.ta))}function Df(a){a.qa>a.ta?a.Na(a.qa-1):a.$f&&a.qa==a.ta?a.Na(-1):a.zh&&(a.qa==-1||a.qa==a.ta)&&a.Na(a.ta+a.ka.length-1)}s.Na=function(a){this.qa=a;this.i.Na(a);return Ef(this,a)!=-1};
function zf(a){var b=Ef(a,a.qa);if(b!=-1){var b=a.ka[b],c=a.tc,d=b.toString();if(v(i)?0:c.Nc){var f=Ff(c,c.p(),Gf(c.K)),g=Hf(c,c.p());c.fj.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.Th);c.sj&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.K;I&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.K;d=f;If(g)?g.selectionStart=d:H&&(h=Jf(g),j=h[0],j.inRange(h[1])&&(d=Kf(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.K;If(g)?g.selectionEnd=f:H&&(h=Jf(g),d=h[1],h[0].inRange(d)&&(f=Kf(g,f),g=Kf(g,Gf(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.W(d);c.Ff=!0;a.rh?(a.Ta=m,Bf(a)):a.qb();a.dispatchEvent({type:"update",Yc:b});a.rh&&a.tc.update(!0);return!0}else return a.qb(),a.dispatchEvent({type:"update",Yc:m}),!1}s.qb=function(){this.qa=-1;this.Ta=m;this.ta+=this.ka.length;this.ka=[];window.clearTimeout(this.fc);this.fc=m;this.i.qb()};
function Bf(a){if(!a.fc)a.fc=window.setTimeout(z(a.qb,a),100)}function Af(a){window.setTimeout(z(function(){if(this.fc)window.clearTimeout(this.fc),this.fc=m},a),10)}s.g=function(){uf.b.g.call(this);this.i.m();this.tc.m();this.wd=m};s.ui=function(a,b,c){this.Ta==a&&this.Df(b,c)};
s.Df=function(a,b){var c=b?Ef(this,this.qa):m;this.ta+=this.ka.length;this.ka=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ta+f,data:a[f]});this.i.Df(d,this.Ta,this.fa);this.Gh&&d.length!=0&&this.Ta?this.Na(c!=m?this.ta+c:this.ta):this.qa=-1;this.dispatchEvent("suggestionsupdate")};function Ef(a,b){var c=b-a.ta;if(c<0||c>=a.ka.length)return-1;return c}s.Ke=function(){var a=this.tc;a.Ke.apply(a,arguments)};function Lf(a,b,c){this.Jg=a;this.Ng=b;this.element=c;this.parentElement=m;this.enabled=!0}s=Lf.prototype;s.kd=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};s.detach=function(){if(this.parentElement)pc(this.element),this.parentElement=m};s.enable=function(a){(this.enabled=a||!1)||this.show(!1)};s.isEnabled=n("enabled");s.show=function(a){this.element.style.display=a===!1?"none":"block"};function Mf(a,b){this.f=a;this.e=b;this.yf=new jb}function Nf(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^A()).toString(36);c.kd(a.e);a.yf.set(b,c)}
Mf.prototype.pj=function(a){a=this.yf.get(a);if(a.isEnabled()){var b;a:{var c=this.f;b=a.Jg;var d=a.Ng;b=rb(b);var d=rb(d),f=Math.cos(b),f=new of(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.a.qe.multiply(new W([[f.x],[f.y],[f.G],[1]]));if(Ce(d,3,0)==0)b=m;else{d=d.multiply(1/Ce(d,3,0));b=(Ce(d,0,0)+1)/2*c.a.Xa;var d=(Ce(d,1,0)-1)/-2*c.a.Wa,g=1;if(b<0||b>c.a.Xa||d<0||d>c.a.Wa)g=0;else{c=pf(0.5,0.5,0,c.a.re,1,1);if(w(c)){b=m;break a}var g=f.x-c.x,h=f.y-c.y,j=f.G-c.G,g=Math.sqrt(g*g+h*h+j*j),f=f.Ce(c).normalize(),
f=rf(c,f),g=w(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=m?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function Of(){this.$g=A()}new Of;Of.prototype.set=ba("$g");Of.prototype.get=n("$g");function Pf(a,b){a.setAttribute("role",b);a.Bj=b}function Y(a,b,c){a.setAttribute("aria-"+b,c)};function Qf(){}var Rf;ca(Qf);s=Qf.prototype;s.cb=aa();s.o=function(a){return a.T().o("div",this.Hc(a).join(" "),a.Za)};s.S=function(a){return a};s.md=function(a,b,c){if(a=a.c?a.c():a)if(H&&!K("7")){var d=Sf($b(a),b);d.push(b);na(c?ac:bc,a).apply(m,d)}else c?ac(a,b):bc(a,b)};s.Ia=r(!0);
s.ba=function(a,b){b.id&&Od(a,b.id);var c=this.S(b);c&&c.firstChild?Tf(a,c.firstChild.nextSibling?Xa(c.childNodes):c.firstChild):a.Za=m;var d=0,f=this.n(),g=this.n(),h=!1,j=!1,c=!1,k=$b(b);G(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.af(a)},this);a.u=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.La;l&&k.push.apply(k,l);if(H&&!K("7")){var p=Sf(k);p.length>0&&(k.push.apply(k,p),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");return b};
s.Lc=function(a){Ud(a)&&this.ad(a.c(),!0);a.isEnabled()&&this.Vb(a,a.r)};s.Fd=function(a,b){Rc(a,!b,!H&&!Gb)};s.ad=function(a,b){this.md(a,this.n()+"-rtl",b)};s.Mb=function(a){var b;if(a.$&32&&(b=a.U()))return vc(b);return!1};s.Vb=function(a,b){var c;if(a.$&32&&(c=a.U())){if(!b&&a.u&32){try{c.blur()}catch(d){}a.u&32&&a.tb(m)}if(vc(c)!=b)b?c.tabIndex=0:c.removeAttribute("tabIndex")}};s.Fa=function(a,b){Pc(a,b)};s.va=function(a,b,c){var d=a.c();if(d){var f=this.pd(b);f&&this.md(a,f,c);this.gd(d,b,c)}};
s.gd=function(a,b,c){Rf||(Rf=Ba(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Rf[b])&&Y(a,b,c)};s.uc=function(a,b){var c=this.S(a);if(c&&(oc(c),b))if(y(b))sc(c,b);else{var d=function(a){if(a){var b=N(c);c.appendChild(y(a)?b.createTextNode(a):a)}};x(b)?G(b,d):ea(b)&&!("nodeType"in b)?G(Xa(b),d):d(b)}};s.U=function(a){return a.c()};s.n=r("goog-control");
s.Hc=function(a){var b=this.n(),c=[b],d=this.n();d!=b&&c.push(d);b=a.u;for(d=[];b;){var f=b&-b;d.push(this.pd(f));b&=~f}c.push.apply(c,d);(a=a.La)&&c.push.apply(c,a);H&&!K("7")&&c.push.apply(c,Sf(c));return c};function Sf(a,b){var c=[];b&&(a=a.concat([b]));G([],function(d){Sa(d,na(Ua,a))&&(!b||Ua(d,b))&&c.push(d.join("_"))});return c}s.pd=function(a){this.Vd||Uf(this);return this.Vd[a]};
s.af=function(a){if(!this.mh){this.Vd||Uf(this);var b=this.Vd,c={},d;for(d in b)c[b[d]]=d;this.mh=c}a=parseInt(this.mh[a],10);return isNaN(a)?0:a};function Uf(a){var b=a.n();a.Vd=Ba(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")};function Vf(a,b){a||e(Error("Invalid class name "+a));ga(b)||e(Error("Invalid decorator function "+b));Wf[a]=b}var Xf={},Wf={};function Yf(a,b,c,d,f){if(!H&&(!J||!K("525")))return!0;if(Ab&&f)return Zf(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(H&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!J}return Zf(a)}
function Zf(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(J&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function $f(a,b){E.call(this);a&&this.kd(a,b)}D($f,T);s=$f.prototype;s.e=m;s.ie=m;s.rf=m;s.je=m;s.Pb=-1;s.Nb=-1;
var ag={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},bg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},cg={61:187,59:186},dg=H||J&&K("525");s=$f.prototype;
s.df=function(a){if(J&&(this.Pb==17&&!a.ctrlKey||this.Pb==18&&!a.altKey))this.Nb=this.Pb=-1;dg&&!Yf(a.keyCode,this.Pb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Nb=I&&a.keyCode in cg?cg[a.keyCode]:a.keyCode};s.fi=function(){this.Nb=this.Pb=-1};
s.handleEvent=function(a){var b=a.na,c,d;H&&a.type=="keypress"?(c=this.Nb,d=c!=13&&c!=27?b.keyCode:0):J&&a.type=="keypress"?(c=this.Nb,d=b.charCode>=0&&b.charCode<63232&&Zf(c)?b.charCode:0):Gb?(c=this.Nb,d=Zf(c)?b.keyCode:0):(c=b.keyCode||this.Nb,d=b.charCode||0,Ab&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in ag?f=ag[c]:c==25&&a.shiftKey&&(f=9):g&&g in bg&&(f=bg[g]);a=f==this.Pb;this.Pb=f;b=new eg(f,d,a,b);try{this.dispatchEvent(b)}finally{b.m()}};s.c=n("e");
s.kd=function(a,b){this.je&&this.detach();this.e=a;this.ie=R(this.e,"keypress",this,b);this.rf=R(this.e,"keydown",this.df,b,this);this.je=R(this.e,"keyup",this.fi,b,this)};s.detach=function(){if(this.ie)S(this.ie),S(this.rf),S(this.je),this.je=this.rf=this.ie=m;this.e=m;this.Nb=this.Pb=-1};s.g=function(){$f.b.g.call(this);this.detach()};function eg(a,b,c,d){d&&this.Lb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(eg,Zc);function Z(a,b,c){Kd.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ia(b);if(d=Xf[d])break;b=b.b?b.b.constructor:m}b=d?ga(d.ua)?d.ua():new d:m}this.i=b;this.Za=a}D(Z,Kd);s=Z.prototype;s.Za=m;s.u=0;s.$=39;s.Le=255;s.Be=0;s.r=!0;s.La=m;s.ff=!0;s.Sd=!1;function fg(a,b){a.F&&b!=a.ff&&gg(a,b);a.ff=b}s.U=function(){return this.i.U(this)};s.ce=function(){return this.J||(this.J=new $f)};function hg(a,b){if(b)a.La?Ua(a.La,b)||a.La.push(b):a.La=[b],a.i.md(a,b,!0)}
s.md=function(a,b){if(b)hg(this,a);else if(a&&this.La){Va(this.La,a);if(this.La.length==0)this.La=m;this.i.md(this,a,!1)}};s.o=function(){var a=this.i.o(this);this.e=a;var b=this.i.cb();b&&Pf(a,b);this.Sd||this.i.Fd(a,!1);this.r||this.i.Fa(a,!1)};s.S=function(){return this.i.S(this.c())};s.Ia=function(a){return this.i.Ia(a)};s.$a=function(a){this.e=a=this.i.ba(this,a);var b=this.i.cb();b&&Pf(a,b);this.Sd||this.i.Fd(a,!1);this.r=a.style.display!="none"};
s.Y=function(){Z.b.Y.call(this);this.i.Lc(this);if(this.$&-2&&(this.ff&&gg(this,!0),this.$&32)){var a=this.U();if(a){var b=this.ce();b.kd(a);this.oa().h(b,"key",this.Ma).h(a,"focus",this.kc).h(a,"blur",this.tb)}}};function gg(a,b){var c=a.oa(),d=a.c();b?(c.h(d,"mouseover",a.hf).h(d,"mousedown",a.lc).h(d,"mouseup",a.mc).h(d,"mouseout",a.gf),H&&c.h(d,"dblclick",a.tg)):(c.X(d,"mouseover",a.hf).X(d,"mousedown",a.lc).X(d,"mouseup",a.mc).X(d,"mouseout",a.gf),H&&c.X(d,"dblclick",a.tg))}
s.bb=function(){Z.b.bb.call(this);this.J&&this.J.detach();this.r&&this.isEnabled()&&this.i.Vb(this,!1)};s.g=function(){Z.b.g.call(this);this.J&&(this.J.m(),delete this.J);delete this.i;this.La=this.Za=m};s.uc=function(a){this.i.uc(this.c(),a);this.Za=a};function Tf(a,b){a.Za=b}
s.Gc=function(){var a=this.Za;if(!a)return"";if(!y(a))if(x(a))a=Ra(a,wc).join("");else{if(dc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];xc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");H||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return Ca(a)};s.ad=function(a){Z.b.ad.call(this,a);var b=this.c();b&&this.i.ad(b,a)};s.Fd=function(a){this.Sd=a;var b=this.c();b&&this.i.Fd(b,a)};
s.Fa=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.i.Fa(c,a);this.isEnabled()&&this.i.Vb(this,a);this.r=a;return!0}return!1};s.isEnabled=function(){return!(this.u&1)};s.Ub=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&ig(this,1,!a))a||(this.setActive(!1),this.mb(!1)),this.r&&this.i.Vb(this,a),this.va(1,!a)};s.mb=function(a){ig(this,2,a)&&this.va(2,a)};s.setActive=function(a){ig(this,4,a)&&this.va(4,a)};
s.Jf=function(a){ig(this,8,a)&&this.va(8,a)};s.gb=function(){return!!(this.u&64)};s.O=function(a){ig(this,64,a)&&this.va(64,a)};s.va=function(a,b){if(this.$&a&&b!=!!(this.u&a))this.i.va(this,a,b),this.u=b?this.u|a:this.u&~a};function jg(a,b,c){a.F&&a.u&b&&!c&&e(Error("Component already rendered"));!c&&a.u&b&&a.va(b,!1);a.$=c?a.$|b:a.$&~b}function kg(a,b){return!!(a.Le&b)&&!!(a.$&b)}function ig(a,b,c){return!!(a.$&b)&&!!(a.u&b)!=c&&(!(a.Be&b)||a.dispatchEvent(Md(b,c)))&&!a.Qe}
s.hf=function(a){(!a.relatedTarget||!rc(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&kg(this,2)&&this.mb(!0)};s.gf=function(a){if((!a.relatedTarget||!rc(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))kg(this,4)&&this.setActive(!1),kg(this,2)&&this.mb(!1)};s.lc=function(a){this.isEnabled()&&(kg(this,2)&&this.mb(!0),bd(a)&&(kg(this,4)&&this.setActive(!0),this.i.Mb(this)&&this.U().focus()));!this.Sd&&bd(a)&&a.preventDefault()};
s.mc=function(a){this.isEnabled()&&(kg(this,2)&&this.mb(!0),this.u&4&&this.Uc(a)&&kg(this,4)&&this.setActive(!1))};s.tg=function(a){this.isEnabled()&&this.Uc(a)};s.Uc=function(a){if(kg(this,16)){var b=!(this.u&16);ig(this,16,b)&&this.va(16,b)}kg(this,8)&&this.Jf(!0);kg(this,64)&&this.O(!this.gb());b=new P("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};
s.kc=function(){kg(this,32)&&ig(this,32,!0)&&this.va(32,!0)};s.tb=function(){kg(this,4)&&this.setActive(!1);kg(this,32)&&ig(this,32,!1)&&this.va(32,!1)};s.Ma=function(a){if(this.r&&this.isEnabled()&&this.Kc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};s.Kc=function(a){return a.keyCode==13&&this.Uc(a)};ga(Z)||e(Error("Invalid component class "+Z));ga(Qf)||e(Error("Invalid renderer class "+Qf));var lg=ia(Z);Xf[lg]=Qf;Vf("goog-control",function(){return new Z(m)});function mg(a,b){this.f=a;this.s=new Wd(20);this.Wf=this.Vf=0.1;this.of=!1;this.ec=new Z("");this.ec.Be|=255;this.Ah=R(this.ec,"activate",this.Pi,!1,this);this.Sh=R(this.ec,"deactivate",this.Qi,!1,this);this.zj=R(this.ec,"enter",this.Ri,!1,this);this.Of=R(this.s,Yd,this.Sc,!1,this);this.Gi=R(N(this.f.a.canvas),"mousemove",this.Cf,!1,this);this.Fi=R(N(this.f.a.canvas),"mousedown",function(){this.of=!0},!1,this);this.Hi=R(N(this.f.a.canvas),"mouseup",function(){this.of=!1},!1,this);this.ec.yb(b)}
D(mg,E);s=mg.prototype;s.Ri=function(){this.of&&(this.ec.va(4,!0),this.s.start())};s.Pi=function(){this.s.start()};s.Qi=function(){this.s&&this.s.stop()};s.Sc=function(){this.xe(this.Vf,this.Wf)};s.Cf=function(a){this.Vf=-(a.offsetX-a.target.offsetWidth/2)*2;this.Wf=-(a.offsetY-a.target.offsetHeight/2)};s.g=function(){S(this.Ah);S(this.Gi);S(this.Hi);S(this.Fi);S(this.Sh);S(this.Of);this.ec.m()};
s.xe=function(a,b){var c=Math.PI*(1/this.f.a.canvas.height)*(this.f.Id/Math.pow(2,V(this.f.d)));le(this.f.d,b*c,-2*a*c)};function ng(a){E.call(this);this.e=a;this.ja=R(this.e,I?"DOMMouseScroll":"mousewheel",this)}D(ng,T);
ng.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.na;if(a.type=="mousewheel"){c=1;if(H||J&&(Bb||K("532.0")))c=40;d=J&&Ab&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=J&&Ab&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=J&&Ab&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.Qg)&&(b=pb(b,-this.Qg,this.Qg));fa(this.Rg)&&(c=pb(c,-this.Rg,this.Rg));b=new og(d,
a,b,c);try{this.dispatchEvent(b)}finally{b.m()}};ng.prototype.g=function(){ng.b.g.call(this);S(this.ja);delete this.ja};function og(a,b,c,d){b&&this.Lb(b,i);this.type="mousewheel";this.detail=a;this.Ec=c;this.Hb=d}D(og,Zc);function pg(a){this.f=a;this.pc=new ng(a.a.canvas);this.ja=R(this.pc,"mousewheel",function(a){this.wa(-(a.Hb==0?0:a.Hb<0?-1:1));a.preventDefault()},!1,this);this.Rh=R(a.a.canvas,"dblclick",z(function(a){this.d.Q?me(this.d,oe(this.d)/2):qe(this.d,Math.floor(V(this.d)+1));var c=se(this,a.offsetX,a.offsetY,!0)||this.d.ee(this);if(c){var d=(this.d.hb+c[1])/2;Math.abs(this.d.hb-c[1])>Math.PI&&(d+=Math.PI);this.d.Wb((this.d.Pa+c[0])/2,d)}a.preventDefault()},a));this.dj=R(a.a.canvas,"mouseup",z(function(a){if(ad(a,
2)){this.d.Q?me(this.d,oe(this.d)*2):qe(this.d,Math.ceil(V(this.d)-1));var c=se(this,a.offsetX,a.offsetY,!0)||this.d.ee(this);c&&this.d.Wb(2*this.d.Pa-c[0],2*this.d.hb-c[1]);a.preventDefault()}},a));this.Li=R(a.a.canvas,"contextmenu",function(a){a.preventDefault()});this.xa=m;this.wc=this.zb=0;this.Q=a.d.Q}D(pg,E);
pg.prototype.wa=function(a){var b=120;if(this.xa&&this.Q!=this.f.d.Q)this.xa.m(),this.xa=m;(this.Q=this.f.d.Q)&&(a*=-1);if(this.xa)if(this.wc>this.zb==a>0)return;else this.xa.m(),b*=((this.Q?oe(this.f.d):V(this.f.d))-this.zb)/(this.wc-this.zb),a=this.wc,this.wc=this.zb,this.zb=a;else this.Q?(this.zb=oe(this.f.d),this.wc=this.zb*Math.pow(2,a)):(this.zb=V(this.f.d),this.wc=this.zb+a*0.5);if(!(b<=0))this.xa=new Zd([this.Q?oe(this.f.d):V(this.f.d)],[this.wc],b),R(this.xa,["animate","finish"],function(a){this.Q?
me(this.f.d,a.x):qe(this.f.d,a.x)},!1,this),R(this.xa,["finish"],this.Xh,!1,this),this.xa.play(!1)};pg.prototype.Xh=function(){if(this.xa)this.xa.m(),this.xa=m};pg.prototype.g=function(){S(this.ja);S(this.Rh);S(this.dj);S(this.Li);this.pc.m();this.xa.m()};function qg(a,b){var c=jc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
Lf.call(this,a,b,c);this.show(!1)}D(qg,Lf);function rg(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var p=l.tagName=="HTML"||l.tagName=="BODY";if(!p||Bc(l,"position")!="static")k=Ic(l),p||(k=Ub(k,new L(l.scrollLeft,l.scrollTop)))}l=Oc(a);if(p=Hc(a)){var o=new Yb(p.left,p.top,p.right-p.left,p.bottom-p.top),p=Math.max(l.left,o.left),q=Math.min(l.left+l.width,o.left+o.width);if(p<=q){var B=Math.max(l.top,o.top),o=Math.min(l.top+l.height,o.top+o.height);if(B<=o)l.left=p,l.top=B,l.width=q-p,l.height=o-B}}p=M(a);B=M(c);if(p.A!=B.A){var q=p.A.body,
B=B.A.parentWindow||B.A.defaultView,o=new L(0,0),Jb=N(q)?N(q).parentWindow||N(q).defaultView:window,Ve=q;do{var Xg=Jb==B?Ic(Ve):Kc(Ve);o.x+=Xg.x;o.y+=Xg.y}while(Jb&&Jb!=B&&(Ve=Jb.frameElement)&&(Jb=Jb.parent));q=Ub(o,Ic(q));H&&!gc(p.A)&&(q=Ub(q,zc(p)));l.left+=q.x;l.top+=q.y}a=(b&4&&Jc(a)?b^2:b)&-5;b=new L(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=Ub(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var C;if(h&&(C=Hc(c))&&k)C.top=Math.max(0,C.top-k.y),C.right-=k.x,C.bottom-=k.y,C.left=
Math.max(0,C.left-k.x);a:{k=C;f=b.aa();C=0;a=(d&4&&Jc(c)?d^2:d)&-5;d=Nc(c);j=j?j.aa():d.aa();if(g||a!=0)a&2?f.x-=j.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=j.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h){if(k){g=f;C=0;if((h&65)==65&&(g.x<k.left||g.x>=k.right))h&=-2;if((h&132)==132&&(g.y<k.top||g.y>=k.bottom))h&=-5;if(g.x<k.left&&h&1)g.x=k.left,C|=1;g.x<k.left&&g.x+j.width>k.right&&h&16&&(j.width-=g.x+j.width-k.right,C|=4);if(g.x+j.width>k.right&&h&1)g.x=Math.max(k.right-j.width,k.left),C|=1;h&
2&&(C|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4)g.y=k.top,C|=2;g.y>=k.top&&g.y+j.height>k.bottom&&h&32&&(j.height-=g.y+j.height-k.bottom,C|=8);if(g.y+j.height>k.bottom&&h&4)g.y=Math.max(k.bottom-j.height,k.top),C|=2;h&8&&(C|=(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=C}else h=256;C=h;if(C&496){c=C;break a}}Cc(c,f);Xb(d,j)||Mc(c,j);c=C}return c};function sg(){}sg.prototype.rc=aa();function tg(a,b){this.element=a;this.Cc=b}D(tg,sg);tg.prototype.rc=function(a,b,c){rg(this.element,this.Cc,a,b,i,c)};function ug(a){return function(){return a}}var vg=ug(!1),wg=ug(!0);function xg(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function yg(a,b,c){tg.call(this,a,b);this.Dh=c}D(yg,tg);yg.prototype.dg=vg;yg.prototype.rc=function(a,b,c,d){var f=rg(this.element,this.Cc,a,b,m,c,10,d);if(f&496){var g=this.Cc,h=b;f&48&&(g^=2,h^=2);f&192&&(g^=1,h^=1);f=rg(this.element,g,a,h,m,c,10,d);f&496&&(this.Dh?(f=this.dg()?197:5,rg(this.element,this.Cc,a,b,m,c,f,d)):rg(this.element,this.Cc,a,b,m,c,0,d))}};function zg(a,b,c,d){yg.call(this,a,b,c);this.bj=d}D(zg,yg);zg.prototype.dg=wg;zg.prototype.rc=function(a,b,c,d){this.bj?rg(this.element,this.Cc,a,b,m,c,97,d):zg.b.rc.call(this,a,b,c,d)};function Ag(){}D(Ag,Qf);ca(Ag);s=Ag.prototype;s.cb=r("button");s.gd=function(a,b,c){b==16?Y(a,"pressed",c):Ag.b.gd.call(this,a,b,c)};s.o=function(a){var b=Ag.b.o.call(this,a),c=a.rd();c&&this.Kf(b,c);(c=a.p())&&this.W(b,c);a.$&16&&this.gd(b,16,!1);return b};s.ba=function(a,b){var b=Ag.b.ba.call(this,a,b),c=this.p(b);a.Ua=c;a.Rf=this.rd(b);a.$&16&&this.gd(b,16,!1);return b};s.p=u;s.W=u;s.rd=function(a){return a.title};s.Kf=function(a,b){if(a)a.title=b||""};s.n=r("goog-button");function Bg(){}D(Bg,Ag);ca(Bg);s=Bg.prototype;s.cb=aa();s.o=function(a){fg(a,!1);a.Le&=-256;jg(a,32,!1);return a.T().o("button",{"class":this.Hc(a).join(" "),disabled:!a.isEnabled(),title:a.rd()||"",value:a.p()||""},a.Gc()||"")};s.Ia=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};s.ba=function(a,b){fg(a,!1);a.Le&=-256;jg(a,32,!1);b.disabled&&ac(b,this.pd(1));return Bg.b.ba.call(this,a,b)};s.Lc=function(a){a.oa().h(a.c(),"click",a.Uc)};
s.Fd=u;s.ad=u;s.Mb=function(a){return a.isEnabled()};s.Vb=u;s.va=function(a,b,c){Bg.b.va.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};s.p=function(a){return a.value};s.W=function(a,b){if(a)a.value=b};s.gd=u;function Cg(a,b,c){Z.call(this,a,b||Bg.ua(),c)}D(Cg,Z);s=Cg.prototype;s.p=n("Ua");s.W=function(a){this.Ua=a;this.i.W(this.c(),a)};s.rd=n("Rf");s.Kf=function(a){this.Rf=a;this.i.Kf(this.c(),a)};s.g=function(){Cg.b.g.call(this);delete this.Ua;delete this.Rf};s.Y=function(){Cg.b.Y.call(this);if(this.$&32){var a=this.U();a&&this.oa().h(a,"keyup",this.Kc)}};s.Kc=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Uc(a);return a.keyCode==32};Vf("goog-button",function(){return new Cg(m)});function Dg(){}D(Dg,Qf);ca(Dg);Dg.prototype.o=function(a){return a.T().o("div",this.n())};Dg.prototype.ba=function(a,b){if(b.tagName=="HR"){var c=b,b=this.o(a);c.parentNode&&c.parentNode.insertBefore(b,c);pc(c)}else ac(b,this.n());return b};Dg.prototype.uc=aa();Dg.prototype.n=r("goog-menuseparator");function Eg(a,b){Z.call(this,m,a||Dg.ua(),b);jg(this,1,!1);jg(this,2,!1);jg(this,4,!1);jg(this,32,!1);this.u=1}D(Eg,Z);Eg.prototype.Y=function(){Eg.b.Y.call(this);Pf(this.c(),"separator")};Vf("goog-menuseparator",function(){return new Eg});function Fg(){}ca(Fg);s=Fg.prototype;s.cb=aa();function Gg(a,b){if(a)a.tabIndex=b?0:-1}s.o=function(a){return a.T().o("div",this.Hc(a).join(" "))};s.S=function(a){return a};s.Ia=function(a){return a.tagName=="DIV"};s.ba=function(a,b){b.id&&Od(a,b.id);var c=this.n(),d=!1,f=$b(b);f&&G(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Ub(!1):b==c+"-horizontal"?a.Ae(Hg):b==c+"-vertical"&&a.Ae(Ig))},this);d||ac(b,c);Jg(this,a,this.S(b));return b};
function Jg(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.Xe(d);if(g)g.e=d,b.isEnabled()||g.Ub(!1),b.hd(g),g.ba(d)}else(!d.nodeValue||Da(d.nodeValue)=="")&&c.removeChild(d);d=f}}s.Xe=function(a){a:{for(var b=$b(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Wf?Wf[b[c]]():m)break a;a=m}return a};s.Lc=function(a){a=a.c();Rc(a,!0,I);if(H)a.hideFocus=!0;var b=this.cb();b&&Pf(a,b)};s.U=function(a){return a.c()};s.n=r("goog-container");
s.Hc=function(a){var b=this.n(),c=[b,a.M==Hg?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Kg(){}D(Kg,Fg);ca(Kg);s=Kg.prototype;s.cb=r("menu");s.Ia=function(a){return a.tagName=="UL"||Kg.b.Ia.call(this,a)};s.Xe=function(a){return a.tagName=="HR"?new Eg:Kg.b.Xe.call(this,a)};s.dc=function(a,b){return rc(a.c(),b)};s.n=r("goog-menu");s.Lc=function(a){Kg.b.Lc.call(this,a);Y(a.c(),"haspopup","true")};Vf("goog-menuseparator",function(){return new Eg});function Lg(){this.fg=[]}D(Lg,Qf);ca(Lg);function Mg(a,b){var c=a.fg[b];if(!c){switch(b){case 0:c=a.n()+"-highlight";break;case 1:c=a.n()+"-checkbox";break;case 2:c=a.n()+"-content"}a.fg[b]=c}return c}s=Lg.prototype;s.cb=r("menuitem");s.o=function(a){var b=a.T().o("div",this.Hc(a).join(" "),Ng(this,a.Za,a.T()));Og(this,a,b,!!(a.$&8)||!!(a.$&16));return b};s.S=function(a){return a&&a.firstChild};
s.ba=function(a,b){var c=qc(b),d=Mg(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(Ng(this,b.childNodes,a.T()));Ua($b(b),"goog-option")&&(a.ye(!0),this.ye(a,b,!0));return Lg.b.ba.call(this,a,b)};s.uc=function(a,b){var c=this.S(a),d=Pg(this,a)?c.firstChild:m;Lg.b.uc.call(this,a,b);d&&!Pg(this,a)&&c.insertBefore(d,c.firstChild||m)};function Ng(a,b,c){a=Mg(a,2);return c.o("div",a,b)}s.ye=function(a,b,c){b&&(Pf(b,c?"menuitemcheckbox":this.cb()),Og(this,a,b,c))};
function Pg(a,b){var c=a.S(b);if(c){var c=c.firstChild,d=Mg(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function Og(a,b,c,d){d!=Pg(a,c)&&(d?ac(c,"goog-option"):bc(c,"goog-option"),c=a.S(c),d?(a=Mg(a,1),c.insertBefore(b.T().o("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}s.pd=function(a){switch(a){case 2:return Mg(this,0);case 16:case 8:return"goog-option-selected";default:return Lg.b.pd.call(this,a)}};
s.af=function(a){var b=Mg(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Lg.b.af.call(this,a)}};s.n=r("goog-menuitem");function Qg(a,b,c,d){Z.call(this,a,d||Lg.ua(),c);this.W(b)}D(Qg,Z);s=Qg.prototype;s.p=function(){var a=this.zf;return a!=m?a:this.Gc()};s.W=ba("zf");s.ye=function(a){jg(this,16,a);var b=this.c();b&&this.i.ye(this,b,a)};s.Gc=function(){var a=this.Za;if(x(a))return a=Ra(a,function(a){return Ua($b(a),"goog-menuitem-accel")?"":wc(a)}).join(""),Ca(a);return Qg.b.Gc.call(this)};
s.mc=function(a){var b=this.getParent();if(b){var c=b.Yg;b.Yg=m;if(b=c&&fa(a.clientX))b=new L(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}Qg.b.mc.call(this,a)};Vf("goog-menuitem",function(){return new Qg(m)});function Rg(a,b,c){Kd.call(this,c);this.i=b||Fg.ua();this.M=a||Ig}D(Rg,Kd);var Hg="horizontal",Ig="vertical";s=Rg.prototype;s.Hg=m;s.J=m;s.i=m;s.M=m;s.r=!0;s.Ka=!0;s.Se=!0;s.da=-1;s.V=m;s.ub=!1;s.Eh=!1;s.Wi=!0;s.Eb=m;s.U=function(){return this.Hg||this.i.U(this)};s.ce=function(){return this.J||(this.J=new $f(this.U()))};s.o=function(){this.e=this.i.o(this)};s.S=function(){return this.i.S(this.c())};s.Ia=function(a){return this.i.Ia(a)};
s.$a=function(a){this.e=this.i.ba(this,a);if(a.style.display=="none")this.r=!1};s.Y=function(){Rg.b.Y.call(this);Sd(this,function(a){a.F&&Sg(this,a)},this);var a=this.c();this.i.Lc(this);this.Fa(this.r,!0);this.oa().h(this,"enter",this.bf).h(this,"highlight",this.cf).h(this,"unhighlight",this.jf).h(this,"open",this.ji).h(this,"close",this.bi).h(a,"mousedown",this.lc).h(N(a),"mouseup",this.di).h(a,["mousedown","mouseup","mouseover","mouseout"],this.ai);this.Mb()&&Tg(this,!0)};
function Tg(a,b){var c=a.oa(),d=a.U();b?c.h(d,"focus",a.kc).h(d,"blur",a.tb).h(a.ce(),"key",a.Ma):c.X(d,"focus",a.kc).X(d,"blur",a.tb).X(a.ce(),"key",a.Ma)}s.bb=function(){Ug(this,-1);this.V&&this.V.O(!1);this.ub=!1;Rg.b.bb.call(this)};s.g=function(){Rg.b.g.call(this);if(this.J)this.J.m(),this.J=m;this.i=this.V=this.Eb=m};s.bf=r(!0);
s.cf=function(a){var b=Vd(this,a.target);if(b>-1&&b!=this.da){var c=U(this,this.da);c&&c.mb(!1);this.da=b;c=U(this,this.da);this.ub&&c.setActive(!0);this.Wi&&this.V&&c!=this.V&&(c.$&64?c.O(!0):this.V.O(!1))}Y(this.c(),"activedescendant",a.target.c().id)};s.jf=function(a){if(a.target==U(this,this.da))this.da=-1;Y(this.c(),"activedescendant","")};s.ji=function(a){if((a=a.target)&&a!=this.V&&a.getParent()==this)this.V&&this.V.O(!1),this.V=a};s.bi=function(a){if(a.target==this.V)this.V=m};
s.lc=function(a){if(this.Ka)this.ub=!0;var b=this.U();b&&vc(b)?b.focus():a.preventDefault()};s.di=function(){this.ub=!1};s.ai=function(a){var b;a:{b=a.target;if(this.Eb)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Eb){b=this.Eb[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.lc(a);break;case "mouseup":b.mc(a);break;case "mouseover":b.hf(a);break;case "mouseout":b.gf(a)}};s.kc=aa();s.tb=function(){Ug(this,-1);this.ub=!1;this.V&&this.V.O(!1)};
s.Ma=function(a){if(this.isEnabled()&&this.r&&(Td(this)!=0||this.Hg)&&this.Kc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};
s.Kc=function(a){var b=U(this,this.da);if(b&&typeof b.Ma=="function"&&b.Ma(a))return!0;if(this.V&&this.V!=b&&typeof this.V.Ma=="function"&&this.V.Ma(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Mb())this.U().blur();else return!1;break;case 36:Vg(this);break;case 35:Wg(this);break;case 38:if(this.M==Ig)Yg(this);else return!1;break;case 37:if(this.M==Hg)Ud(this)?Zg(this):Yg(this);else return!1;break;case 40:if(this.M==Ig)Zg(this);else return!1;
break;case 39:if(this.M==Hg)Ud(this)?Yg(this):Zg(this);else return!1;break;default:return!1}return!0};function Sg(a,b){var c=b.c(),c=c.id||(c.id=Nd(b));if(!a.Eb)a.Eb={};a.Eb[c]=b}s.hd=function(a,b){Rg.b.hd.call(this,a,b)};s.jd=function(a,b,c){a.Be|=2;a.Be|=64;(this.Mb()||!this.Eh)&&jg(a,32,!1);fg(a,!1);Rg.b.jd.call(this,a,b,c);c&&this.F&&Sg(this,a);b<=this.da&&this.da++};
s.removeChild=function(a,b){if(a=y(a)?Qd(this,a):a){var c=Vd(this,a);c!=-1&&(c==this.da?a.mb(!1):c<this.da&&this.da--);(c=a.c())&&c.id&&xa(this.Eb,c.id)}a=Rg.b.removeChild.call(this,a,b);fg(a,!0);return a};s.Ae=function(a){this.c()&&e(Error("Component already rendered"));this.M=a};s.Fa=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){this.r=a;var c=this.c();c&&(Pc(c,a),this.Mb()&&Gg(this.U(),this.Ka&&this.r),b||this.dispatchEvent(this.r?"aftershow":"afterhide"));return!0}return!1};
s.isEnabled=n("Ka");s.Ub=function(a){if(this.Ka!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Ka=!0,Sd(this,function(a){a.yh?delete a.yh:a.Ub(!0)})):(Sd(this,function(a){a.isEnabled()?a.Ub(!1):a.yh=!0}),this.ub=this.Ka=!1),this.Mb()&&Gg(this.U(),a&&this.r)};s.Mb=n("Se");s.Vb=function(a){a!=this.Se&&this.F&&Tg(this,a);this.Se=a;this.Ka&&this.r&&Gg(this.U(),a)};function Ug(a,b){var c=U(a,b);c?c.mb(!0):a.da>-1&&U(a,a.da).mb(!1)}s.mb=function(a){Ug(this,Vd(this,a))};
function Vg(a){$g(a,function(a,c){return(a+1)%c},Td(a)-1)}function Wg(a){$g(a,function(a,c){a--;return a<0?c-1:a},0)}function Zg(a){$g(a,function(a,c){return(a+1)%c},a.da)}function Yg(a){$g(a,function(a,c){a--;return a<0?c-1:a},a.da)}function $g(a,b,c){for(var c=c<0?Vd(a,a.V):c,d=Td(a),c=b.call(a,c,d),f=0;f<=d;){var g=U(a,c);if(g&&a.eg(g)){Ug(a,c);break}f++;c=b.call(a,c,d)}}s.eg=function(a){return a.r&&a.isEnabled()&&!!(a.$&2)};function ah(){}D(ah,Qf);ca(ah);ah.prototype.n=r("goog-menuheader");function bh(a,b,c){Z.call(this,a,c||ah.ua(),b);jg(this,1,!1);jg(this,2,!1);jg(this,4,!1);jg(this,32,!1);this.u=1}D(bh,Z);Vf("goog-menuheader",function(){return new bh(m)});function ch(a,b){Rg.call(this,Ig,b||Kg.ua(),a);this.Vb(!1)}D(ch,Rg);s=ch.prototype;s.Je=!0;s.Fh=!1;s.n=function(){return this.i.n()};s.dc=function(a){if(this.i.dc(this,a))return!0;for(var b=0,c=Td(this);b<c;b++){var d=U(this,b);if(typeof d.dc=="function"&&d.dc(a))return!0}return!1};s.Bb=function(a){this.hd(a,!0)};s.Ac=function(a,b){this.jd(a,b,!0)};s.qd=function(a){return U(this,a)};s.be=function(){return Td(this)};
s.Wb=function(a,b){var c=this.r;c||Pc(this.c(),!0);Lc(this.c(),a,b);c||Pc(this.c(),!1)};s.qg=function(){return this.r?Ic(this.c()):m};s.Fa=function(a,b,c){(b=ch.b.Fa.call(this,a,b))&&a&&this.F&&this.Je&&this.U().focus();this.Yg=a&&c&&fa(c.clientX)?new L(c.clientX,c.clientY):m;return b};s.bf=function(a){this.Je&&this.U().focus();return ch.b.bf.call(this,a)};s.eg=function(a){return(this.Fh||a.isEnabled())&&a.r&&!!(a.$&2)};
s.$a=function(a){var b=this.i,c;c=this.T();c=fc(c.A,"div",b.n()+"-content",a);for(var d,f=0;d=c[f];f++)Jg(b,this,d);ch.b.$a.call(this,a)};function dh(){}D(dh,Ag);ca(dh);s=dh.prototype;s.o=function(a){var b={"class":"goog-inline-block "+this.Hc(a).join(" "),title:a.rd()||""};return a.T().o("div",b,this.Wd(a.Za,a.T()))};s.cb=r("button");s.S=function(a){return a&&a.firstChild.firstChild};s.Wd=function(a,b){return b.o("div","goog-inline-block "+(this.n()+"-outer-box"),b.o("div","goog-inline-block "+(this.n()+"-inner-box"),a))};s.Ia=function(a){return a.tagName=="DIV"};
s.ba=function(a,b){eh(b,!0);eh(b,!1);var c;a:{if((c=a.T().pg(b))&&c.className.indexOf(this.n()+"-outer-box")!=-1)if((c=a.T().pg(c))&&c.className.indexOf(this.n()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.Wd(b.childNodes,a.T()));ac(b,"goog-inline-block",this.n());return dh.b.ba.call(this,a,b)};s.n=r("goog-custom-button");
function eh(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(Da(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function fh(){}D(fh,dh);ca(fh);if(I)fh.prototype.uc=function(a,b){var c=fh.b.S.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,M(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};s=fh.prototype;s.S=function(a){a=fh.b.S.call(this,a&&a.firstChild);if(I&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};s.ba=function(a,b){var c=fc(document,"*","goog-menu",b)[0];if(c){Pc(c,!1);N(c).body.appendChild(c);var d=new ch;d.ba(c);a.Hd(d)}return fh.b.ba.call(this,a,b)};
s.Wd=function(a,b){return fh.b.Wd.call(this,[this.createCaption(a,b),b.o("div","goog-inline-block "+(this.n()+"-dropdown"),"\u00a0")],b)};s.createCaption=function(a,b){return b.o("div","goog-inline-block "+(this.n()+"-caption"),a)};s.n=r("goog-menu-button");function $(a,b,c,d){Cg.call(this,a,c||fh.ua(),d);jg(this,64,!0);b&&this.Hd(b);this.s=new Wd(500)}D($,Cg);s=$.prototype;s.Zf=!0;s.Gf=!1;s.nf=!1;s.$i=!1;s.Y=function(){$.b.Y.call(this);this.k&&gh(this,this.k,!0);Y(this.c(),"haspopup","true")};s.bb=function(){$.b.bb.call(this);if(this.k){this.O(!1);this.k.bb();gh(this,this.k,!1);var a=this.k.c();a&&pc(a)}};s.g=function(){$.b.g.call(this);this.k&&(this.k.m(),delete this.k);delete this.Yi;this.s.m()};
s.lc=function(a){$.b.lc.call(this,a);if(this.u&4&&(this.O(!this.gb(),a),this.k))this.k.ub=this.gb()};s.mc=function(a){$.b.mc.call(this,a);if(this.k&&!(this.u&4))this.k.ub=!1};s.Uc=function(){this.setActive(!1);return!0};s.ci=function(a){this.k&&this.k.r&&!this.dc(a.target)&&this.O(!1)};s.dc=function(a){return a&&rc(this.c(),a)||this.k&&this.k.dc(a)||!1};
s.Kc=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.k&&this.k.r){var b=this.k.Ma(a);if(a.keyCode==27)return this.O(!1),!0;return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32)return this.O(!0),!0;return!1};s.ef=function(){this.O(!1)};s.gi=function(){this.u&4||this.O(!1)};s.tb=function(a){this.nf||this.O(!1);$.b.tb.call(this,a)};function hh(a){a.k||a.Hd(new ch(a.T()));return a.k||m}
s.Hd=function(a){var b=this.k;if(a!=b&&(b&&(this.O(!1),this.F&&gh(this,b,!1),delete this.k),a)){this.k=a;Pd(a,this);a.Fa(!1);var c=this.nf;(a.Je=c)&&a.Vb(!0);this.F&&gh(this,a,!0)}return b};s.Bb=function(a){hh(this).hd(a,!0)};s.Ac=function(a,b){hh(this).jd(a,b,!0)};s.qd=function(a){return this.k?U(this.k,a):m};s.be=function(){return this.k?Td(this.k):0};s.Fa=function(a,b){var c=$.b.Fa.call(this,a,b);c&&!this.r&&this.O(!1);return c};s.Ub=function(a){$.b.Ub.call(this,a);this.isEnabled()||this.O(!1)};
s.O=function(a,b){$.b.O.call(this,a);if(this.k&&!!(this.u&64)==a){if(a)this.k.F||(this.$i?this.k.yb(this.c().parentNode):this.k.yb()),this.wh=Hc(this.c()),this.bg=Oc(this.c()),ih(this),Ug(this.k,-1);else if(this.setActive(!1),this.k.ub=!1,this.c()&&Y(this.c(),"activedescendant",""),this.ue!=m){this.ue=i;var c=this.k.c();c&&Mc(c,"","")}this.k.Fa(a,!1,b);var c=this.oa(),d=a?c.h:c.X;d.call(c,yc(this.T()),"mousedown",this.ci,!0);this.nf&&d.call(c,this.k,"blur",this.gi);d.call(c,this.s,Yd,this.Sc);a?this.s.start():
this.s.stop()}};function ih(a){if(a.k.F){var b=new zg(a.Yi||a.c(),a.Zf?5:7,!a.Gf,a.Gf),c=a.k.c();if(!a.k.r)c.style.visibility="hidden",Pc(c,!0);if(!a.ue&&a.Gf)a.ue=Nc(c);b.rc(c,a.Zf?4:6,m,a.ue);if(!a.k.r)Pc(c,!1),c.style.visibility="visible"}}
s.Sc=function(){var a=Oc(this.c()),b=Hc(this.c()),c;c=this.bg;c=c==a?!0:!c||!a?!1:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c))c=this.wh,c=c==b?!0:!c||!b?!1:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left,c=!c;if(c)this.bg=a,this.wh=b,ih(this)};function gh(a,b,c){var d=a.oa(),c=c?d.h:d.X;c.call(d,b,"action",a.ef);c.call(d,b,"highlight",a.cf);c.call(d,b,"unhighlight",a.jf)}s.cf=function(a){Y(this.c(),"activedescendant",a.target.c().id)};
s.jf=function(){U(this.k,this.k.da)||Y(this.c(),"activedescendant","")};Vf("goog-menu-button",function(){return new $(m)});function jh(a){E.call(this);this.oc=[];kh(this,a)}D(jh,T);s=jh.prototype;s.Tb=m;s.tc=m;s.be=function(){return this.oc.length};s.qd=function(a){return this.oc[a]||m};function kh(a,b){b&&(G(b,function(a){lh(this,a,!1)},a),Ya(a.oc,b))}s.Bb=function(a){this.Ac(a,this.be())};s.Ac=function(a,b){a&&(lh(this,a,!1),Za(this.oc,b,0,a))};s.de=n("Tb");s.Xb=function(a){if(a!=this.Tb)lh(this,this.Tb,!1),this.Tb=a,lh(this,a,!0);this.dispatchEvent("select")};s.$e=function(){return this.Tb?Pa(this.oc,this.Tb):-1};
s.hh=function(a){this.Xb(this.qd(a))};s.clear=function(){var a=this.oc;if(!x(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Tb=m};s.g=function(){jh.b.g.call(this);delete this.oc;this.Tb=m};function lh(a,b,c){b&&(typeof a.tc=="function"?a.tc(b,c):typeof b.Jf=="function"&&b.Jf(c))};function mh(a,b,c,d){$.call(this,a,b,c,d);this.Xd=a;nh(this)}D(mh,$);s=mh.prototype;s.H=m;s.Xd=m;s.Y=function(){mh.b.Y.call(this);nh(this);oh(this)};s.$a=function(a){mh.b.$a.call(this,a);(a=this.Gc())?(this.Xd=a,nh(this)):this.hh(0)};s.g=function(){mh.b.g.call(this);if(this.H)this.H.m(),this.H=m;this.Xd=m};s.ef=function(a){this.Xb(a.target);mh.b.ef.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.li=function(){var a=this.de();mh.b.W.call(this,a&&a.p());nh(this)};
s.Hd=function(a){var b=mh.b.Hd.call(this,a);a!=b&&(this.H&&this.H.clear(),a&&(this.H?Sd(a,function(a){this.H.Bb(a)},this):ph(this,a)));return b};s.Bb=function(a){mh.b.Bb.call(this,a);this.H?this.H.Bb(a):ph(this,hh(this))};s.Ac=function(a,b){mh.b.Ac.call(this,a,b);this.H?this.H.Ac(a,b):ph(this,hh(this))};s.Xb=function(a){this.H&&this.H.Xb(a)};s.hh=function(a){this.H&&this.Xb(this.H.qd(a))};
s.W=function(a){if(a!=m&&this.H)for(var b=0,c;c=this.H.qd(b);b++)if(c&&typeof c.p=="function"&&c.p()==a){this.Xb(c);return}this.Xb(m)};s.de=function(){return this.H?this.H.de():m};s.$e=function(){return this.H?this.H.$e():-1};function ph(a,b){a.H=new jh;b&&Sd(b,function(a){this.H.Bb(a)},a);oh(a)}function oh(a){a.H&&a.oa().h(a.H,"select",a.li)}function nh(a){var b=a.de();a.uc(b?b.Gc():a.Xd)}s.O=function(a,b){mh.b.O.call(this,a,b);this.gb()&&Ug(hh(this),this.$e())};Vf("goog-select",function(){return new mh(m)});function qh(a,b){this.f=a;this.Zc=new mh("---");this.ja=R(this.Zc,"action",function(b){a.la.cc(b.target.p())});this.Zc.yb(b)}D(qh,E);qh.prototype.$b=function(a,b){var c=new Qg(a.name,a);this.Zc.Bb(c);if(b||this.Zc.be()==1)this.Zc.Xb(c),this.f.la.cc(a)};qh.prototype.g=function(){S(this.ja);this.Zc.m()};function rh(a,b,c){Cg.call(this,a,b||dh.ua(),c)}D(rh,Cg);Vf("goog-custom-button",function(){return new rh(m)});function sh(a,b,c){E.call(this);this.target=a;this.handle=b||a;this.Lg=c||new Yb(NaN,NaN,NaN,NaN);this.A=N(a);this.ab=new Ed(this);R(this.handle,["touchstart","mousedown"],this.ih,!1,this)}D(sh,T);var th=H||I&&K("1.9.3");s=sh.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.kh=0;s.lh=0;s.Ec=0;s.Hb=0;s.Ka=!0;s.Ca=!1;s.Ag=0;s.Ei=0;s.oi=!1;s.oa=n("ab");s.Ub=ba("Ka");
s.g=function(){sh.b.g.call(this);yd(this.handle,["touchstart","mousedown"],this.ih,!1,this);this.ab.m();delete this.target;delete this.handle;delete this.ab};
s.ih=function(a){var b=a.type=="mousedown";if(this.Ka&&!this.Ca&&(!b||bd(a))){uh(a);if(this.Ag==0)if(vh(this,a),this.Ca)a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!th;this.ab.h(b,["touchmove","mousemove"],this.ii,d);this.ab.h(b,["touchend","mouseup"],this.Yd,d);th?(c.setCapture(!1),this.ab.h(c,"losecapture",this.Yd)):this.ab.h(b?b.parentWindow||b.defaultView:window,"blur",this.Yd);H&&this.oi&&this.ab.h(b,"dragstart",Xc);this.ej&&this.ab.h(this.ej,"scroll",
this.Vi,d);this.clientX=this.kh=a.clientX;this.clientY=this.lh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Ec=this.target.offsetLeft;this.Hb=this.target.offsetTop;this.zd=zc(M(this.A));this.Ei=A()}};function vh(a,b){if(a.dispatchEvent(new wh("start",a,b.clientX,b.clientY,b))!==!1)a.Ca=!0}
s.Yd=function(a,b){Hd(this.ab);th&&this.A.releaseCapture();if(this.Ca)uh(a),this.Ca=!1,this.dispatchEvent(new wh("end",this,a.clientX,a.clientY,a,xh(this,this.Ec),yh(this,this.Hb),b||a.type=="touchcancel"));(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function uh(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Lb(a.na.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Lb(a.na.changedTouches[0],a.currentTarget)}
s.ii=function(a){if(this.Ka){uh(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ca){var d=this.kh-this.clientX,f=this.lh-this.clientY;if(d*d+f*f>this.Ag&&(vh(this,a),!this.Ca)){this.Yd(a);return}}c=zh(this,b,c);b=c.x;c=c.y;this.Ca&&this.dispatchEvent(new wh("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Ah(this,a,b,c),a.preventDefault())}};
function zh(a,b,c){var d=zc(M(a.A));b+=d.x-a.zd.x;c+=d.y-a.zd.y;a.zd=d;a.Ec+=b;a.Hb+=c;return new L(xh(a,a.Ec),yh(a,a.Hb))}s.Vi=function(a){var b=zh(this,0,0);a.clientX=this.zd.x-this.clientX;a.clientY=this.zd.y-this.clientY;Ah(this,a,b.x,b.y)};function Ah(a,b,c,d){a.Pe(c,d);a.dispatchEvent(new wh("drag",a,b.clientX,b.clientY,b,c,d))}function xh(a,b){var c=a.Lg,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function yh(a,b){var c=a.Lg,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.Pe=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function wh(a,b,c,d,f,g,h,j){P.call(this,a);this.clientX=c;this.clientY=d;this.wj=f;this.left=v(g)?g:b.Ec;this.top=v(h)?h:b.Hb;this.lg=b;this.xj=!!j}D(wh,P);function Bh(a,b,c,d,f){Zd.call(this,b,c,d,f);this.element=a}D(Bh,Zd);Bh.prototype.Md=u;Bh.prototype.Bf=function(){this.Md();Bh.b.Bf.call(this)};Bh.prototype.Rc=function(){this.Md();Bh.b.Rc.call(this)};Bh.prototype.xb=function(){this.Md();Bh.b.xb.call(this)};function Ch(a,b,c){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));Bh.apply(this,arguments)}D(Ch,Bh);
Ch.prototype.Md=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Dh(a,b,c,d){Ch.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}D(Dh,Ch);Dh.prototype.xb=function(){this.bd=[this.element.offsetLeft,this.element.offsetTop];Dh.b.xb.call(this)};function Eh(a,b,c,d,f){fa(b)&&(b=[b]);fa(c)&&(c=[c]);Bh.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}D(Eh,Bh);
Eh.prototype.Md=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};Eh.prototype.show=function(){this.element.style.display=""};function Fh(a,b,c){Eh.call(this,a,1,0,b,c)}D(Fh,Eh);Fh.prototype.xb=function(){this.show();Fh.b.xb.call(this)};Fh.prototype.Rc=function(){this.element.style.display="none";Fh.b.Rc.call(this)};
function Gh(a,b,c){Eh.call(this,a,0,1,b,c)}D(Gh,Eh);Gh.prototype.xb=function(){this.show();Gh.b.xb.call(this)};function Hh(){E.call(this)}D(Hh,T);s=Hh.prototype;s.Ua=0;s.Ra=0;s.Ea=100;s.ya=0;s.cd=1;s.fb=!1;s.Oc=!1;s.W=function(a){a=Ih(this,a);if(this.Ua!=a)this.Ua=a+this.ya>this.Ea?this.Ea-this.ya:a<this.Ra?this.Ra:a,!this.fb&&!this.Oc&&this.dispatchEvent("change")};s.p=function(){return Ih(this,this.Ua)};s.Gd=function(a){a=Ih(this,a);if(this.ya!=a)this.ya=a<0?0:this.Ua+a>this.Ea?this.Ea-this.Ua:a,!this.fb&&!this.Oc&&this.dispatchEvent("change")};
s.hc=function(){var a;a=this.ya;a=this.cd==m?a:Math.round(a/this.cd)*this.cd;return a};s.Hf=function(a){if(this.Ra!=a){var b=this.fb;this.fb=!0;this.Ra=a;if(a+this.ya>this.Ea)this.ya=this.Ea-this.Ra;a>this.Ua&&this.W(a);if(a>this.Ea)this.ya=0,this.ze(a),this.W(a);this.fb=b;!this.fb&&!this.Oc&&this.dispatchEvent("change")}};s.ia=function(){return Ih(this,this.Ra)};
s.ze=function(a){a=Ih(this,a);if(this.Ea!=a){var b=this.fb;this.fb=!0;this.Ea=a;a<this.Ua+this.ya&&this.W(a-this.ya);if(a<this.Ra)this.ya=0,this.Hf(a),this.W(this.Ea);if(a<this.Ra+this.ya)this.ya=this.Ea-this.Ra;this.fb=b;!this.fb&&!this.Oc&&this.dispatchEvent("change")}};s.pa=function(){return Ih(this,this.Ea)};function Ih(a,b){if(a.cd==m)return b;return a.Ra+Math.round((b-a.Ra)/a.cd)*a.cd};function Jh(a){Kd.call(this,a);this.z=new Hh;R(this.z,"change",this.ki,!1,this)}D(Jh,Kd);s=Jh.prototype;s.M="horizontal";s.mf=!1;s.Ii=!1;s.Cb=10;s.yd=0;s.o=function(){Jh.b.o.call(this);this.$a(this.T().o("div",this.n(this.M)))};s.$a=function(a){Jh.b.$a.call(this,a);ac(a,this.n(this.M));var a=this.c(),b=fc(document,m,"goog-slider-thumb",a)[0];b||(b=this.T().o("div","goog-slider-thumb"),Pf(b,"button"),a.appendChild(b));this.R=this.sa=b;Pf(this.c(),"slider");Kh(this)};
s.Y=function(){Jh.b.Y.call(this);this.zc=new sh(this.R);this.nd=new sh(this.sa);this.zc.Pe=this.nd.Pe=u;this.J=new $f(this.c());this.pc=new ng(this.c());this.oa().h(this.zc,"beforedrag",this.rg).h(this.nd,"beforedrag",this.rg).h(this.J,"key",this.df).h(this.c(),"mousedown",this.fe).h(this.pc,"mousewheel",this.hi);this.c().tabIndex=0;Lh(this)};
s.rg=function(a){var b=a.lg==this.zc?this.R:this.sa,c;this.M=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.pa()-this.ia())+this.ia()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.pa()-this.ia())+this.ia();c=a.lg==this.zc?Math.min(Math.max(c,this.ia()),this.p()+this.hc()):Math.min(Math.max(c,this.p()),this.pa());Mh(this,b,c)};
s.df=function(a){var b=!0;switch(a.keyCode){case 36:Nh(this,this.ia());break;case 35:Nh(this,this.pa());break;case 33:Oh(this,this.Cb);break;case 34:Oh(this,-this.Cb);break;case 37:case 40:Oh(this,a.shiftKey?-this.Cb:-this.Sf);break;case 39:case 38:Oh(this,a.shiftKey?this.Cb:this.Sf);break;default:b=!1}b&&a.preventDefault()};
s.fe=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!rc(this.R,b)&&!rc(this.sa,b))if(this.Ii)Nh(this,Ph(this,a));else{this.Lf(a);this.Ga=Qh(this,Ph(this,a));this.Bg=this.M=="vertical"?this.ke<this.Ga.offsetTop:this.ke>this.Ga.offsetLeft+this.Ga.offsetWidth;a=N(this.c());this.oa().h(a,"mouseup",this.wg,!0).h(this.c(),"mousemove",this.Lf);if(!this.Kb)this.Kb=new Wd(200),this.oa().h(this.Kb,Yd,this.xg);this.xg();this.Kb.start()}};s.hi=function(a){Oh(this,(a.detail>0?-1:1)*this.Sf);a.preventDefault()};
s.xg=function(){var a;if(this.M=="vertical"){var b=this.ke,c=this.Ga.offsetTop;this.Bg?b<c&&(a=Rh(this,this.Ga)+this.Cb):b>c+this.Ga.offsetHeight&&(a=Rh(this,this.Ga)-this.Cb)}else b=this.ke,c=this.Ga.offsetLeft,this.Bg?b>c+this.Ga.offsetWidth&&(a=Rh(this,this.Ga)+this.Cb):b<c&&(a=Rh(this,this.Ga)-this.Cb);v(a)&&Mh(this,this.Ga,a)};s.wg=function(){this.Kb&&this.Kb.stop();var a=N(this.c());this.oa().X(a,"mouseup",this.wg,!0).X(this.c(),"mousemove",this.Lf)};
function Sh(a,b){var c,d=a.c();c=Kc(b);d=Kc(d);c=new L(c.x-d.x,c.y-d.y);return a.M=="vertical"?c.y:c.x}s.Lf=function(a){this.ke=Sh(this,a)};function Ph(a,b){var c=a.ia(),d=a.pa();if(a.M=="vertical"){var f=a.R.offsetHeight,g=a.c().clientHeight-f,f=Sh(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.R.offsetWidth,g=a.c().clientWidth-f,f=Sh(a,b)-f/2,(d-c)*f/g+c}
function Rh(a,b){if(b==a.R)return a.z.p();else if(b==a.sa)return a.z.p()+a.z.hc();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function Oh(a,b){var c=Rh(a,a.R)+b,d=Rh(a,a.sa)+b,c=pb(c,a.ia(),a.pa()-a.yd),d=pb(d,a.ia()+a.yd,a.pa());Th(a,c,d-c)}function Mh(a,b,c){var d=m;b==a.sa&&c<=a.z.pa()&&c>=a.z.p()+a.yd&&(d=c-a.z.p());var f=d||a.z.hc();b==a.R&&c>=a.ia()&&c<=a.z.p()+f-a.yd&&(b=f-(c-a.z.p()),Ih(a.z,c)+Ih(a.z,b)==Ih(a.z,c+b)&&(Th(a,c,b),d=m));d!=m&&a.z.Gd(d)}
function Th(a,b,c){if(a.ia()<=b&&b<=a.pa()-c&&a.yd<=c&&c<=a.pa()-b&&!(b==a.p()&&c==a.hc()))a.z.Oc=!0,a.z.Gd(0),a.z.W(b),a.z.Gd(c),a.z.Oc=!1,Lh(a),a.dispatchEvent("change")}s.ia=function(){return this.z.ia()};s.Hf=function(a){this.z.Hf(a)};s.pa=function(){return this.z.pa()};s.ze=function(a){this.z.ze(a)};function Qh(a,b){return b<=a.z.p()+a.z.hc()/2?a.R:a.sa}s.ki=function(){Lh(this);Kh(this);this.dispatchEvent("change")};
function Lh(a){if(a.R&&!a.mf){var b=Uh(a,Rh(a,a.R)),c=Uh(a,Rh(a,a.sa));a.M=="vertical"?(a.R.style.top=b.y+"px",a.sa.style.top=c.y+"px"):(a.R.style.left=b.x+"px",a.sa.style.left=c.x+"px")}}function Uh(a,b){var c=new L;if(a.R){var d=a.ia(),f=a.pa(),d=b==d&&d==f?0:(b-d)/(f-d);a.M=="vertical"?(f=a.c().clientHeight-a.R.offsetHeight,c.y=f-Math.round(d*f)):c.x=Math.round(d*(a.c().clientWidth-a.R.offsetWidth))}return c}
function Nh(a,b){b=Math.min(a.pa(),Math.max(b,a.ia()));a.ld&&a.ld.stop(!0);var c=Qh(a,b),d=Uh(a,b),d=new Dh(c,a.M=="vertical"?[c.offsetLeft,d.y]:[d.x,c.offsetTop],100);a.ld=d;a.oa().h(d,"end",a.Vh);a.mf=!0;Mh(a,c,b);d.play(!1)}s.Vh=function(){this.mf=!1};
s.Ae=function(a){if(this.M!=a){var b=this.n(this.M),c=this.n(a);this.M=a;if(this.c()){for(var a=this.c(),d=$b(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Za(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.R.style.left=this.R.style.top="";this.sa.style.left=this.sa.style.top="";Lh(this)}}};
s.g=function(){Jh.b.g.call(this);this.Kb&&this.Kb.m();delete this.Kb;this.ld&&this.ld.m();delete this.ld;delete this.R;delete this.sa;this.z.m();delete this.z;this.J&&(this.J.m(),delete this.J);this.pc&&(this.pc.m(),delete this.pc);this.zc&&(this.zc.m(),delete this.zc);this.nd&&(this.nd.m(),delete this.nd)};s.Sf=1;s.p=function(){return this.z.p()};s.W=function(a){Mh(this,this.R,a)};s.hc=function(){return this.z.hc()};s.Gd=function(a){Mh(this,this.sa,this.z.p()+a)};
s.Fa=function(a){Pc(this.c(),a);a&&Lh(this)};function Kh(a){var b=a.c();b&&(Y(b,"valuemin",a.ia()),Y(b,"valuemax",a.pa()),Y(b,"valuenow",a.p()))};function Vh(a){Jh.call(this,a);this.z.Gd(0)}D(Vh,Jh);Vh.prototype.n=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function Wh(a,b){this.f=a;this.vc=new Vh;this.vc.Ae("vertical");this.vc.ze(400);Xh=!1;this.vc.W((V(this.f.d)-re(this.f))*400/this.f.la.ha.Ib());this.ja=R(this.vc,"change",function(b){Xh==!1&&qe(a.d,b.target.p()*(a.la.ha.Ib()-re(a))/400+re(a));Xh=!1});this.uj=R(this.f.d,je,this.tj,!1,this);this.Ie=new rh("");hg(this.Ie,"addzoom");this.Nf=new rh("");hg(this.Nf,"substractzoom");this.Bh=R(this.Ie,"action",function(){qe(a.d,Math.floor(V(a.d)+1))});this.ij=R(this.Nf,"action",function(){qe(a.d,Math.floor(V(a.d)-
1))});this.Ie.yb(O("addzoom"));this.Nf.yb(O("substractzoom"));this.vc.yb(b)}var Xh;D(Wh,E);Wh.prototype.tj=function(){Xh=!0;this.vc.W((V(this.f.d)-re(this.f))*400/this.f.la.ha.Ib())};Wh.prototype.g=function(){S(this.ja);S(this.uj);S(this.Bh);S(this.ij);this.vc.m()};function Yh(a,b){this.name="Bing Maps - "+a;var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;t[c]=v(t[c])?xg(z(this.gh,this),t[c]):z(this.gh,this);c=document.createElement("script");c.src=d;c.type="text/javascript";fc(document,"head",i,i)[0].appendChild(c)}D(Yh,nb);s=Yh.prototype;s.gh=function(a){this.xd=a;a.resourceSets.length>0&&(this.lb=a.resourceSets[0].resources[0]);this.hg()};s.Ze=function(){return w(this.lb)?0:this.lb.zoomMin};
s.Ib=function(){return w(this.lb)?18:this.lb.zoomMax};s.jc=r(256);function Zh(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}s.Ic=function(a,b,c){return w(this.lb)?"":this.lb.imageUrl.replace("{subdomain}",this.lb.imageUrlSubdomains[ob(this.lb.imageUrlSubdomains.length)]).replace("{quadkey}",Zh(a,b,c))};s.wf=function(a){return w(this.lb)?!1:Yh.b.wf.call(this,a)};s.Td=function(a){w(this.xd)||nc(a,this.xd.copyright)};s.Ye=function(){if(!w(this.xd))return this.xd.brandLogoUri;return m};
s.xd=m;s.lb=m;var $h=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function ai(a,b){var c;a instanceof ai?(this.$c(b==m?a.eb:b),bi(this,a.Sb),ci(this,a.Od),di(this,a.Fc),ei(this,a.Vc),fi(this,a.Tc),gi(this,a.kb.aa()),hi(this,a.od)):a&&(c=String(a).match($h))?(this.$c(!!b),bi(this,c[1]||"",!0),ci(this,c[2]||"",!0),di(this,c[3]||"",!0),ei(this,c[4]),fi(this,c[5]||"",!0),gi(this,c[6]||"",!0),hi(this,c[7]||"",!0)):(this.$c(!!b),this.kb=new ii(m,this,this.eb))}s=ai.prototype;s.Sb="";s.Od="";s.Fc="";s.Vc=m;s.Tc="";s.od="";s.ri=!1;s.eb=!1;
s.toString=function(){if(this.Ha)return this.Ha;var a=[];this.Sb&&a.push(ji(this.Sb,ki),":");if(this.Fc){a.push("//");this.Od&&a.push(ji(this.Od,ki),"@");var b;b=this.Fc;b=y(b)?encodeURIComponent(b):m;a.push(b);this.Vc!=m&&a.push(":",String(this.Vc))}this.Tc&&(this.Fc&&this.Tc.charAt(0)!="/"&&a.push("/"),a.push(ji(this.Tc,li)));(b=String(this.kb))&&a.push("?",b);this.od&&a.push("#",ji(this.od,mi));return this.Ha=a.join("")};
s.aa=function(){var a=this.Sb,b=this.Od,c=this.Fc,d=this.Vc,f=this.Tc,g=this.kb.aa(),h=this.od,j=new ai(m,this.eb);a&&bi(j,a);b&&ci(j,b);c&&di(j,c);d&&ei(j,d);f&&fi(j,f);g&&gi(j,g);h&&hi(j,h);return j};function bi(a,b,c){ni(a);delete a.Ha;a.Sb=c?b?decodeURIComponent(b):"":b;if(a.Sb)a.Sb=a.Sb.replace(/:$/,"")}function ci(a,b,c){ni(a);delete a.Ha;a.Od=c?b?decodeURIComponent(b):"":b}function di(a,b,c){ni(a);delete a.Ha;a.Fc=c?b?decodeURIComponent(b):"":b}
function ei(a,b){ni(a);delete a.Ha;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.Vc=b):a.Vc=m}function fi(a,b,c){ni(a);delete a.Ha;a.Tc=c?b?decodeURIComponent(b):"":b}function gi(a,b,c){ni(a);delete a.Ha;b instanceof ii?(a.kb=b,a.kb.Nd=a,a.kb.$c(a.eb)):(c||(b=ji(b,oi)),a.kb=new ii(b,a,a.eb))}function pi(a,b,c){ni(a);delete a.Ha;x(c)||(c=[String(c)]);a=a.kb;qi(a);ri(a);b=si(a,b);if(a.Gb(b)){var d=a.C.get(b);x(d)?a.v-=d.length:a.v--}c.length>0&&(a.C.set(b,c),a.v+=c.length)}
function hi(a,b,c){ni(a);delete a.Ha;a.od=c?b?decodeURIComponent(b):"":b}function ni(a){a.ri&&e(Error("Tried to modify a read-only Uri"))}s.$c=function(a){this.eb=a;this.kb&&this.kb.$c(a);return this};var ti=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function ji(a,b){var c=m;y(a)&&(c=a,ti.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,ui)));return c}function ui(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ki=/[#\/\?@]/g,li=/[\#\?]/g,oi=/[\#\?@]/g,mi=/#/g;
function ii(a,b,c){this.rb=a||m;this.Nd=b||m;this.eb=!!c}function qi(a){if(!a.C&&(a.C=new jb,a.rb))for(var b=a.rb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=si(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}s=ii.prototype;s.C=m;s.v=m;s.We=function(){qi(this);return this.v};
s.add=function(a,b){qi(this);ri(this);a=si(this,a);if(this.Gb(a)){var c=this.C.get(a);x(c)?c.push(b):this.C.set(a,[c,b])}else this.C.set(a,b);this.v++;return this};s.remove=function(a){qi(this);a=si(this,a);if(this.C.Gb(a)){ri(this);var b=this.C.get(a);x(b)?this.v-=b.length:this.v--;return this.C.remove(a)}return!1};s.clear=function(){ri(this);this.C&&this.C.clear();this.v=0};s.Gb=function(a){qi(this);a=si(this,a);return this.C.Gb(a)};
s.ic=function(){qi(this);for(var a=this.C.Jb(),b=this.C.ic(),c=[],d=0;d<b.length;d++){var f=a[d];if(x(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};s.Jb=function(a){qi(this);if(a)if(a=si(this,a),this.Gb(a)){var b=this.C.get(a);if(x(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.C.Jb(),a=[],c=0;c<b.length;c++){var d=b[c];x(d)?Ya(a,d):a.push(d)}return a};
s.set=function(a,b){qi(this);ri(this);a=si(this,a);if(this.Gb(a)){var c=this.C.get(a);x(c)?this.v-=c.length:this.v--}this.C.set(a,b);this.v++;return this};s.get=function(a,b){qi(this);a=si(this,a);if(this.Gb(a)){var c=this.C.get(a);return x(c)?c[0]:c}else return b};
s.toString=function(){if(this.rb)return this.rb;if(!this.C)return"";for(var a=[],b=0,c=this.C.ic(),d=0;d<c.length;d++){var f=c[d],g=Fa(f),f=this.C.get(f);if(x(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Fa(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Fa(f)),b++}return this.rb=a.join("")};function ri(a){delete a.Oe;delete a.rb;a.Nd&&delete a.Nd.Ha}
s.aa=function(){var a=new ii;if(this.Oe)a.Oe=this.Oe;if(this.rb)a.rb=this.rb;if(this.C)a.C=this.C.aa();return a};function si(a,b){var c=String(b);a.eb&&(c=c.toLowerCase());return c}s.$c=function(a){a&&!this.eb&&(qi(this),ri(this),eb(this.C,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.eb=a};function vi(a,b){this.Nd=new ai(a);this.Oh=b?b:"callback";this.Jd=5E3}var wi=0;
vi.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(wi++).toString(36)+A().toString(36);t._callbacks_||(t._callbacks_={});var f=document.createElement("script"),g=m;this.Jd>0&&(g=t.setTimeout(xi(d,f,a,c),this.Jd));c=this.Nd.aa();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&pi(c,h,a[h]);b&&(t._callbacks_[d]=yi(d,f,b,g),pi(c,this.Oh,"_callbacks_."+d));hc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Oa:d,Jd:g}};vi.prototype.cancel=function(a){if(a&&a.Oa){var b=O(a.Oa);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.Oa]=="function"&&(a.Jd&&t.clearTimeout(a.Jd),zi(a.Oa,b,!1))}};function xi(a,b,c,d){return function(){zi(a,b,!1);d&&d(c)}}function yi(a,b,c,d){return function(){t.clearTimeout(d);zi(a,b,!0);c.apply(i,arguments)}}function zi(a,b,c){t.setTimeout(function(){pc(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function Ai(a,b){this.qj=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Ad=b||{};this.Gg=new vi(this.qj,"json_callback")}
function Bi(a,b,c,d){a.Ad.q=b;a.Ad.format="json";a.Ad.addressdetails=1;a.Ad.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.Oi=b;if(!(c>1&&b===a.Oi))a.dh!==m&&a.Gg.cancel(a.dh),a.dh=a.Gg.send(a.Ad,function(a){var c=Qa(a,function(a){return a["class"]=="place"});c.length>0?(G(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};function Ci(a,b,c,d){E.call(this);this.Z=a||document.body;this.P=M(this.Z);this.aj=!a;this.e=m;this.Ta="";this.ka=[];this.jh=this.he=-1;this.r=!1;this.className="ac-renderer";this.Ef="ac-row";this.Kg="active";this.Yf="ac-active";this.mi="ac-highlighted";this.Dc=b||m;this.rj=d!=m?d:!0;this.lf=!1;this.cj=c!=m?c:!1;this.qf=m;this.Ee=!1;this.oe=0}D(Ci,T);s=Ci.prototype;s.c=n("e");s.Df=function(a,b,c){this.Ta=b;this.ka=a;this.he=-1;this.jh=A();this.fa=c;this.Dd=[];Di(this)};
s.qb=function(){this.fa&&Y(this.fa,"activedescendant","");if(this.r)this.r=!1,this.oe>0?(new Fh(this.e,this.oe)).play():Pc(this.e,!1)};s.show=function(){if(!this.r)this.r=!0,this.oe>0?(new Gh(this.e,this.oe)).play():Pc(this.e,!0)};
function Ei(a,b){Fi(a);a.he=b;if(b>=0&&b<a.e.childNodes.length){var c=a.Dd[b];ac(c,a.Yf,a.Kg);a.fa&&Y(a.fa,"activedescendant",c?c.id:"");var d=a.e,f=Ic(c),g=Ic(d),h;if(H){var j=Tc(d,"borderLeft");h=Tc(d,"borderRight");var k=Tc(d,"borderTop"),l=Tc(d,"borderBottom");h=new Vb(k,h,l,j)}else j=Ac(d,"borderLeftWidth"),h=Ac(d,"borderRightWidth"),k=Ac(d,"borderTopWidth"),l=Ac(d,"borderBottomWidth"),h=new Vb(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j));j=f.x-g.x-h.left;f=f.y-g.y-h.top;g=d.clientHeight-
c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function Fi(a){a.he>=0&&bc(a.Dd[a.he],a.Yf,a.Kg)}s.Na=function(a){if(a==-1)Ei(this,-1);else for(var b=0;b<this.ka.length;b++)if(this.ka[b].id==a){Ei(this,b);break}};
function Gi(a){if(!a.e){var b=a.P.o("div",{style:"display:none"});a.e=b;ac(b,a.className);Pf(b,"listbox");b.id=Jd(Id.ua());a.fa&&(Pf(a.fa,"combobox"),Y(a.fa,"autocomplete","list"),Y(a.fa,"haspopup",!0));a.P.appendChild(a.Z,b);R(b,"click",a.sg,!1,a);R(b,"mousedown",a.fe,!1,a);R(a.P.A,"mousedown",a.ug,!1,a);R(b,"mouseover",a.vg,!1,a)}}
function Di(a){Gi(a);if(a.Ee)a.e.style.visibility="hidden";a.Dd.length=0;a.P.ah(a.e);if(a.Dc&&a.Dc.yb)a.Dc.yb(a);else{var b=m;ib(a.ka,function(a){var d=this.Ta,f=this.P.o("div",{className:this.Ef,id:Jd(Id.ua())});Pf(f,"option");this.Dc&&this.Dc.bh?this.Dc.bh(a,d,f):f.innerHTML=Ga(a.data.toString());d&&this.rj&&Hi(this,f,d);ac(f,this.Ef);this.Dd.push(f);a=f;this.Ee?this.e.insertBefore(a,b):this.P.appendChild(this.e,a);b=a},a)}a.ka.length==0?a.qb():(a.show(),Ii(a.e),a.rc(),Rc(a.e,!0))}
s.rc=function(){if(this.fa&&this.aj){var a=Ic(this.fa),b=Nc(this.fa),c=Nc(Ec(this.fa)),d=Nc(this.e);a.y=this.Ee?a.y-d.height:a.y+b.height;(this.cj||a.x+d.width>c.width)&&this.qf!="LEFT"?(a.x=a.x+b.width-d.width,this.qf="RIGHT"):this.qf="LEFT";Lc(this.e,a);if(this.Ee)this.e.style.visibility="visible"}};
s.g=function(){Ci.b.g.call(this);if(this.e)yd(this.e,"click",this.sg,!1,this),yd(this.e,"mousedown",this.fe,!1,this),yd(this.P.A,"mousedown",this.ug,!1,this),yd(this.e,"mouseover",this.vg,!1,this),this.P.removeNode(this.e),this.e=m,this.r=!1;delete this.Z};function Ii(a){if(I&&Ab)a.style.width="",a.style.overflow="visible",a.style.width=a.offsetWidth,a.style.overflow="auto"}
function Hi(a,b,c){if(b.nodeType==3){var d=m;x(c)&&c.length>1&&!a.lf&&(d=$a(c,1));c=Ji(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.lf?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.P.createElement("b"),h.className=a.mi,a.P.appendChild(h,a.P.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.P.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=$a(c,d*3);b.nodeValue=a.join("")}else d&&Hi(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Hi(a,b,c),b=d}function Ji(a,b){var c="";if(!b)return c;a.lf?x(b)?(c=Qa(b,function(a){return!/^[\s\xa0]*$/.test(a==m?"":String(a))}),c=Ra(c,Ma),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ma(c),c=c.replace(/ /g,"|")):c=x(b)?b.length>0?Ma(b[0]):"":Ma(b);return c}
function Ki(a,b){for(;b&&b!=a.e&&!Ua($b(b),a.Ef);)b=b.parentNode;return b?Pa(a.Dd,b):-1}s.sg=function(a){var b=Ki(this,a.target);b>=0&&this.dispatchEvent({type:wf,Yc:this.ka[b].id});a.stopPropagation()};s.fe=function(a){this.dispatchEvent(xf);a.stopPropagation();a.preventDefault()};s.ug=function(a){this.fa==a.target?(Fi(this),a.stopPropagation()):this.dispatchEvent(yf)};s.vg=function(a){a=Ki(this,a.target);a>=0&&!(A()-this.jh<300)&&this.dispatchEvent({type:vf,Yc:this.ka[a].id})};function Gf(a){var b;a:{var c=0,d=0;if(If(a))c=a.selectionStart,d=-1;else if(H){var f=Jf(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Jf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Kf(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function If(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};function Li(a,b,c,d){E.call(this);d=d||150;this.Ed=a!=m?a:Mi;this.Th=this.Ed.substring(0,1);a=this.Nc?"[\\s"+this.Ed+"]+":"[\\s]+";this.sh=RegExp("^"+a+"|"+a+"$","g");this.fj=RegExp("\\s*["+this.Ed+"]$");this.Mg=b||"";this.Zi=this.Nc=c!=m?c:!0;this.s=d>0?new Wd(d):m;this.ma=new Ed(this);this.He=new Ed(this);this.J=new $f;this.Ig=-1}D(Li,E);var Mi=",;";s=Li.prototype;s.sj=!0;s.Zh=!0;s.uh=!1;s.hj=!0;s.gj=!0;s.K=m;s.uf="";s.Zb=!1;s.Ff=!1;s.th=!0;s.p=function(){return this.K.value};
s.W=function(a){this.K.value=a};s.Ke=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];Y(b,"haspopup",!0);this.ma.h(b,"focus",this.kc);this.ma.h(b,"blur",this.tb);this.K||this.He.h(b,"keydown",this.Si)}};s.g=function(){Li.b.g.call(this);this.ma.m();delete this.ma;this.He.m();this.J.m()};function Ni(a){a.s?a.s.setInterval(300):a.s=new Wd(300)}
s.Ma=function(a){switch(a.keyCode){case 40:if(this.I.gb())return this.uh?Df(this.I):Cf(this.I),a.preventDefault(),!0;else if(!this.Nc)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.I.gb())return this.uh?Cf(this.I):Df(this.I),a.preventDefault(),!0;break;case 9:if(this.I.gb()&&!a.shiftKey){if(this.update(),zf(this.I)&&this.Zi)return a.preventDefault(),!0}else this.I.qb();break;case 13:if(this.I.gb()){if(this.update(),zf(this.I))return a.preventDefault(),a.stopPropagation(),!0}else this.I.qb();
break;case 27:if(this.I.gb())return this.I.qb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.Zb){if(!this.Zb)this.ma.h(this.K,"keyup",this.Wg),this.ma.h(this.K,"keypress",this.Vg),this.Zb=!0;return!0}break;default:this.s&&!this.th&&(this.s.stop(),this.s.start())}return Oi(this,a)};function Oi(a,b){var c=a.Nc&&b.charCode&&a.Ed.indexOf(String.fromCharCode(b.charCode))!=-1;a.hj&&c&&a.update();if(a.gj&&c&&zf(a.I))return b.preventDefault(),!0;return!1}s.ei=r(!1);
s.kc=function(a){Hd(this.He);this.I&&Af(this.I);if(a.target!=this.K)this.K=a.target||m,this.s&&(this.s.start(),this.ma.h(this.s,Yd,this.Sc)),this.uf=this.p(),this.J.kd(this.K),this.ma.h(this.J,"key",this.Xg),H&&this.ma.h(this.K,"keypress",this.Ug)};s.tb=function(){if(this.K)this.ma.X(this.J,"key",this.Xg),this.J.detach(),this.ma.X(this.K,"keyup",this.ei),H&&this.ma.X(this.K,"keypress",this.Ug),this.Zb&&Pi(this),this.K=m,this.s&&(this.s.stop(),this.ma.X(this.s,Yd,this.Sc)),this.I&&Bf(this.I)};
s.Sc=function(){this.update()};s.Si=function(a){this.kc(a)};s.Xg=function(a){this.Ig=a.keyCode;this.I&&this.Ma(a)};s.Vg=function(){this.Zb&&this.Ig!=229&&Pi(this)};s.Wg=function(a){this.Zb&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Pi(this)};function Pi(a){if(a.Zb)a.Zb=!1,a.ma.X(a.K,"keypress",a.Vg),a.ma.X(a.K,"keyup",a.Wg)}s.Ug=function(a){Oi(this,a)};
s.update=function(a){if(a||this.K&&this.p()!=this.uf){if(a||!this.Ff){var a=Gf(this.K),b=this.p(),a=Hf(this,b)[Ff(this,b,a)],a=this.sh?String(a).replace(this.sh,""):a;if(this.I&&(this.I.fa=this.K,b=this.I,this.p(),b.Ta!=a))b.Ta=a,Bi(b.wd,b.Ta,b.wi,z(b.ui,b)),Af(b)}this.uf=this.p()}this.Ff=!1};function Ff(a,b,c){a=Hf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++)f+=a[d].length,b=d;return b}
function Hf(a,b){if(!a.Nc)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.Mg&&a.Mg.indexOf(c[g])!=-1){if(a.Zh&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.Ed.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function Qi(a,b,c){var d=new Ci(m,{bh:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.wd=new Ai(b,c);b=new Li(m,m,!1);Ni(b);b.th=!1;b.I=this;b.Ke(a);uf.call(this,this.wd,d,b);this.addEventListener("update",function(b){a.value=b.Yc.display_name})}D(Qi,uf);Qi.prototype.search=function(a,b,c){Bi(this.wd,a,b,c)};function Ri(a){w(a)||function(){this.a=new Ke(a,O("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});Le(this.a);this.Og=new Wd(15);R(this.Og,Yd,z(function(){var a=this.a,b=a.ca;if(!w(a.Ue)){var c=A();if(a.sf<A()-2E3)a.Te=1E3*a.ae/(A()-a.sf),a.ag=a.Ve/a.ae,a.sf=A(),a.ae=0,a.Ve=0,a.Ue.innerHTML=a.ag.toFixed(2)+" ms / fps: "+a.Te.toFixed(2);a.ae++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.Rb.ib=xe(4);a.j.Re();!w(a.Ue)&&(a.Ve+=A()-c);a=this.xf;G(a.yf.ic(),
a.pj,a)},this));this.a.j=new qf(this.a,O("weapp-infobox"),O("weapp-mapcopyright"),O("weapp-maplogo"));this.a.we();this.yj=new tf(this.a.j);this.Cj=new pg(this.a.j);this.oj=new qh(this.a.j,O("weapp-tileprovider"));this.Dj=new Wh(this.a.j,O("weapp-zoomslider"));this.Aj=new mg(this.a.j,O("weapp-pancontrol"));var b=O("weapp-nominatim");this.Tg=new Qi(b);this.xf=new Mf(this.a.j,a.parentNode);var c=new qg(0,0);c.enable(!1);Nf(this.xf,"nominatimMarker",c);var d=z(function(a){this.a.j.d.Wb(rb(a.lat),rb(a.lon));
this.a.j.d.ed=0;c.enable(!0);c.Jg=a.lat;c.Ng=a.lon},this);this.Tg.addEventListener("update",function(a){d(a.Yc)});R(O("weapp-nominatimform"),"submit",z(function(a){a.preventDefault();this.Tg.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=z(function(){function a(c){c+="=";var d=Ta(b,function(a){return a.indexOf(c)===0});if(d!=m&&(d=d.substr(c.length),d.length>0))return d}var b=window.location.hash.substr(1).split(";"),c=a("zoom")||a("z");isNaN(c)||qe(this.a.j.d,c);c=a("alt");isNaN(c)||
me(this.a.j.d,c);c=a("t");if(!isNaN(c))this.a.j.d.ed=parseFloat(c);c=a("h");if(!isNaN(c))this.a.j.d.sd=parseFloat(c);c=a("ll");if(c!=m)c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.a.j.d.Wb(rb(c[0]),rb(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.a.j.d.Wb(rb(c),rb(d))}},this);this.zg=new Wd(2E3);R(this.zg,Yd,z(function(){var a=[this.a.j.d.Pa*180/Math.PI,this.a.j.d.hb*180/Math.PI],a="#ll="+a[0].toFixed(5)+","+a[1].toFixed(5)+(this.a.j.d.Q?";alt="+oe(this.a.j.d).toFixed(0):
";z="+V(this.a.j.d).toFixed(2))+";h="+this.a.j.d.sd.toFixed(3)+";t="+this.a.j.d.ed.toFixed(3);window.location.hash=a},this));this.zg.start();window.addEventListener("hashchange",f,!1);f();R(this.a.canvas,"click",z(function(a){if(a.ctrlKey){var b=se(this.a.j,a.offsetX,a.offsetY);Nf(this.xf,m,new qg(b[0],b[1]));a.preventDefault()}},this));R(window.document,"keydown",function(a){if(a.keyCode==70&&a.ctrlKey)this.Q=!this.Q,a.preventDefault()},!1,this.a.j.d)}.call(this)}Ri.prototype.$b=function(a){this.oj.$b(a)};
Ri.prototype.start=function(){this.Og.start()};function Si(){var a=new Ri(O("weapp-canvas"));a.$b(new Ue);a.$b(new Te);a.$b(new Yh("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.$b(new Yh("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.$b(new Yh("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.start()}var Ti="WEApp".split("."),Ui=t;!(Ti[0]in Ui)&&Ui.execScript&&Ui.execScript("var "+Ti[0]);
for(var Vi;Ti.length&&(Vi=Ti.shift());)!Ti.length&&v(Si)?Ui[Vi]=Si:Ui=Ui[Vi]?Ui[Vi]:Ui[Vi]={};
