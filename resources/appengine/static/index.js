/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=true,j=null,l=false;function aa(){return function(){}}function p(a){return function(){return this[a]}}function q(a){return function(){return a}}var t,u=this;function v(){}function w(a){a.fa=function(){return a.lg||(a.lg=new a)}}
function ba(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function x(a){return a===j}function y(a){return ba(a)=="array"}function ca(a){var b=ba(a);return b=="array"||b=="object"&&typeof a.length=="number"}function z(a){return typeof a=="string"}function da(a){return typeof a=="number"}function ea(a){return ba(a)=="function"}function fa(a){a=ba(a);return a=="object"||a=="array"||a=="function"}function A(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){var c=b||u;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}}
function C(){C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return C.apply(j,arguments)}function ka(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var E=Date.now||function(){return+new Date};function F(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function G(){if(la)ma[A(this)]=this}var la=l,ma={};G.prototype.qd=l;G.prototype.s=function(){if(!this.qd){this.qd=i;this.g();if(la){var a=A(this);ma.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete ma[a]}}};G.prototype.g=aa();function na(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.I=d||0;this.Kb=j;this.state=oa}F(na,G);function qa(a){return a.zoom+"_"+a.x+"_"+a.y}na.prototype.g=function(){delete this.Kb};var oa=0;function ra(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ua(a){for(var b in a)return l;return i}var va=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function wa(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<va.length;f++){b=va[f];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function xa(){var a=arguments.length;if(a==1&&y(arguments[0]))return xa.apply(j,arguments[0]);a%2&&e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var za=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Aa(a){a=String(a);if(!za.test(a))return encodeURIComponent(a);return a}function Ba(a){if(!Ca.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Da,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ea,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Fa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ga,"&quot;");return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ia(a,b){for(var c=0,d=ya(String(a)).split("."),f=ya(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var k=d[h]||"",m=f[h]||"",n=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var o=n.exec(k)||["","",""],r=s.exec(m)||["","",""];if(o[0].length==0&&r[0].length==0)break;c=Ja(o[1].length==0?0:parseInt(o[1],10),r[1].length==0?0:parseInt(r[1],10))||Ja(o[2].length==0,r[2].length==0)||Ja(o[2],r[2])}while(c==0)}return c}
function Ja(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var H=Array.prototype,Ka=H.indexOf?function(a,b,c){return H.indexOf.call(a,b,c)}:function(a,b,c){c=c==j?0:c<0?Math.max(0,a.length+c):c;if(z(a)){if(!z(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=H.forEach?function(a,b,c){H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Ma=H.filter?function(a,b,c){return H.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],
g=0,h=z(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];if(b.call(c,m,k,a))f[g++]=m}return f},Na=H.map?function(a,b,c){return H.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=z(a)?a.split(""):a,h=0;h<d;h++)if(h in g)f[h]=b.call(c,g[h],h,a);return f},Oa=H.every?function(a,b,c){return H.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return i};
function Pa(a,b){var c;a:{c=a.length;for(var d=z(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(void 0,d[f],f,a)){c=f;break a}c=-1}return c<0?j:z(a)?a.charAt(c):a[c]}function Qa(a,b){var c=Ra(a,b,void 0);return c<0?j:z(a)?a.charAt(c):a[c]}function Ra(a,b,c){for(var d=z(a)?a.split(""):a,f=a.length-1;f>=0;f--)if(f in d&&b.call(c,d[f],f,a))return f;return-1}function Sa(a,b){return Ka(a,b)>=0}function Ta(a,b){var c=Ka(a,b);c>=0&&H.splice.call(a,c,1)}function Ua(){return H.concat.apply(H,arguments)}
function Va(a){if(y(a))return Ua(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Wa(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(y(c)||(d=ca(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Xa(a){H.splice.apply(a,Ya(arguments,1))}function Ya(a,b,c){return arguments.length<=2?H.slice.call(a,b):H.slice.call(a,b,c)}function Za(a,b){H.sort.call(a,b||$a)}
function $a(a,b){return a>b?1:a<b?-1:0}function ab(a,b,c){var d;c=c||$a;for(var f=0,g=a.length;f<g;){var h=f+g>>1,k;k=c(b,a[h]);if(k>0)f=h+1;else{g=h;d=!k}}d=d?f:~f;d<0&&Xa(a,-(d+1),0,b)}function bb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];y(c)?a.push.apply(a,bb.apply(j,c)):a.push(c)}return a};var cb="StopIteration"in u?u.StopIteration:Error("StopIteration");function db(){}db.prototype.next=function(){e(cb)};db.prototype.ed=function(){return this};function eb(a){if(a instanceof db)return a;if(typeof a.ed=="function")return a.ed(l);if(ca(a)){var b=0,c=new db;c.next=function(){for(;;){b>=a.length&&e(cb);if(b in a)return a[b++];else b++}};return c}e(Error("Not implemented"))}
function fb(a,b,c){if(ca(a))try{La(a,b,c)}catch(d){d!==cb&&e(d)}else{a=eb(a);try{for(;;)b.call(c,a.next(),undefined,a)}catch(f){f!==cb&&e(f)}}};function gb(a){if(typeof a.Sa=="function")return a.Sa();if(z(a))return a.split("");if(ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return sa(a)}function hb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ca(a)||z(a))La(a,b,c);else{var d;if(typeof a.nb=="function")d=a.nb();else if(typeof a.Sa!="function")if(ca(a)||z(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=ta(a);else d=void 0;f=gb(a);g=f.length;for(var h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function ib(a){this.qa={};this.l=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.sa(arguments[c],arguments[c+1])}else if(a){if(a instanceof ib){b=a.nb();c=a.Sa()}else{b=ta(a);c=sa(a)}for(var d=0;d<b.length;d++)this.sa(b[d],c[d])}}t=ib.prototype;t.k=0;t.Dc=0;t.zd=p("k");t.Sa=function(){jb(this);for(var a=[],b=0;b<this.l.length;b++)a.push(this.qa[this.l[b]]);return a};t.nb=function(){jb(this);return this.l.concat()};
t.Qa=function(a){return kb(this.qa,a)};t.ud=function(a,b){if(this===a)return i;if(this.k!=a.zd())return l;var c=b||lb;jb(this);for(var d,f=0;d=this.l[f];f++)if(!c(this.get(d),a.get(d)))return l;return i};function lb(a,b){return a===b}t.clear=function(){this.qa={};this.Dc=this.k=this.l.length=0};t.remove=function(a){if(kb(this.qa,a)){delete this.qa[a];this.k--;this.Dc++;this.l.length>2*this.k&&jb(this);return i}return l};
function jb(a){if(a.k!=a.l.length){for(var b=0,c=0;b<a.l.length;){var d=a.l[b];if(kb(a.qa,d))a.l[c++]=d;b++}a.l.length=c}if(a.k!=a.l.length){var f={};for(c=b=0;b<a.l.length;){d=a.l[b];if(!kb(f,d)){a.l[c++]=d;f[d]=1}b++}a.l.length=c}}t.get=function(a,b){if(kb(this.qa,a))return this.qa[a];return b};t.sa=function(a,b){if(!kb(this.qa,a)){this.k++;this.l.push(a);this.Dc++}this.qa[a]=b};t.aa=function(){return new ib(this)};
t.ed=function(a){jb(this);var b=0,c=this.l,d=this.qa,f=this.Dc,g=this,h=new db;h.next=function(){for(;;){f!=g.Dc&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(cb);var k=c[b++];return a?k:d[k]}};return h};function kb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function mb(a){this.name=a}t=mb.prototype;t.Dd=q(0);t.zf=v;t.ic=0;t.Wd=function(a){a.Kb=new Image;a.Kb.onload=function(b){return function(){a.state=20;b.ic--;b.zf(a)}}(this);a.Kb.onerror=function(b){return function(){a.state=-10;b.ic--}}(this);a.state=10;a.Kb.src=this.Fd(a.zoom,a.x,a.y);this.ic++;return i};t.Ic=aa();t.Bd=q(j);t.xe=v;function nb(a,b){var c=a%b;return c*b<0?c+b:c};var ob=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function pb(a,b){var c;if(a instanceof pb){this.Wb(b==j?a.ya:b);qb(this,a.ab);rb(this,a.Cc);sb(this,a.Gb);tb(this,a.Sb);vb(this,a.Qb);wb(this,a.Ca.aa());xb(this,a.fc)}else if(a&&(c=String(a).match(ob))){this.Wb(!!b);qb(this,c[1]||"",i);rb(this,c[2]||"",i);sb(this,c[3]||"",i);tb(this,c[4]);vb(this,c[5]||"",i);wb(this,c[6]||"",i);xb(this,c[7]||"",i)}else{this.Wb(!!b);this.Ca=new yb(j,this,this.ya)}}t=pb.prototype;t.ab="";t.Cc="";t.Gb="";t.Sb=j;t.Qb="";t.fc="";t.mg=l;t.ya=l;
t.toString=function(){if(this.ma)return this.ma;var a=[];this.ab&&a.push(zb(this.ab,Ab),":");if(this.Gb){a.push("//");this.Cc&&a.push(zb(this.Cc,Ab),"@");var b;b=this.Gb;b=z(b)?encodeURIComponent(b):j;a.push(b);this.Sb!=j&&a.push(":",String(this.Sb))}if(this.Qb){this.Gb&&this.Qb.charAt(0)!="/"&&a.push("/");a.push(zb(this.Qb,Bb))}(b=String(this.Ca))&&a.push("?",b);this.fc&&a.push("#",zb(this.fc,Cb));return this.ma=a.join("")};
t.aa=function(){var a=this.ab,b=this.Cc,c=this.Gb,d=this.Sb,f=this.Qb,g=this.Ca.aa(),h=this.fc,k=new pb(j,this.ya);a&&qb(k,a);b&&rb(k,b);c&&sb(k,c);d&&tb(k,d);f&&vb(k,f);g&&wb(k,g);h&&xb(k,h);return k};function qb(a,b,c){Db(a);delete a.ma;a.ab=c?b?decodeURIComponent(b):"":b;if(a.ab)a.ab=a.ab.replace(/:$/,"")}function rb(a,b,c){Db(a);delete a.ma;a.Cc=c?b?decodeURIComponent(b):"":b}function sb(a,b,c){Db(a);delete a.ma;a.Gb=c?b?decodeURIComponent(b):"":b}
function tb(a,b){Db(a);delete a.ma;if(b){b=Number(b);if(isNaN(b)||b<0)e(Error("Bad port number "+b));a.Sb=b}else a.Sb=j}function vb(a,b,c){Db(a);delete a.ma;a.Qb=c?b?decodeURIComponent(b):"":b}function wb(a,b,c){Db(a);delete a.ma;if(b instanceof yb){a.Ca=b;a.Ca.Bc=a;a.Ca.Wb(a.ya)}else{c||(b=zb(b,Eb));a.Ca=new yb(b,a,a.ya)}return a}
function Fb(a,b,c){Db(a);delete a.ma;y(c)||(c=[String(c)]);a=a.Ca;Gb(a);Hb(a);b=Ib(a,b);if(a.Qa(b)){var d=a.t.get(b);if(y(d))a.k-=d.length;else a.k--}if(c.length>0){a.t.sa(b,c);a.k+=c.length}}function xb(a,b,c){Db(a);delete a.ma;a.fc=c?b?decodeURIComponent(b):"":b}function Db(a){a.mg&&e(Error("Tried to modify a read-only Uri"))}t.Wb=function(a){this.ya=a;this.Ca&&this.Ca.Wb(a);return this};var Jb=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;
function zb(a,b){var c=j;if(z(a)){c=a;Jb.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,Kb)}return c}function Kb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ab=/[#\/\?@]/g,Bb=/[\#\?]/g,Eb=/[\#\?@]/g,Cb=/#/g;function yb(a,b,c){this.Ja=a||j;this.Bc=b||j;this.ya=!!c}
function Gb(a){if(!a.t){a.t=new ib;if(a.Ja)for(var b=a.Ja.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=j,g=j;if(d>=0){f=b[c].substring(0,d);g=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Ib(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}t=yb.prototype;t.t=j;t.k=j;t.zd=function(){Gb(this);return this.k};
t.add=function(a,b){Gb(this);Hb(this);a=Ib(this,a);if(this.Qa(a)){var c=this.t.get(a);y(c)?c.push(b):this.t.sa(a,[c,b])}else this.t.sa(a,b);this.k++;return this};t.remove=function(a){Gb(this);a=Ib(this,a);if(this.t.Qa(a)){Hb(this);var b=this.t.get(a);if(y(b))this.k-=b.length;else this.k--;return this.t.remove(a)}return l};t.clear=function(){Hb(this);this.t&&this.t.clear();this.k=0};t.Qa=function(a){Gb(this);a=Ib(this,a);return this.t.Qa(a)};
t.nb=function(){Gb(this);for(var a=this.t.Sa(),b=this.t.nb(),c=[],d=0;d<b.length;d++){var f=a[d];if(y(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};t.Sa=function(a){Gb(this);if(a){a=Ib(this,a);if(this.Qa(a)){var b=this.t.get(a);if(y(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.t.Sa();a=[];for(var c=0;c<b.length;c++){var d=b[c];y(d)?Wa(a,d):a.push(d)}}return a};
t.sa=function(a,b){Gb(this);Hb(this);a=Ib(this,a);if(this.Qa(a)){var c=this.t.get(a);if(y(c))this.k-=c.length;else this.k--}this.t.sa(a,b);this.k++;return this};t.get=function(a,b){Gb(this);a=Ib(this,a);if(this.Qa(a)){var c=this.t.get(a);return y(c)?c[0]:c}else return b};
t.toString=function(){if(this.Ja)return this.Ja;if(!this.t)return"";for(var a=[],b=0,c=this.t.nb(),d=0;d<c.length;d++){var f=c[d],g=Aa(f);f=this.t.get(f);if(y(f))for(var h=0;h<f.length;h++){b>0&&a.push("&");a.push(g);f[h]!==""&&a.push("=",Aa(f[h]));b++}else{b>0&&a.push("&");a.push(g);f!==""&&a.push("=",Aa(f));b++}}return this.Ja=a.join("")};function Hb(a){delete a.od;delete a.Ja;a.Bc&&delete a.Bc.ma}
t.aa=function(){var a=new yb;if(this.od)a.od=this.od;if(this.Ja)a.Ja=this.Ja;if(this.t)a.t=this.t.aa();return a};function Ib(a,b){var c=String(b);if(a.ya)c=c.toLowerCase();return c}t.Wb=function(a){if(a&&!this.ya){Gb(this);Hb(this);hb(this.t,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.ya=a};var Lb;function Mb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Nb(a){var b=Mb(a),c;c=Ya(arguments,1);for(var d=0,f=0;f<c.length;f++)if(!Sa(b,c[f])){b.push(c[f]);d++}c=d==c.length;a.className=b.join(" ");return c}function Ob(a){var b=Mb(a),c;c=Ya(arguments,1);for(var d=0,f=0;f<b.length;f++)if(Sa(c,b[f])){Xa(b,f--,1);d++}c=d==c.length;a.className=b.join(" ");return c};var Pb,Qb,Rb,Sb,Tb,Ub,Vb;function Wb(){return u.navigator?u.navigator.userAgent:j}function Xb(){return u.navigator}Tb=Sb=Rb=Qb=Pb=l;var Yb;if(Yb=Wb()){var Zb=Xb();Pb=Yb.indexOf("Opera")==0;Qb=!Pb&&Yb.indexOf("MSIE")!=-1;Sb=(Rb=!Pb&&Yb.indexOf("WebKit")!=-1)&&Yb.indexOf("Mobile")!=-1;Tb=!Pb&&!Rb&&Zb.product=="Gecko"}var $b=Pb,I=Qb,J=Tb,L=Rb,ac=Sb,bc,cc=Xb();bc=cc&&cc.platform||"";Ub=bc.indexOf("Mac")!=-1;Vb=bc.indexOf("Win")!=-1;var dc=!!Xb()&&(Xb().appVersion||"").indexOf("X11")!=-1,ec;
a:{var fc="",gc;if($b&&u.opera){var hc=u.opera.version;fc=typeof hc=="function"?hc():hc}else{if(J)gc=/rv\:([^\);]+)(\)|;)/;else if(I)gc=/MSIE\s+([^\);]+)(\)|;)/;else if(L)gc=/WebKit\/(\S+)/;if(gc){var ic=gc.exec(Wb());fc=ic?ic[1]:""}}if(I){var jc,kc=u.document;jc=kc?kc.documentMode:undefined;if(jc>parseFloat(fc)){ec=String(jc);break a}}ec=fc}var lc={};function M(a){return lc[a]||(lc[a]=Ia(ec,a)>=0)};function mc(a,b){this.width=a;this.height=b}function nc(a,b){if(a==b)return i;if(!a||!b)return l;return a.width==b.width&&a.height==b.height}t=mc.prototype;t.aa=function(){return new mc(this.width,this.height)};t.Jc=function(){return this.width/this.height};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};t.scale=function(a){this.width*=a;this.height*=a;return this};var oc=!I||M("9"),pc=I&&!M("9");function N(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}N.prototype.aa=function(){return new N(this.x,this.y)};function qc(a,b){return new N(a.x-b.x,a.y-b.y)};function rc(a){return a?new sc(O(a)):Lb||(Lb=new sc)}function tc(a){return z(a)?document.getElementById(a):a}function uc(a,b){ra(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in vc)a.setAttribute(vc[d],c);else a[d]=c})}var vc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function wc(){return xc(document,arguments)}function xc(a,b){var c=b[0],d=b[1];if(!oc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};wa(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(z(d))c.className=d;else y(d)?Nb.apply(j,[c].concat(d)):uc(c,d);b.length>2&&yc(a,c,b,2);return c}
function yc(a,b,c,d){function f(h){if(h)b.appendChild(z(h)?a.createTextNode(h):h)}for(;d<c.length;d++){var g=c[d];ca(g)&&!(fa(g)&&g.nodeType>0)?La(zc(g)?Va(g):g,f):f(g)}}function Ac(a){return a.compatMode=="CSS1Compat"}function Bc(a){yc(O(a),a,arguments,1)}function Cc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Fc(a){return a&&a.parentNode?a.parentNode.removeChild(a):j}
function Gc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function O(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Hc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Cc(a);a.appendChild(O(a).createTextNode(b))}}var Ic={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Jc={IMG:" ",BR:"\n"};function Kc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return da(a)&&a>=0}return l}
function Lc(a){if(pc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Mc(a,b,i);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");I||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}
function Mc(a,b,c){if(!(a.nodeName in Ic))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Jc)b.push(Jc[a.nodeName]);else for(a=a.firstChild;a;){Mc(a,b,c);a=a.nextSibling}}function zc(a){if(a&&typeof a.length=="number")if(fa(a))return typeof a.item=="function"||typeof a.item=="string";else if(ea(a))return typeof a.item=="function";return l}function sc(a){this.w=a||u.document||document}t=sc.prototype;t.ka=rc;
function Nc(a){return a.w}t.c=function(a){return z(a)?this.w.getElementById(a):a};t.o=function(){return xc(this.w,arguments)};t.createElement=function(a){return this.w.createElement(a)};t.createTextNode=function(a){return this.w.createTextNode(a)};function Oc(a){a=!L&&Ac(a.w)?a.w.documentElement:a.w.body;return new N(a.scrollLeft,a.scrollTop)}t.appendChild=function(a,b){a.appendChild(b)};t.append=Bc;t.pf=Cc;t.removeNode=Fc;t.contains=Gc;function Pc(a,b){this.Bc=new pb(a);this.Rf=b?b:"callback";this.xc=5E3}var Qc=0;
Pc.prototype.send=function(a,b,c,d){a=a||j;if(!document.documentElement.firstChild){c&&c(a);return j}d=d||"_"+(Qc++).toString(36)+E().toString(36);u._callbacks_||(u._callbacks_={});var f=document.createElement("script"),g=j;if(this.xc>0)g=u.setTimeout(Rc(d,f,a,c),this.xc);c=this.Bc.aa();if(a)for(var h in a)if(!a.hasOwnProperty||a.hasOwnProperty(h))Fb(c,h,a[h]);if(b){u._callbacks_[d]=Sc(d,f,b,g);Fb(c,this.Rf,"_callbacks_."+d)}uc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Ma:d,xc:g}};Pc.prototype.cancel=function(a){if(a&&a.Ma){var b=tc(a.Ma);if(b&&b.tagName=="SCRIPT"&&typeof u._callbacks_[a.Ma]=="function"){a.xc&&u.clearTimeout(a.xc);Tc(a.Ma,b,l)}}};function Rc(a,b,c,d){return function(){Tc(a,b,l);d&&d(c)}}function Sc(a,b,c,d){return function(){u.clearTimeout(d);Tc(a,b,i);c.apply(undefined,arguments)}}function Tc(a,b,c){u.setTimeout(function(){Fc(b)},0);if(u._callbacks_[a])if(c)delete u._callbacks_[a];else u._callbacks_[a]=v};function Uc(a,b){this.Xg=a||"http://open.mapquestapi.com/nominatim/v1/search";this.nc=b||{};this.Re=new Pc(this.Xg,"json_callback")}
function Vc(a,b,c,d){a.nc.q=b;a.nc.format="json";a.nc.addressdetails=1;a.nc.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.ug=b;if(!(c>1&&b===a.ug)){a.rf!==j&&a.Re.cancel(a.rf);a.rf=a.Re.send(a.nc,function(f){var g=Ma(f,function(h){return h["class"]=="place"});if(g.length>0){La(g,function(h){var k=h.address.country_code=="us"?h.address.state:h.address.country;if(h.type=="suburb")k=h.address.city+", "+k;h.display_name=h.address[h.type]?h.address[h.type]+", "+k:h.display_name});d(b,g)}else d(b,f)})}}}
;var Wc;var Xc=!I||M("9"),Yc=I&&!M("8");function Zc(a,b){G.call(this);this.type=a;this.currentTarget=this.target=b}F(Zc,G);t=Zc.prototype;t.g=function(){delete this.type;delete this.target;delete this.currentTarget};t.ub=l;t.pc=i;t.stopPropagation=function(){this.ub=i};t.preventDefault=function(){this.pc=l};var $c=new Function("a","return a");function ad(a,b){a&&this.Lb(a,b)}F(ad,Zc);var bd=[1,4,2];t=ad.prototype;t.target=j;t.relatedTarget=j;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=l;t.altKey=l;t.shiftKey=l;t.metaKey=l;t.Bg=l;t.ea=j;
t.Lb=function(a,b){var c=this.type=a.type;Zc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(J)try{$c(d.nodeName)}catch(f){d=j}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Bg=Ub?a.metaKey:a.ctrlKey;this.state=a.state;this.ea=a;delete this.pc;delete this.ub};function cd(a,b){return Xc?a.ea.button==b:a.type=="click"?b==0:!!(a.ea.button&bd[b])}
t.stopPropagation=function(){ad.a.stopPropagation.call(this);if(this.ea.stopPropagation)this.ea.stopPropagation();else this.ea.cancelBubble=i};t.preventDefault=function(){ad.a.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else{a.returnValue=l;if(Yc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};t.Yf=p("ea");t.g=function(){ad.a.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.ea=j};function dd(){}var ed=0;t=dd.prototype;t.key=0;t.Tb=l;t.se=l;t.Lb=function(a,b,c,d,f,g){if(ea(a))this.Pe=i;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Pe=l;else e(Error("Invalid listener argument"));this.Nb=a;this.nf=b;this.src=c;this.type=d;this.capture=!!f;this.Sc=g;this.se=l;this.key=++ed;this.Tb=l};t.handleEvent=function(a){if(this.Pe)return this.Nb.call(this.Sc||this.src,a);return this.Nb.handleEvent.call(this.Nb,a)};var fd;var gd=(fd="ScriptEngine"in u&&u.ScriptEngine()=="JScript")?u.ScriptEngineMajorVersion()+"."+u.ScriptEngineMinorVersion()+"."+u.ScriptEngineBuildVersion():"0";function P(a,b){G.call(this);this.$e=b;this.mb=[];a>this.$e&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.mb.push(this.Ha?this.Ha():{})}F(P,G);P.prototype.Ha=j;P.prototype.Ae=j;P.prototype.getObject=function(){if(this.mb.length)return this.mb.pop();return this.Ha?this.Ha():{}};function hd(a,b){a.mb.length<a.$e?a.mb.push(b):id(a,b)}function id(a,b){if(a.Ae)a.Ae(b);else if(fa(b))if(ea(b.s))b.s();else for(var c in b)delete b[c]}
P.prototype.g=function(){P.a.g.call(this);for(var a=this.mb;a.length;)id(this,a.pop());delete this.mb};var jd,kd,ld,md,nd,od,pd,qd,rd,sd,td;
(function(){function a(){return{k:0,ra:0}}function b(){return[]}function c(){function r(D){return h.call(r.src,r.key,D)}return r}function d(){return new dd}function f(){return new ad}var g=fd&&!(Ia(gd,"5.7")>=0),h;od=function(r){h=r};if(g){jd=function(){return k.getObject()};kd=function(r){hd(k,r)};ld=function(){return m.getObject()};md=function(r){hd(m,r)};nd=function(){return n.getObject()};pd=function(){hd(n,c())};qd=function(){return s.getObject()};rd=function(r){hd(s,r)};sd=function(){return o.getObject()};
td=function(r){hd(o,r)};var k=new P(0,600);k.Ha=a;var m=new P(0,600);m.Ha=b;var n=new P(0,600);n.Ha=c;var s=new P(0,600);s.Ha=d;var o=new P(0,600);o.Ha=f}else{jd=a;kd=v;ld=b;md=v;nd=c;pd=v;qd=d;rd=v;sd=f;td=v}})();var ud={},Q={},vd={},wd={};
function R(a,b,c,d,f){if(b)if(y(b)){for(var g=0;g<b.length;g++)R(a,b[g],c,d,f);return j}else{d=!!d;var h=Q;b in h||(h[b]=jd());h=h[b];if(!(d in h)){h[d]=jd();h.k++}h=h[d];var k=A(a),m;h.ra++;if(h[k]){m=h[k];for(g=0;g<m.length;g++){h=m[g];if(h.Nb==c&&h.Sc==f){if(h.Tb)break;return m[g].key}}}else{m=h[k]=ld();h.k++}g=nd();g.src=a;h=qd();h.Lb(c,g,a,b,d,f);c=h.key;g.key=c;m.push(h);ud[c]=h;vd[k]||(vd[k]=ld());vd[k].push(h);if(a.addEventListener){if(a==u||!a.ye)a.addEventListener(b,g,d)}else a.attachEvent(xd(b),
g);return c}else e(Error("Invalid event type"))}function yd(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)yd(a,b[g],c,d,f);else{d=!!d;if(a=zd(a,b,d))for(g=0;g<a.length;g++)if(a[g].Nb==c&&a[g].capture==d&&a[g].Sc==f){S(a[g].key);break}}}
function S(a){if(ud[a]){var b=ud[a];if(!b.Tb){var c=b.src,d=b.type,f=b.nf,g=b.capture;if(c.removeEventListener){if(c==u||!c.ye)c.removeEventListener(d,f,g)}else c.detachEvent&&c.detachEvent(xd(d),f);c=A(c);f=Q[d][g][c];if(vd[c]){var h=vd[c];Ta(h,b);h.length==0&&delete vd[c]}b.Tb=i;f.ef=i;Ad(d,g,c,f);delete ud[a]}}}
function Ad(a,b,c,d){if(!d.Wc)if(d.ef){for(var f=0,g=0;f<d.length;f++)if(d[f].Tb){var h=d[f].nf;h.src=j;pd(h);rd(d[f])}else{if(f!=g)d[g]=d[f];g++}d.length=g;d.ef=l;if(g==0){md(d);delete Q[a][b][c];Q[a][b].k--;if(Q[a][b].k==0){kd(Q[a][b]);delete Q[a][b];Q[a].k--}if(Q[a].k==0){kd(Q[a]);delete Q[a]}}}}
function Bd(a){var b,c=0,d=b==j;b=!!b;if(a==j)ra(vd,function(h){for(var k=h.length-1;k>=0;k--){var m=h[k];if(d||b==m.capture){S(m.key);c++}}});else{a=A(a);if(vd[a]){a=vd[a];for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture){S(g.key);c++}}}}}function zd(a,b,c){var d=Q;if(b in d){d=d[b];if(c in d){d=d[c];a=A(a);if(d[a])return d[a]}}return j}function xd(a){if(a in wd)return wd[a];return wd[a]="on"+a}
function Cd(a,b,c,d,f){var g=1;b=A(b);if(a[b]){a.ra--;a=a[b];if(a.Wc)a.Wc++;else a.Wc=1;try{for(var h=a.length,k=0;k<h;k++){var m=a[k];if(m&&!m.Tb)g&=Dd(m,f)!==l}}finally{a.Wc--;Ad(c,d,b,a)}}return Boolean(g)}function Dd(a,b){var c=a.handleEvent(b);a.se&&S(a.key);return c}
od(function(a,b){if(!ud[a])return i;var c=ud[a],d=c.type,f=Q;if(!(d in f))return i;f=f[d];var g,h;if(Wc===undefined)Wc=I&&!u.addEventListener;if(Wc){var k;if(!(k=b))a:{k="window.event".split(".");for(var m=u;g=k.shift();)if(m[g]!=j)m=m[g];else{k=j;break a}k=m}g=k;k=i in f;m=l in f;if(k){if(g.keyCode<0||g.returnValue!=undefined)return i;a:{var n=l;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(s){n=i}if(n||g.returnValue==undefined)g.returnValue=i}}n=sd();n.Lb(g,this);g=i;try{if(k){for(var o=ld(),r=
n.currentTarget;r;r=r.parentNode)o.push(r);h=f[i];h.ra=h.k;for(var D=o.length-1;!n.ub&&D>=0&&h.ra;D--){n.currentTarget=o[D];g&=Cd(h,o[D],d,i,n)}if(m){h=f[l];h.ra=h.k;for(D=0;!n.ub&&D<o.length&&h.ra;D++){n.currentTarget=o[D];g&=Cd(h,o[D],d,l,n)}}}else g=Dd(c,n)}finally{if(o){o.length=0;md(o)}n.s();td(n)}return g}d=new ad(b,this);try{g=Dd(c,d)}finally{d.s()}return g});function Ed(){G.call(this)}F(Ed,G);t=Ed.prototype;t.ye=i;t.$c=j;t.ee=function(a){this.$c=a};t.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};t.removeEventListener=function(a,b,c,d){yd(this,a,b,c,d)};
t.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(z(a))a=new Zc(a,this);else if(a instanceof Zc)a.target=a.target||this;else{var d=a;a=new Zc(b,this);wa(a,d)}d=1;var f;c=c[b];b=i in c;var g;if(b){f=[];for(g=this;g;g=g.$c)f.push(g);g=c[i];g.ra=g.k;for(var h=f.length-1;!a.ub&&h>=0&&g.ra;h--){a.currentTarget=f[h];d&=Cd(g,f[h],a.type,i,a)&&a.pc!=l}}if(l in c){g=c[l];g.ra=g.k;if(b)for(h=0;!a.ub&&h<f.length&&g.ra;h++){a.currentTarget=f[h];d&=Cd(g,f[h],a.type,l,a)&&a.pc!=l}else for(f=this;!a.ub&&
f&&g.ra;f=f.$c){a.currentTarget=f;d&=Cd(g,f,a.type,l,a)&&a.pc!=l}}a=Boolean(d)}else a=i;return a};t.g=function(){Ed.a.g.call(this);Bd(this);this.$c=j};function Fd(a,b,c){G.call(this);this.jc=a;this.wb=c;this.i=b;R(b,[Gd,Hd,Id,Jd],this);this.Fa=j;this.V=[];this.Y=-1;this.ba=0;this.lb=this.Z=j}F(Fd,Ed);t=Fd.prototype;t.og=10;t.Qf=i;t.ne=l;t.Lf=l;t.Ug=l;var Gd="hilite",Hd="select",Jd="dismiss",Id="canceldismiss";t=Fd.prototype;t.handleEvent=function(a){if(a.target==this.i)switch(a.type){case Gd:this.pa(a.Vb);break;case Hd:Kd(this);break;case Id:Ld(this);break;case Jd:Md(this)}};t.za=function(){return this.i.r};
function Nd(a){var b=a.ba+a.V.length-1;if(a.Y>=a.ba&&a.Y<b){a.pa(a.Y+1);return i}else if(a.Y==-1){a.pa(a.ba);return i}else if(a.Y==b)if(a.ne)a.pa(-1);else if(a.Lf){a.pa(a.ba);return i}return l}function Od(a){if(a.Y>a.ba){a.pa(a.Y-1);return i}else if(a.ne&&a.Y==a.ba)a.pa(-1);else if(a.Lf&&(a.Y==-1||a.Y==a.ba)){a.pa(a.ba+a.V.length-1);return i}return l}t.pa=function(a){this.Y=a;this.i.pa(a);return Pd(this,a)!=-1};
function Kd(a){var b=Pd(a,a.Y);if(b!=-1){b=a.V[b];var c=a.wb,d=b.toString();if(c.Ob){var f=Qd(c,c.K(),Rd(c.F)),g=Sd(c,c.K());c.Kg.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.Uf);if(c.$g){if(f!=0&&!/^[\s\xa0]*$/.test(g[f-1]))d=" "+d;if(f==g.length-1)d+=" "}if(d!=g[f]){g[f]=d;d=c.F;J&&d.blur();d.value=g.join("");for(var h=0,k=0;k<=f;k++)h+=g[k].length;d.focus();f=h;g=c.F;d=f;if(Td(g))g.selectionStart=d;else if(I){h=Ud(g);k=h[0];if(k.inRange(h[1])){d=Vd(g,d);k.collapse(i);k.move("character",d);k.select()}}g=
c.F;if(Td(g))g.selectionEnd=f;else if(I){h=Ud(g);d=h[1];if(h[0].inRange(d)){f=Vd(g,f);g=Vd(g,Rd(g));d.collapse(i);d.moveEnd("character",f-g);d.select()}}}}else c.Ea(d);c.ce=i;a.Ia();a.dispatchEvent({type:"update",Vb:b});a.Ug&&a.wb.update(i);return i}else{a.Ia();a.dispatchEvent({type:"update",Vb:j});return l}}t.Ia=function(){this.Y=-1;this.Fa=j;this.ba+=this.V.length;this.V=[];window.clearTimeout(this.lb);this.lb=j;this.i.Ia()};function Md(a){if(!a.lb)a.lb=window.setTimeout(C(a.Ia,a),100)}
function Ld(a){window.setTimeout(C(function(){if(this.lb){window.clearTimeout(this.lb);this.lb=j}},a),10)}t.g=function(){Fd.a.g.call(this);this.i.s();this.wb.s();this.jc=j};t.ng=function(a,b,c){this.Fa==a&&this.$d(b,c)};t.$d=function(a,b){var c=b?Pd(this,this.Y):j;this.ba+=this.V.length;this.V=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ba+f,data:a[f]});this.i.$d(d,this.Fa,this.Z);if(this.Qf&&d.length!=0&&this.Fa)this.pa(c!=j?this.ba+c:this.ba);else this.Y=-1};
function Pd(a,b){var c=b-a.ba;if(c<0||c>=a.V.length)return-1;return c}t.jd=function(){var a=this.wb;a.jd.apply(a,arguments)};function Wd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Wd.prototype.aa=function(){return new Wd(this.top,this.right,this.bottom,this.left)};Wd.prototype.contains=function(a){a=!this||!a?l:a instanceof Wd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function Xd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Xd.prototype.aa=function(){return new Xd(this.left,this.top,this.width,this.height)};Xd.prototype.contains=function(a){return a instanceof Xd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Xd.prototype.Ka=function(){return new mc(this.width,this.height)};function Yd(a,b){var c=O(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,j))return c[b]||c.getPropertyValue(b);return""}function Zd(a,b){return Yd(a,b)||(a.currentStyle?a.currentStyle[b]:j)||a.style[b]}function $d(a,b,c){var d,f=J&&(Ub||dc)&&M("1.9");if(b instanceof N){d=b.x;b=b.y}else{d=b;b=c}a.style.left=ae(d,f);a.style.top=ae(b,f)}
function be(a){a=a?a.nodeType==9?a:O(a):document;var b;if(b=I){b=rc(a);b=!Ac(b.w)}if(b)return a.body;return a.documentElement}function ce(a){var b=a.getBoundingClientRect();if(I){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function de(a){if(I)return a.offsetParent;var b=O(a),c=Zd(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Zd(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return j}
function ee(a){for(var b=new Wd(0,Infinity,Infinity,0),c=rc(a),d=c.w.body,f=!L&&Ac(c.w)?c.w.documentElement:c.w.body,g;a=de(a);)if((!I||a.clientWidth!=0)&&(!L||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Zd(a,"overflow")!="visible"){var h=fe(a),k;k=a;if(J&&!M("1.9")){var m=parseFloat(Yd(k,"borderLeftWidth"));if(ge(k)){var n=k.offsetWidth-k.clientWidth-m-parseFloat(Yd(k,"borderRightWidth"));m+=n}k=new N(m,parseFloat(Yd(k,"borderTopWidth")))}else k=new N(k.clientLeft,
k.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;if(L){b.left+=d;b.top+=f}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,f)}if(!g||L){b.right+=d;b.bottom+=f}c=c.w.parentWindow||c.w.defaultView||window;g=c.document;if(L&&!M("500")&&!ac){if(typeof c.innerHeight=="undefined")c=window;g=c.innerHeight;a=c.document.documentElement.scrollHeight;
if(c==c.top)if(a<g)g-=15;c=new mc(c.innerWidth,g)}else{c=Ac(g);if($b&&!M("9.50"))c=l;c=c?g.documentElement:g.body;c=new mc(c.clientWidth,c.clientHeight)}b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:j}
function fe(a){var b,c=O(a),d=Zd(a,"position"),f=J&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new N(0,0),h=be(c);if(a==h)return g;if(a.getBoundingClientRect){b=ce(a);a=Oc(rc(c));g.x=b.left+a.x;g.y=b.top+a.y}else if(c.getBoxObjectFor&&!f){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);g.x=b.screenX-a.screenX;g.y=b.screenY-a.screenY}else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;if(b!=a){g.x+=b.clientLeft||0;g.y+=b.clientTop||0}if(L&&
Zd(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if($b||L&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=de(b))&&b!=c.body&&b!=h;){g.x-=b.scrollLeft;if(!$b||b.tagName!="TR")g.y-=b.scrollTop}}return g}function he(a,b,c){if(b instanceof mc){c=b.height;b=b.width}else c==undefined&&e(Error("missing height argument"));a.style.width=ae(b,i);a.style.height=ae(c,i)}function ae(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function ie(a){var b=$b&&!M("10");if(Zd(a,"display")!="none")return b?new mc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new mc(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=g;c.visibility=f;return new mc(b,a)}
function je(a){var b=fe(a);a=ie(a);return new Xd(b.x,b.y,a.width,a.height)}function ke(a,b){a.style.display=b?"":"none"}function ge(a){return"rtl"==Zd(a,"direction")}var le=J?"MozUserSelect":L?"WebkitUserSelect":j;function ne(a,b,c){c=!c?a.getElementsByTagName("*"):j;if(le){b=b?"none":"";a.style[le]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[le]=b}}else if(I||$b){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}}var oe={thin:2,medium:4,thick:6};
function pe(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:j)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:j;if(c in oe)return oe[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};function qe(){}w(qe);qe.prototype.rg=0;function re(a){return":"+(a.rg++).toString(36)}qe.fa();function se(a,b){a.setAttribute("role",b);a.fh=b}function T(a,b,c){a.setAttribute("aria-"+b,c)};function te(a,b,c,d){this.ca=a||document.body;this.M=rc(this.ca);this.Fg=!a;this.b=j;this.Fa="";this.V=[];this.vf=this.Tc=-1;this.r=l;this.className="ac-renderer";this.be="ac-row";this.Ve="active";this.le="ac-active";this.ig="ac-highlighted";this.Fb=b||j;this.Yg=d!=j?d:i;this.Nd=l;this.Hg=c!=j?c:l;this.Qd=j;this.dd=l}F(te,Ed);t=te.prototype;t.c=p("b");t.$d=function(a,b,c){this.Fa=b;this.V=a;this.Tc=-1;this.vf=E();this.Z=c;this.rc=[];ue(this)};
t.Ia=function(){this.Z&&T(this.Z,"activedescendant","");if(this.r){this.r=l;ke(this.b,l)}};t.show=function(){if(!this.r){this.r=i;ke(this.b,i)}};
function ve(a,b){a.Tc>=0&&Ob(a.rc[a.Tc],a.le,a.Ve);a.Tc=b;if(b>=0&&b<a.b.childNodes.length){var c=a.rc[b];Nb(c,a.le,a.Ve);if(a.Z)T(a.Z,"activedescendant",c?c.id:"");var d=a.b,f=fe(c),g=fe(d),h;if(I){var k=pe(d,"borderLeft");h=pe(d,"borderRight");var m=pe(d,"borderTop"),n=pe(d,"borderBottom");h=new Wd(m,h,n,k)}else{k=Yd(d,"borderLeftWidth");h=Yd(d,"borderRightWidth");m=Yd(d,"borderTopWidth");n=Yd(d,"borderBottomWidth");h=new Wd(parseFloat(m),parseFloat(h),parseFloat(n),parseFloat(k))}k=f.x-g.x-h.left;
f=f.y-g.y-h.top;g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(k,Math.max(k-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}t.pa=function(a){if(a==-1)ve(this,-1);else for(var b=0;b<this.V.length;b++)if(this.V[b].id==a){ve(this,b);break}};
function we(a){if(!a.b){var b=a.M.o("div",{style:"display:none"});a.b=b;Nb(b,a.className);se(b,"listbox");b.id=re(qe.fa());if(a.Z){se(a.Z,"combobox");T(a.Z,"autocomplete","list");T(a.Z,"haspopup",i)}a.M.appendChild(a.ca,b);R(b,"click",a.He,l,a);R(b,"mousedown",a.Ke,l,a);R(a.M.w,"mousedown",a.Je,l,a);R(b,"mouseover",a.Le,l,a)}}
function ue(a){we(a);if(a.dd)a.b.style.visibility="hidden";a.rc.length=0;a.M.pf(a.b);if(a.Fb&&a.Fb.Ub)a.Fb.Ub(a);else{var b=j;fb(a.V,function(c){var d=this.Fa,f=this.M.o("div",{className:this.be,id:re(qe.fa())});se(f,"option");if(this.Fb&&this.Fb.qf)this.Fb.qf(c,d,f);else f.innerHTML=Ba(c.data.toString());d&&this.Yg&&xe(this,f,d);Nb(f,this.be);this.rc.push(f);c=f;this.dd?this.b.insertBefore(c,b):this.M.appendChild(this.b,c);b=c},a)}if(a.V.length==0)a.Ia();else{a.show();ye(a.b);a.vb();ne(a.b,i)}}
t.vb=function(){if(this.Z&&this.Fg){var a=fe(this.Z),b=ie(this.Z),c=ie(be(this.Z)),d=ie(this.b);a.y=this.dd?a.y-d.height:a.y+b.height;if((this.Hg||a.x+d.width>c.width)&&this.Qd!="LEFT"){a.x=a.x+b.width-d.width;this.Qd="RIGHT"}else this.Qd="LEFT";b=this.b;var f;c=fe(b);if(a instanceof N){f=a.y;a=a.x}$d(b,b.offsetLeft+(a-c.x),b.offsetTop+(f-c.y));if(this.dd)this.b.style.visibility="visible"}};
t.g=function(){te.a.g.call(this);if(this.b){yd(this.b,"click",this.He,l,this);yd(this.b,"mousedown",this.Ke,l,this);yd(this.M.w,"mousedown",this.Je,l,this);yd(this.b,"mouseover",this.Le,l,this);this.M.removeNode(this.b);this.b=j;this.r=l}delete this.ca};function ye(a){if(J&&Ub){a.style.width="";a.style.overflow="visible";a.style.width=a.offsetWidth;a.style.overflow="auto"}}
function xe(a,b,c){if(b.nodeType==3){var d=j;if(y(c)&&c.length>1&&!a.Nd)d=Ya(c,1);c=ze(a,c);if(c.length!=0){var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi");c=[];for(var h=0,k=g.exec(f),m=0;k;){m++;c.push(k[1]);c.push(k[2]);c.push(k[3]);h=g.lastIndex;k=g.exec(f)}c.push(f.substring(h));if(c.length>1){d=!a.Nd?1:m;for(f=0;f<d;f++){g=3*f;b.nodeValue=c[g]+c[g+1];h=a.M.createElement("b");h.className=a.ig;a.M.appendChild(h,a.M.createTextNode(c[g+2]));h=b.parentNode.insertBefore(h,b.nextSibling);b.parentNode.insertBefore(a.M.createTextNode(""),
h.nextSibling);b=h.nextSibling}a=Ya(c,d*3);b.nodeValue=a.join("")}else d&&xe(a,b,d)}}else for(b=b.firstChild;b;){d=b.nextSibling;xe(a,b,c);b=d}}function ze(a,b){var c="";if(!b)return c;if(a.Nd)if(y(b)){c=Ma(b,function(d){return!/^[\s\xa0]*$/.test(d==j?"":String(d))});c=Na(c,Ha);c=c.join("|")}else{c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");c=Ha(c);c=c.replace(/ /g,"|")}else c=y(b)?b.length>0?Ha(b[0]):"":Ha(b);return c}
function Ae(a,b){for(;b&&b!=a.b&&!Sa(Mb(b),a.be);)b=b.parentNode;return b?Ka(a.rc,b):-1}t.He=function(a){var b=Ae(this,a.target);b>=0&&this.dispatchEvent({type:Hd,Vb:this.V[b].id});a.stopPropagation()};t.Ke=function(a){this.dispatchEvent(Id);a.stopPropagation();a.preventDefault()};t.Je=function(){this.dispatchEvent(Jd)};t.Le=function(a){a=Ae(this,a.target);if(a>=0)E()-this.vf<300||this.dispatchEvent({type:Gd,Vb:this.V[a].id})};function U(a,b){G.call(this);this.hc=a||1;this.yc=b||Be;this.kd=C(this.Og,this);this.Vd=E()}F(U,Ed);U.prototype.enabled=l;var Be=u.window;t=U.prototype;t.u=j;t.setInterval=function(a){this.hc=a;if(this.u&&this.enabled){this.stop();this.start()}else this.u&&this.stop()};t.Og=function(){if(this.enabled){var a=E()-this.Vd;if(a>0&&a<this.hc*0.8)this.u=this.yc.setTimeout(this.kd,this.hc-a);else{this.dispatchEvent(Ce);if(this.enabled){this.u=this.yc.setTimeout(this.kd,this.hc);this.Vd=E()}}}};
t.start=function(){this.enabled=i;if(!this.u){this.u=this.yc.setTimeout(this.kd,this.hc);this.Vd=E()}};t.stop=function(){this.enabled=l;if(this.u){this.yc.clearTimeout(this.u);this.u=j}};t.g=function(){U.a.g.call(this);this.stop();delete this.yc};var Ce="tick";function De(a){G.call(this);this.Me=a}F(De,G);var Ee=new P(0,100),Fe=[];De.prototype.j=function(a,b,c,d,f){if(!y(b)){Fe[0]=b;b=Fe}for(var g=0;g<b.length;g++){var h=R(a,b[g],c||this,d||l,f||this.Me||this);if(this.l)this.l[h]=i;else if(this.Ua){this.l=Ee.getObject();this.l[this.Ua]=i;this.Ua=j;this.l[h]=i}else this.Ua=h}return this};
De.prototype.R=function(a,b,c,d,f){if(this.Ua||this.l)if(y(b))for(var g=0;g<b.length;g++)this.R(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Me||this;d=!!d;if(a=zd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Nb==c&&a[b].capture==d&&a[b].Sc==f){a=a[b];break a}a=j}if(a){a=a.key;S(a);if(this.l){b=this.l;a in b&&delete b[a]}else if(this.Ua==a)this.Ua=j}}return this};function Ge(a){if(a.l){for(var b in a.l){S(b);delete a.l[b]}hd(Ee,a.l);a.l=j}else a.Ua&&S(a.Ua)}De.prototype.g=function(){De.a.g.call(this);Ge(this)};
De.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Rd(a){var b;a:{var c=0,d=0;if(Td(a)){c=a.selectionStart;d=-1}else if(I){var f=Ud(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=l;!d;)if(b.compareEndPoints("StartToEnd",b)==0)d=i;else{b.moveEnd("character",-1);if(b.text==a)c+="\r\n";else d=i}b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Ud(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();if(a.type=="textarea"){b=b.body.createTextRange();b.moveToElementText(a)}else b=a.createTextRange();return[b,c]}function Vd(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function Td(a){try{return typeof a.selectionStart=="number"}catch(b){return l}};function He(a,b,c,d,f){if(!I&&!(L&&M("525")))return i;if(Ub&&f)return Ie(a);if(f&&!d)return l;if(!c&&(b==17||b==18))return l;if(I&&d&&b==a)return l;switch(a){case 13:return i;case 27:return!L}return Ie(a)}
function Ie(a){if(a>=48&&a<=57)return i;if(a>=96&&a<=106)return i;if(a>=65&&a<=90)return i;if(L&&a==0)return i;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return i;default:return l}};function Je(a,b){G.call(this);a&&this.bc(a,b)}F(Je,Ed);t=Je.prototype;t.b=j;t.Uc=j;t.Rd=j;t.Vc=j;t.Va=-1;t.Ta=-1;
var Ke={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Le={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Me={61:187,
59:186},Ne=I||L&&M("525");t=Je.prototype;t.cg=function(a){if(L&&(this.Va==17&&!a.ctrlKey||this.Va==18&&!a.altKey))this.Ta=this.Va=-1;if(Ne&&!He(a.keyCode,this.Va,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Ta=J&&a.keyCode in Me?Me[a.keyCode]:a.keyCode};t.eg=function(){this.Ta=this.Va=-1};
t.handleEvent=function(a){var b=a.ea,c,d;if(I&&a.type=="keypress"){c=this.Ta;d=c!=13&&c!=27?b.keyCode:0}else if(L&&a.type=="keypress"){c=this.Ta;d=b.charCode>=0&&b.charCode<63232&&Ie(c)?b.charCode:0}else if($b){c=this.Ta;d=Ie(c)?b.keyCode:0}else{c=b.keyCode||this.Ta;d=b.charCode||0;if(Ub&&d==63&&!c)c=191}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in Ke)f=Ke[c];else{if(c==25&&a.shiftKey)f=9}else if(g&&g in Le)f=Le[g];a=f==this.Va;this.Va=f;b=new Oe(f,d,a,b);try{this.dispatchEvent(b)}finally{b.s()}};
t.c=p("b");t.bc=function(a,b){this.Vc&&this.detach();this.b=a;this.Uc=R(this.b,"keypress",this,b);this.Rd=R(this.b,"keydown",this.cg,b,this);this.Vc=R(this.b,"keyup",this.eg,b,this)};t.detach=function(){if(this.Uc){S(this.Uc);S(this.Rd);S(this.Vc);this.Vc=this.Rd=this.Uc=j}this.b=j;this.Ta=this.Va=-1};t.g=function(){Je.a.g.call(this);this.detach()};function Oe(a,b,c,d){d&&this.Lb(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}F(Oe,ad);function Pe(a,b,c,d){G.call(this);d=d||150;this.sc=a!=j?a:Qe;this.Uf=this.sc.substring(0,1);a=this.Ob?"[\\s"+this.sc+"]+":"[\\s]+";this.Df=RegExp("^"+a+"|"+a+"$","g");this.Kg=RegExp("\\s*["+this.sc+"]$");this.We=b||"";this.Dg=this.Ob=c!=j?c:i;this.u=d>0?new U(d):j;this.W=new De(this);this.fd=new De(this);this.L=new Je;this.Te=-1}F(Pe,G);var Qe=",;";t=Pe.prototype;t.$g=i;t.Xf=i;t.Hf=l;t.Mg=i;t.Lg=i;t.F=j;t.Ud="";t.hb=l;t.ce=l;t.Ff=i;t.K=function(){return this.F.value};
t.Ea=function(a){this.F.value=a};t.jd=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];T(b,"haspopup",i);this.W.j(b,"focus",this.ob);this.W.j(b,"blur",this.La);this.F||this.fd.j(b,"keydown",this.wg)}};t.g=function(){Pe.a.g.call(this);this.W.s();delete this.W;this.fd.s();this.L.s()};function Re(a){if(a.u)a.u.setInterval(300);else a.u=new U(300)}
t.oa=function(a){switch(a.keyCode){case 40:if(this.A.za()){this.Hf?Od(this.A):Nd(this.A);a.preventDefault();return i}else if(!this.Ob){this.update(i);a.preventDefault();return i}break;case 38:if(this.A.za()){this.Hf?Nd(this.A):Od(this.A);a.preventDefault();return i}break;case 9:if(this.A.za()&&!a.shiftKey){this.update();if(Kd(this.A)&&this.Dg){a.preventDefault();return i}}else this.A.Ia();break;case 13:if(this.A.za()){this.update();if(Kd(this.A)){a.preventDefault();a.stopPropagation();return i}}else this.A.Ia();
break;case 27:if(this.A.za()){this.A.Ia();a.preventDefault();a.stopPropagation();return i}break;case 229:if(!this.hb){if(!this.hb){this.W.j(this.F,"keyup",this.kf);this.W.j(this.F,"keypress",this.jf);this.hb=i}return i}break;default:if(this.u&&!this.Ff){this.u.stop();this.u.start()}}return Se(this,a)};function Se(a,b){var c=a.Ob&&b.charCode&&a.sc.indexOf(String.fromCharCode(b.charCode))!=-1;a.Mg&&c&&a.update();if(a.Lg&&c)if(Kd(a.A)){b.preventDefault();return i}return l}t.dg=q(l);
t.ob=function(a){Ge(this.fd);this.A&&Ld(this.A);if(a.target!=this.F){this.F=a.target||j;if(this.u){this.u.start();this.W.j(this.u,Ce,this.Yc)}this.Ud=this.K();this.L.bc(this.F);this.W.j(this.L,"key",this.lf);I&&this.W.j(this.F,"keypress",this.hf)}};t.La=function(){if(this.F){this.W.R(this.L,"key",this.lf);this.L.detach();this.W.R(this.F,"keyup",this.dg);I&&this.W.R(this.F,"keypress",this.hf);this.hb&&Te(this);this.F=j;if(this.u){this.u.stop();this.W.R(this.u,Ce,this.Yc)}this.A&&Md(this.A)}};
t.Yc=function(){this.update()};t.wg=function(a){this.ob(a)};t.lf=function(a){this.Te=a.keyCode;this.A&&this.oa(a)};t.jf=function(){this.hb&&this.Te!=229&&Te(this)};t.kf=function(a){if(this.hb&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey))Te(this)};function Te(a){if(a.hb){a.hb=l;a.W.R(a.F,"keypress",a.jf);a.W.R(a.F,"keyup",a.kf)}}t.hf=function(a){Se(this,a)};
t.update=function(a){if(a||this.F&&this.K()!=this.Ud){if(a||!this.ce){a=Rd(this.F);var b=this.K();a=Sd(this,b)[Qd(this,b,a)];a=this.Df?String(a).replace(this.Df,""):a;if(this.A){this.A.Z=this.F;b=this.A;this.K();if(b.Fa!=a){b.Fa=a;Vc(b.jc,b.Fa,b.og,C(b.ng,b));Ld(b)}}}this.Ud=this.K()}this.ce=l};function Qd(a,b,c){a=Sd(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++){f+=a[d].length;b=d}return b}
function Sd(a,b){if(!a.Ob)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=l;g<c.length;g++)if(a.We&&a.We.indexOf(c[g])!=-1){if(a.Xf&&!h){d.push(f.join(""));f.length=0}f.push(c[g]);h=!h}else if(!h&&a.sc.indexOf(c[g])!=-1){f.push(c[g]);d.push(f.join(""));f.length=0}else f.push(c[g]);d.push(f.join(""));return d};function Ue(a,b,c){var d={};d.qf=function(f,g,h){h.innerHTML=f.data.display_name+" ("+f.data.type+")"};d=new te(j,d);this.jc=new Uc(b,c);b=new Pe(j,j,l);Re(b);b.Ff=l;b.A=this;b.jd(a);Fd.call(this,this.jc,d,b);this.addEventListener("update",function(f){a.value=f.Vb.display_name})}F(Ue,Fd);Ue.prototype.search=function(a,b,c){Vc(this.jc,a,b,c)};function Ve(){this.of=E()}new Ve;Ve.prototype.sa=function(a){this.of=a};Ve.prototype.get=p("of");function We(a){this.va=fd?[]:"";a!=j&&this.append.apply(this,arguments)}We.prototype.sa=function(a){this.clear();this.append(a)};if(fd){We.prototype.md=0;We.prototype.append=function(a,b){if(b==j)this.va[this.md++]=a;else{this.va.push.apply(this.va,arguments);this.md=this.va.length}return this}}else We.prototype.append=function(a,b){this.va+=a;if(b!=j)for(var c=1;c<arguments.length;c++)this.va+=arguments[c];return this};We.prototype.clear=function(){if(fd)this.md=this.va.length=0;else this.va=""};
We.prototype.toString=function(){if(fd){var a=this.va.join("");this.clear();a&&this.append(a);return a}else return this.va};function Xe(a){this.name=a||"OpenStreetMaps"}F(Xe,mb);Xe.prototype.Cd=q(18);Xe.prototype.Fd=function(a,b,c){var d=["a","b","c"];return(new We("http://",d[Math.floor(Math.random()*d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Xe.prototype.Ic=function(a){Bc(a,"\u00a9 ",wc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function Ye(){Xe.call(this,"MapQuest OSM")}F(Ye,Xe);Ye.prototype.Fd=function(a,b,c){return(new We("http://otile",1+Math.floor(Math.random()*3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};
Ye.prototype.Ic=function(a){Bc(a,"Map data \u00a9 ",wc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",wc("br"));Bc(a,"Tiles Courtesy of ",wc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",wc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function Ze(a){G.call(this);this.M=a||rc();this.qc=$e}F(Ze,Ed);Ze.prototype.jg=qe.fa();var $e=j;function af(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}t=Ze.prototype;t.Ma=j;t.z=l;t.b=j;t.qc=j;t.Zd=j;t.ca=j;t.T=j;t.Pa=j;t.Zg=l;
function bf(a){return a.Ma||(a.Ma=re(a.jg))}t.c=p("b");function cf(a){return a.Ib||(a.Ib=new De(a))}function df(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.ca&&a.Ma&&ef(a.ca,a.Ma)&&a.ca!=b&&e(Error("Unable to set parent component"));a.ca=b;Ze.a.ee.call(a,b)}t.getParent=p("ca");t.ee=function(a){this.ca&&this.ca!=a&&e(Error("Method not supported"));Ze.a.ee.call(this,a)};t.ka=p("M");t.o=function(){this.b=this.M.createElement("div")};t.Ub=function(a){ff(this,a)};
function ff(a,b,c){a.z&&e(Error("Component already rendered"));a.b||a.o();b?b.insertBefore(a.b,c||j):a.M.w.body.appendChild(a.b);if(!a.ca||a.ca.z)a.X()}t.X=function(){this.z=i;gf(this,function(a){!a.z&&a.c()&&a.X()})};t.wa=function(){gf(this,function(a){a.z&&a.wa()});this.Ib&&Ge(this.Ib);this.z=l};t.g=function(){Ze.a.g.call(this);this.z&&this.wa();if(this.Ib){this.Ib.s();delete this.Ib}gf(this,function(a){a.s()});!this.Zg&&this.b&&Fc(this.b);this.ca=this.Zd=this.b=this.Pa=this.T=j};
t.Gc=function(a,b){this.ac(a,hf(this),b)};
t.ac=function(a,b,c){if(a.z&&(c||!this.z))e(Error("Component already rendered"));if(b<0||b>hf(this))e(Error("Child component index out of bounds"));if(!this.Pa||!this.T){this.Pa={};this.T=[]}if(a.getParent()==this){this.Pa[bf(a)]=a;Ta(this.T,a)}else{var d=this.Pa,f=bf(a);f in d&&e(Error('The object already contains the key "'+f+'"'));d[f]=a}df(a,this);Xa(this.T,b,0,a);if(a.z&&this.z&&a.getParent()==this){c=this.N();c.insertBefore(a.c(),c.childNodes[b]||j)}else if(c){this.b||this.o();b=V(this,b+1);
ff(a,this.N(),b?b.b:j)}else this.z&&!a.z&&a.b&&a.X()};t.N=p("b");function jf(a){if(a.qc==j)a.qc=ge(a.z?a.b:a.M.w.body);return a.qc}t.Xb=function(a){this.z&&e(Error("Component already rendered"));this.qc=a};function hf(a){return a.T?a.T.length:0}function ef(a,b){var c;if(a.Pa&&b){c=a.Pa;c=b in c?c[b]:void 0;c=c||j}else c=j;return c}function V(a,b){return a.T?a.T[b]||j:j}function gf(a,b,c){a.T&&La(a.T,b,c)}function kf(a,b){return a.T&&b?Ka(a.T,b):-1}
t.removeChild=function(a,b){if(a){var c=z(a)?a:bf(a);a=ef(this,c);if(c&&a){var d=this.Pa;c in d&&delete d[c];Ta(this.T,a);if(b){a.wa();a.b&&Fc(a.b)}df(a,j)}}a||e(Error("Child is not in parent component"));return a};t.pf=function(a){for(;this.T&&this.T.length!=0;)this.removeChild(V(this,0),a)};function lf(a){this.cb=new ib;this.Aa=[];this.Ng=1024;this.we=new U(2E4);R(this.we,Ce,this.Sf,l,this);this.we.start();mf(this,a)}function mf(a,b){a.Af=E();a.eb=b;a.eb.zf=C(a.Rg,a);a.cb.clear();a.Aa=[]}t=lf.prototype;t.eb=j;t.Af=0;t.yf=v;t.Sf=function(){var a=Ma(this.cb.Sa(),function(c){return c.state==20||c.state==oa||c.state==-10});for(Za(a,function(c,d){return c.I-d.I});this.cb.zd()>this.Ng&&a.length>0;){var b=a.shift();b.state==oa&&Ta(this.Aa,b);this.cb.remove(qa(b));b.s()}};
t.Rg=function(a){if(a.I<this.Af)a.state=-10;else this.yf(a)};function nf(a,b){Za(a.Aa,function(g,h){return g.I-h.I});for(var c=Math.min(a.Aa.length,b-a.eb.ic),d=0;d<c;d++){var f=a.Aa.pop();a.eb.Wd(f)||a.Aa.push(f)}};function of(a,b,c,d){this.Ge=b.v;this.ja=[];this.cc=c;this.ld=d;this.eb=a;this.wc=256;this.Yb=new lf(a);this.Yb.yf=C(this.ae,this);pf(this)}t=of.prototype;t.dc=function(a){this.eb=a;mf(this.Yb,a);this.wc=256;this.ja=[];pf(this)};
function pf(a){var b=a.Ge;a.Db&&b.deleteTexture(a.Db);a.Db=b.createTexture();b.bindTexture(b.TEXTURE_2D,a.Db);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,i);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.cc*a.wc,a.ld*a.wc,0,b.RGBA,b.UNSIGNED_BYTE,j);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);a.kc=[];a.tc=[];for(b=0;b<
a.cc;++b)for(var c=0;c<a.ld;++c){a.kc.push([-1,0,0,c*a.cc+b]);a.tc.push(new qf(b,c))}}t.Db=j;t.kc=j;t.tc=j;function rf(a,b){return Qa(a.tc,function(c){return!x(c.ia)&&qa(c.ia)==b})}function sf(a,b){return Ra(a.ja,function(c){return qa(c)==b})}
function tf(a,b,c,d,f,g){if(!(b<a.eb.Dd()||b>a.eb.Cd())){var h=1<<b;c=nb(c,h);d=nb(d,h);h=b+"_"+c+"_"+d;var k=rf(a,h);if(x(k)){k=sf(a,h);if(k>=0){b=a.ja[k];H.splice.call(a.ja,k,1);b.I=f;a.ae(b)}else if(g){a=a.Yb.cb.get(h);if(a!=j)a.I=f}else{g=a.Yb;h=b+"_"+c+"_"+d;k=g.cb.get(h);if(k!=j)k.I=f;else{k=new na(b,c,d,f);g.cb.sa(h,k);g.Aa.push(k)}f=k;f.state==20&&a.ae(f)}}else k.ia.I=f}}
t.ae=function(a){a.state=30;ab(this.ja,a,function(b,c){return b.I==c.I?b.zoom==c.zoom?b.x==c.x?b.y-c.y:b.x-c.x:b.zoom-c.zoom:b.I-c.I})};function uf(a){for(var b=E()-500;a.ja.length>0&&a.ja[0].I<b;)a.ja.shift().state=20;a=a.Yb;for(b=E()-500;a.Aa.length>0&&a.Aa[0].I<b;){var c=a.Aa.shift();a.cb.remove(qa(c));c.s()}}
function vf(a){if(a.ja.length>0)for(var b=Math.min(a.ja.length,2),c=0;c<b;c++)wf(a,a.ja.pop());Za(a.kc,function(d,f){return d[0]==f[0]?d[1]==f[1]?d[2]-f[2]:d[1]-f[1]:d[0]-f[0]});nf(a.Yb,12)}
function wf(a,b){var c=a.Ge;Za(a.tc,function(g,h){return(x(g.ia)?0:g.ia.I)-(x(h.ia)?0:h.ia.I)});var d=a.tc[0];if(!x(d.ia)&&d.ia.I>b.I)b.state=20;else{c.bindTexture(c.TEXTURE_2D,a.Db);c.texSubImage2D(c.TEXTURE_2D,0,d.x*a.wc,d.y*a.wc,c.RGBA,c.UNSIGNED_BYTE,b.Kb);var f=d.y*a.cc+d.x;c=Pa(a.kc,function(g){return g[3]==f});c[0]=b.zoom;c[1]=b.x;c[2]=b.y;if(!x(d.ia))d.ia.state=20;d.ia=b;d.ia.state=40}}function qf(a,b){this.x=a;this.y=b}qf.prototype.ia=j;function xf(a,b,c,d){this.v=a.v;d=d?d:1;b*=d;c*=d;this.$b=this.v.createBuffer();this.vc=this.v.createBuffer();this.v.bindBuffer(this.v.ARRAY_BUFFER,this.$b);a=b*c*12;for(var f=new Float32Array(a*2),g=new Float32Array(a*2),h=0;h<c;++h)for(var k=0;k<b;++k){var m=function(n,s,o){n=(k*b+h)*6+n;f[n*2+0]=(k-b/2+s)/d;f[n*2+1]=(h-c/2+o)/d;g[n*2+0]=k%d/d+s/d;g[n*2+1]=h%d/d+o/d};m(0,1,1);m(1,0,1);m(2,1,0);m(3,0,1);m(4,0,0);m(5,1,0)}this.v.bufferData(this.v.ARRAY_BUFFER,f,this.v.STATIC_DRAW);this.$b.Pd=2;this.$b.gf=
a;this.v.bindBuffer(this.v.ARRAY_BUFFER,this.vc);this.v.bufferData(this.v.ARRAY_BUFFER,g,this.v.STATIC_DRAW);this.vc.Pd=2;this.vc.gf=a};function W(a,b){if(a instanceof W)this.n=a.ie();else{var c;if(c=ca(a))a:{for(var d=c=0;d<a.length;d++){if(!ca(a[d])||c>0&&a[d].length!=c){c=l;break a}for(var f=0;f<a[d].length;f++)if(!da(a[d][f])){c=l;break a}if(c==0)c=a[d].length}c=c!=0}if(c)this.n=Va(a);else if(a instanceof mc)this.n=yf(a.height,a.width);else if(da(a)&&da(b)&&a>0&&b>0)this.n=yf(a,b);else e(Error("Invalid argument(s) for Matrix contructor"))}this.h=new mc(this.n[0].length,this.n.length)}
function zf(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new W(b)}function Af(a,b,c){for(var d=0;d<a.Ka().height;d++)for(var f=0;f<a.Ka().width;f++)b.call(c,a.n[d][f],d,f,a)}function Bf(a,b){var c=new W(a.Ka());Af(a,function(d,f,g){c.n[f][g]=b.call(void 0,d,f,g,a)});return c}function yf(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}t=W.prototype;
t.add=function(a){nc(this.h,a.Ka())||e(Error("Matrix summation is only supported on arrays of equal size"));return Bf(this,function(b,c,d){return b+a.n[c][d]})};function Cf(a,b){a.h.height!=b.Ka().height&&e(Error("The given matrix has height "+b.h.height+", but  needs to have height "+a.h.height+"."));var c=new W(a.h.height,a.h.width+b.h.width);Af(a,function(d,f,g){c.n[f][g]=d});Af(b,function(d,f,g){c.n[f][this.h.width+g]=d},a);return c}
t.ud=function(a,b){if(this.h.width!=a.h.width)return l;if(this.h.height!=a.h.height)return l;for(var c=b||0,d=0;d<this.h.height;d++)for(var f=0;f<this.h.width;f++)if(!(Math.abs(this.n[d][f]-a.n[d][f])<=(c||1.0E-6)))return l;return i};t.Ka=p("h");function Df(a){var b=new W(a.h.width,a.h.height);Af(a,function(c,d,f){b.n[f][d]=c});return b}function Ef(a,b,c){if(!(b>=0&&b<a.h.height&&c>=0&&c<a.h.width))return j;return a.n[b][c]}
t.multiply=function(a){if(a instanceof W){this.h.width!=a.Ka().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns."));return Ff(this,a)}else if(da(a))return Gf(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};t.wf=function(a){nc(this.h,a.Ka())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return Bf(this,function(b,c,d){return b-a.n[c][d]})};t.ie=p("n");
function Hf(a,b,c,d){var f=new W((c?c:a.h.height-1)-0+1,(d?d:a.h.width-1)-b+1);Af(f,function(g,h,k){f.n[h][k]=this.n[0+h][b+k]},a);return f}function Ff(a,b){var c=new W(a.h.height,b.Ka().width);Af(c,function(d,f,g){for(var h=d=0;h<this.h.width;h++)d+=Ef(this,f,h)*Ef(b,h,g);f>=0&&f<c.h.height&&g>=0&&g<c.h.width||e(Error("Index out of bounds when setting matrix value, ("+f+","+g+") in size ("+c.h.height+","+c.h.width+")"));c.n[f][g]=d},a);return c}
function Gf(a,b){return Bf(a,function(c){return c*b})};function If(a,b,c){function d(k,m){try{var n=k.getContext(m);if(n!=j)return n}catch(s){}return j}for(var f=j,g=["webgl","experimental-webgl"],h=0;x(f)&&h<g.length;++h)f=f||d(a,g[h]);if(x(f))c!==undefined?c():e(Error("unable to get a valid WebGL context"));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.xd=b||j;this.v=f;this.gb=a.width;this.fb=a.height;f.viewport(0,0,this.gb,this.fb);this.Fc=this.Lc=0;this.Ec=
1;this.Jc=this.gb/this.fb;this.df=this.Xc=this.Wa=this.oc=zf(4);this.yd=this.Mc=this.Sd=this.pe=this.wd=0;R(u,"resize",this.sf,l,this)}function Jf(a){a.Lc=50*Math.PI/180;a.Fc=1.0E-6;a.Ec=5;a.Jc=a.gb/a.fb;Kf(a)}function Kf(a){var b=1/Math.tan(a.Lc/2);a.oc=new W([[b/a.Jc,0,0,0],[0,b,0,0],[0,0,(a.Ec+a.Fc)/(a.Fc-a.Ec),2*a.Ec*a.Fc/(a.Fc-a.Ec)],[0,0,-1,0]])}
If.prototype.sf=function(){this.gb=this.canvas.width=this.canvas.clientWidth;this.fb=this.canvas.height=this.canvas.clientHeight;this.v.viewport(0,0,this.gb,this.fb);this.Jc=this.gb/this.fb;Kf(this);Lf(this.d)};If.prototype.translate=function(a,b,c){this.Wa=this.Wa.multiply(new W([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};If.prototype.d=j;
function Mf(a){a.Xc=a.oc.multiply(a.Wa);var b;var c=a.Xc;c.h.width!=c.h.height&&e(Error("An inverse can only be taken on a square matrix."));b=zf(c.h.height);b:{c=Cf(c,b);for(var d=new W(c),f=0,g=0;g<d.h.height;g++){if(f>=d.h.width)break;for(var h=g;d.n[h][f]==0;){h++;if(h==d.h.height){h=g;f++;if(f==d.h.width){c=d;break b}}}var k=c,m=g,n=k.n[h];k.n[h]=k.n[m];k.n[m]=n;h=d.n[g][f];for(k=f;k<d.h.width;k++)d.n[g][k]/=h;for(h=0;h<d.h.height;h++)if(h!=g){m=d.n[h][f];for(k=f;k<d.h.width;k++)d.n[h][k]-=m*
d.n[g][k]}f++}c=d}b=Hf(c,0,b.h.width-1,b.h.height-1).ud(b)?Hf(c,b.h.width):j;a.df=b;return a.Xc};function Nf(a,b,c){c=a.v.createShader(c);a.v.shaderSource(c,b);a.v.compileShader(c);a.v.getShaderParameter(c,a.v.COMPILE_STATUS)||e(Error("Shader err: "+a.v.getShaderInfoLog(c)));return c};function Of(a,b){var c=b.v;this.Ba=a;this.Jf=c.getAttribLocation(this.Ba,"aVertexPosition");c.enableVertexAttribArray(this.Jf);this.xf=c.getAttribLocation(this.Ba,"aTextureCoord");c.enableVertexAttribArray(this.xf);this.qg=Pf(c,this.Ba,"uMVPMatrix");this.Pg=Pf(c,this.Ba,"uTileBuffer");this.pg=Pf(c,this.Ba,"uMetaBuffer");this.Sg=Pf(c,this.Ba,"uTileSize");this.ah=Pf(c,this.Ba,"uZoomLevel");this.Qg=Pf(c,this.Ba,"uTileCount");this.tg=Pf(c,this.Ba,"uOffset")}
function Pf(a,b,c){a=a.getUniformLocation(b,c);if(x(a))e(Error("Invalid name"));else return a};var Qf={};Qf["fs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\nprecision mediump float;varying vec2 vTile;varying vec2 vTC;uniform sampler2D uTileBuffer;uniform float uTileSize;void main(){vec2 TC=clamp(vTC*uTileSize,0.5,uTileSize-0.5);vec2 BC=(vTile+(TC/uTileSize));gl_FragColor=texture2D(uTileBuffer,vec2(BC.s/BUFF_W,BC.t/BUFF_H));}";Qf["vs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\n#define BUFF_SIZE %BUFFER_SIZE_INT%\n#define BINARY_SEARCH_CYCLES %BINARY_SEARCH_CYCLES_INT%\n#define LOOKUP_LEVELS %LOOKUP_LEVELS_INT%\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float MAX_PHI=1.4844222;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uZoomLevel;uniform float uTileCount;uniform vec2 uOffset;uniform vec4 uMetaBuffer[BUFF_SIZE];varying vec2 vTile;varying vec2 vTC;float compareMeta(in vec3 a, in vec3 b){  vec3 c=a-b;  return bool(c.x)?c.x:(bool(c.y)?c.y:c.z);}void main(void) {vec2 phi=PI2*vec2(aVertexPosition.x,aVertexPosition.y+uOffset.y)/uTileCount;if(abs(phi.x)>PI) phi.x=PI;%VERTEX_TRANSFORM%float tilex=mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount);float tiley=aTextureCoord.y-1.0-aVertexPosition.y-uOffset.y+uTileCount*0.5;vec2 off=vec2(0.0,0.0);vec3 key=vec3(uZoomLevel,tilex,tiley);const float last=float(BUFF_SIZE)-1.0;float lastZoomLevel=max(0.0,uZoomLevel-float(LOOKUP_LEVELS)+1.0);int mid=1;float min=0.0,max=last;for (int _i=0;_i<BINARY_SEARCH_CYCLES*LOOKUP_LEVELS;++_i) {if (min>max){if (key.r<=lastZoomLevel) break;key.r--;min=0.0;max=last;off.x=off.x*0.5+mod(key.g,2.0);off.y=off.y*0.5+1.0-mod(key.b,2.0);key.gb=floor(key.gb/2.0);}mid=int((min+max)*0.5);float res=compareMeta(uMetaBuffer[mid].xyz,key);if (res>0.0){max=float(mid)-1.0;} else if (res<0.0){min=float(mid)+1.0;} else {break;}}if (compareMeta(uMetaBuffer[mid].xyz,key)==0.0) {float i=uMetaBuffer[mid].a;float reduction=exp2(uZoomLevel-key.r);vTile.x=mod(i,BUFF_W);vTile.y=floor(i/BUFF_W);vTC.x=off.x*0.5+(aTextureCoord.x)/reduction;vTC.y=off.y*0.5+(aTextureCoord.y)/reduction;return;}vTile=vec2(0.0,0.0);vTC=vec2(0.0,0.0);if ((abs(phi.y)-MAX_PHI)>0.01)vTC=vec2(0.5,0.5);}";function Rf(a){if(a in Qf)a=Qf[a];else{var b=new XMLHttpRequest;b.open("GET","../we/shaders/"+a,l);b.send(j);a=b.responseText}return a};function Sf(a){this.d=a;this.Xd=j;var b={width:this.d.da.cc,height:this.d.da.ld};a=this.d.e.v;var c=Rf("fs.glsl");c=c.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));c=c.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));var d=Rf("vs.glsl");d=d.replace("%VERTEX_TRANSFORM%",this.je);d=d.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));d=d.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));d=d.replace("%BUFFER_SIZE_INT%",(b.width*b.height).toFixed(0));d=d.replace("%BINARY_SEARCH_CYCLES_INT%",
(Math.log(b.width*b.height)/Math.LN2).toFixed(0));d=d.replace("%LOOKUP_LEVELS_INT%",(Tf+1).toFixed(0));b=Nf(this.d.e,c,a.FRAGMENT_SHADER);d=Nf(this.d.e,d,a.VERTEX_SHADER);c=a.createProgram();a.attachShader(c,d);a.attachShader(c,b);a.linkProgram(c);a.getProgramParameter(c,a.LINK_STATUS)||e(Error("Shader program err: "+a.getProgramInfoLog(c)));this.Xd=new Of(c,this.d.e)}Sf.prototype.je="";function Uf(a,b,c){this.x=a!==undefined?Number(a):undefined;this.y=b!==undefined?Number(b):undefined;this.D=c!==undefined?Number(c):undefined}Uf.prototype.aa=function(){return new Uf(this.x,this.y,this.D)};Uf.prototype.ie=function(){return[this.x,this.y,this.D]};function Vf(a,b,c){this.x=Number(a)||0;this.y=Number(b)||0;this.D=Number(c)||0}F(Vf,Uf);t=Vf.prototype;t.aa=function(){return new Vf(this.x,this.y,this.D)};t.scale=function(a){this.x*=a;this.y*=a;this.D*=a;return this};t.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.D*this.D))};t.add=function(a){this.x+=a.x;this.y+=a.y;this.D+=a.D;return this};t.wf=function(a){this.x-=a.x;this.y-=a.y;this.D-=a.D;return this};
t.ud=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.D==a.D};function Wf(a){Sf.call(this,a)}F(Wf,Sf);t=Wf.prototype;t.je="float exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);gl_Position=uMVPMatrix*vec4(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy,1.0);";t.re=function(){return 1/Math.tan(this.d.e.Lc/2)*(Math.cos(Math.abs(this.d.latitude))*2*Math.PI/Math.pow(2,this.d.S)*this.d.cd/2)};
t.Cf=function(){this.d.e.translate(0,0,-1-this.d.rd);var a=this.d.e,b=this.d.latitude,c=Math.cos(b);b=Math.sin(b);a.Wa=a.Wa.multiply(new W([[1,0,0,0],[0,c,-b,0],[0,b,c,0],[0,0,0,1]]));a=this.d.e;b=-nb(this.d.longitude/(2*Math.PI)*this.d.$,1)/this.d.$*2*Math.PI;c=Math.cos(b);b=Math.sin(b);a.Wa=a.Wa.multiply(new W([[c,0,b,0],[0,1,0,0],[-b,0,c,0],[0,0,0,1]]))};t.Fe=function(a,b){var c=b-this.d.mc[0]/this.d.$*2*Math.PI,d=Math.cos(a);return new Vf(Math.sin(c)*d,Math.sin(a),Math.cos(c)*d)};
t.Qe=function(a,b){var c;c=a.x-b.x;var d=a.y-b.y,f=a.D-b.D;c=Math.sqrt(c*c+d*d+f*f);d=a.wf(b).normalize();b.x=-b.x;b.y=-b.y;b.D=-b.D;d=d.x*b.x+d.y*b.y+d.D*b.D;f=d*d-(b.x*b.x+b.y*b.y+b.D*b.D)+1;d=f<0?j:[Math.min(d+Math.sqrt(f),d-Math.sqrt(f)),Math.max(d+Math.sqrt(f),d-Math.sqrt(f))];return x(d)?l:Math.abs(c-d[0])<Math.abs(c-d[1])};var Tf=5;
function Xf(a,b,c,d,f,g,h){this.e=a;this.Oe=b||j;this.Zb=c||document.createElement("div");if(c===undefined){b=this.e.canvas;b.parentNode&&b.parentNode.insertBefore(this.Zb,b.nextSibling)}this.zc=d||document.createElement("img");if(d===undefined){d=this.Zb;d.parentNode&&d.parentNode.insertBefore(this.zc,d.nextSibling)}this.Mf=h||j;this.na=f||new Ye;this.da=new of(this.na,a,8,8);this.dc(this.na);this.Gf=new U(150);R(this.Gf,Ce,C(this.Wg,this));this.Gf.start();this.cd=0;Lf(this);this.S=0;this.$=1;this.longitude=
this.latitude=this.rd=0;this.mc=[0,0];this.$a=g||new Wf(this);this.tf=[new xf(a,1,1,1),new xf(a,4,4,16),new xf(a,6,6,8),new xf(a,8,8,8),new xf(a,10,10,8),new xf(a,10,10,2)];Yf(this,3)}function Zf(a,b,c){a.latitude=Math.min(Math.max(b,-89),89)*Math.PI/180;a.longitude=c*Math.PI/180}Xf.prototype.Ef=function(){if(!x(this.Zb)){Cc(this.Zb);Bc(this.Zb,this.Mf);this.na.Ic(this.Zb)}if(!x(this.zc))if(x(this.na.Bd()))this.zc.style.visibility="hidden";else{this.zc.src=this.na.Bd();this.zc.style.visibility="visible"}};
Xf.prototype.dc=function(a){this.na=a;this.da.dc(this.na);this.na.xe=C(this.Ef,this);Yf(this,this.S);Lf(this);this.Ef()};function Lf(a){a.cd=0.7*a.e.canvas.height/256}function Yf(a,b){a.S=Math.min(Math.max(b,Math.max(3,a.na.Dd())),a.na.Cd());a.$=1<<Math.floor(a.S)}
Xf.prototype.Wg=function(){function a(g,h,k,m,n,s){for(var o=-k;o<=k;o++){var r=Math.abs(o);tf(s.da,m,g+o,h-k,n-r);tf(s.da,m,g+o,h+k,n-r);if(r!=k){tf(s.da,m,g-k,h+o,n-r);tf(s.da,m,g+k,h+o,n-r)}}}for(var b={x:Math.floor(this.longitude/(2*Math.PI)*this.$)+this.$/2,y:this.$-1-(Math.floor($f(this.latitude)/(Math.PI*2)*this.$)+this.$/2)},c=Math.floor(this.S),d=E(),f=1;f<=Tf;f++)tf(this.da,c-f,b.x>>f,b.y>>f,d+f,f>4);a(b.x>>1,b.y>>1,1,c-1,d,this);tf(this.da,c,b.x,b.y,d+3);a(b.x,b.y,1,c,d+2,this);a(b.x,b.y,
2,c,d-5,this);uf(this.da);vf(this.da)};function $f(a){return Math.log(Math.tan(a/2+Math.PI/4))};function ag(a,b,c,d,f,g,h,k){var m,n=c.offsetParent;if(n){var s=n.tagName=="HTML"||n.tagName=="BODY";if(!s||Zd(n,"position")!="static"){m=fe(n);s||(m=qc(m,new N(n.scrollLeft,n.scrollTop)))}}n=je(a);if(s=ee(a)){var o=new Xd(s.left,s.top,s.right-s.left,s.bottom-s.top);s=Math.max(n.left,o.left);var r=Math.min(n.left+n.width,o.left+o.width);if(s<=r){var D=Math.max(n.top,o.top);o=Math.min(n.top+n.height,o.top+o.height);if(D<=o){n.left=s;n.top=D;n.width=r-s;n.height=o-D}}}s=rc(a);D=rc(c);if(s.w!=D.w){r=
s.w.body;D=D.w.parentWindow||D.w.defaultView;o=new N(0,0);var ub=O(r)?O(r).parentWindow||O(r).defaultView:window,me=r;do{var pa;if(ub==D)pa=fe(me);else{var K=me;pa=new N;if(K.nodeType==1)if(K.getBoundingClientRect){K=ce(K);pa.x=K.left;pa.y=K.top}else{var Dc=Oc(rc(K));K=fe(K);pa.x=K.x-Dc.x;pa.y=K.y-Dc.y}else{Dc=ea(K.Yf);var Ec=K;if(K.targetTouches)Ec=K.targetTouches[0];else if(Dc&&K.ea.targetTouches)Ec=K.ea.targetTouches[0];pa.x=Ec.clientX;pa.y=Ec.clientY}}o.x+=pa.x;o.y+=pa.y}while(ub&&ub!=D&&(me=
ub.frameElement)&&(ub=ub.parent));r=qc(o,fe(r));if(I&&!Ac(s.w))r=qc(r,Oc(s));n.left+=r.x;n.top+=r.y}a=(b&4&&ge(a)?b^2:b)&-5;b=new N(a&2?n.left+n.width:n.left,a&1?n.top+n.height:n.top);if(m)b=qc(b,m);if(f){b.x+=(a&2?-1:1)*f.x;b.y+=(a&1?-1:1)*f.y}var B;if(h)if((B=ee(c))&&m){B.top=Math.max(0,B.top-m.y);B.right-=m.x;B.bottom-=m.y;B.left=Math.max(0,B.left-m.x)}a:{m=B;f=b.aa();B=0;a=(d&4&&ge(c)?d^2:d)&-5;d=ie(c);k=k?k.aa():d;if(g||a!=0){if(a&2)f.x-=k.width+(g?g.right:0);else if(g)f.x+=g.left;if(a&1)f.y-=
k.height+(g?g.bottom:0);else if(g)f.y+=g.top}if(h){if(m){g=f;B=0;if(g.x<m.left&&h&1){g.x=m.left;B|=1}if(g.x<m.left&&g.x+k.width>m.right&&h&16){k.width-=g.x+k.width-m.right;B|=4}if(g.x+k.width>m.right&&h&1){g.x=Math.max(m.right-k.width,m.left);B|=1}if(h&2)B|=(g.x<m.left?16:0)|(g.x+k.width>m.right?32:0);if(g.y<m.top&&h&4){g.y=m.top;B|=2}if(g.y>=m.top&&g.y+k.height>m.bottom&&h&32){k.height-=g.y+k.height-m.bottom;B|=8}if(g.y+k.height>m.bottom&&h&4){g.y=Math.max(m.bottom-k.height,m.top);B|=2}if(h&8)B|=
(g.y<m.top?64:0)|(g.y+k.height>m.bottom?128:0);h=B}else h=256;B=h;if(B&496){c=B;break a}}$d(c,f);nc(d,k)||he(c,k);c=B}return c};function bg(){}bg.prototype.vb=aa();function cg(a,b){this.element=a;this.Eb=b}F(cg,bg);cg.prototype.vb=function(a,b,c){ag(this.element,this.Eb,a,b,undefined,c)};function dg(a,b,c){cg.call(this,a,b);this.Nf=c}F(dg,cg);dg.prototype.vb=function(a,b,c,d){var f=ag(this.element,this.Eb,a,b,j,c,10,d);if(f&496){var g=this.Eb,h=b;if(f&48){g^=2;h^=2}if(f&192){g^=1;h^=1}f=ag(this.element,g,a,h,j,c,10,d);if(f&496)this.Nf?ag(this.element,this.Eb,a,b,j,c,5,d):ag(this.element,this.Eb,a,b,j,c,0,d)}};function eg(a,b,c,d){dg.call(this,a,b,c);this.Gg=d}F(eg,dg);eg.prototype.vb=function(a,b,c,d){this.Gg?ag(this.element,this.Eb,a,b,j,c,33,d):eg.a.vb.call(this,a,b,c,d)};function fg(){}var gg;w(fg);t=fg.prototype;t.Ra=aa();t.o=function(a){return a.ka().o("div",this.Hb(a).join(" "),a.kb)};t.N=function(a){return a};t.ec=function(a,b,c){if(a=a.c?a.c():a)if(I&&!M("7")){var d=hg(this,Mb(a),b);d.push(b);ka(c?Nb:Ob,a).apply(j,d)}else c?Nb(a,b):Ob(a,b)};t.Mb=function(a){jf(a)&&this.Xb(a.c(),i);a.P()&&this.yb(a,a.r)};t.ad=function(a,b){ne(a,!b,!I&&!$b)};t.Xb=function(a,b){this.ec(a,this.B()+"-rtl",b)};t.sb=function(a){var b;if(a.Q&32&&(b=a.J()))return Kc(b);return l};
t.yb=function(a,b){var c;if(a.Q&32&&(c=a.J())){if(!b&&a.m&32){try{c.blur()}catch(d){}a.m&32&&a.La(j)}if(Kc(c)!=b)if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}};t.ta=function(a,b){ke(a,b)};t.la=function(a,b,c){var d=a.c();if(d){var f=this.Oc(b);f&&this.ec(a,f,c);this.Ac(d,b,c)}};t.Ac=function(a,b,c){gg||(gg=xa(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=gg[b])&&T(a,b,c)};
t.xb=function(a,b){var c=this.N(a);if(c){Cc(c);if(b)if(z(b))Hc(c,b);else{var d=function(f){if(f){var g=O(c);c.appendChild(z(f)?g.createTextNode(f):f)}};if(y(b))La(b,d);else ca(b)&&!("nodeType"in b)?La(Va(b),d):d(b)}}};t.J=function(a){return a.c()};t.B=q("goog-control");t.Hb=function(a){var b=this.B(),c=[b],d=this.B();d!=b&&c.push(d);b=a.m;for(d=[];b;){var f=b&-b;d.push(this.Oc(f));b&=~f}c.push.apply(c,d);(a=a.xa)&&c.push.apply(c,a);I&&!M("7")&&c.push.apply(c,hg(this,c));return c};
function hg(a,b,c){var d=[];if(c)b=b.concat([c]);La([],function(f){if(Oa(f,ka(Sa,b))&&(!c||Sa(f,c)))d.push(f.join("_"))});return d}t.Oc=function(a){if(!this.ue){var b=this.B();this.ue=xa(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.ue[a]};function ig(a,b){a||e(Error("Invalid class name "+a));ea(b)||e(Error("Invalid decorator function "+b))}var jg={};function X(a,b,c){Ze.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=A(b);if(d=jg[d])break;b=b.a?b.a.constructor:j}b=d?ea(d.fa)?d.fa():new d:j}this.i=b;this.kb=a}F(X,Ze);t=X.prototype;t.kb=j;t.m=0;t.Q=39;t.oe=255;t.he=0;t.r=i;t.xa=j;t.Jd=i;t.hd=l;function kg(a,b){a.z&&b!=a.Jd&&lg(a,b);a.Jd=b}t.J=function(){return this.i.J(this)};t.Pc=function(){return this.L||(this.L=new Je)};
t.ec=function(a,b){if(b){if(a){if(this.xa)Sa(this.xa,a)||this.xa.push(a);else this.xa=[a];this.i.ec(this,a,i)}}else if(a&&this.xa){Ta(this.xa,a);if(this.xa.length==0)this.xa=j;this.i.ec(this,a,l)}};t.o=function(){var a=this.i.o(this);this.b=a;var b=this.i.Ra();b&&se(a,b);this.hd||this.i.ad(a,l);this.r||this.i.ta(a,l)};t.N=function(){return this.i.N(this.c())};
t.X=function(){X.a.X.call(this);this.i.Mb(this);if(this.Q&-2){this.Jd&&lg(this,i);if(this.Q&32){var a=this.J();if(a){var b=this.Pc();b.bc(a);cf(this).j(b,"key",this.oa).j(a,"focus",this.ob).j(a,"blur",this.La)}}}};function lg(a,b){var c=cf(a),d=a.c();if(b){c.j(d,"mouseover",a.Ld).j(d,"mousedown",a.pb).j(d,"mouseup",a.qb).j(d,"mouseout",a.Kd);I&&c.j(d,"dblclick",a.Ie)}else{c.R(d,"mouseover",a.Ld).R(d,"mousedown",a.pb).R(d,"mouseup",a.qb).R(d,"mouseout",a.Kd);I&&c.R(d,"dblclick",a.Ie)}}
t.wa=function(){X.a.wa.call(this);this.L&&this.L.detach();this.r&&this.P()&&this.i.yb(this,l)};t.g=function(){X.a.g.call(this);if(this.L){this.L.s();delete this.L}delete this.i;this.xa=this.kb=j};t.xb=function(a){this.i.xb(this.c(),a);this.kb=a};function mg(a,b){var c=a.kb;if(!c||z(c))return c;return(c=y(c)?Na(c,b).join(""):Lc(c))&&ya(c)}t.Nc=function(){return mg(this,Lc)};t.Xb=function(a){X.a.Xb.call(this,a);var b=this.c();b&&this.i.Xb(b,a)};
t.ad=function(a){this.hd=a;var b=this.c();b&&this.i.ad(b,a)};t.ta=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.i.ta(c,a);this.P()&&this.i.yb(this,a);this.r=a;return i}return l};t.P=function(){return!(this.m&1)};t.Na=function(a){ng(this,2,a)&&this.la(2,a)};t.setActive=function(a){ng(this,4,a)&&this.la(4,a)};t.fe=function(a){ng(this,8,a)&&this.la(8,a)};t.za=function(){return!!(this.m&64)};t.G=function(a){ng(this,64,a)&&this.la(64,a)};
t.la=function(a,b){if(this.Q&a&&b!=!!(this.m&a)){this.i.la(this,a,b);this.m=b?this.m|a:this.m&~a}};function og(a,b,c){a.z&&a.m&b&&!c&&e(Error("Component already rendered"));!c&&a.m&b&&a.la(b,l);a.Q=c?a.Q|b:a.Q&~b}function Y(a,b){return!!(a.oe&b)&&!!(a.Q&b)}function ng(a,b,c){return!!(a.Q&b)&&!!(a.m&b)!=c&&(!(a.he&b)||a.dispatchEvent(af(b,c)))&&!a.qd}t.Ld=function(a){!(a.relatedTarget&&Gc(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.P()&&Y(this,2)&&this.Na(i)};
t.Kd=function(a){if(!(a.relatedTarget&&Gc(this.c(),a.relatedTarget))&&this.dispatchEvent("leave")){Y(this,4)&&this.setActive(l);Y(this,2)&&this.Na(l)}};t.pb=function(a){if(this.P()){Y(this,2)&&this.Na(i);if(cd(a,0)&&!(L&&Ub&&a.ctrlKey)){Y(this,4)&&this.setActive(i);this.i.sb(this)&&this.J().focus()}}!this.hd&&cd(a,0)&&!(L&&Ub&&a.ctrlKey)&&a.preventDefault()};t.qb=function(a){if(this.P()){Y(this,2)&&this.Na(i);this.m&4&&this.Rb(a)&&Y(this,4)&&this.setActive(l)}};t.Ie=function(a){this.P()&&this.Rb(a)};
t.Rb=function(a){if(Y(this,16)){var b=!(this.m&16);ng(this,16,b)&&this.la(16,b)}Y(this,8)&&this.fe(i);Y(this,64)&&this.G(!this.za());b=new Zc("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};t.ob=function(){Y(this,32)&&ng(this,32,i)&&this.la(32,i)};t.La=function(){Y(this,4)&&this.setActive(l);Y(this,32)&&ng(this,32,l)&&this.la(32,l)};
t.oa=function(a){if(this.r&&this.P()&&this.Jb(a)){a.preventDefault();a.stopPropagation();return i}return l};t.Jb=function(a){return a.keyCode==13&&this.Rb(a)};ea(X)||e(Error("Invalid component class "+X));ea(fg)||e(Error("Invalid renderer class "+fg));var pg=A(X);jg[pg]=fg;ig("goog-control",function(){return new X(j)});function qg(){}F(qg,fg);w(qg);t=qg.prototype;t.Ra=q("button");t.Ac=function(a,b,c){b==16?T(a,"pressed",c):qg.a.Ac.call(this,a,b,c)};t.o=function(a){var b=qg.a.o.call(this,a),c=a.Rc();c&&this.ge(b,c);(c=a.K())&&this.Ea(b,c);a.Q&16&&this.Ac(b,16,l);return b};t.K=v;t.Ea=v;t.Rc=function(a){return a.title};t.ge=function(a,b){if(a)a.title=b||""};t.B=q("goog-button");function rg(){}F(rg,qg);w(rg);t=rg.prototype;t.Ra=aa();t.o=function(a){kg(a,l);a.oe&=-256;og(a,32,l);return a.ka().o("button",{"class":this.Hb(a).join(" "),disabled:!a.P(),title:a.Rc()||"",value:a.K()||""},a.Nc()||"")};t.Mb=function(a){cf(a).j(a.c(),"click",a.Rb)};t.ad=v;t.Xb=v;t.sb=function(a){return a.P()};t.yb=v;t.la=function(a,b,c){rg.a.la.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};t.K=function(a){return a.value};t.Ea=function(a,b){if(a)a.value=b};t.Ac=v;function sg(a,b,c){X.call(this,a,b||rg.fa(),c)}F(sg,X);t=sg.prototype;t.K=p("If");t.Ea=function(a){this.If=a;this.i.Ea(this.c(),a)};t.Rc=p("Bf");t.ge=function(a){this.Bf=a;this.i.ge(this.c(),a)};t.g=function(){sg.a.g.call(this);delete this.If;delete this.Bf};t.X=function(){sg.a.X.call(this);if(this.Q&32){var a=this.J();a&&cf(this).j(a,"keyup",this.Jb)}};t.Jb=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Rb(a);return a.keyCode==32};ig("goog-button",function(){return new sg(j)});function tg(){}F(tg,fg);w(tg);tg.prototype.o=function(a){return a.ka().o("div",this.B())};tg.prototype.xb=aa();tg.prototype.B=q("goog-menuseparator");function ug(a,b){X.call(this,j,a||tg.fa(),b);og(this,1,l);og(this,2,l);og(this,4,l);og(this,32,l);this.m=1}F(ug,X);ug.prototype.X=function(){ug.a.X.call(this);se(this.c(),"separator")};ig("goog-menuseparator",function(){return new ug});function vg(){}w(vg);t=vg.prototype;t.Ra=aa();t.o=function(a){return a.ka().o("div",this.Hb(a).join(" "))};t.N=function(a){return a};t.Mb=function(a){a=a.c();ne(a,i,J);if(I)a.hideFocus=i;var b=this.Ra();b&&se(a,b)};t.J=function(a){return a.c()};t.B=q("goog-container");t.Hb=function(a){var b=this.B(),c=[b,a.Pb==wg?b+"-horizontal":b+"-vertical"];a.P()||c.push(b+"-disabled");return c};function xg(){}F(xg,vg);w(xg);xg.prototype.Ra=q("menu");xg.prototype.jb=function(a,b){return Gc(a.c(),b)};xg.prototype.B=q("goog-menu");xg.prototype.Mb=function(a){xg.a.Mb.call(this,a);T(a.c(),"haspopup","true")};ig("goog-menuseparator",function(){return new ug});function yg(){this.ve=[]}F(yg,fg);w(yg);function zg(a,b){var c=a.ve[b];if(!c){switch(b){case 0:c=a.B()+"-highlight";break;case 1:c=a.B()+"-checkbox";break;case 2:c=a.B()+"-content"}a.ve[b]=c}return c}t=yg.prototype;t.Ra=q("menuitem");t.o=function(a){var b=a.ka().o("div",this.Hb(a).join(" "),Ag(this,a.kb,a.ka())),c=!!(a.Q&8)||!!(a.Q&16);if(c!=Bg(this,b)){c?Nb(b,"goog-option"):Ob(b,"goog-option");var d=this.N(b);if(c){c=zg(this,1);d.insertBefore(a.ka().o("div",c),d.firstChild||j)}else d.removeChild(d.firstChild)}return b};
t.N=function(a){return a&&a.firstChild};t.xb=function(a,b){var c=this.N(a),d=Bg(this,a)?c.firstChild:j;yg.a.xb.call(this,a,b);if(d&&!Bg(this,a))c.insertBefore(d,c.firstChild||j)};function Ag(a,b,c){a=zg(a,2);return c.o("div",a,b)}function Bg(a,b){var c=a.N(b);if(c){c=c.firstChild;var d=zg(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return l}t.Oc=function(a){switch(a){case 2:return zg(this,0);case 16:case 8:return"goog-option-selected";default:return yg.a.Oc.call(this,a)}};t.B=q("goog-menuitem");function Cg(a,b,c,d){X.call(this,a,d||yg.fa(),c);this.Ea(b)}F(Cg,X);Cg.prototype.K=function(){var a=this.Zd;return a!=j?a:this.Nc()};Cg.prototype.Ea=function(a){this.Zd=a};Cg.prototype.Nc=function(){return mg(this,function(a){return Sa(Mb(a),"goog-menuitem-accel")?"":Lc(a)})};Cg.prototype.qb=function(a){var b=this.getParent();if(b){var c=b.mf;b.mf=j;if(c&&da(a.clientX)){b=new N(a.clientX,a.clientY);c=c==b?i:!c||!b?l:c.x==b.x&&c.y==b.y;if(c)return}}Cg.a.qb.call(this,a)};ig("goog-menuitem",function(){return new Cg(j)});function Dg(a,b,c){Ze.call(this,c);this.i=b||vg.fa();this.Pb=a||Eg}F(Dg,Ze);var wg="horizontal",Eg="vertical";t=Dg.prototype;t.Se=j;t.L=j;t.i=j;t.Pb=j;t.r=i;t.Kc=i;t.vd=i;t.O=-1;t.H=j;t.Xa=l;t.Of=l;t.Ag=i;t.Oa=j;t.J=function(){return this.Se||this.i.J(this)};t.Pc=function(){return this.L||(this.L=new Je(this.J()))};t.o=function(){this.b=this.i.o(this)};t.N=function(){return this.i.N(this.c())};
t.X=function(){Dg.a.X.call(this);gf(this,function(b){b.z&&Fg(this,b)},this);var a=this.c();this.i.Mb(this);this.ta(this.r,i);cf(this).j(this,"enter",this.Gd).j(this,"highlight",this.Hd).j(this,"unhighlight",this.Md).j(this,"open",this.gg).j(this,"close",this.$f).j(a,"mousedown",this.pb).j(O(a),"mouseup",this.bg).j(a,["mousedown","mouseup","mouseover","mouseout"],this.Zf);this.sb()&&Gg(this,i)};
function Gg(a,b){var c=cf(a),d=a.J();b?c.j(d,"focus",a.ob).j(d,"blur",a.La).j(a.Pc(),"key",a.oa):c.R(d,"focus",a.ob).R(d,"blur",a.La).R(a.Pc(),"key",a.oa)}t.wa=function(){Hg(this,-1);this.H&&this.H.G(l);this.Xa=l;Dg.a.wa.call(this)};t.g=function(){Dg.a.g.call(this);if(this.L){this.L.s();this.L=j}this.i=this.H=this.Oa=j};t.Gd=q(i);
t.Hd=function(a){var b=kf(this,a.target);if(b>-1&&b!=this.O){var c=V(this,this.O);c&&c.Na(l);this.O=b;c=V(this,this.O);this.Xa&&c.setActive(i);if(this.Ag&&this.H&&c!=this.H)c.Q&64?c.G(i):this.H.G(l)}T(this.c(),"activedescendant",a.target.c().id)};t.Md=function(a){if(a.target==V(this,this.O))this.O=-1;T(this.c(),"activedescendant","")};t.gg=function(a){if((a=a.target)&&a!=this.H&&a.getParent()==this){this.H&&this.H.G(l);this.H=a}};t.$f=function(a){if(a.target==this.H)this.H=j};
t.pb=function(a){if(this.Kc)this.Xa=i;var b=this.J();b&&Kc(b)?b.focus():a.preventDefault()};t.bg=function(){this.Xa=l};t.Zf=function(a){var b;a:{b=a.target;if(this.Oa)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Oa){b=this.Oa[d];break a}b=b.parentNode}b=j}if(b)switch(a.type){case "mousedown":b.pb(a);break;case "mouseup":b.qb(a);break;case "mouseover":b.Ld(a);break;case "mouseout":b.Kd(a)}};t.ob=aa();t.La=function(){Hg(this,-1);this.Xa=l;this.H&&this.H.G(l)};
t.oa=function(a){if(this.P()&&this.r&&(hf(this)!=0||this.Se)&&this.Jb(a)){a.preventDefault();a.stopPropagation();return i}return l};
t.Jb=function(a){var b=V(this,this.O);if(b&&typeof b.oa=="function"&&b.oa(a))return i;if(this.H&&this.H!=b&&typeof this.H.oa=="function"&&this.H.oa(a))return i;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return l;switch(a.keyCode){case 27:if(this.sb())this.J().blur();else return l;break;case 36:Ig(this);break;case 35:Jg(this);break;case 38:if(this.Pb==Eg)Kg(this);else return l;break;case 37:if(this.Pb==wg)jf(this)?Lg(this):Kg(this);else return l;break;case 40:if(this.Pb==Eg)Lg(this);else return l;
break;case 39:if(this.Pb==wg)jf(this)?Kg(this):Lg(this);else return l;break;default:return l}return i};function Fg(a,b){var c=b.c();c=c.id||(c.id=bf(b));if(!a.Oa)a.Oa={};a.Oa[c]=b}t.Gc=function(a,b){Dg.a.Gc.call(this,a,b)};t.ac=function(a,b,c){a.he|=2;a.he|=64;if(this.sb()||!this.Of)og(a,32,l);kg(a,l);Dg.a.ac.call(this,a,b,c);c&&this.z&&Fg(this,a);b<=this.O&&this.O++};
t.removeChild=function(a,b){if(a=z(a)?ef(this,a):a){var c=kf(this,a);if(c!=-1)if(c==this.O)a.Na(l);else c<this.O&&this.O--;var d=a.c();if(d&&d.id){c=this.Oa;d=d.id;d in c&&delete c[d]}}a=Dg.a.removeChild.call(this,a,b);kg(a,i);return a};t.ta=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){this.r=a;var c=this.c();if(c){ke(c,a);if(this.sb())if(c=this.J())c.tabIndex=this.Kc&&this.r?0:-1;b||this.dispatchEvent(this.r?"aftershow":"afterhide")}return i}return l};t.P=p("Kc");t.sb=p("vd");
t.yb=function(a){a!=this.vd&&this.z&&Gg(this,a);this.vd=a;if(this.Kc&&this.r){var b=this.J();if(b)b.tabIndex=a?0:-1}};function Hg(a,b){var c=V(a,b);if(c)c.Na(i);else a.O>-1&&V(a,a.O).Na(l)}t.Na=function(a){Hg(this,kf(this,a))};function Ig(a){Mg(a,function(b,c){return(b+1)%c},hf(a)-1)}function Jg(a){Mg(a,function(b,c){b--;return b<0?c-1:b},0)}function Lg(a){Mg(a,function(b,c){return(b+1)%c},a.O)}function Kg(a){Mg(a,function(b,c){b--;return b<0?c-1:b},a.O)}
function Mg(a,b,c){c=c<0?kf(a,a.H):c;var d=hf(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=V(a,c);if(g&&a.te(g)){Hg(a,c);break}f++;c=b.call(a,c,d)}}t.te=function(a){return a.r&&a.P()&&!!(a.Q&2)};function Ng(){}F(Ng,fg);w(Ng);Ng.prototype.B=q("goog-menuheader");function Og(a,b,c){X.call(this,a,c||Ng.fa(),b);og(this,1,l);og(this,2,l);og(this,4,l);og(this,32,l);this.m=1}F(Og,X);ig("goog-menuheader",function(){return new Og(j)});function Pg(a,b){Dg.call(this,Eg,b||xg.fa(),a);this.yb(l)}F(Pg,Dg);t=Pg.prototype;t.gd=i;t.Pf=l;t.B=function(){return this.i.B()};t.jb=function(a){if(this.i.jb(this,a))return i;for(var b=0,c=hf(this);b<c;b++){var d=V(this,b);if(typeof d.jb=="function"&&d.jb(a))return i}return l};t.Ga=function(a){this.Gc(a,i)};t.Cb=function(a,b){this.ac(a,b,i)};t.Ad=function(a){return V(this,a)};t.gc=function(){return hf(this)};
t.ta=function(a,b,c){(b=Pg.a.ta.call(this,a,b))&&a&&this.z&&this.gd&&this.J().focus();this.mf=a&&c&&da(c.clientX)?new N(c.clientX,c.clientY):j;return b};t.Gd=function(a){this.gd&&this.J().focus();return Pg.a.Gd.call(this,a)};t.te=function(a){return(this.Pf||a.P())&&a.r&&!!(a.Q&2)};function Qg(){}F(Qg,qg);w(Qg);t=Qg.prototype;t.o=function(a){var b={"class":"goog-inline-block "+this.Hb(a).join(" "),title:a.Rc()||""};return a.ka().o("div",b,this.nd(a.kb,a.ka()))};t.Ra=q("button");t.N=function(a){return a&&a.firstChild.firstChild};t.nd=function(a,b){return b.o("div","goog-inline-block "+(this.B()+"-outer-box"),b.o("div","goog-inline-block "+(this.B()+"-inner-box"),a))};t.B=q("goog-custom-button");function Rg(){}F(Rg,Qg);w(Rg);if(J)Rg.prototype.xb=function(a,b){var c=Rg.a.N.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,rc(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};Rg.prototype.N=function(a){a=Rg.a.N.call(this,a&&a.firstChild);if(J&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};Rg.prototype.nd=function(a,b){return Rg.a.nd.call(this,[this.createCaption(a,b),b.o("div","goog-inline-block "+(this.B()+"-dropdown"),"\u00a0")],b)};
Rg.prototype.createCaption=function(a,b){return b.o("div","goog-inline-block "+(this.B()+"-caption"),a)};Rg.prototype.B=q("goog-menu-button");function Z(a,b,c,d){sg.call(this,a,c||Rg.fa(),d);og(this,64,i);b&&this.bd(b);this.u=new U(500)}F(Z,sg);t=Z.prototype;t.me=i;t.de=l;t.Od=l;t.Eg=l;t.X=function(){Z.a.X.call(this);this.f&&Sg(this,this.f,i);T(this.c(),"haspopup","true")};t.wa=function(){Z.a.wa.call(this);if(this.f){this.G(l);this.f.wa();Sg(this,this.f,l);var a=this.f.c();a&&Fc(a)}};t.g=function(){Z.a.g.call(this);if(this.f){this.f.s();delete this.f}delete this.Cg;this.u.s()};
t.pb=function(a){Z.a.pb.call(this,a);if(this.m&4){this.G(!this.za(),a);if(this.f)this.f.Xa=this.za()}};t.qb=function(a){Z.a.qb.call(this,a);if(this.f&&!(this.m&4))this.f.Xa=l};t.Rb=function(){this.setActive(l);return i};t.ag=function(a){this.f&&this.f.r&&!this.jb(a.target)&&this.G(l)};t.jb=function(a){return a&&Gc(this.c(),a)||this.f&&this.f.jb(a)||l};
t.Jb=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return l}else if(a.type!="key")return l;if(this.f&&this.f.r){var b=this.f.oa(a);if(a.keyCode==27){this.G(l);return i}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.G(i);return i}return l};t.Id=function(){this.G(l)};t.fg=function(){this.m&4||this.G(l)};t.La=function(a){this.Od||this.G(l);Z.a.La.call(this,a)};function Tg(a){a.f||a.bd(new Pg(a.ka()));return a.f||j}
t.bd=function(a){var b=this.f;if(a!=b){if(b){this.G(l);this.z&&Sg(this,b,l);delete this.f}if(a){this.f=a;df(a,this);a.ta(l);var c=this.Od;(a.gd=c)&&a.yb(i);this.z&&Sg(this,a,i)}}return b};t.Ga=function(a){Tg(this).Gc(a,i)};t.Cb=function(a,b){Tg(this).ac(a,b,i)};t.Ad=function(a){return this.f?V(this.f,a):j};t.gc=function(){return this.f?hf(this.f):0};t.ta=function(a,b){var c=Z.a.ta.call(this,a,b);c&&!this.r&&this.G(l);return c};
t.G=function(a,b){Z.a.G.call(this,a);if(this.f&&!!(this.m&64)==a){if(a){this.f.z||(this.Eg?this.f.Ub(this.c().parentNode):this.f.Ub());this.Kf=ee(this.c());this.qe=je(this.c());Ug(this);Hg(this.f,-1)}else{this.setActive(l);this.f.Xa=l;if(this.Zc!=j){this.Zc=undefined;var c=this.f.c();c&&he(c,"","")}}this.f.ta(a,l,b);c=cf(this);var d=a?c.j:c.R;d.call(c,Nc(this.ka()),"mousedown",this.ag,i);this.Od&&d.call(c,this.f,"blur",this.fg);d.call(c,this.u,Ce,this.Yc);a?this.u.start():this.u.stop()}};
function Ug(a){if(a.f.z){var b=new eg(a.Cg||a.c(),a.me?5:7,!a.de,a.de),c=a.f.c();if(!a.f.r){c.style.visibility="hidden";ke(c,i)}if(!a.Zc&&a.de)a.Zc=ie(c);b.vb(c,a.me?4:6,j,a.Zc);if(!a.f.r){ke(c,l);c.style.visibility="visible"}}}
t.Yc=function(){var a=je(this.c()),b=ee(this.c()),c;c=this.qe;c=c==a?i:!c||!a?l:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.Kf;c=c==b?i:!c||!b?l:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.qe=a;this.Kf=b;Ug(this)}};function Sg(a,b,c){var d=cf(a);c=c?d.j:d.R;c.call(d,b,"action",a.Id);c.call(d,b,"highlight",a.Hd);c.call(d,b,"unhighlight",a.Md)}t.Hd=function(a){T(this.c(),"activedescendant",a.target.c().id)};
t.Md=function(){V(this.f,this.f.O)||T(this.c(),"activedescendant","")};ig("goog-menu-button",function(){return new Z(j)});function Vg(a){G.call(this);this.tb=[];Wg(this,a)}F(Vg,Ed);t=Vg.prototype;t.bb=j;t.wb=j;t.gc=function(){return this.tb.length};t.Ad=function(a){return this.tb[a]||j};function Wg(a,b){if(b){La(b,function(c){Xg(this,c,l)},a);Wa(a.tb,b)}}t.Ga=function(a){this.Cb(a,this.gc())};t.Cb=function(a,b){if(a){Xg(this,a,l);Xa(this.tb,b,0,a)}};t.Qc=p("bb");t.zb=function(a){if(a!=this.bb){Xg(this,this.bb,l);this.bb=a;Xg(this,a,i)}this.dispatchEvent("select")};t.Ed=function(){return this.bb?Ka(this.tb,this.bb):-1};
t.clear=function(){var a=this.tb;if(!y(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.bb=j};t.g=function(){Vg.a.g.call(this);delete this.tb;this.bb=j};function Xg(a,b,c){if(b)if(typeof a.wb=="function")a.wb(b,c);else typeof b.fe=="function"&&b.fe(c)};function $(a,b,c,d){Z.call(this,a,b,c,d);this.pd=a;Yg(this)}F($,Z);t=$.prototype;t.C=j;t.pd=j;t.X=function(){$.a.X.call(this);Yg(this);Zg(this)};t.g=function(){$.a.g.call(this);if(this.C){this.C.s();this.C=j}this.pd=j};t.Id=function(a){this.zb(a.target);$.a.Id.call(this,a);a.stopPropagation();this.dispatchEvent("action")};t.hg=function(){var a=this.Qc();$.a.Ea.call(this,a&&a.K());Yg(this)};
t.bd=function(a){var b=$.a.bd.call(this,a);if(a!=b){this.C&&this.C.clear();if(a)this.C?gf(a,function(c){this.C.Ga(c)},this):$g(this,a)}return b};t.Ga=function(a){$.a.Ga.call(this,a);this.C?this.C.Ga(a):$g(this,Tg(this))};t.Cb=function(a,b){$.a.Cb.call(this,a,b);this.C?this.C.Cb(a,b):$g(this,Tg(this))};t.zb=function(a){this.C&&this.C.zb(a)};t.Ea=function(a){if(a!=j&&this.C)for(var b=0,c;c=this.C.Ad(b);b++)if(c&&typeof c.K=="function"&&c.K()==a){this.zb(c);return}this.zb(j)};
t.Qc=function(){return this.C?this.C.Qc():j};t.Ed=function(){return this.C?this.C.Ed():-1};function $g(a,b){a.C=new Vg;b&&gf(b,function(c){this.C.Ga(c)},a);Zg(a)}function Zg(a){a.C&&cf(a).j(a.C,"select",a.hg)}function Yg(a){var b=a.Qc();a.xb(b?b.Nc():a.pd)}t.G=function(a){$.a.G.call(this,a);this.za()&&Hg(Tg(this),this.Ed())};ig("goog-select",function(){return new $(j)});function ah(a,b){this.p=a;this.ha=new $("---");this.U=R(this.ha,"action",function(c){c=c.target.K();a.$a=c});this.ha.Ub(b)}F(ah,G);ah.prototype.Hc=function(a,b,c){a=new Cg(a,b);this.ha.Ga(a);if(c||this.ha.gc()==1){this.ha.zb(a);this.p.$a=b}};ah.prototype.g=function(){S(this.U);this.ha.s()};function bh(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function ch(a,b){var c;this.name="Bing Maps - "+a;var d="bingsCallback_"+a;c="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+d;u[d]=u[d]!==undefined?bh(C(this.uf,this),u[d]):C(this.uf,this);d=document.createElement("script");d.src=c;d.type="text/javascript";c=document;var f="head".toUpperCase();c=c.querySelectorAll&&c.querySelector&&(!L||Ac(document)||M("528"))&&f?c.querySelectorAll(f+""):c.getElementsByTagName(f||"*");c[0].appendChild(d)}F(ch,mb);t=ch.prototype;
t.uf=function(a){this.lc=a;if(a.resourceSets.length>0)this.Da=a.resourceSets[0].resources[0];this.xe()};t.Dd=function(){return x(this.Da)?0:this.Da.zoomMin};t.Cd=function(){return x(this.Da)?18:this.Da.zoomMax};function dh(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}t.Fd=function(a,b,c){return x(this.Da)?"":this.Da.imageUrl.replace("{subdomain}",this.Da.imageUrlSubdomains[Math.floor(Math.random()*this.Da.imageUrlSubdomains.length)]).replace("{quadkey}",dh(a,b,c))};
t.Wd=function(a){return x(this.Da)?l:ch.a.Wd.call(this,a)};t.Ic=function(a){x(this.lc)||Bc(a,this.lc.copyright)};t.Bd=function(){if(!x(this.lc))return this.lc.brandLogoUri;return j};t.lc=j;t.Da=j;function eh(a){Sf.call(this,a)}F(eh,Sf);t=eh.prototype;t.je="gl_Position=uMVPMatrix*vec4(phi.x/PI,phi.y/PI,0.0,1.0);";t.re=function(){return 1/Math.tan(this.d.e.Lc/2)*(2*this.d.cd/Math.pow(2,this.d.S)/2)};t.Cf=function(){this.d.e.translate(-2*nb(this.d.longitude/(2*Math.PI)*this.d.$,1)/this.d.$,-Math.log(Math.tan(this.d.latitude/2+Math.PI/4))/Math.PI,-this.d.rd)};t.Fe=function(a,b){return new Vf(b/Math.PI-this.d.mc[0]/this.d.$*2,$f(a)/Math.PI,0)};t.Qe=q(i);function fh(a,b,c,d){G.call(this);if(!y(a)||!y(b))e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.uc=a;this.Vf=b;this.duration=c;this.ke=d;this.coords=[]}F(fh,Ed);var gh={},hh=j;function ih(){Be.clearTimeout(hh);var a=E(),b;for(b in gh)jh(gh[b],a);hh=ua(gh)?j:Be.setTimeout(ih,20)}function kh(a){a=A(a);delete gh[a];if(hh&&ua(gh)){Be.clearTimeout(hh);hh=j}}t=fh.prototype;t.m=0;t.Ee=0;t.ga=0;t.startTime=j;t.De=j;
t.Td=j;t.play=function(a){if(a||this.m==0){this.ga=0;this.coords=this.uc}else if(this.m==1)return l;kh(this);this.startTime=E();if(this.m==-1)this.startTime-=this.duration*this.ga;this.De=this.startTime+this.duration;this.Td=this.startTime;this.ga||lh(this,"begin");lh(this,"play");this.m==-1&&lh(this,"resume");this.m=1;a=A(this);a in gh||(gh[a]=this);hh||(hh=Be.setTimeout(ih,20));jh(this,this.startTime);return i};
t.stop=function(a){kh(this);this.m=0;if(a)this.ga=1;mh(this,this.ga);lh(this,"stop");lh(this,"end")};t.g=function(){this.m!=0&&this.stop(l);lh(this,"destroy");fh.a.g.call(this)};function jh(a,b){a.ga=(b-a.startTime)/(a.De-a.startTime);if(a.ga>=1)a.ga=1;a.Ee=1E3/(b-a.Td);a.Td=b;ea(a.ke)?mh(a,a.ke(a.ga)):mh(a,a.ga);if(a.ga==1){a.m=0;kh(a);lh(a,"finish");lh(a,"end")}else a.m==1&&lh(a,"animate")}
function mh(a,b){a.coords=Array(a.uc.length);for(var c=0;c<a.uc.length;c++)a.coords[c]=(a.Vf[c]-a.uc[c])*b+a.uc[c]}function lh(a,b){a.dispatchEvent(new nh(b,a))}function nh(a,b){Zc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.D=b.coords[2];this.duration=b.duration;this.ga=b.ga;this.wd=b.Ee;this.state=b.m;this.bh=b}F(nh,Zc);function oh(a){return 1-Math.pow(1-a,3)};function ph(a){this.p=a;this.td=l;this.Ce=this.Be=this.Za=this.Ya=0;this.U=j;this.sd=new U(25);this.rb=j;R(this.p.e.canvas,"mousedown",C(this.xg,this));R(O(this.p.e.canvas),"mouseup",C(this.zg,this));R(this.sd,Ce,this.vg,l,this)}t=ph.prototype;t.xg=function(a){if(cd(a,0)){if(this.rb){this.rb.stop(l);this.rb.s();this.rb=j}this.td=i;this.Ya=a.screenX;this.Za=a.screenY;if(!x(this.U)){S(this.U);this.U=j}this.U=R(O(this.p.e.canvas),"mousemove",C(this.yg,this));a.preventDefault()}};
t.zg=function(a){if(this.td&&(a.type!="mousedown"||cd(a,0))){this.Be=a.screenX;this.Ce=a.screenY;a.preventDefault();this.sd.start()}};function qh(a,b,c){var d=Math.PI*(1/a.p.e.canvas.height)*(a.p.cd/Math.pow(2,a.p.S));a.p.longitude-=b*2*d;a.p.latitude+=c*d;if(Math.abs(a.p.latitude)>Math.PI/2.1)a.p.latitude=(a.p.latitude==0?0:a.p.latitude<0?-1:1)*(Math.PI/2.1);if(a.p.longitude>Math.PI)a.p.longitude-=2*Math.PI;if(a.p.longitude<-Math.PI)a.p.longitude+=2*Math.PI}
t.yg=function(a){qh(this,a.screenX-this.Ya,a.screenY-this.Za);this.Ya=a.screenX;this.Za=a.screenY;a.preventDefault()};t.vg=function(){this.sd.stop();this.td=l;if(!x(this.U)){S(this.U);this.U=j}var a=this.Ya-this.Be,b=this.Za-this.Ce,c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));if(c>6){var d=Math.max(15,c)*8;this.rb=new fh([this.Ya,this.Za],[this.Ya+d*(a/c),this.Za+d*(b/c)],1300,oh);R(this.rb,["animate"],this.kg,l,this);this.rb.play(l)}};
t.kg=function(a){qh(this,a.x-this.Ya,a.y-this.Za);this.Ya=a.x;this.Za=a.y};function rh(a,b,c){this.Ue=a;this.Xe=b;this.element=c;this.parentElement=j;this.enabled=i}t=rh.prototype;t.bc=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};t.detach=function(){if(this.parentElement){Fc(this.element);this.parentElement=j}};t.enable=function(a){(this.enabled=a||l)||this.show(l)};t.P=p("enabled");t.show=function(a){this.element.style.display=a===l?"none":"block"};function sh(a,b){this.p=a;this.b=b;this.Yd=new ib}function th(a,b){b.bc(a.b);a.Yd.sa("nominatimMarker",b)}
sh.prototype.Vg=function(a){a=this.Yd.get(a);if(a.P()){var b;a:{b=this.p;var c=b.$a.Fe(a.Ue*Math.PI/180,a.Xe*Math.PI/180),d=b.e.Xc.multiply(new W([[c.x],[c.y],[c.D],[1]]));if(Ef(d,3,0)==0)b=j;else{d=d.multiply(1/Ef(d,3,0));var f=(Ef(d,0,0)+1)/2*b.e.gb;d=(Ef(d,1,0)-1)/-2*b.e.fb;var g=1;if(f<0||f>b.e.gb||d<0||d>b.e.fb)g=0;else{g=b.e.df;if(x(g))g=j;else{g=g.multiply(new W([[0],[0],[-1],[1]]));if(Ef(g,3,0)==0)g=j;else{g=g.multiply(1/Ef(g,3,0));g=new Vf(Ef(g,0,0),Ef(g,1,0),Ef(g,2,0))}}if(x(g)){b=j;break a}g=
b.$a.Qe(c,g)?1:0}b=[f,d,g]}}if(b!=j){c=b[1];a.element.style.left=b[0].toFixed()+"px";a.element.style.top=c.toFixed()+"px";a.enabled&&a.show(i);a.show(b[2]>0)}else a.show(l)}};function uh(a){G.call(this);this.b=a;this.U=R(this.b,J?"DOMMouseScroll":"mousewheel",this)}F(uh,Ed);
uh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.ea;if(a.type=="mousewheel"){c=1;if(I||L&&(Vb||M("532.0")))c=40;d=L&&Ub&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;if(a.wheelDeltaX!==undefined){b=L&&Ub&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c;c=L&&Ub&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c}else c=d}else{d=a.detail;if(d>100)d=3;else if(d<-100)d=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)b=d;else c=d}if(da(this.af))b=Math.min(Math.max(b,-this.af),this.af);
if(da(this.bf))c=Math.min(Math.max(c,-this.bf),this.bf);b=new vh(d,a,b,c);try{this.dispatchEvent(b)}finally{b.s()}};uh.prototype.g=function(){uh.a.g.call(this);S(this.U);delete this.U};function vh(a,b,c,d){b&&this.Lb(b,void 0);this.type="mousewheel";this.detail=a;this.dh=c;this.ze=d}F(vh,ad);function wh(a){this.p=a;this.cf=new uh(a.e.canvas);this.U=R(this.cf,"mousewheel",function(b){xh(this,-(b.ze==0?0:b.ze<0?-1:1));b.preventDefault()},l,this);this.Tf=R(a.e.canvas,"dblclick",C(function(b){Yf(this,Math.floor(this.S+1));b.preventDefault()},a));this.Ig=R(a.e.canvas,"mouseup",C(function(b){if(cd(b,2)){b.preventDefault();Yf(this,Math.ceil(this.S-1))}},a));this.sg=R(a.e.canvas,"contextmenu",function(b){b.preventDefault()});this.ua=j;this.Bb=this.Ab=0}F(wh,G);
function xh(a,b){var c=120;if(a.ua)if(a.Bb>a.Ab==b>0)return;else{a.ua.s();c*=(a.p.S-a.Ab)/(a.Bb-a.Ab);var d=a.Bb;a.Bb=a.Ab;a.Ab=d}else{a.Ab=a.p.S;a.Bb=a.Ab+b*0.5}if(!(a.p.S==a.Bb||c<=0)){a.ua=new fh([a.p.S],[a.Bb],c);R(a.ua,["animate","finish"],function(f){Yf(this,f.x)},l,a.p);R(a.ua,["finish"],a.Wf,l,a);a.ua.play(l)}}wh.prototype.Wf=function(){if(this.ua){this.ua.s();this.ua=j}};wh.prototype.g=function(){S(this.U);S(this.Tf);S(this.Ig);S(this.sg);this.cf.s();this.ua.s()};function yh(a,b){var c=wc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
rh.call(this,a,b,c);this.show(l)}F(yh,rh);function zh(a,b){this.p=a;this.ha=new $("---");this.U=R(this.ha,"action",function(c){a.dc(c.target.K())});this.ha.Ub(b)}F(zh,G);zh.prototype.ib=function(a,b){var c=new Cg(a.name,a);this.ha.Ga(c);if(b||this.ha.gc()==1){this.ha.zb(c);this.p.dc(a)}};zh.prototype.g=function(){S(this.U);this.ha.s()};function Ah(a){x(a)||function(){this.e=new If(a,tc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});Jf(this.e);this.Ye=new U(15);R(this.Ye,Ce,C(function(){var g=this.e,h=g.v;if(!x(g.xd)){var k=E();if(g.Sd<E()-2E3){g.wd=1E3*g.Mc/(E()-g.Sd);g.pe=g.yd/g.Mc;g.Sd=E();g.Mc=0;g.yd=0;g.xd.innerHTML=g.pe.toFixed(2)+" ms / fps: "+g.wd.toFixed(2)}g.Mc++}h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT);g.Wa=zf(4);h=g.d;var m=h.e.v;if(!x(h.Oe))h.Oe.innerHTML=(h.latitude*
180/Math.PI).toFixed(4)+"; "+(h.longitude*180/Math.PI).toFixed(4)+" @ "+h.S.toFixed(2)+"; BufferQueue size: "+h.da.ja.length+"; Currently loading tiles: "+h.na.ic;h.rd=h.$a.re();h.$a.Cf();m.useProgram(h.$a.Xd.Ba);var n=h.$a.Xd;m.activeTexture(m.TEXTURE0);m.bindTexture(m.TEXTURE_2D,h.da.Db);m.uniform1i(n.Pg,0);var s=bb(h.da.kc);m.uniform4fv(n.pg,new Float32Array(s));s=new Float32Array(bb(Df(Mf(h.e)).ie()));var o=h.tf[Math.min(Math.floor(h.S),h.tf.length-1)];m.bindBuffer(m.ARRAY_BUFFER,o.$b);m.vertexAttribPointer(n.Jf,
o.$b.Pd,m.FLOAT,l,0,0);m.bindBuffer(m.ARRAY_BUFFER,o.vc);m.vertexAttribPointer(n.xf,o.vc.Pd,m.FLOAT,l,0,0);m.uniformMatrix4fv(n.qg,l,s);m.uniform1f(n.Sg,256);m.uniform1f(n.ah,Math.floor(h.S));m.uniform1f(n.Qg,h.$);h.mc[0]=Math.floor(h.longitude/(2*Math.PI)*h.$);h.mc[1]=Math.floor($f(h.latitude)/(Math.PI*2)*h.$);m.uniform2fv(n.tg,h.mc);m.drawArrays(m.TRIANGLES,0,o.$b.gf);x(g.xd)||(g.yd+=E()-k);g=this.Ze;La(g.Yd.nb(),g.Vg,g)},this));this.e.d=new Xf(this.e,tc("weapp-infobox"),tc("weapp-mapcopyright"),
tc("weapp-maplogo"));this.eh=new ph(this.e.d);this.gh=new wh(this.e.d);this.Tg=new zh(this.e.d,tc("weapp-tileprovider"));this.Jg=new ah(this.e.d,tc("weapp-rendershape"));var b=tc("weapp-nominatim");this.ff=new Ue(b);this.Ze=new sh(this.e.d,a.parentNode);var c=new yh(0,0);c.enable(l);th(this.Ze,c);var d=C(function(g){Zf(this.e.d,g.lat,g.lon);c.enable(i);c.Ue=g.lat;c.Xe=g.lon},this);this.ff.addEventListener("update",function(g){d(g.Vb)});R(tc("weapp-nominatimform"),"submit",C(function(g){g.preventDefault();
this.ff.search(b.value,1,function(h,k){k.length>0&&d(k[0])})},this));var f=C(function(){function g(n){var s=h.indexOf(n+"=");if(!(s<0)){s+=n.length+1;n=h.indexOf(";",s);return h.substring(s,n>0?n:h.length)}}var h=window.location.hash,k=g("zoom")||g("z");isNaN(k)||Yf(this.e.d,k);k=g("ll");if(k!=j){k=k.split(",");k.length>1&&!isNaN(k[0])&&!isNaN(k[1])&&Zf(this.e.d,k[0],k[1])}else{k=g("lat");var m=g("lon");!isNaN(k)&&!isNaN(m)&&Zf(this.e.d,k,m)}},this);this.Ne=new U(2E3);R(this.Ne,Ce,C(function(){window.location.hash=
"#z="+this.e.d.S.toFixed(2)+";ll="+(this.e.d.latitude*180/Math.PI).toFixed(5)+","+(this.e.d.longitude*180/Math.PI).toFixed(5)},this));this.Ne.start();window.addEventListener("hashchange",f,l);f()}.call(this)}Ah.prototype.ib=function(a){this.Tg.ib(a)};Ah.prototype.Hc=function(a,b){this.Jg.Hc(a,b)};Ah.prototype.start=function(){this.e.sf();this.Ye.start()};
function Bh(){var a=new Ah(tc("weapp-canvas"));a.ib(new Ye);a.ib(new Xe);a.ib(new ch("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.ib(new ch("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.ib(new ch("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Hc("Globe",new Wf(a.e.d));a.Hc("Mercator",new eh(a.e.d));a.start()}var Ch="WEApp".split("."),Dh=u;
!(Ch[0]in Dh)&&Dh.execScript&&Dh.execScript("var "+Ch[0]);for(var Eh;Ch.length&&(Eh=Ch.shift());)if(!Ch.length&&Bh!==undefined)Dh[Eh]=Bh;else Dh=Dh[Eh]?Dh[Eh]:Dh[Eh]={};
