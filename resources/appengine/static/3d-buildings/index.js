/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function o(a){return function(){return this[a]}}function q(a){return function(){return a}}var r,ca=ca||{},s=this;function da(a){for(var a=a.split("."),b=s,c;c=a.shift();)if(b[c]!=m)b=b[c];else return m;return b}function u(){}function ea(a){a.Ga=function(){return a.Hj||(a.Hj=new a)}}
function fa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===m}function y(a){return fa(a)=="array"}function z(a){var b=fa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function A(a){return typeof a=="string"}function ga(a){return typeof a=="number"}function ha(a){return fa(a)=="function"}function ia(a){a=fa(a);return a=="object"||a=="array"||a=="function"}function ja(a){return a[ka]||(a[ka]=++la)}
var ka="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){a||e(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function B(a,b,c){B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ma:na;return B.apply(m,arguments)}function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var C=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};function pa(a){return function(){return a}}var qa=pa(!0),ra=pa(m);function sa(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};function E(){}E.prototype.De=!1;E.prototype.i=function(){if(!this.De)this.De=!0,this.g()};E.prototype.g=function(){this.jj&&ta.apply(m,this.jj)};function ua(a){a&&typeof a.i=="function"&&a.i()}function ta(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];z(d)?ta.apply(m,d):ua(d)}};function va(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.Nf=0;this.Sc=d||0;this.fd=this.fg=m;this.state=wa}D(va,E);va.prototype.setData=ba("fd");va.prototype.nh=ra;function xa(a){return a.fd?a.nh(a.fd):a.fg}va.prototype.lh=u;va.prototype.g=function(){this.fg=m;if(this.fd)this.lh(this.fd),this.fd=m};var wa=0;function ya(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function za(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Aa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Ba(a){a=String(a);return!Aa.test(a)?encodeURIComponent(a):a}function Ca(a){if(!Da.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ea,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Fa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ga,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ha,"&quot;"));return a}
var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;function Ia(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ja(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^C()).toString(36)}
function Ka(a,b){for(var c=0,d=za(String(a)).split("."),f=za(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(j)||["","",""],t=p.exec(k)||["","",""];if(n[0].length==0&&t[0].length==0)break;c=La(n[1].length==0?0:parseInt(n[1],10),t[1].length==0?0:parseInt(t[1],10))||La(n[2].length==0,t[2].length==0)||La(n[2],t[2])}while(c==0)}return c}
function La(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var Ma,Na,Oa,Pa,Qa,Ra,Sa;function Ta(){return s.navigator?s.navigator.userAgent:m}function Ua(){return s.navigator}Qa=Pa=Oa=Na=Ma=!1;var Va;if(Va=Ta()){var Wa=Ua();Ma=Va.indexOf("Opera")==0;Na=!Ma&&Va.indexOf("MSIE")!=-1;Pa=(Oa=!Ma&&Va.indexOf("WebKit")!=-1)&&Va.indexOf("Mobile")!=-1;Qa=!Ma&&!Oa&&Wa.product=="Gecko"}var Xa=Ma,F=Na,G=Qa,H=Oa,Ya=Pa,Za,$a=Ua();Za=$a&&$a.platform||"";Ra=Za.indexOf("Mac")!=-1;Sa=Za.indexOf("Win")!=-1;var ab=!!Ua()&&(Ua().appVersion||"").indexOf("X11")!=-1,bb;
a:{var cb="",db;if(Xa&&s.opera)var eb=s.opera.version,cb=typeof eb=="function"?eb():eb;else if(G?db=/rv\:([^\);]+)(\)|;)/:F?db=/MSIE\s+([^\);]+)(\)|;)/:H&&(db=/WebKit\/(\S+)/),db)var fb=db.exec(Ta()),cb=fb?fb[1]:"";if(F){var gb,hb=s.document;gb=hb?hb.documentMode:i;if(gb>parseFloat(cb)){bb=String(gb);break a}}bb=cb}var ib={};function I(a){return ib[a]||(ib[a]=Ka(bb,a)>=0)}var jb={};function kb(){return jb[9]||(jb[9]=F&&document.documentMode&&document.documentMode>=9)};function lb(a,b){for(var c in a)b.call(i,a[c],c,a)}function mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ob(){var a=pb,b;for(b in a)return!1;return!0}function qb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var rb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function sb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<rb.length;g++)c=rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var J=Array.prototype,tb=J.indexOf?function(a,b,c){return J.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(A(a))return!A(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},K=J.forEach?function(a,b,c){J.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=A(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},ub=J.filter?function(a,b,c){return J.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=A(a)?a.split(""):
a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},vb=J.map?function(a,b,c){return J.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=A(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},wb=J.every?function(a,b,c){return J.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=A(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function xb(a,b){var c;a:{c=a.length;for(var d=A(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?m:A(a)?a.charAt(c):a[c]}function yb(a,b){return tb(a,b)>=0}function zb(a,b){var c=tb(a,b),d;(d=c>=0)&&J.splice.call(a,c,1);return d}function Ab(a){return J.concat.apply(J,arguments)}function Bb(a){if(y(a))return Ab(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Cb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(y(d)||(f=z(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,j=0;j<h;j++)a[g+j]=d[j];else a.push(d)}}function Db(a,b,c,d){J.splice.apply(a,Eb(arguments,1))}function Eb(a,b,c){return arguments.length<=2?J.slice.call(a,b):J.slice.call(a,b,c)}function Fb(a,b){J.sort.call(a,b||Gb)}function Gb(a,b){return a>b?1:a<b?-1:0}
function Hb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];y(d)?b.push.apply(b,Hb.apply(m,d)):b.push(d)}return b};function Ib(a){if(typeof a.qb=="function")a=a.qb();else if(z(a)||A(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a}function Jb(a){if(typeof a.Qa=="function")return a.Qa();if(A(a))return a.split("");if(z(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mb(a)}function Kb(a){if(typeof a.Fc=="function")return a.Fc();if(typeof a.Qa!="function"){if(z(a)||A(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return nb(a)}}
function Lb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(z(a)||A(a))K(a,b,c);else for(var d=Kb(a),f=Jb(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}function Mb(a,b){if(typeof a.every=="function")return a.every(b,i);if(z(a)||A(a))return wb(a,b,i);for(var c=Kb(a),d=Jb(a),f=d.length,g=0;g<f;g++)if(!b.call(i,d[g],c&&c[g],a))return!1;return!0};var Nb="StopIteration"in s?s.StopIteration:Error("StopIteration");function Ob(){}Ob.prototype.next=function(){e(Nb)};Ob.prototype.Ed=function(){return this};function Pb(a){if(a instanceof Ob)return a;if(typeof a.Ed=="function")return a.Ed(!1);if(z(a)){var b=0,c=new Ob;c.next=function(){for(;;)if(b>=a.length&&e(Nb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function Qb(a,b,c){if(z(a))try{K(a,b,c)}catch(d){d!==Nb&&e(d)}else{a=Pb(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==Nb&&e(f)}}};function Rb(a,b){this.R={};this.H=[];var c=arguments.length;if(c>1){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.xf(a)}r=Rb.prototype;r.v=0;r.se=0;r.qb=o("v");r.Qa=function(){Sb(this);for(var a=[],b=0;b<this.H.length;b++)a.push(this.R[this.H[b]]);return a};r.Fc=function(){Sb(this);return this.H.concat()};r.mb=function(a){return Tb(this.R,a)};
r.Ff=function(a){for(var b=0;b<this.H.length;b++){var c=this.H[b];if(Tb(this.R,c)&&this.R[c]==a)return!0}return!1};r.equals=function(a,b){if(this===a)return!0;if(this.v!=a.qb())return!1;var c=b||Ub;Sb(this);for(var d,f=0;d=this.H[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ub(a,b){return a===b}r.clear=function(){this.R={};this.se=this.v=this.H.length=0};r.remove=function(a){return Tb(this.R,a)?(delete this.R[a],this.v--,this.se++,this.H.length>2*this.v&&Sb(this),!0):!1};
function Sb(a){if(a.v!=a.H.length){for(var b=0,c=0;b<a.H.length;){var d=a.H[b];Tb(a.R,d)&&(a.H[c++]=d);b++}a.H.length=c}if(a.v!=a.H.length){for(var f={},c=b=0;b<a.H.length;)d=a.H[b],Tb(f,d)||(a.H[c++]=d,f[d]=1),b++;a.H.length=c}}r.get=function(a,b){return Tb(this.R,a)?this.R[a]:b};r.set=function(a,b){Tb(this.R,a)||(this.v++,this.H.push(a),this.se++);this.R[a]=b};r.xf=function(a){var b;a instanceof Rb?(b=a.Fc(),a=a.Qa()):(b=nb(a),a=mb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.ga=function(){return new Rb(this)};
r.Ed=function(a){Sb(this);var b=0,c=this.H,d=this.R,f=this.se,g=this,h=new Ob;h.next=function(){for(;;){f!=g.se&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(Nb);var h=c[b++];return a?h:d[h]}};return h};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Vb(a){this.R=new Rb;a&&this.xf(a)}function Wb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+ja(a):b.substr(0,1)+a}r=Vb.prototype;r.qb=function(){return this.R.qb()};r.add=function(a){this.R.set(Wb(a),a)};r.xf=function(a){for(var a=Jb(a),b=a.length,c=0;c<b;c++)this.add(a[c])};r.wd=function(a){for(var a=Jb(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.R.remove(Wb(a))};r.clear=function(){this.R.clear()};r.contains=function(a){return this.R.mb(Wb(a))};
r.Lh=function(a){for(var b=new Vb,a=Jb(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};r.Qa=function(){return this.R.Qa()};r.ga=function(){return new Vb(this)};r.equals=function(a){return this.qb()==Ib(a)&&Xb(this,a)};
function Xb(a,b){var c=Ib(b);if(a.qb()>c)return!1;!(b instanceof Vb)&&c>5&&(b=new Vb(b));return Mb(a,function(a){if(typeof b.contains=="function")a=b.contains(a);else if(typeof b.Ff=="function")a=b.Ff(a);else if(z(b)||A(b))a=yb(b,a);else a:{for(var c in b)if(b[c]==a){a=!0;break a}a=!1}return a})}r.Ed=function(){return this.R.Ed(!1)};function Yb(a){return Zb(a||arguments.callee.caller,[])}
function Zb(a,b){var c=[];if(yb(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push($b(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=$b(g))?g:"[fn]";break;default:g=typeof g}g.length>40&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Zb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function $b(a){if(ac[a])return ac[a];a=String(a);if(!ac[a]){var b=/function ([^\(]+)/.exec(a);ac[a]=b?b[1]:"[Anonymous]"}return ac[a]}var ac={};function bc(a,b,c,d,f){this.reset(a,b,c,d,f)}bc.prototype.Dk=0;bc.prototype.th=m;bc.prototype.sh=m;var cc=0;bc.prototype.reset=function(a,b,c,d,f){this.Dk=typeof f=="number"?f:cc++;this.gl=d||C();this.Zd=a;this.Zj=b;this.cl=c;delete this.th;delete this.sh};bc.prototype.si=ba("Zd");function dc(a){this.bk=a}dc.prototype.N=m;dc.prototype.Zd=m;dc.prototype.W=m;dc.prototype.Gh=m;function ec(a,b){this.name=a;this.value=b}ec.prototype.toString=o("name");var fc=new ec("SEVERE",1E3),gc=new ec("WARNING",900),hc=new ec("CONFIG",700),ic=new ec("FINE",500),kc=new ec("FINEST",300);dc.prototype.getParent=o("N");dc.prototype.si=ba("Zd");function lc(a){return a.Zd?a.Zd:a.N?lc(a.N):m}
dc.prototype.log=function(a,b,c){if(a.value>=lc(this).value){a=this.qj(a,b,c);b="log:"+a.Zj;s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b));s.msWriteProfilerMark&&s.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Gh)for(var f=0,g=i;g=c.Gh[f];f++)g(d);b=b.getParent()}}};
dc.prototype.qj=function(a,b,c){var d=new bc(a,String(b),this.bk);if(c){d.th=c;var f;var g=arguments.callee.caller;try{var h;var j=da("window.location.href");if(A(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var k,l,p=!1;try{k=c.lineNumber||c.bl||"Not available"}catch(n){k="Not available",p=!0}try{l=c.fileName||c.filename||c.sourceURL||j}catch(t){l="Not available",p=!0}h=p||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:k,fileName:l,stack:c.stack||"Not available"}:c}f="Message: "+Ca(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ca(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ca(Yb(g)+"-> ")}catch(V){f="Exception trying to expose exception! You win, we lose. "+V}d.sh=f}return d};function mc(a,b){a.log(ic,b,i)}var nc={},oc=m;
function pc(a){oc||(oc=new dc(""),nc[""]=oc,oc.si(hc));var b;if(!(b=nc[a])){b=new dc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=pc(a.substr(0,c));if(!c.W)c.W={};c.W[d]=b;b.N=c;nc[a]=b}return b};function qc(a){this.name=a;this.ub=0;this.Kf=[]}r=qc.prototype;r.Sd=q(0);r.ig=q(!0);function rc(a){K(a.Kf,function(a){this.ub--;this.$d(a.Ik,a.onload,a.qk)},a);a.Kf=[]}function sc(a,b,c,d){a.ig()?a.$d(b,c,d):(a.Kf.push(new tc(b,c,d)),a.ub++)}r.Jd=aa();r.Je=q(m);r.mi=u;r.Gf=u;function uc(a,b,c,d,f){this.$i=a;this.aj=b;this.Ek=c;this.Fk=d;this.Vk=f}function tc(a,b,c){this.Ik=a;this.onload=b;this.qk=c};function vc(a){qc.call(this,a)}D(vc,qc);vc.prototype.$d=function(a,b,c){var d=new Image;d.onload=B(function(){a.state=20;this.ub--;b(a)},this);d.onerror=B(function(){a.Nf++;a.state=-10;this.ub--;c&&c(a)},this);a.state=10;a.fg=d;d.crossOrigin="";d.src=this.Le(a.zoom,a.x,a.y);this.ub++};function wc(a){return Math.floor(Math.random()*a)}function L(a,b,c){return Math.min(Math.max(a,b),c)}function xc(a,b){var c=a%b;return c*b<0?c+b:c}function M(a){return a*Math.PI/180}function yc(a){return a*180/Math.PI};function zc(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText}function Ac(a){a=xc(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function Bc(a,b,c,d,f,g,h){qc.call(this,a);this.url=b;this.minZoom=c;this.maxZoom=d;this.tileSize=f;this.nj=g===!0;this.Qg=h||[]}D(Bc,vc);Bc.prototype.Sd=o("minZoom");Bc.prototype.rb=o("maxZoom");Bc.prototype.ec=o("tileSize");Bc.prototype.Le=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.nj?(1<<a)-c-1:c).toFixed(0));this.Qg.length>0&&(d=d.replace("{sub}",this.Qg[wc(this.Qg.length)]));return d};var Cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Dc(a,b){var c;a instanceof Dc?(this.zd(b==m?a.sb:b),Ec(this,a.Rb),Fc(this,a.re),Gc(this,a.Cc),Hc(this,a.ud),this.setPath(a.getPath()),Ic(this,a.xb.ga()),Jc(this,a.Pd)):a&&(c=String(a).match(Cc))?(this.zd(!!b),Ec(this,c[1]||"",!0),Fc(this,c[2]||"",!0),Gc(this,c[3]||"",!0),Hc(this,c[4]),this.setPath(c[5]||"",!0),Ic(this,c[6]||"",!0),Jc(this,c[7]||"",!0)):(this.zd(!!b),this.xb=new Kc(m,this,this.sb))}r=Dc.prototype;r.Rb="";r.re="";r.Cc="";r.ud=m;r.Pc="";r.Pd="";r.Ij=!1;r.sb=!1;
r.toString=function(){if(this.Va)return this.Va;var a=[];this.Rb&&a.push(Lc(this.Rb,Mc),":");this.Cc&&(a.push("//"),this.re&&a.push(Lc(this.re,Mc),"@"),a.push(A(this.Cc)?encodeURIComponent(this.Cc):m),this.ud!=m&&a.push(":",String(this.ud)));this.Pc&&(this.Cc&&this.Pc.charAt(0)!="/"&&a.push("/"),a.push(Lc(this.Pc,this.Pc.charAt(0)=="/"?Nc:Oc)));var b=String(this.xb);b&&a.push("?",b);this.Pd&&a.push("#",Lc(this.Pd,Pc));return this.Va=a.join("")};
r.ga=function(){var a=this.Rb,b=this.re,c=this.Cc,d=this.ud,f=this.Pc,g=this.xb.ga(),h=this.Pd,j=new Dc(m,this.sb);a&&Ec(j,a);b&&Fc(j,b);c&&Gc(j,c);d&&Hc(j,d);f&&j.setPath(f);g&&Ic(j,g);h&&Jc(j,h);return j};function Ec(a,b,c){Qc(a);delete a.Va;a.Rb=c?b?decodeURIComponent(b):"":b;if(a.Rb)a.Rb=a.Rb.replace(/:$/,"")}function Fc(a,b,c){Qc(a);delete a.Va;a.re=c?b?decodeURIComponent(b):"":b}function Gc(a,b,c){Qc(a);delete a.Va;a.Cc=c?b?decodeURIComponent(b):"":b}
function Hc(a,b){Qc(a);delete a.Va;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.ud=b):a.ud=m}r.getPath=o("Pc");r.setPath=function(a,b){Qc(this);delete this.Va;this.Pc=b?a?decodeURIComponent(a):"":a;return this};function Ic(a,b,c){Qc(a);delete a.Va;b instanceof Kc?(a.xb=b,a.xb.qe=a,a.xb.zd(a.sb)):(c||(b=Lc(b,Rc)),a.xb=new Kc(b,a,a.sb))}function Sc(a,b,c){Qc(a);delete a.Va;y(c)||(c=[String(c)]);a.xb.setValues(b,c)}
function Jc(a,b,c){Qc(a);delete a.Va;a.Pd=c?b?decodeURIComponent(b):"":b}function Qc(a){a.Ij&&e(Error("Tried to modify a read-only Uri"))}r.zd=function(a){this.sb=a;this.xb&&this.xb.zd(a);return this};var Tc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Lc(a,b){var c=m;A(a)&&(c=a,Tc.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,Uc)));return c}function Uc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Mc=/[#\/\?@]/g,Oc=/[\#\?:]/g,Nc=/[\#\?]/g,Rc=/[\#\?@]/g,Pc=/#/g;
function Kc(a,b,c){this.Eb=a||m;this.qe=b||m;this.sb=!!c}function Vc(a){if(!a.D&&(a.D=new Rb,a.v=0,a.Eb))for(var b=a.Eb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Wc(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}r=Kc.prototype;r.D=m;r.v=m;r.qb=function(){Vc(this);return this.v};
r.add=function(a,b){Vc(this);Xc(this);a=Wc(this,a);if(this.mb(a)){var c=this.D.get(a);y(c)?c.push(b):this.D.set(a,[c,b])}else this.D.set(a,b);this.v++;return this};r.remove=function(a){Vc(this);a=Wc(this,a);if(this.D.mb(a)){Xc(this);var b=this.D.get(a);y(b)?this.v-=b.length:this.v--;return this.D.remove(a)}return!1};r.clear=function(){Xc(this);this.D&&this.D.clear();this.v=0};r.mb=function(a){Vc(this);a=Wc(this,a);return this.D.mb(a)};r.Ff=function(a){var b=this.Qa();return yb(b,a)};
r.Fc=function(){Vc(this);for(var a=this.D.Qa(),b=this.D.Fc(),c=[],d=0;d<b.length;d++){var f=a[d];if(y(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};r.Qa=function(a){Vc(this);if(a)if(a=Wc(this,a),this.mb(a)){var b=this.D.get(a);if(y(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.D.Qa(),a=[],c=0;c<b.length;c++){var d=b[c];y(d)?Cb(a,d):a.push(d)}return a};
r.set=function(a,b){Vc(this);Xc(this);a=Wc(this,a);if(this.mb(a)){var c=this.D.get(a);y(c)?this.v-=c.length:this.v--}this.D.set(a,b);this.v++;return this};r.get=function(a,b){Vc(this);a=Wc(this,a);if(this.mb(a)){var c=this.D.get(a);return y(c)?c[0]:c}else return b};r.setValues=function(a,b){Vc(this);Xc(this);a=Wc(this,a);if(this.mb(a)){var c=this.D.get(a);y(c)?this.v-=c.length:this.v--}b.length>0&&(this.D.set(a,b),this.v+=b.length)};
r.toString=function(){if(this.Eb)return this.Eb;if(!this.D)return"";for(var a=[],b=0,c=this.D.Fc(),d=0;d<c.length;d++){var f=c[d],g=Ba(f),f=this.D.get(f);if(y(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Ba(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Ba(f)),b++}return this.Eb=a.join("")};function Xc(a){delete a.If;delete a.Eb;a.qe&&delete a.qe.Va}
r.ga=function(){var a=new Kc;if(this.If)a.If=this.If;if(this.Eb)a.Eb=this.Eb;if(this.D)a.D=this.D.ga();return a};function Wc(a,b){var c=String(b);a.sb&&(c=c.toLowerCase());return c}r.zd=function(a){a&&!this.sb&&(Vc(this),Xc(this),Lb(this.D,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.sb=a};var Yc;function Zc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function N(a,b){var c=Zc(a),d=Eb(arguments,1),f;f=c;for(var g=0,h=0;h<d.length;h++)yb(f,d[h])||(f.push(d[h]),g++);f=g==d.length;a.className=c.join(" ");return f}function $c(a,b){var c=Zc(a),d=Eb(arguments,1),f;f=c;for(var g=0,h=0;h<f.length;h++)yb(d,f[h])&&(Db(f,h--,1),g++);f=g==d.length;a.className=c.join(" ");return f};function ad(a,b){this.width=a;this.height=b}function bd(a,b){return a==b?!0:!a||!b?!1:a.width==b.width&&a.height==b.height}r=ad.prototype;r.ga=function(){return new ad(this.width,this.height)};r.Kd=function(){return this.width/this.height};r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};r.scale=function(a){this.width*=a;this.height*=a;return this};var cd=!F||kb();!G&&!F||F&&kb()||G&&I("1.9.1");var dd=F&&!I("9");function O(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}O.prototype.ga=function(){return new O(this.x,this.y)};function ed(a,b){return new O(a.x-b.x,a.y-b.y)};function fd(a){return a?new gd(P(a)):Yc||(Yc=new gd)}function hd(a){return A(a)?document.getElementById(a):a}
function id(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!H||jd(document)||I("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&yb(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function kd(a,b){lb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in ld?a.setAttribute(ld[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var ld={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Q(a,b,c){return md(document,arguments)}
function md(a,b){var c=b[0],d=b[1];if(!cd&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ca(d.name),'"');if(d.type){c.push(' type="',Ca(d.type),'"');var f={};sb(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)A(d)?c.className=d:y(d)?N.apply(m,[c].concat(d)):kd(c,d);b.length>2&&nd(a,c,b,2);return c}
function nd(a,b,c,d){function f(c){c&&b.appendChild(A(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];z(g)&&!(ia(g)&&g.nodeType>0)?K(od(g)?Bb(g):g,f):f(g)}}function jd(a){return a.compatMode=="CSS1Compat"}function pd(a,b){nd(P(a),a,arguments,1)}function qd(a){for(var b;b=a.firstChild;)a.removeChild(b)}function rd(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function sd(a){if(a.firstElementChild!=i)a=a.firstElementChild;else for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function td(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function P(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function ud(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else qd(a),a.appendChild(P(a).createTextNode(b))}var vd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},wd={IMG:" ",BR:"\n"};function xd(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ga(a)&&a>=0&&a<32768):!1}function yd(a){var b=[];zd(a,b,!1);return b.join("")}
function zd(a,b,c){if(!(a.nodeName in vd))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in wd)b.push(wd[a.nodeName]);else for(a=a.firstChild;a;)zd(a,b,c),a=a.nextSibling}function od(a){if(a&&typeof a.length=="number")if(ia(a))return typeof a.item=="function"||typeof a.item=="string";else if(ha(a))return typeof a.item=="function";return!1}function gd(a){this.z=a||s.document||document}r=gd.prototype;r.$=fd;
function Ad(a){return a.z}r.c=function(a){return A(a)?this.z.getElementById(a):a};r.t=function(a,b,c){return md(this.z,arguments)};r.createElement=function(a){return this.z.createElement(a)};r.createTextNode=function(a){return this.z.createTextNode(a)};function Bd(a){return jd(a.z)}function Cd(a){var b=a.z,a=!H&&jd(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new O(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}r.appendChild=function(a,b){a.appendChild(b)};
r.append=pd;r.ki=qd;r.removeNode=rd;r.vh=sd;r.contains=td;function Dd(a,b){this.qe=new Dc(a);this.Zi=b?b:"callback";this.Zc=5E3}var Ed=0;
Dd.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(Ed++).toString(36)+C().toString(36);s._callbacks_||(s._callbacks_={});var f=document.createElement("script"),g=m;this.Zc>0&&(g=s.setTimeout(Fd(d,f,a,c),this.Zc));c=this.qe.ga();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Sc(c,h,a[h]);b&&(s._callbacks_[d]=Gd(d,f,b,g),Sc(c,this.Zi,"_callbacks_."+d));kd(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{$a:d,Zc:g}};Dd.prototype.cancel=function(a){if(a&&a.$a){var b=hd(a.$a);b&&b.tagName=="SCRIPT"&&typeof s._callbacks_[a.$a]=="function"&&(a.Zc&&s.clearTimeout(a.Zc),Hd(a.$a,b,!1))}};function Fd(a,b,c,d){return function(){Hd(a,b,!1);d&&d(c)}}function Gd(a,b,c,d){return function(f){s.clearTimeout(d);Hd(a,b,!0);c.apply(i,arguments)}}function Hd(a,b,c){s.setTimeout(function(){rd(b)},0);s._callbacks_[a]&&(c?delete s._callbacks_[a]:s._callbacks_[a]=u)};function Id(a,b){this.Ok=a||"http://open.mapquestapi.com/nominatim/v1/search";this.de=b||{};this.Nh=new Dd(this.Ok,"json_callback")}
function Jd(a,b,c,d){a.de.q=b;a.de.format="json";a.de.addressdetails=1;a.de.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.fk=b;if(!(c>1&&b===a.fk))a.ni!==m&&a.Nh.cancel(a.ni),a.ni=a.Nh.send(a.de,function(a){var c=ub(a,function(a){return a["class"]=="place"});c.length>0?(K(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};var Kd;var Ld=!F||kb(),Nd=F&&!I("8");function Od(a,b){this.type=a;this.currentTarget=this.target=b}D(Od,E);r=Od.prototype;r.g=function(){delete this.type;delete this.target;delete this.currentTarget};r.Qc=!1;r.ge=!0;r.stopPropagation=function(){this.Qc=!0};r.preventDefault=function(){this.ge=!1};function Pd(a){a.preventDefault()};function Qd(a){Qd[" "](a);return a}Qd[" "]=u;function Rd(a,b){a&&this.gc(a,b)}D(Rd,Od);var Sd=[1,4,2];r=Rd.prototype;r.target=m;r.relatedTarget=m;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=!1;r.altKey=!1;r.shiftKey=!1;r.metaKey=!1;r.rk=!1;r.wa=m;
r.gc=function(a,b){var c=this.type=a.type;Od.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var f;a:{try{Qd(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=m)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.rk=Ra?a.metaKey:a.ctrlKey;this.state=a.state;this.wa=a;delete this.ge;delete this.Qc};function Td(a,b){return Ld?a.wa.button==b:a.type=="click"?b==0:!!(a.wa.button&Sd[b])}function Ud(a){return Td(a,0)&&!(H&&Ra&&a.ctrlKey)}
r.stopPropagation=function(){Rd.b.stopPropagation.call(this);this.wa.stopPropagation?this.wa.stopPropagation():this.wa.cancelBubble=!0};r.preventDefault=function(){Rd.b.preventDefault.call(this);var a=this.wa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Nd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};r.pj=o("wa");r.g=function(){Rd.b.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.wa=m};function Vd(){}var Wd=0;r=Vd.prototype;r.key=0;r.Rc=!1;r.hh=!1;r.gc=function(a,b,c,d,f,g){ha(a)?this.Mh=!0:a&&a.handleEvent&&ha(a.handleEvent)?this.Mh=!1:e(Error("Invalid listener argument"));this.qd=a;this.ii=b;this.src=c;this.type=d;this.capture=!!f;this.Ne=g;this.hh=!1;this.key=++Wd;this.Rc=!1};r.handleEvent=function(a){return this.Mh?this.qd.call(this.Ne||this.src,a):this.qd.handleEvent.call(this.qd,a)};var Xd,Yd=(Xd="ScriptEngine"in s&&s.ScriptEngine()=="JScript")?s.ScriptEngineMajorVersion()+"."+s.ScriptEngineMinorVersion()+"."+s.ScriptEngineBuildVersion():"0";function Zd(a,b){this.Uh=b;this.Ec=[];a>this.Uh&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Ec.push(this.Cb?this.Cb():{})}D(Zd,E);Zd.prototype.Cb=m;Zd.prototype.ph=m;Zd.prototype.getObject=function(){return this.Ec.length?this.Ec.pop():this.Cb?this.Cb():{}};function $d(a,b){a.Ec.length<a.Uh?a.Ec.push(b):ae(a,b)}function ae(a,b){if(a.ph)a.ph(b);else if(ia(b))if(ha(b.i))b.i();else for(var c in b)delete b[c]}
Zd.prototype.g=function(){Zd.b.g.call(this);for(var a=this.Ec;a.length;)ae(this,a.pop());delete this.Ec};var be,ce,de,ee,fe,ge,he,ie,je,ke,le;
(function(){function a(){return{v:0,cb:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Vd}function f(){return new Rd}var g=Xd&&!(Ka(Yd,"5.7")>=0),h;ge=function(a){h=a};if(g){be=function(){return j.getObject()};ce=function(a){$d(j,a)};de=function(){return k.getObject()};ee=function(a){$d(k,a)};fe=function(){return l.getObject()};he=function(){$d(l,c())};ie=function(){return p.getObject()};je=function(a){$d(p,a)};ke=function(){return n.getObject()};
le=function(a){$d(n,a)};var j=new Zd(0,600);j.Cb=a;var k=new Zd(0,600);k.Cb=b;var l=new Zd(0,600);l.Cb=c;var p=new Zd(0,600);p.Cb=d;var n=new Zd(0,600);n.Cb=f}else be=a,ce=u,de=b,ee=u,fe=c,he=u,ie=d,je=u,ke=f,le=u})();var me={},ne={},oe={},pe={};
function R(a,b,c,d,f){if(b)if(y(b)){for(var g=0;g<b.length;g++)R(a,b[g],c,d,f);return m}else{var d=!!d,h=ne;b in h||(h[b]=be());h=h[b];d in h||(h[d]=be(),h.v++);var h=h[d],j=ja(a),k;h.cb++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.qd==c&&h.Ne==f){if(h.Rc)break;return k[g].key}}else k=h[j]=de(),h.v++;g=fe();g.src=a;h=ie();h.gc(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);me[c]=h;oe[j]||(oe[j]=de());oe[j].push(h);a.addEventListener?(a==s||!a.mh)&&a.addEventListener(b,g,d):a.attachEvent(b in pe?pe[b]:
pe[b]="on"+b,g);return c}else e(Error("Invalid event type"))}function qe(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)qe(a,b[g],c,d,f);else if(d=!!d,a=re(a,b,d))for(g=0;g<a.length;g++)if(a[g].qd==c&&a[g].capture==d&&a[g].Ne==f){S(a[g].key);break}}
function S(a){if(!me[a])return!1;var b=me[a];if(b.Rc)return!1;var c=b.src,d=b.type,f=b.ii,g=b.capture;c.removeEventListener?(c==s||!c.mh)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in pe?pe[d]:pe[d]="on"+d,f);c=ja(c);f=ne[d][g][c];if(oe[c]){var h=oe[c];zb(h,b);h.length==0&&delete oe[c]}b.Rc=!0;f.Yh=!0;se(d,g,c,f);delete me[a];return!0}
function se(a,b,c,d){if(!d.We&&d.Yh){for(var f=0,g=0;f<d.length;f++)if(d[f].Rc){var h=d[f].ii;h.src=m;he(h);je(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.Yh=!1;g==0&&(ee(d),delete ne[a][b][c],ne[a][b].v--,ne[a][b].v==0&&(ce(ne[a][b]),delete ne[a][b],ne[a].v--),ne[a].v==0&&(ce(ne[a]),delete ne[a]))}}
function te(a){var b,c=0,d=b==m;b=!!b;if(a==m)lb(oe,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}});else if(a=ja(a),oe[a])for(var a=oe[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}}function re(a,b,c){var d=ne;return b in d&&(d=d[b],c in d&&(d=d[c],a=ja(a),d[a]))?d[a]:m}
function ue(a,b,c,d,f){var g=1,b=ja(b);if(a[b]){a.cb--;a=a[b];a.We?a.We++:a.We=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Rc&&(g&=ve(k,f)!==!1)}}finally{a.We--,se(c,d,b,a)}}return Boolean(g)}function ve(a,b){var c=a.handleEvent(b);a.hh&&S(a.key);return c}
ge(function(a,b){if(!me[a])return!0;var c=me[a],d=c.type,f=ne;if(!(d in f))return!0;var f=f[d],g,h;Kd===i&&(Kd=F&&!s.addEventListener);if(Kd){g=b||da("window.event");var j=!0 in f,k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(p){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=ke();l.gc(g,this);g=!0;try{if(j){for(var n=de(),t=l.currentTarget;t;t=t.parentNode)n.push(t);h=f[!0];h.cb=h.v;for(var V=n.length-1;!l.Qc&&V>=0&&h.cb;V--)l.currentTarget=
n[V],g&=ue(h,n[V],d,!0,l);if(k){h=f[!1];h.cb=h.v;for(V=0;!l.Qc&&V<n.length&&h.cb;V++)l.currentTarget=n[V],g&=ue(h,n[V],d,!1,l)}}else g=ve(c,l)}finally{if(n)n.length=0,ee(n);l.i();le(l)}return g}d=new Rd(b,this);try{g=ve(c,d)}finally{d.i()}return g});function T(){}D(T,E);r=T.prototype;r.mh=!0;r.ef=m;r.Kg=ba("ef");r.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){qe(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=ne;if(b in c){if(A(a))a=new Od(a,this);else if(a instanceof Od)a.target=a.target||this;else{var d=a,a=new Od(b,this);sb(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.ef)f.push(g);g=c[!0];g.cb=g.v;for(var h=f.length-1;!a.Qc&&h>=0&&g.cb;h--)a.currentTarget=f[h],d&=ue(g,f[h],a.type,!0,a)&&a.ge!=!1}if(!1 in c)if(g=c[!1],g.cb=g.v,b)for(h=0;!a.Qc&&h<f.length&&g.cb;h++)a.currentTarget=f[h],d&=ue(g,f[h],a.type,!1,a)&&a.ge!=!1;else for(f=this;!a.Qc&&
f&&g.cb;f=f.ef)a.currentTarget=f,d&=ue(g,f,a.type,!1,a)&&a.ge!=!1;a=Boolean(d)}else a=!0;return a};r.g=function(){T.b.g.call(this);te(this);this.ef=m};function we(a,b,c){this.ae=a;this.pc=c;this.j=b;R(b,[xe,ye,ze,Ae],this);this.fb=m;this.ta=[];this.ya=-1;this.Fa=0;this.Bc=this.ea=m}D(we,T);r=we.prototype;r.Oj=10;r.Ri=!0;r.eh=!1;r.Ki=!1;r.Di=!1;var xe="hilite",ye="select",Ae="dismiss",ze="canceldismiss";r=we.prototype;r.handleEvent=function(a){if(a.target==this.j)switch(a.type){case xe:this.Za(a.row);break;case ye:Be(this);break;case ze:Ce(this);break;case Ae:De(this)}};r.ld=o("ea");r.Ra=function(){return this.j.ca()};
function Ee(a){var b=a.Fa+a.ta.length-1;a.ya>=a.Fa&&a.ya<b?a.Za(a.ya+1):a.ya==-1?a.Za(a.Fa):a.ya==b&&(a.eh?a.Za(-1):a.Ki&&a.Za(a.Fa))}function Fe(a){a.ya>a.Fa?a.Za(a.ya-1):a.eh&&a.ya==a.Fa?a.Za(-1):a.Ki&&(a.ya==-1||a.ya==a.Fa)&&a.Za(a.Fa+a.ta.length-1)}r.Za=function(a){this.ya=a;this.j.Za(a);return Ge(this,a)!=-1};
function Be(a){var b=Ge(a,a.ya);if(b!=-1){var b=a.ta[b],c=a.pc,d=b.toString();if(v(i)?0:c.rd){var f=He(c,c.n(),Ie(c.O)),g=Je(c,c.n());c.Ak.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.hj);c.Qk&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.O;G&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.O;d=f;Ke(g)?g.selectionStart=d:F&&(h=Le(g),j=h[0],j.inRange(h[1])&&(d=Me(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.O;Ke(g)?g.selectionEnd=f:F&&(h=Le(g),d=h[1],h[0].inRange(d)&&(f=Me(g,f),g=Me(g,Ie(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.Y(d);c.Hg=!0;a.Di?(a.fb=m,De(a)):a.Db();a.dispatchEvent({type:"update",row:b});a.Di&&a.pc.update(!0);return!0}else return a.Db(),a.dispatchEvent({type:"update",row:m}),!1}r.Db=function(){this.ya=-1;this.fb=m;this.Fa+=this.ta.length;this.ta=[];window.clearTimeout(this.Bc);this.Bc=m;this.j.Db();this.dispatchEvent("suggestionsupdate")};
function De(a){if(!a.Bc)a.Bc=window.setTimeout(B(a.Db,a),100)}function Ce(a){window.setTimeout(B(function(){if(this.Bc)window.clearTimeout(this.Bc),this.Bc=m},a),10)}r.g=function(){we.b.g.call(this);this.j.i();this.pc.i();this.ae=m};r.Mj=function(a,b,c){this.fb==a&&this.Fg(b,c)};
r.Fg=function(a,b){var c=b?Ge(this,this.ya):m;this.Fa+=this.ta.length;this.ta=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.Fa+f,data:a[f]});this.j.Fg(d,this.fb,this.ea);this.Ri&&d.length!=0&&this.fb?this.Za(c!=m?this.Fa+c:this.Fa):this.ya=-1;this.dispatchEvent("suggestionsupdate")};function Ge(a,b){var c=b-a.Fa;return c<0||c>=a.ta.length?-1:c}r.Af=function(a){var b=this.pc;b.Af.apply(b,arguments)};r.update=function(a){this.pc.update(a)};function Ne(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Ne.prototype.ga=function(){return new Ne(this.top,this.right,this.bottom,this.left)};Ne.prototype.contains=function(a){return!this||!a?!1:a instanceof Ne?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Oe(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Oe.prototype.ga=function(){return new Oe(this.left,this.top,this.width,this.height)};Oe.prototype.Lh=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
Oe.prototype.contains=function(a){return a instanceof Oe?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Oe.prototype.Gb=function(){return new ad(this.width,this.height)};function Pe(a,b){var c=P(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b):""}function Qe(a,b){return a.currentStyle?a.currentStyle[b]:m}function Re(a,b){return Pe(a,b)||Qe(a,b)||a.style[b]}function Se(a,b,c){var d,f=G&&(Ra||ab)&&I("1.9");b instanceof O?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Te(d,f);a.style.top=Te(b,f)}function Ue(a){a=a?a.nodeType==9?a:P(a):document;return F&&!kb()&&!Bd(fd(a))?a.body:a.documentElement}
function Ve(a){var b=a.getBoundingClientRect();if(F)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function We(a){if(F)return a.offsetParent;for(var b=P(a),c=Re(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Re(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}
function Xe(a){for(var b=new Ne(0,Infinity,Infinity,0),c=fd(a),d=c.z.body,f=c.z.documentElement,g=!H&&jd(c.z)?c.z.documentElement:c.z.body;a=We(a);)if((!F||a.clientWidth!=0)&&(!H||a.clientHeight!=0||a!=d)&&a!=d&&a!=f&&Re(a,"overflow")!="visible"){var h=Ye(a),j;j=a;if(G&&!I("1.9")){var k=parseFloat(Pe(j,"borderLeftWidth"));if(Ze(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(Pe(j,"borderRightWidth"));k+=l}j=new O(k,parseFloat(Pe(j,"borderTopWidth")))}else j=new O(j.clientLeft,j.clientTop);h.x+=
j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=c.z.parentWindow||c.z.defaultView||window;f=c.document;H&&!I("500")&&!Ya?(typeof c.innerHeight=="undefined"&&(c=window),f=c.innerHeight,a=c.document.documentElement.scrollHeight,c==c.top&&a<f&&(f-=15),c=new ad(c.innerWidth,f)):(c=jd(f)?f.documentElement:f.body,c=
new ad(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function Ye(a){var b,c=P(a),d=Re(a,"position"),f=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new O(0,0),h=Ue(c);if(a==h)return g;if(a.getBoundingClientRect)b=Ve(a),a=Cd(fd(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(H&&
Re(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Xa||H&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=We(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Xa||b.tagName!="TR")g.y-=b.scrollTop}return g}
function $e(a){var b=new O;if(a.nodeType==1)if(a.getBoundingClientRect)a=Ve(a),b.x=a.left,b.y=a.top;else{var c=Cd(fd(a)),a=Ye(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ha(a.pj),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.wa.targetTouches&&(d=a.wa.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function af(a,b,c){var d=Ye(a);if(b instanceof O)c=b.y,b=b.x;Se(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}function Te(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function bf(a){if(Re(a,"display")!="none")return cf(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=cf(a);b.display=c;b.position=f;b.visibility=d;return a}function cf(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(!v(b)||d)&&a.getBoundingClientRect?(a=Ve(a),new ad(a.right-a.left,a.bottom-a.top)):new ad(b,c)}function df(a){var b=Ye(a),a=bf(a);return new Oe(b.x,b.y,a.width,a.height)}
function ef(a,b){a.style.display=b?"":"none"}function Ze(a){return"rtl"==Re(a,"direction")}var ff=G?"MozUserSelect":H?"WebkitUserSelect":m;function gf(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(ff){if(b=b?"none":"",a.style[ff]=b,c)for(var a=0,d;d=c[a];a++)d.style[ff]=b}else if(F||Xa)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function hf(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}}var jf={thin:2,medium:4,thick:6};function kf(a,b){if(Qe(a,b+"Style")=="none")return 0;var c=Qe(a,b+"Width");return c in jf?jf[c]:hf(a,c)}
function lf(a){if(F){var b=kf(a,"borderLeft"),c=kf(a,"borderRight"),d=kf(a,"borderTop"),a=kf(a,"borderBottom");return new Ne(d,c,a,b)}else return b=Pe(a,"borderLeftWidth"),c=Pe(a,"borderRightWidth"),d=Pe(a,"borderTopWidth"),a=Pe(a,"borderBottomWidth"),new Ne(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function mf(a,b){this.Ud=a||1;this.oe=b||nf;this.Cf=B(this.Tg,this);this.pg=C()}D(mf,T);mf.prototype.enabled=!1;var nf=s.window;r=mf.prototype;r.u=m;r.setInterval=function(a){this.Ud=a;this.u&&this.enabled?(this.stop(),this.start()):this.u&&this.stop()};r.Tg=function(){if(this.enabled){var a=C()-this.pg;if(a>0&&a<this.Ud*0.8)this.u=this.oe.setTimeout(this.Cf,this.Ud-a);else if(this.dispatchEvent(of),this.enabled)this.u=this.oe.setTimeout(this.Cf,this.Ud),this.pg=C()}};
r.start=function(){this.enabled=!0;if(!this.u)this.u=this.oe.setTimeout(this.Cf,this.Ud),this.pg=C()};r.stop=function(){this.enabled=!1;if(this.u)this.oe.clearTimeout(this.u),this.u=m};r.g=function(){mf.b.g.call(this);this.stop();delete this.oe};var of="tick";function pf(a,b,c,d){(!y(a)||!y(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Bd=a;this.lj=b;this.duration=c;this.ah=d;this.coords=[]}D(pf,T);var pb={},qf=m;function rf(){sf();var a=C(),b;for(b in pb)tf(pb[b],a);qf=ob()?m:nf.setTimeout(rf,20)}function sf(){qf&&(nf.clearTimeout(qf),qf=m)}function uf(a){a=ja(a);delete pb[a];ob()&&sf()}r=pf.prototype;r.s=0;r.uh=0;r.Aa=0;r.startTime=m;r.rh=m;r.ng=m;
r.play=function(a){if(a||this.s==0)this.Aa=0,this.coords=this.Bd;else if(this.s==1)return!1;uf(this);this.startTime=a=C();this.s==-1&&(this.startTime-=this.duration*this.Aa);this.rh=this.startTime+this.duration;this.ng=this.startTime;this.Aa||this.La();vf(this,"play");this.s==-1&&this.Cg();this.s=1;var b=ja(this);b in pb||(pb[b]=this);qf||(qf=nf.setTimeout(rf,20));tf(this,a);return!0};r.stop=function(a){uf(this);this.s=0;if(a)this.Aa=1;wf(this,this.Aa);this.Dg();this.nc()};
r.g=function(){this.s!=0&&this.stop(!1);this.zg();pf.b.g.call(this)};function tf(a,b){a.Aa=(b-a.startTime)/(a.rh-a.startTime);if(a.Aa>=1)a.Aa=1;a.uh=1E3/(b-a.ng);a.ng=b;wf(a,a.Aa);a.Aa==1?(a.s=0,uf(a),vf(a,"finish"),a.nc()):a.s==1&&a.yg()}function wf(a,b){ha(a.ah)&&(b=a.ah(b));a.coords=Array(a.Bd.length);for(var c=0;c<a.Bd.length;c++)a.coords[c]=(a.lj[c]-a.Bd[c])*b+a.Bd[c]}r.yg=function(){vf(this,"animate")};r.La=function(){vf(this,"begin")};r.zg=function(){vf(this,"destroy")};
r.nc=function(){vf(this,"end")};r.Cg=function(){vf(this,"resume")};r.Dg=function(){vf(this,"stop")};function vf(a,b){a.dispatchEvent(new xf(b,a))}function xf(a,b){Od.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.F=b.coords[2];this.duration=b.duration;this.Aa=b.Aa;this.Pf=b.uh;this.state=b.s;this.Wk=b}D(xf,Od);function U(a,b,c,d,f){pf.call(this,b,c,d,f);this.element=a}D(U,pf);U.prototype.$c=u;U.prototype.yg=function(){this.$c();U.b.yg.call(this)};U.prototype.nc=function(){this.$c();U.b.nc.call(this)};U.prototype.La=function(){this.$c();U.b.La.call(this)};function yf(a,b,c,d,f){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));U.apply(this,arguments)}D(yf,U);
yf.prototype.$c=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function zf(a,b,c,d){yf.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}D(zf,yf);zf.prototype.La=function(){this.Bd=[this.element.offsetLeft,this.element.offsetTop];zf.b.La.call(this)};function Af(a,b,c,d,f){U.call(this,a,[b],[c],d,f)}D(Af,U);Af.prototype.$c=function(){this.element.style.width=Math.round(this.coords[0])+"px"};
function Bf(a,b,c,d,f){U.call(this,a,[b],[c],d,f)}D(Bf,U);Bf.prototype.$c=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Cf(a,b,c,d,f){ga(b)&&(b=[b]);ga(c)&&(c=[c]);U.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}D(Cf,U);
Cf.prototype.$c=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};Cf.prototype.show=function(){this.element.style.display=""};function Df(a,b,c){Cf.call(this,a,1,0,b,c)}D(Df,Cf);Df.prototype.La=function(){this.show();Df.b.La.call(this)};Df.prototype.nc=function(){this.element.style.display="none";Df.b.nc.call(this)};
function Ef(a,b,c){Cf.call(this,a,0,1,b,c)}D(Ef,Cf);Ef.prototype.La=function(){this.show();Ef.b.La.call(this)};function Ff(){}ea(Ff);Ff.prototype.ck=0;function Gf(a){return":"+(a.ck++).toString(36)}Ff.Ga();function Hf(a,b){a.setAttribute("role",b);a.el=b}function W(a,b,c){a.setAttribute("aria-"+b,c)};function If(a,b,c,d){this.N=a||document.body;this.X=fd(this.N);this.vk=!a;this.f=m;this.fb="";this.ta=[];this.Tc=[];this.wi=this.Oe=-1;this.V=!1;this.className="ac-renderer";this.Gg="ac-row";this.Qh="active";this.bh="ac-active";this.Dj="ac-highlighted";this.ed=b||m;this.Pk=d!=m?d:!0;this.dg=!1;this.xk=c!=m?c:!1;this.jg=m;this.rf=!1;this.Xe=0}D(If,T);r=If.prototype;r.c=o("f");r.Fg=function(a,b,c){this.fb=b;this.ta=a;this.Oe=-1;this.wi=C();this.ea=c;this.Tc=[];Jf(this)};
r.Db=function(){this.ea&&W(this.ea,"activedescendant","");if(this.V)this.V=!1,this.ea&&W(this.ea,"haspopup",!1),this.Xe>0?(ua(this.C),this.C=new Df(this.f,this.Xe),this.C.play()):ef(this.f,!1)};r.show=function(){if(!this.V)this.V=!0,this.ea&&(Hf(this.ea,"combobox"),W(this.ea,"autocomplete","list"),W(this.ea,"haspopup",!0)),this.Xe>0?(ua(this.C),this.C=new Ef(this.f,this.Xe),this.C.play()):ef(this.f,!0)};r.ca=o("V");
function Kf(a,b){var c=b>=0&&b<a.Tc.length?a.Tc[b]:i;if(a.dispatchEvent({type:"rowhilite",fl:c})&&(Lf(a),a.Oe=b,c)){N(c,a.bh,a.Qh);a.ea&&W(a.ea,"activedescendant",c?c.id:"");var d=a.f,f=Ye(c),g=Ye(d),h=lf(d),j=f.x-g.x-h.left,f=f.y-g.y-h.top,g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function Lf(a){a.Oe>=0&&$c(a.Tc[a.Oe],a.bh,a.Qh)}
r.Za=function(a){if(a==-1)Kf(this,-1);else for(var b=0;b<this.ta.length;b++)if(this.ta[b].id==a){Kf(this,b);break}};function Mf(a){if(!a.f){var b=a.X.t("div",{style:"display:none"});a.f=b;N(b,a.className);Hf(b,"listbox");b.id=Gf(Ff.Ga());a.X.appendChild(a.N,b);R(b,"click",a.yh,!1,a);R(b,"mousedown",a.Me,!1,a);R(a.X.z,"mousedown",a.Ah,!1,a);R(b,"mouseover",a.Bh,!1,a)}}
function Jf(a){Mf(a);if(a.rf)a.f.style.visibility="hidden";if(a.Rk)a.f.style.minWidth=a.Rk.clientWidth+"px";a.Tc.length=0;a.X.ki(a.f);if(a.ed&&a.ed.Pb)a.ed.Pb(a);else{var b=m;Qb(a.ta,function(a){var d=this.fb,f=this.X.t("div",{className:this.Gg,id:Gf(Ff.Ga())});Hf(f,"option");this.ed&&this.ed.li?this.ed.li(a,d,f):f.innerHTML=Ca(a.data.toString());d&&this.Pk&&Nf(this,f,d);N(f,this.Gg);this.Tc.push(f);a=f;this.rf?this.f.insertBefore(a,b):this.X.appendChild(this.f,a);b=a},a)}a.ta.length==0?a.Db():(a.show(),
a.fe(),gf(a.f,!0))}r.fe=function(){if(this.ea&&this.vk){var a=Ye(this.ea),b=bf(this.ea),c=bf(Ue(this.ea)),d=bf(this.f);a.y=this.rf?a.y-d.height:a.y+b.height;(this.xk||a.x+d.width>c.width)&&this.jg!="LEFT"?(a.x=a.x+b.width-d.width,this.jg="RIGHT"):this.jg="LEFT";af(this.f,a);if(this.rf)this.f.style.visibility="visible"}};
r.g=function(){if(this.f)qe(this.f,"click",this.yh,!1,this),qe(this.f,"mousedown",this.Me,!1,this),qe(this.X.z,"mousedown",this.Ah,!1,this),qe(this.f,"mouseover",this.Bh,!1,this),this.X.removeNode(this.f),this.f=m,this.V=!1;ua(this.C);delete this.N;If.b.g.call(this)};
function Nf(a,b,c){if(b.nodeType==3){var d=m;y(c)&&c.length>1&&!a.dg&&(d=Eb(c,1));c=Of(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.dg?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.X.createElement("b"),h.className=a.Dj,a.X.appendChild(h,a.X.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.X.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=Eb(c,d*3);b.nodeValue=a.join("")}else d&&Nf(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Nf(a,b,c),b=d}function Of(a,b){var c="";if(!b)return c;a.dg?y(b)?(c=ub(b,function(a){return!/^[\s\xa0]*$/.test(a==m?"":String(a))}),c=vb(c,Ia),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ia(c),c=c.replace(/ /g,"|")):c=y(b)?b.length>0?Ia(b[0]):"":Ia(b);return c}
function Pf(a,b){for(;b&&b!=a.f&&!yb(Zc(b),a.Gg);)b=b.parentNode;return b?tb(a.Tc,b):-1}r.yh=function(a){var b=Pf(this,a.target);b>=0&&this.dispatchEvent({type:ye,row:this.ta[b].id});a.stopPropagation()};r.Me=function(a){this.dispatchEvent(ze);a.stopPropagation();a.preventDefault()};r.Ah=function(a){this.ea==a.target?(Lf(this),a.stopPropagation()):this.dispatchEvent(Ae)};r.Bh=function(a){a=Pf(this,a.target);a>=0&&!(C()-this.wi<300)&&this.dispatchEvent({type:xe,row:this.ta[a].id})};function Qf(a){this.Fh=a;this.H=[]}D(Qf,E);var Rf=[];r=Qf.prototype;r.h=function(a,b,c,d,f){y(b)||(Rf[0]=b,b=Rf);for(var g=0;g<b.length;g++)this.H.push(R(a,b[g],c||this,d||!1,f||this.Fh||this));return this};r.fa=function(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)this.fa(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Fh||this;d=!!d;if(a=re(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Rc&&a[b].qd==c&&a[b].capture==d&&a[b].Ne==f){a=a[b];break a}a=m}if(a)a=a.key,S(a),zb(this.H,a)}return this};
r.wd=function(){K(this.H,S);this.H.length=0};r.g=function(){Qf.b.g.call(this);this.wd()};r.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Ie(a){var b;a:{var c=0,d=0;if(Ke(a))c=a.selectionStart,d=-1;else if(F){var f=Le(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Le(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Me(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function Ke(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};var Sf,Tf;Tf=Sf=!1;var Uf=Ta();Uf&&(Uf.indexOf("Firefox")!=-1||Uf.indexOf("Camino")!=-1||(Uf.indexOf("iPhone")!=-1||Uf.indexOf("iPod")!=-1?Sf=!0:Uf.indexOf("iPad")!=-1&&(Tf=!0)));var Vf=Sf,Wf=Tf;function Xf(a,b,c,d,f){if(!F&&(!H||!I("525")))return!0;if(Ra&&f)return Yf(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(F&&d&&b==a)return!1;switch(a){case 13:return!(F&&kb());case 27:return!H}return Yf(a)}
function Yf(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(H&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Zf(a,b){a&&this.Ld(a,b)}D(Zf,T);r=Zf.prototype;r.f=m;r.Se=m;r.kg=m;r.Te=m;r.kc=-1;r.jc=-1;
var $f={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ag={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},bg={61:187,59:186},cg=F||H&&I("525");r=Zf.prototype;
r.Xf=function(a){if(H&&(this.kc==17&&!a.ctrlKey||this.kc==18&&!a.altKey))this.jc=this.kc=-1;cg&&!Xf(a.keyCode,this.kc,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.jc=G&&a.keyCode in bg?bg[a.keyCode]:a.keyCode};r.wj=function(){this.jc=this.kc=-1};
r.handleEvent=function(a){var b=a.wa,c,d;F&&a.type=="keypress"?(c=this.jc,d=c!=13&&c!=27?b.keyCode:0):H&&a.type=="keypress"?(c=this.jc,d=b.charCode>=0&&b.charCode<63232&&Yf(c)?b.charCode:0):Xa?(c=this.jc,d=Yf(c)?b.keyCode:0):(c=b.keyCode||this.jc,d=b.charCode||0,Ra&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in $f?f=$f[c]:c==25&&a.shiftKey&&(f=9):g&&g in ag&&(f=ag[g]);a=f==this.kc;this.kc=f;b=new dg(f,d,a,b);try{this.dispatchEvent(b)}finally{b.i()}};r.c=o("f");
r.Ld=function(a,b){this.Te&&this.detach();this.f=a;this.Se=R(this.f,"keypress",this,b);this.kg=R(this.f,"keydown",this.Xf,b,this);this.Te=R(this.f,"keyup",this.wj,b,this)};r.detach=function(){if(this.Se)S(this.Se),S(this.kg),S(this.Te),this.Te=this.kg=this.Se=m;this.f=m;this.jc=this.kc=-1};r.g=function(){Zf.b.g.call(this);this.detach()};function dg(a,b,c,d){d&&this.gc(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(dg,Rd);function eg(a,b,c,d){d=d||150;this.ie=a!=m?a:fg;this.hj=this.ie.substring(0,1);a=this.rd?"[\\s"+this.ie+"]+":"[\\s]+";this.Ei=RegExp("^"+a+"|"+a+"$","g");this.Ak=RegExp("\\s*["+this.ie+"]$");this.Sh=b||"";this.tk=this.rd=c!=m?c:!0;this.u=d>0?new mf(d):m;this.va=new Qf(this);this.vf=new Qf(this);this.L=new Zf;this.Oh=-1}D(eg,E);var gg=(Vf||Wf)&&!I("533.17.9"),fg=",;";r=eg.prototype;r.Qk=!0;r.oj=!0;r.Gi=!1;r.Ck=!0;r.Bk=!0;r.wf=m;r.O=m;r.og="";r.uc=!1;r.Hg=!1;r.Fi=!0;r.n=function(){return this.O.value};
r.Y=function(a){this.O.value=a};r.Af=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ia(c)&&c.nodeType==1&&W(c,"haspopup",!0);this.va.h(c,"focus",this.Gc);this.va.h(c,"blur",this.Ib);if(!this.O&&(this.vf.h(c,"keydown",this.kk),ia(c)&&c.nodeType==1)){var d=P(c);(d&&d.activeElement)==c&&hg(this,c)}}};r.g=function(){eg.b.g.call(this);this.wf!=m&&window.clearTimeout(this.wf);this.va.i();delete this.va;this.vf.i();this.L.i()};function ig(a){a.u?a.u.setInterval(300):a.u=new mf(300)}
r.Ya=function(a){switch(a.keyCode){case 40:if(this.M.Ra())return this.Gi?Fe(this.M):Ee(this.M),a.preventDefault(),!0;else if(!this.rd)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.M.Ra())return this.Gi?Ee(this.M):Fe(this.M),a.preventDefault(),!0;break;case 9:if(this.M.Ra()&&!a.shiftKey){if(this.update(),Be(this.M)&&this.tk)return a.preventDefault(),!0}else this.M.Db();break;case 13:if(this.M.Ra()){if(this.update(),Be(this.M))return a.preventDefault(),a.stopPropagation(),!0}else this.M.Db();
break;case 27:if(this.M.Ra())return this.M.Db(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.uc){if(!this.uc)this.va.h(this.O,"keyup",this.di),this.va.h(this.O,"keypress",this.ci),this.uc=!0;return!0}break;default:this.u&&!this.Fi&&(this.u.stop(),this.u.start())}return jg(this,a)};function jg(a,b){var c=a.rd&&b.charCode&&a.ie.indexOf(String.fromCharCode(b.charCode))!=-1;a.Ck&&c&&a.update();return a.Bk&&c&&Be(a.M)?(b.preventDefault(),!0):!1}r.vj=q(!1);
r.Gc=function(a){hg(this,a.target||m)};function hg(a,b){a.vf.wd();a.M&&Ce(a.M);if(b!=a.O)a.O=b,a.u&&(a.u.start(),a.va.h(a.u,of,a.sd)),a.og=a.n(),a.L.Ld(a.O),a.va.h(a.L,"key",a.ei),F&&a.va.h(a.O,"keypress",a.bi)}r.Ib=function(){gg?this.wf=window.setTimeout(B(this.hi,this),0):this.hi()};
r.hi=function(){if(this.O)this.va.fa(this.L,"key",this.ei),this.L.detach(),this.va.fa(this.O,"keyup",this.vj),F&&this.va.fa(this.O,"keypress",this.bi),this.uc&&kg(this),this.O=m,this.u&&(this.u.stop(),this.va.fa(this.u,of,this.sd)),this.M&&De(this.M)};r.sd=function(){this.update()};r.kk=function(a){this.Gc(a)};r.ei=function(a){this.Oh=a.keyCode;this.M&&this.Ya(a)};r.ci=function(){this.uc&&this.Oh!=229&&kg(this)};r.di=function(a){this.uc&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&kg(this)};
function kg(a){if(a.uc)a.uc=!1,a.va.fa(a.O,"keypress",a.ci),a.va.fa(a.O,"keyup",a.di)}r.bi=function(a){jg(this,a)};r.update=function(a){if(this.O&&(a||this.n()!=this.og)){if(a||!this.Hg){var a=Ie(this.O),b=this.n(),a=Je(this,b)[He(this,b,a)],a=this.Ei?String(a).replace(this.Ei,""):a;if(this.M&&(this.M.ea=this.O,b=this.M,this.n(),b.fb!=a))b.fb=a,Jd(b.ae,b.fb,b.Oj,B(b.Mj,b)),Ce(b)}this.og=this.n()}this.Hg=!1};
function He(a,b,c){a=Je(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}function Je(a,b){if(!a.rd)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.Sh&&a.Sh.indexOf(c[g])!=-1){if(a.oj&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.ie.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function lg(a,b,c){var d=new If(m,{li:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.ae=new Id(b,c);b=new eg(m,m,!1);ig(b);b.Fi=!1;b.M=this;b.Af(a);we.call(this,this.ae,d,b);this.addEventListener("update",function(b){a.value=b.row.display_name})}D(lg,we);lg.prototype.search=function(a,b,c){Jd(this.ae,a,b,c)};function mg(){this.ji=C()}new mg;mg.prototype.set=ba("ji");mg.prototype.reset=function(){this.set(C())};mg.prototype.get=o("ji");function og(a,b){this.lb=Xd?[]:"";a!=m&&this.append.apply(this,arguments)}og.prototype.set=function(a){this.clear();this.append(a)};Xd?(og.prototype.Df=0,og.prototype.append=function(a,b,c){b==m?this.lb[this.Df++]=a:(this.lb.push.apply(this.lb,arguments),this.Df=this.lb.length);return this}):og.prototype.append=function(a,b,c){this.lb+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.lb+=arguments[d];return this};og.prototype.clear=function(){Xd?this.Df=this.lb.length=0:this.lb=""};
og.prototype.toString=function(){if(Xd){var a=this.lb.join("");this.clear();a&&this.append(a);return a}else return this.lb};function pg(a){qc.call(this,a||"OpenStreetMaps")}D(pg,vc);pg.prototype.rb=q(18);pg.prototype.ec=q(256);pg.prototype.Le=function(a,b,c){var d=["a","b","c"];return(new og("http://",d[wc(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};pg.prototype.Jd=function(a){pd(a,"\u00a9 ",Q("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function qg(){pg.call(this,"MapQuest OSM")}D(qg,pg);qg.prototype.Le=function(a,b,c){return(new og("http://otile",1+wc(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};qg.prototype.Jd=function(a){pd(a,"Map data \u00a9 ",Q("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",Q("br"));pd(a,"Tiles Courtesy of ",Q("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",Q("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function rg(a){this.X=a||fd();this.he=sg}D(rg,T);rg.prototype.Ej=Ff.Ga();var sg=m;function tg(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}r=rg.prototype;r.$a=m;r.G=!1;r.f=m;r.he=m;r.vg=m;r.N=m;r.W=m;r.Ma=m;r.Ii=!1;
function ug(a){return a.$a||(a.$a=Gf(a.Ej))}function vg(a,b){if(a.N&&a.N.Ma){var c=a.N.Ma,d=a.$a;d in c&&delete c[d];qb(a.N.Ma,b,a)}a.$a=b}r.c=o("f");r.xa=function(){return this.md||(this.md=new Qf(this))};function wg(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.N&&a.$a&&xg(a.N,a.$a)&&a.N!=b&&e(Error("Unable to set parent component"));a.N=b;rg.b.Kg.call(a,b)}r.getParent=o("N");r.Kg=function(a){this.N&&this.N!=a&&e(Error("Method not supported"));rg.b.Kg.call(this,a)};r.$=o("X");
r.t=function(){this.f=this.X.createElement("div")};r.Pb=function(a){yg(this,a)};function yg(a,b,c){a.G&&e(Error("Component already rendered"));a.f||a.t();b?b.insertBefore(a.f,c||m):a.X.z.body.appendChild(a.f);(!a.N||a.N.G)&&a.ha()}r.ka=function(a){if(this.G)e(Error("Component already rendered"));else if(a&&this.Wa(a)){this.Ii=!0;if(!this.X||this.X.z!=P(a))this.X=fd(a);this.nb(a);this.ha()}else e(Error("Invalid element to decorate"))};r.Wa=q(!0);r.nb=ba("f");
r.ha=function(){this.G=!0;zg(this,function(a){!a.G&&a.c()&&a.ha()})};r.Pa=function(){zg(this,function(a){a.G&&a.Pa()});this.md&&this.md.wd();this.G=!1};r.g=function(){rg.b.g.call(this);this.G&&this.Pa();this.md&&(this.md.i(),delete this.md);zg(this,function(a){a.i()});!this.Ii&&this.f&&rd(this.f);this.N=this.vg=this.f=this.Ma=this.W=m};r.Fd=function(a,b){this.Gd(a,Ag(this),b)};
r.Gd=function(a,b,c){a.G&&(c||!this.G)&&e(Error("Component already rendered"));(b<0||b>Ag(this))&&e(Error("Child component index out of bounds"));if(!this.Ma||!this.W)this.Ma={},this.W=[];a.getParent()==this?(this.Ma[ug(a)]=a,zb(this.W,a)):qb(this.Ma,ug(a),a);wg(a,this);Db(this.W,b,0,a);a.G&&this.G&&a.getParent()==this?(c=this.Z(),c.insertBefore(a.c(),c.childNodes[b]||m)):c?(this.f||this.t(),b=Bg(this,b+1),yg(a,this.Z(),b?b.f:m)):this.G&&!a.G&&a.f&&a.ha()};r.Z=o("f");
function Cg(a){if(a.he==m)a.he=Ze(a.G?a.f:a.X.z.body);return a.he}r.Ad=function(a){this.G&&e(Error("Component already rendered"));this.he=a};function Ag(a){return a.W?a.W.length:0}function xg(a,b){return a.Ma&&b?(b in a.Ma?a.Ma[b]:i)||m:m}function Bg(a,b){return a.W?a.W[b]||m:m}function zg(a,b,c){a.W&&K(a.W,b,c)}function Dg(a,b){return a.W&&b?tb(a.W,b):-1}
r.removeChild=function(a,b){if(a){var c=A(a)?a:ug(a),a=xg(this,c);if(c&&a){var d=this.Ma;c in d&&delete d[c];zb(this.W,a);b&&(a.Pa(),a.f&&rd(a.f));wg(a,m)}}a||e(Error("Child is not in parent component"));return a};r.ki=function(a){for(;this.W&&this.W.length!=0;)this.removeChild(Bg(this,0),a)};function Eg(){}var Fg;ea(Eg);r=Eg.prototype;r.pb=aa();r.t=function(a){var b=a.$().t("div",this.kd(a).join(" "),a.getContent());this.jf(a,b);return b};r.Z=function(a){return a};r.Nd=function(a,b,c){if(a=a.c?a.c():a)if(F&&!I("7")){var d=Gg(Zc(a),b);d.push(b);oa(c?N:$c,a).apply(m,d)}else c?N(a,b):$c(a,b)};r.Wa=q(!0);
r.ka=function(a,b){b.id&&vg(a,b.id);var c=this.Z(b);c&&c.firstChild?Hg(a,c.firstChild.nextSibling?Bb(c.childNodes):c.firstChild):a.cd=m;var d=0,f=this.o(),g=this.o(),h=!1,j=!1,c=!1,k=Zc(b);K(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.Uf(a)},this);a.s=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Xa;l&&k.push.apply(k,l);if(F&&!I("7")){var p=Gg(k);p.length>0&&(k.push.apply(k,p),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");this.jf(a,b);return b};
r.pd=function(a){Cg(a)&&this.Ad(a.c(),!0);a.isEnabled()&&this.qc(a,a.ca())};r.jf=function(a,b){a.isEnabled()||this.Ka(b,1,!0);a.s&8&&this.Ka(b,8,!0);a.U&16&&this.Ka(b,16,!!(a.s&16));a.U&64&&this.Ka(b,64,a.Ra())};r.je=function(a,b){gf(a,!b,!F&&!Xa)};r.Ad=function(a,b){this.Nd(a,this.o()+"-rtl",b)};r.hc=function(a){var b;return a.U&32&&(b=a.aa())?xd(b):!1};
r.qc=function(a,b){var c;if(a.U&32&&(c=a.aa())){if(!b&&a.s&32){try{c.blur()}catch(d){}a.s&32&&a.Ib(m)}if(xd(c)!=b)b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex"))}};r.setVisible=function(a,b){ef(a,b)};r.Ia=function(a,b,c){var d=a.c();if(d){var f=this.Qd(b);f&&this.Nd(a,f,c);this.Ka(d,b,c)}};r.Ka=function(a,b,c){Fg||(Fg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Fg[b])&&W(a,b,c)};
r.setContent=function(a,b){var c=this.Z(a);if(c&&(qd(c),b))if(A(b))ud(c,b);else{var d=function(a){if(a){var b=P(c);c.appendChild(A(a)?b.createTextNode(a):a)}};y(b)?K(b,d):z(b)&&!("nodeType"in b)?K(Bb(b),d):d(b)}};r.aa=function(a){return a.c()};r.o=q("goog-control");r.kd=function(a){var b=this.o(),c=[b],d=this.o();d!=b&&c.push(d);b=a.s;for(d=[];b;){var f=b&-b;d.push(this.Qd(f));b&=~f}c.push.apply(c,d);(a=a.Xa)&&c.push.apply(c,a);F&&!I("7")&&c.push.apply(c,Gg(c));return c};
function Gg(a,b){var c=[];b&&(a=a.concat([b]));K([],function(d){wb(d,oa(yb,a))&&(!b||yb(d,b))&&c.push(d.join("_"))});return c}r.Qd=function(a){this.ye||Ig(this);return this.ye[a]};r.Uf=function(a){if(!this.zi){this.ye||Ig(this);var b=this.ye,c={},d;for(d in b)c[b[d]]=d;this.zi=c}a=parseInt(this.zi[a],10);return isNaN(a)?0:a};function Ig(a){var b=a.o();a.ye={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Jg(a,b){a||e(Error("Invalid class name "+a));ha(b)||e(Error("Invalid decorator function "+b));Kg[a]=b}var Lg={},Kg={};function X(a,b,c){rg.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ja(b);if(d=Lg[d])break;b=b.b?b.b.constructor:m}b=d?ha(d.Ga)?d.Ga():new d:m}this.j=b;this.cd=a}D(X,rg);r=X.prototype;r.cd=m;r.s=0;r.U=39;r.Bf=255;r.of=0;r.V=!0;r.Xa=m;r.Zf=!0;r.xe=!1;r.ff=m;function Mg(a,b){a.G&&b!=a.Zf&&Ng(a,b);a.Zf=b}r.aa=function(){return this.j.aa(this)};r.Ie=function(){return this.L||(this.L=new Zf)};function Og(a,b){if(b)a.Xa?yb(a.Xa,b)||a.Xa.push(b):a.Xa=[b],a.j.Nd(a,b,!0)}
r.Nd=function(a,b){if(b)Og(this,a);else if(a&&this.Xa){zb(this.Xa,a);if(this.Xa.length==0)this.Xa=m;this.j.Nd(this,a,!1)}};r.t=function(){var a=this.j.t(this);this.f=a;var b=this.ff||this.j.pb();b&&Hf(a,b);this.xe||this.j.je(a,!1);this.ca()||this.j.setVisible(a,!1)};r.Z=function(){return this.j.Z(this.c())};r.Wa=function(a){return this.j.Wa(a)};r.nb=function(a){this.f=a=this.j.ka(this,a);var b=this.ff||this.j.pb();b&&Hf(a,b);this.xe||this.j.je(a,!1);this.V=a.style.display!="none"};
r.ha=function(){X.b.ha.call(this);this.j.pd(this);if(this.U&-2&&(this.Zf&&Ng(this,!0),this.U&32)){var a=this.aa();if(a){var b=this.Ie();b.Ld(a);this.xa().h(b,"key",this.Ya).h(a,"focus",this.Gc).h(a,"blur",this.Ib)}}};function Ng(a,b){var c=a.xa(),d=a.c();b?(c.h(d,"mouseover",a.ag).h(d,"mousedown",a.Hc).h(d,"mouseup",a.Ic).h(d,"mouseout",a.$f),F&&c.h(d,"dblclick",a.zh)):(c.fa(d,"mouseover",a.ag).fa(d,"mousedown",a.Hc).fa(d,"mouseup",a.Ic).fa(d,"mouseout",a.$f),F&&c.fa(d,"dblclick",a.zh))}
r.Pa=function(){X.b.Pa.call(this);this.L&&this.L.detach();this.ca()&&this.isEnabled()&&this.j.qc(this,!1)};r.g=function(){X.b.g.call(this);this.L&&(this.L.i(),delete this.L);delete this.j;this.Xa=this.cd=m};r.getContent=o("cd");r.setContent=function(a){this.j.setContent(this.c(),a);this.cd=a};function Hg(a,b){a.cd=b}
r.jd=function(){var a=this.getContent();if(!a)return"";if(!A(a))if(y(a))a=vb(a,yd).join("");else{if(dd&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];zd(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");dd||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return ya(a)};r.Ad=function(a){X.b.Ad.call(this,a);var b=this.c();b&&this.j.Ad(b,a)};r.je=function(a){this.xe=a;var b=this.c();b&&this.j.je(b,a)};r.ca=o("V");
r.setVisible=function(a,b){if(b||this.V!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.j.setVisible(c,a);this.isEnabled()&&this.j.qc(this,a);this.V=a;return!0}return!1};r.isEnabled=function(){return!(this.s&1)};r.Sb=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&Pg(this,1,!a))a||(this.setActive(!1),this.yb(!1)),this.ca()&&this.j.qc(this,a),this.Ia(1,!a)};r.yb=function(a){Pg(this,2,a)&&this.Ia(2,a)};r.Vd=function(){return!!(this.s&4)};
r.setActive=function(a){Pg(this,4,a)&&this.Ia(4,a)};r.Lg=function(a){Pg(this,8,a)&&this.Ia(8,a)};r.Ra=function(){return!!(this.s&64)};r.T=function(a){Pg(this,64,a)&&this.Ia(64,a)};r.Ia=function(a,b){if(this.U&a&&b!=!!(this.s&a))this.j.Ia(this,a,b),this.s=b?this.s|a:this.s&~a};function Qg(a,b,c){a.G&&a.s&b&&!c&&e(Error("Component already rendered"));!c&&a.s&b&&a.Ia(b,!1);a.U=c?a.U|b:a.U&~b}function Rg(a,b){return!!(a.Bf&b)&&!!(a.U&b)}
function Pg(a,b,c){return!!(a.U&b)&&!!(a.s&b)!=c&&(!(a.of&b)||a.dispatchEvent(tg(b,c)))&&!a.De}r.ag=function(a){(!a.relatedTarget||!td(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Rg(this,2)&&this.yb(!0)};r.$f=function(a){if((!a.relatedTarget||!td(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))Rg(this,4)&&this.setActive(!1),Rg(this,2)&&this.yb(!1)};
r.Hc=function(a){this.isEnabled()&&(Rg(this,2)&&this.yb(!0),Ud(a)&&(Rg(this,4)&&this.setActive(!0),this.j.hc(this)&&this.aa().focus()));!this.xe&&Ud(a)&&a.preventDefault()};r.Ic=function(a){this.isEnabled()&&(Rg(this,2)&&this.yb(!0),this.Vd()&&this.td(a)&&Rg(this,4)&&this.setActive(!1))};r.zh=function(a){this.isEnabled()&&this.td(a)};
r.td=function(a){if(Rg(this,16)){var b=!(this.s&16);Pg(this,16,b)&&this.Ia(16,b)}Rg(this,8)&&this.Lg(!0);Rg(this,64)&&this.T(!this.Ra());b=new Od("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};r.Gc=function(){Rg(this,32)&&Pg(this,32,!0)&&this.Ia(32,!0)};r.Ib=function(){Rg(this,4)&&this.setActive(!1);Rg(this,32)&&Pg(this,32,!1)&&this.Ia(32,!1)};
r.Ya=function(a){return this.ca()&&this.isEnabled()&&this.nd(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};r.nd=function(a){return a.keyCode==13&&this.td(a)};ha(X)||e(Error("Invalid component class "+X));ha(Eg)||e(Error("Invalid renderer class "+Eg));var Sg=ja(X);Lg[Sg]=Eg;Jg("goog-control",function(){return new X(m)});function Tg(){}D(Tg,Eg);ea(Tg);r=Tg.prototype;r.pb=q("button");r.Ka=function(a,b,c){b==16?W(a,"pressed",c):Tg.b.Ka.call(this,a,b,c)};r.t=function(a){var b=Tg.b.t.call(this,a),c=a.Td();c&&this.Ng(b,c);(c=a.n())&&this.Y(b,c);a.U&16&&this.Ka(b,16,!!(a.s&16));return b};r.ka=function(a,b){var b=Tg.b.ka.call(this,a,b),c=this.n(b);a.gb=c;a.Vg=this.Td(b);a.U&16&&this.Ka(b,16,!!(a.s&16));return b};r.n=u;r.Y=u;r.Td=function(a){return a.title};r.Ng=function(a,b){if(a)a.title=b||""};r.o=q("goog-button");function Ug(){}D(Ug,Tg);ea(Ug);r=Ug.prototype;r.pb=aa();r.t=function(a){Mg(a,!1);a.Bf&=-256;Qg(a,32,!1);return a.$().t("button",{"class":this.kd(a).join(" "),disabled:!a.isEnabled(),title:a.Td()||"",value:a.n()||""},a.jd()||"")};r.Wa=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};r.ka=function(a,b){Mg(a,!1);a.Bf&=-256;Qg(a,32,!1);b.disabled&&N(b,this.Qd(1));return Ug.b.ka.call(this,a,b)};r.pd=function(a){a.xa().h(a.c(),"click",a.td)};
r.je=u;r.Ad=u;r.hc=function(a){return a.isEnabled()};r.qc=u;r.Ia=function(a,b,c){Ug.b.Ia.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};r.n=function(a){return a.value};r.Y=function(a,b){if(a)a.value=b};r.Ka=u;function Vg(a,b,c){X.call(this,a,b||Ug.Ga(),c)}D(Vg,X);r=Vg.prototype;r.n=o("gb");r.Y=function(a){this.gb=a;this.j.Y(this.c(),a)};r.Td=o("Vg");r.Ng=function(a){this.Vg=a;this.j.Ng(this.c(),a)};r.g=function(){Vg.b.g.call(this);delete this.gb;delete this.Vg};r.ha=function(){Vg.b.ha.call(this);if(this.U&32){var a=this.aa();a&&this.xa().h(a,"keyup",this.nd)}};r.nd=function(a){return a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup"?this.td(a):a.keyCode==32};Jg("goog-button",function(){return new Vg(m)});function Wg(){}D(Wg,Tg);ea(Wg);r=Wg.prototype;r.t=function(a){var b={"class":"goog-inline-block "+this.kd(a).join(" "),title:a.Td()||""},b=a.$().t("div",b,this.Ae(a.getContent(),a.$()));this.jf(a,b);return b};r.pb=q("button");r.jf=function(a,b){a.isEnabled()||this.Ka(b,1,!0);a.s&8&&this.Ka(b,8,!0);a.U&16&&this.Ka(b,16,!0);a.Ra()&&this.Ka(b,64,!0)};r.Z=function(a){return a&&a.firstChild.firstChild};
r.Ae=function(a,b){return b.t("div","goog-inline-block "+(this.o()+"-outer-box"),b.t("div","goog-inline-block "+(this.o()+"-inner-box"),a))};r.Wa=function(a){return a.tagName=="DIV"};r.ka=function(a,b){Xg(b,!0);Xg(b,!1);var c;a:{if((c=a.$().vh(b))&&c.className.indexOf(this.o()+"-outer-box")!=-1)if((c=a.$().vh(c))&&c.className.indexOf(this.o()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.Ae(b.childNodes,a.$()));N(b,"goog-inline-block",this.o());return Wg.b.ka.call(this,a,b)};r.o=q("goog-custom-button");
function Xg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(za(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Yg(a,b,c){Vg.call(this,a,b||Wg.Ga(),c)}D(Yg,Vg);Jg("goog-custom-button",function(){return new Yg(m)});function Zg(a){this.e=a;this.Kb=this.tb=0;this.na=1E7;this.Ca=m;this.pi=this.Wb=this.od=0}D(Zg,T);r=Zg.prototype;r.setPosition=function(a,b){this.tb=L(a,-1.57,1.57);this.Kb=Ac(b);this.Ca=m;this.dispatchEvent(new $g(ah))};function bh(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.pi);b/=Math.max(Math.abs(Math.cos(a.Wb)),0.1);d(a.od);a.setPosition(a.tb+b,a.Kb+c)}r.getPosition=function(){return[this.tb,this.Kb]};
function ch(a,b){a.na=L(b,250,1E7);a.Ca=m;a.dispatchEvent(new $g(dh));a.dispatchEvent(new $g(ah))}r.setZoom=function(a){this.Ca=L(a,eh(this.e),this.e.ua.oa.rb());a=Math.cos(Math.abs(this.tb))*2*Math.PI/Math.pow(2,this.Ca)*this.e.ne;this.na=1/Math.tan(this.e.a.Od/2)*(a/2)*6378137;this.dispatchEvent(new $g(ah));this.dispatchEvent(new $g(dh))};
r.getZoom=function(){if(w(this.Ca)){var a=2*(this.na/6378137)*Math.tan(this.e.a.Od/2)/this.e.ne;this.Ca=L(Math.log(Math.cos(Math.abs(this.tb))*2*Math.PI/a)/Math.LN2,eh(this.e),this.e.ua.oa.rb())}return this.Ca};r.ld=function(){return fh(this.e,this.e.a.jb/2,this.e.a.ib/2,!0)};r.setHeading=ba("od");r.setTilt=ba("Wb");r.getHeading=o("od");r.getTilt=o("Wb");var ah="zoomchanged",dh="altchanged";function $g(a){Od.call(this,a)}D($g,Od);function gh(a,b,c,d,f){function g(a,b,c,d){a?a=b:(a=b/Math.max(1,Math.sqrt(c*c+d*d)),a=Math.max(1,Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))));return a}a=a.ba;this.hb=[];this.dd=[];this.w=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j),l=[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k];hh(this,h,j,k,l)}this.zb=a.createBuffer();this.me=a.createBuffer();this.Jb=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.zb);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.hb),a.STATIC_DRAW);this.zb.ic=2;a.bindBuffer(a.ARRAY_BUFFER,this.me);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.dd),a.STATIC_DRAW);this.me.ic=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Jb);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.w),a.STATIC_DRAW);this.$h=this.w.length}
function hh(a,b,c,d,f){for(var g=a.hb.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.hb.push(b+j/d,c+h/d),a.dd.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.hb.length/2;for(j=0;j<d;++j)a.hb.push(b+(j+0.5)/d,c+1),a.dd.push((j+0.5)/d,0)}if(f[1]){k[1]=a.hb.length/2;for(h=0;h<d;++h)a.hb.push(b+1,c+(h+0.5)/d),a.dd.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.hb.length/2;for(j=0;j<d;++j)a.hb.push(b+(j+0.5)/d,c),a.dd.push((j+0.5)/d,1)}if(f[3]){k[3]=a.hb.length/2;for(h=0;h<d;++h)a.hb.push(b,c+(h+0.5)/d),a.dd.push(0,
1-(h+0.5)/d)}b=B(aa(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.w.push(l);var p=h==0&&f[2],n=j==0&&f[3];p&&!n?(a.w.push(k[2]+j),a.w.push(l+c),b(),a.w.push(k[2]+j)):n&&!p?(a.w.push(l+1),a.w.push(k[3]+h),b(),a.w.push(k[3]+h)):n&&p&&(a.w.push(k[2]+j),a.w.push(k[3]+h),b(),a.w.push(k[3]+h),a.w.push(k[2]+j),a.w.push(l+c),b(),a.w.push(k[2]+j));a.w.push(l+1);a.w.push(l+c);b();a.w.push(l+c+1);p=h==d-1&&f[0];n=j==d-1&&f[1];p&&!n?(a.w.push(k[0]+j),a.w.push(l+1),b(),a.w.push(k[0]+j)):n&&!p?(a.w.push(l+
c),a.w.push(k[1]+h),b(),a.w.push(k[1]+h)):p&&n&&(a.w.push(k[0]+j),a.w.push(k[1]+h),b(),a.w.push(k[1]+h),a.w.push(k[0]+j),a.w.push(l+1),b(),a.w.push(k[0]+j));a.w.push(l+c);a.w.push(l+1);b()}};function Y(a,b){if(a instanceof Y)this.A=a.Cd();else{var c;if(c=z(a))a:{for(var d=c=0;d<a.length;d++){if(!z(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!ga(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.A=Bb(a):a instanceof ad?this.A=ih(a.height,a.width):ga(a)&&ga(b)&&a>0&&b>0?this.A=ih(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new ad(this.A[0].length,this.A.length)}
function jh(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Y(b)}function kh(a,b,c){for(var d=0;d<a.Gb().height;d++)for(var f=0;f<a.Gb().width;f++)b.call(c,a.A[d][f],d,f,a)}function lh(a,b){var c=new Y(a.Gb());kh(a,function(d,f,g){c.A[f][g]=b.call(i,d,f,g,a)});return c}function ih(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}r=Y.prototype;
r.add=function(a){bd(this.l,a.Gb())||e(Error("Matrix summation is only supported on arrays of equal size"));return lh(this,function(b,c,d){return b+a.A[c][d]})};function mh(a,b){a.l.height!=b.Gb().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new Y(a.l.height,a.l.width+b.l.width);kh(a,function(a,b,g){c.A[b][g]=a});kh(b,function(a,b,g){c.A[b][this.l.width+g]=a},a);return c}
r.equals=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.A[d][f]-a.A[d][f])<=(c||1.0E-6)))return!1;return!0};
function nh(a){a.l.width!=a.l.height&&e(Error("An inverse can only be taken on a square matrix."));var b=jh(a.l.height);a:{for(var a=mh(a,b),c=new Y(a),d=0,f=0;f<c.l.height;f++){if(d>=c.l.width)break;for(var g=f;c.A[g][d]==0;)if(g++,g==c.l.height&&(g=f,d++,d==c.l.width)){a=c;break a}var h=a,j=f,k=h.A[g];h.A[g]=h.A[j];h.A[j]=k;g=c.A[f][d];for(h=d;h<c.l.width;h++)c.A[f][h]/=g;for(g=0;g<c.l.height;g++)if(g!=f){j=c.A[g][d];for(h=d;h<c.l.width;h++)c.A[g][h]-=j*c.A[f][h]}d++}a=c}return!oh(a,0,b.l.width-
1,b.l.height-1).equals(b)?m:oh(a,b.l.width)}r.Gb=o("l");function ph(a){var b=new Y(a.l.width,a.l.height);kh(a,function(a,d,f){b.A[f][d]=a});return b}function Z(a,b,c){return!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width)?m:a.A[b][c]}function qh(a,b,c,d){b>=0&&b<a.l.height&&c>=0&&c<a.l.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.l.height+","+a.l.width+")"));a.A[b][c]=d}
r.multiply=function(a){if(a instanceof Y)return this.l.width!=a.Gb().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),rh(this,a);else if(ga(a))return sh(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};r.Sg=function(a){bd(this.l,a.Gb())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return lh(this,function(b,c,d){return b-a.A[c][d]})};r.Cd=o("A");
function oh(a,b,c,d){var f=new Y((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);kh(f,function(a,c,d){f.A[c][d]=this.A[0+c][b+d]},a);return f}function rh(a,b){var c=new Y(a.l.height,b.Gb().width);kh(c,function(a,f,g){for(var h=a=0;h<this.l.width;h++)a+=Z(this,f,h)*Z(b,h,g);qh(c,f,g,a)},a);return c}function sh(a,b){return lh(a,function(a){return a*b})};function th(){this.sa=jh(4)}th.prototype.translate=function(a,b,c){this.sa=this.sa.multiply(new Y([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};th.prototype.scale=function(a,b,c){this.sa=this.sa.multiply(new Y([[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]]))};function uh(a,b){var c=Math.cos(b),d=Math.sin(b);a.sa=a.sa.multiply(new Y([[c,0,d,0],[0,1,0,0],[-d,0,c,0],[0,0,0,1]]))}function vh(a,b){var c=Math.cos(b),d=Math.sin(b);a.sa=a.sa.multiply(new Y([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function wh(a,b){var c=Math.cos(b),d=Math.sin(b);a.sa=a.sa.multiply(new Y([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))}function xh(a){for(var b=new Y(new ad(3,3)),c=0;c<3;c++)for(var d=0;d<3;++d)qh(b,c,d,Z(a.sa,c,d));return nh(b)};function yh(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=m)return c}catch(d){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.Qf=b||m;this.ba=f;this.jb=a.width;this.ib=a.height;f.viewport(0,0,this.jb,this.ib);this.we=this.Od=0;this.ve=1;
this.Kd=this.jb/this.ib;this.vd=jh(4);this.wb=new th;this.$e=this.Ze=this.vd;this.Rf=this.Ge=this.mg=this.fh=this.Pf=0;R(s,"resize",this.gf,!1,this)}function zh(a){a.Od=M(50);a.we=1.0E-4;a.ve=2;a.Kd=a.jb/a.ib;Ah(a)}function Ah(a){var b=1/Math.tan(a.Od/2);a.vd=new Y([[b/a.Kd,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);Bh(a)}function Bh(a){var b=a.we-a.ve;qh(a.vd,2,2,(a.ve+a.we)/b);qh(a.vd,2,3,2*a.ve*a.we/b)}
yh.prototype.gf=function(){this.jb=this.canvas.width=this.canvas.clientWidth;this.ib=this.canvas.height=this.canvas.clientHeight;this.ba.viewport(0,0,this.jb,this.ib);this.Kd=this.jb/this.ib;Ah(this);Ch(this.m)};yh.prototype.m=m;function Dh(a){a.Ze=a.vd.multiply(a.wb.sa);a.$e=nh(a.Ze);return a.Ze};function Eh(a,b,c){c=a.ba.createShader(c);a.ba.shaderSource(c,b);a.ba.compileShader(c);a.ba.getShaderParameter(c,a.ba.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.ba.getShaderInfoLog(c)));return c};function Fh(a,b,c){b=b.ba;this.I=a;this.ue=b.getAttribLocation(this.I,"aVertexPosition");b.enableVertexAttribArray(this.ue);this.Bi=b.getAttribLocation(this.I,"aTextureCoord");b.enableVertexAttribArray(this.Bi);this.xg=$(b,this.I,"uMVPMatrix");this.Qj=$(b,this.I,"uMetaL0");this.Sj=$(b,this.I,"uMetaL1");this.Tj=$(b,this.I,"uMetaL2");this.Kj=$(b,this.I,"uOffL");this.Ti=$(b,this.I,"uBufferL0");this.Vi=$(b,this.I,"uBufferL1");this.Wi=$(b,this.I,"uBufferL2");this.Yi=$(b,this.I,"uBufferLn");if(c)this.ij=
$(b,this.I,"uDegradationT"),this.Pj=$(b,this.I,"uMetaL0T"),this.Rj=$(b,this.I,"uMetaL1T"),this.Jj=$(b,this.I,"uOffLT"),this.Si=$(b,this.I,"uBufferL0T"),this.Ui=$(b,this.I,"uBufferL1T"),this.Xi=$(b,this.I,"uBufferLnT");this.Kk=$(b,this.I,"uTileCount");this.ek=$(b,this.I,"uOffset")}function $(a,b,c){a=a.getUniformLocation(b,c);w(a)&&e(Error("Invalid name "+c));return a};var Gh={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0;uniform sampler2D uBufferL1;uniform sampler2D uBufferL2;uniform sampler2D uBufferLn;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLn,vTCA);}else{discard;}}",
"earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0[BUFF_SIZE];uniform float uMetaL1[BUFF_SIZE];uniform float uMetaL2[BUFF_SIZE];uniform vec2 uOffL[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffL[0],uTileCount);if(validateOffset(off)&&uMetaL0[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffL[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffL[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffL[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}",
"model-fs.glsl":"precision highp float;uniform vec3 uColor;varying vec3 vLightWeighting;void main(void){gl_FragColor=vec4(uColor*vLightWeighting,1.0);}","model-vs.glsl":"precision highp float;attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uMVPMatrix;uniform mat3 uNMatrix;varying vec3 vLightWeighting;void main(void){gl_Position=uMVPMatrix*vec4(aVertexPosition,1.0);vec3 transformedNormal=uNMatrix*aVertexNormal;vec3 uLightingDirection=vec3(uMVMatrix*vec4(1.0,1.0,1.0,1.0));vec3 uAmbientColor=vec3(0.3,0.3,0.3);vec3 uDirectionalColor=vec3(0.4,0.4,0.4);float directionalLightWeighting=max(dot(transformedNormal,uLightingDirection),0.0);vLightWeighting=uAmbientColor+uDirectionalColor*directionalLightWeighting;}"};function Hh(a){return a in Gh?Gh[a]:zc("../we/shaders/"+a)};function Ih(a){this.Ub=new Rb;this.Mc=[];this.Hk=512;this.kh=new mf(2E4);R(this.kh,of,this.bj,!1,this);this.kh.start();Jh(this,a)}function Jh(a,b){a.Ci=C();a.Vb=b;Lb(a.Ub,function(a){a.i()});a.Ub.clear();a.Mc=[]}r=Ih.prototype;r.Vb=m;r.Ci=0;r.Jk=u;
r.bj=function(){var a=ub(this.Ub.Qa(),function(a){return a.state==20||a.state==wa||a.state==-10});for(Fb(a,function(a,b){return a.Sc-b.Sc});this.Ub.qb()>this.Hk&&a.length>0;){var b=a.shift();b.state==wa&&zb(this.Mc,b);this.Ub.remove(b.zoom+"_"+b.x+"_"+b.y);b.i()}};r.Lk=function(a){a.Sc<this.Ci?(a.state=-10,this.Ub.remove(a.zoom+"_"+a.x+"_"+a.y),a.i()):this.Jk(a)};
function Kh(a){Fb(a.Mc,function(a,b){return a.Sc-b.Sc});for(var b=Math.min(a.Mc.length,5-a.Vb.ub),c=0;c<b;c++)sc(a.Vb,a.Mc.pop(),B(a.Lk,a))};function Lh(a,b,c,d){this.Hb=b.ba;this.ac=[];this.r=c;this.Vb=a;this.Ug=new Ih(a);this.Ca=d;this.Ja=1<<this.Ca;this.gd=this.r>=this.Ja;this.Mb=this.Oc=0;this.buffer=m;this.za=[];Mh(this)}function Mh(a){a.za=[];for(var b=0;b<a.r;++b)a.za.push(Array(a.r))}Lh.prototype.disable=function(){this.ac=[];Mh(this);this.buffer=m};
Lh.prototype.Ye=function(a,b){var c=!1;if(!this.gd){var c=xc(Math.round(a-this.r/2),this.Ja),d=Math.round(b-this.r/2),f=c-this.Oc,g=d-this.Mb;Math.abs(f)>this.Ja/2&&(f=(f-(f==0?0:f<0?-1:1)*this.Ja)%this.Ja);this.Oc=c;this.Mb=d;if(Math.abs(f)>=this.r||Math.abs(g)>=this.r)Mh(this),c=!0;else{c=f!=0||g!=0;if(f>0)for(d=0;d<this.r;++d)this.za[d].splice(0,f),this.za[d].push.apply(this.za[d],Array(f));if(f<0)for(d=0;d<this.r;++d)this.za[d].splice(this.r+f,-f),this.za[d].unshift.apply(this.za[d],Array(-f));
if(g>0)for(d=0;d<g;++d)this.za.shift(),this.za.push(Array(this.r));if(g<0)for(d=0;d<-g;++d)this.za.pop(),this.za.unshift(Array(this.r))}}Nh(this);return c};Lh.prototype.wc=function(a){this.Vb=a;Jh(this.Ug,a);this.ac=[];Mh(this)};
function Nh(a){a.ac=[];for(var b=B(function(a,b){var c=(this.gd?this.Ja:this.r)/2;a+=c;b+=c;if(this.za[b][a]!==1){var j=this.Oc+a,k=this.Mb+b,j=xc(j,this.Ja),k=xc(k,this.Ja),c=this.Ug,l=this.Ca,p=d,n=l+"_"+j+"_"+k,t=c.Ub.get(n);t!=m?t.state==-10?p-t.Sc>7E3&&(t.i(),t=new va(l,j,k,p),c.Ub.set(n,t),c.Mc.push(t)):t.Sc=p:(t=new va(l,j,k,p),c.Ub.set(n,t),c.Mc.push(t));c=t;c.state==20&&this.ac.push(c)}},a),c=B(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=C(),
a=Math.min(a.r,a.Ja)/2;a>0;--a)c(d+a,a)};function Oh(a,b,c){var d;d=this.Hb=a.ba,a=d;this.Yg=b;this.cg=c;this.Tb=a.createTexture();Ph(this)}Oh.prototype.gf=function(a,b){if(!(this.Yg==a&&this.cg==b))this.Yg=a,this.cg=b,this.Hb.deleteTexture(this.Tb),this.Tb=this.Hb.createTexture(),Ph(this)};
function Ph(a){var b=a.Hb;b.bindTexture(b.TEXTURE_2D,a.Tb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.Yg,a.cg,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)};function Qh(a,b,c){function d(b){g.isTexture(h)&&(b.Nf>=3||sc(a,b,f,d))}function f(a){g.isTexture(h)&&(g.bindTexture(g.TEXTURE_2D,h),g.texSubImage2D(g.TEXTURE_2D,0,a.x*k,(j-a.y-1)*k,g.RGBA,g.UNSIGNED_BYTE,xa(a)))}var g=this.Hb=b.ba,h=g.createTexture();this.Tb=h;var j=1<<c,k=a.ec();g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,1);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,k*j,k*j,0,g.RGBA,g.UNSIGNED_BYTE,m);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.LINEAR);for(b=0;b<j;++b)for(var l=0;l<j;++l)sc(a,new va(c,b,l),f,d)}D(Qh,E);Qh.prototype.g=function(){this.Hb.deleteTexture(this.Tb)};function Rh(a,b,c,d,f,g){this.ej=b;this.r=c;this.ab=f;this.Nj=g;this.Vb=a;var h=a.ec();this.Ab=[];for(var j=0;j<d;++j)this.Ab.push(new Oh(b,this.r*h,this.r*h));for(this.ia=[];f<=g;++f)this.ia.push(new Lh(a,b,c,f));for(j=0;j<d;++j)this.ia[j].buffer=this.Ab[j];this.Ua=0;this.Ve=new Qh(a,b,2)}Rh.prototype.wc=function(a){this.Ve.i();this.Ve=new Qh(a,this.ej,2);this.Vb=a;var b=this.r*a.ec();K(this.Ab,function(a){a.gf(b,b)});K(this.ia,function(b){b.wc(a)});Sh(this)};
Rh.prototype.Ye=function(a,b,c,d,f){for(var f=L(f,this.ab,this.Nj),g=f-(this.ab+this.Ua+this.Ab.length-1);g>0;){var h=this.ia[this.Ua].buffer;this.ia[this.Ua].disable();this.ia[++this.Ua+this.Ab.length-1].buffer=h;g--}for(;g<0&&this.Ua>0;)h=this.ia[this.Ua+this.Ab.length-1].buffer,this.ia[this.Ua+this.Ab.length-1].disable(),this.ia[--this.Ua].buffer=h,g++;h=1<<f;g=!1;b=(b/(2*Math.PI)+0.5)*h;a=(0.5-Th(a)/(Math.PI*2))*h;d=(d/(2*Math.PI)+0.5)*h;h*=0.5-Th(c)/(Math.PI*2);for(c=f-this.ab;c>=this.Ua;c--){var j=
L(b,d-this.r/2,d+this.r/2),k=L(a,h-this.r/2,h+this.r/2);g|=this.ia[c].Ye(j,k);b/=2;a/=2;d/=2;h/=2}g&&Sh(this);d=1;for(c=this.Ua;d>0&&c<=f-this.ab;c++){g=d;b=this.ia[c];a=0;if(b.ac.length>0){d=Math.min(b.ac.length,d>=0?1:0);for(h=0;h<d;h++){j=b;k=b.ac.pop();if(!w(j.buffer)&&k.zoom==j.Ca){var l=k.x-j.Oc,p=k.y-j.Mb,n=1<<j.Ca,l=xc(l,n),p=xc(p,n);if(!(l<0||l>=j.r||p<0||p>=j.r)){var n=j.Hb,t=j.Vb.ec();n.bindTexture(n.TEXTURE_2D,j.buffer.Tb);n.texSubImage2D(n.TEXTURE_2D,0,xc(l+j.Oc,j.r)*t,(j.r-xc(p+j.Mb,
j.r)-1)*t,n.RGBA,n.UNSIGNED_BYTE,xa(k));j.za[p][l]=1}}a++}}Kh(b.Ug);d=g-a}};function Uh(a,b,c){return b-c<a.ab?Array(a.r*a.r):Hb(a.ia[b-a.ab-c].za)}function Vh(a,b,c){return b-c<a.ab?m:a.ia[b-a.ab-c].buffer.Tb}function Wh(a,b,c){for(var d=[],f=b-a.ab;f>b-a.ab-c;--f)d.push(Math.round(a.ia[Math.max(0,f)].Oc),Math.round(a.ia[Math.max(0,f)].Mb));return d}
function Sh(a){for(var b=Array(a.Ab.length),c=0;c<a.Ab.length;c++){var d=a.ia[a.Ua+c],f=Xh((0.5-d.Mb/d.Ja)*2*Math.PI),g=Xh((0.5-(d.Mb+d.r)/d.Ja)*2*Math.PI);b[c]=new uc(d.gd?0:Xh((0.5-(d.Mb+d.r/2)/d.Ja)*2*Math.PI),d.gd?0:((d.Oc+d.r/2)/d.Ja-0.5)*2*Math.PI,d.gd?Math.PI/2:Math.abs(f-g),d.gd?Math.PI:d.r/d.Ja*2*Math.PI,d.Ca)}a.Vb.mi(b)};function Yh(a,b){this.a=a.a;this.m=a;var c=this.a.ba;this.oa=b||new qg;this.Na=new Rh(this.oa,this.a,8,3,1,19);this.Wc=!1;this.wc(this.oa,!0);this.Xc=1;this.mc=[0,0];this.ri=[new gh(this.a,1,1,1),new gh(this.a,4,4,16,!0),new gh(this.a,6,6,8,!0),new gh(this.a,8,8,8,!0),new gh(this.a,10,10,8),new gh(this.a,64,64,this.Wc?8:4)];var d=Hh("earth-fs.glsl"),f=Hh("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",this.Na.r.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.Wc?"1":"0");this.Wc&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",
this.cc.r.toFixed(1)));var d=Eh(this.a,d,c.FRAGMENT_SHADER),f=Eh(this.a,f,c.VERTEX_SHADER),g=c.createProgram();w(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.Q=new Fh(g,this.a,this.Wc)}Yh.prototype.wc=function(a,b){this.oa=a;this.Na.wc(this.oa);this.oa.Gf=B(this.m.Xg,this.m);b!==!0&&(Ch(this.m),this.m.Xg(),this.m.d.setZoom(this.m.d.getZoom()))};
Yh.prototype.draw=function(){var a=this.a.ba;this.Xc=1<<this.m.d.getZoom();var b=this.m.d.getPosition(),c=this.m.d.ld()||b;this.mc[0]=Math.floor(b[1]/(2*Math.PI)*this.Xc);this.mc[1]=L(Math.floor(Th(b[0])/(Math.PI*2)*this.Xc),-this.Xc/2,this.Xc/2);this.Na.Ye(c[0],c[1],b[0],b[1],Math.floor(this.m.d.getZoom()));this.Wc&&this.cc.Ye(c[0],c[1],b[0],b[1],Math.floor(this.m.d.getZoom())-5);b=Math.floor(this.m.d.getZoom());this.Xc=1<<b;a.useProgram(this.Q.I);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,
Vh(this.Na,b,0));a.uniform1i(this.Q.Ti,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Vh(this.Na,b,1));a.uniform1i(this.Q.Vi,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Vh(this.Na,b,2));a.uniform1i(this.Q.Wi,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Na.Ve.Tb);a.uniform1i(this.Q.Yi,3);a.uniform1fv(this.Q.Qj,new Float32Array(Uh(this.Na,b,0)));a.uniform1fv(this.Q.Sj,new Float32Array(Uh(this.Na,b,1)));a.uniform1fv(this.Q.Tj,new Float32Array(Uh(this.Na,b,2)));
a.uniform2fv(this.Q.Kj,new Float32Array(Wh(this.Na,b,3)));this.Wc&&(c=L(b-5,2,this.pf.rb()),a.uniform1f(this.Q.ij,b-c),a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,Vh(this.cc,c,0)),a.uniform1i(this.Q.Si,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,Vh(this.cc,c,1)),a.uniform1i(this.Q.Ui,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,this.cc.Ve.Tb),a.uniform1i(this.Q.Xi,6),a.uniform1fv(this.Q.Pj,new Float32Array(Uh(this.cc,c,0))),a.uniform1fv(this.Q.Rj,new Float32Array(Uh(this.cc,
c,1))),a.uniform2fv(this.Q.Jj,new Float32Array(Wh(this.cc,c,2))));c=new Float32Array(Hb(ph(Dh(this.a)).Cd()));b=this.ri[Math.min(b,this.ri.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.zb);a.vertexAttribPointer(this.Q.ue,b.zb.ic,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.me);a.vertexAttribPointer(this.Q.Bi,b.me.ic,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.Q.xg,!1,c);a.uniform1f(this.Q.Kk,this.Xc);a.uniform2fv(this.Q.ek,new Float32Array(this.mc));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Jb);a.drawElements(a.TRIANGLES,
b.$h,a.UNSIGNED_SHORT,0)};function Zh(a,b,c,d){var f=Math.sin((c-a)/2),b=Math.sin((d-b)/2);return 6378137*2*Math.asin(Math.sqrt(f*f+Math.cos(a)*Math.cos(c)*b*b))};function $h(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.F=v(c)?c:0}$h.prototype.ga=function(){return new $h(this.x,this.y,this.F)};$h.prototype.Cd=function(){return[this.x,this.y,this.F]};function ai(a,b,c){this.x=a;this.y=b;this.F=c}D(ai,$h);r=ai.prototype;r.ga=function(){return new ai(this.x,this.y,this.F)};r.scale=function(a){this.x*=a;this.y*=a;this.F*=a;return this};r.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.F*this.F))};r.add=function(a){this.x+=a.x;this.y+=a.y;this.F+=a.F;return this};r.Sg=function(a){this.x-=a.x;this.y-=a.y;this.F-=a.F;return this};r.equals=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.F==a.F};function bi(a,b,c,d,f,g){if(w(d))return m;a=d.multiply(new Y([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(Z(a,3,0)==0)return m;a=a.multiply(1/Z(a,3,0));return new ai(Z(a,0,0),Z(a,1,0),Z(a,2,0))};function ci(){if(G)this.yc={},this.tf={},this.mf=[]}ci.prototype.ja=pc("goog.net.xhrMonitor");ci.prototype.la=G;ci.prototype.Sb=function(a){this.la=G&&a};function di(a){var b=ei;if(b.la){var c=A(a)?a:ia(a)?ja(a):"";b.ja.log(kc,"Pushing context: "+a+" ("+c+")",i);b.mf.push(c)}}function fi(){var a=ei;if(a.la){var b=a.mf.pop();a.ja.log(kc,"Popping context: "+b,i);gi(a,b)}}
function hi(a){var b=ei;if(b.la){a=ja(a);mc(b.ja,"Opening XHR : "+a);for(var c=0;c<b.mf.length;c++){var d=b.mf[c];ii(b.yc,d,a);ii(b.tf,a,d)}}}function gi(a,b){var c=a.tf[b],d=a.yc[b];c&&d&&(a.ja.log(kc,"Updating dependent contexts",i),K(c,function(a){K(d,function(b){ii(this.yc,a,b);ii(this.tf,b,a)},this)},a))}function ii(a,b,c){a[b]||(a[b]=[]);yb(a[b],c)||a[b].push(c)}var ei=new ci;function ji(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function ki(){}ki.prototype.gh=m;function li(a){var b;if(!(b=a.gh))b={},mi(a)&&(b[0]=!0,b[1]=!0),b=a.gh=b;return b};var ni;function oi(){}D(oi,ki);function pi(a){return(a=mi(a))?new ActiveXObject(a):new XMLHttpRequest}oi.prototype.eg=m;
function mi(a){if(!a.eg&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.eg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.eg}ni=new oi;function qi(a){this.headers=new Rb;this.uf=a||m}D(qi,T);qi.prototype.ja=pc("goog.net.XhrIo");var ri=/^https?:?$/i,si=[];function ti(a,b){var c=new qi;si.push(c);b&&R(c,"complete",b);R(c,"ready",oa(ui,c));c.send(a,i,i,i)}function ui(a){a.i();zb(si,a)}r=qi.prototype;r.Yb=!1;r.B=m;r.sf=m;r.Yd="";r.Ph="";r.Wd=0;r.Xd="";r.Lf=!1;r.Pe=!1;r.gg=!1;r.Jc=!1;r.qf=0;r.Yc=m;r.oi="";r.Sk=!1;
r.send=function(a,b,c,d){this.B&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Yd=a;this.Xd="";this.Wd=0;this.Ph=b;this.Lf=!1;this.Yb=!0;this.B=this.uf?pi(this.uf):pi(ni);this.sf=this.uf?li(this.uf):li(ni);hi(this.B);this.B.onreadystatechange=B(this.fi,this);try{mc(this.ja,vi(this,"Opening Xhr")),this.gg=!0,this.B.open(b,a,!0),this.gg=!1}catch(f){mc(this.ja,vi(this,"Error opening Xhr: "+f.message));wi(this,f);return}var a=c||"",g=this.headers.ga();
d&&Lb(d,function(a,b){g.set(b,a)});b=="POST"&&!g.mb("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Lb(g,function(a,b){this.B.setRequestHeader(b,a)},this);if(this.oi)this.B.responseType=this.oi;if("withCredentials"in this.B)this.B.withCredentials=this.Sk;try{if(this.Yc)nf.clearTimeout(this.Yc),this.Yc=m;if(this.qf>0)mc(this.ja,vi(this,"Will abort after "+this.qf+"ms if incomplete")),this.Yc=nf.setTimeout(B(this.Zc,this),this.qf);mc(this.ja,vi(this,"Sending request"));
this.Pe=!0;this.B.send(a);this.Pe=!1}catch(h){mc(this.ja,vi(this,"Send error: "+h.message)),wi(this,h)}};r.dispatchEvent=function(a){if(this.B){di(this.B);try{return qi.b.dispatchEvent.call(this,a)}finally{fi()}}else return qi.b.dispatchEvent.call(this,a)};r.Zc=function(){if(typeof ca!="undefined"&&this.B)this.Xd="Timed out after "+this.qf+"ms, aborting",this.Wd=8,mc(this.ja,vi(this,this.Xd)),this.dispatchEvent("timeout"),this.abort(8)};
function wi(a,b){a.Yb=!1;if(a.B)a.Jc=!0,a.B.abort(),a.Jc=!1;a.Xd=b;a.Wd=5;xi(a);yi(a)}function xi(a){if(!a.Lf)a.Lf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error")}r.abort=function(a){if(this.B&&this.Yb)mc(this.ja,vi(this,"Aborting")),this.Yb=!1,this.Jc=!0,this.B.abort(),this.Jc=!1,this.Wd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yi(this)};r.g=function(){if(this.B){if(this.Yb)this.Yb=!1,this.Jc=!0,this.B.abort(),this.Jc=!1;yi(this,!0)}qi.b.g.call(this)};
r.fi=function(){!this.gg&&!this.Pe&&!this.Jc?this.nk():zi(this)};r.nk=function(){zi(this)};
function zi(a){if(a.Yb&&typeof ca!="undefined")if(a.sf[1]&&Ai(a)==4&&Bi(a)==2)mc(a.ja,vi(a,"Local request error detected and ignored"));else if(a.Pe&&Ai(a)==4)nf.setTimeout(B(a.fi,a),0);else if(a.dispatchEvent("readystatechange"),Ai(a)==4){mc(a.ja,vi(a,"Request complete"));a.Yb=!1;if(Ci(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Wd=6;var b;try{b=Ai(a)>2?a.B.statusText:""}catch(c){mc(a.ja,"Can not get status: "+c.message),b=""}a.Xd=b+" ["+Bi(a)+"]";xi(a)}yi(a)}}
function yi(a,b){if(a.B){var c=a.B,d=a.sf[0]?u:m;a.B=m;a.sf=m;if(a.Yc)nf.clearTimeout(a.Yc),a.Yc=m;b||(di(c),a.dispatchEvent("ready"),fi());var f=ei;if(f.la){var g=ja(c);mc(f.ja,"Closing XHR : "+g);delete f.tf[g];for(var h in f.yc)zb(f.yc[h],g),f.yc[h].length==0&&delete f.yc[h]}try{c.onreadystatechange=d}catch(j){a.ja.log(fc,"Problem encountered resetting onreadystatechange: "+j.message,i)}}}r.Vd=function(){return!!this.B};
function Ci(a){switch(Bi(a)){case 0:return a=A(a.Yd)?a.Yd.match(Cc)[1]||m:a.Yd.Rb,!(a?ri.test(a):self.location?ri.test(self.location.protocol):1);case 200:case 201:case 202:case 204:case 304:case 1223:return!0;default:return!1}}function Ai(a){return a.B?a.B.readyState:0}function Bi(a){try{return Ai(a)>2?a.B.status:-1}catch(b){return a.ja.log(gc,"Can not get status: "+b.message,i),-1}}function vi(a,b){return b+" ["+a.Ph+" "+a.Yd+" "+Bi(a)+"]"};function Di(a,b,c,d,f){this.a=a;a=this.a.ba;this.zb=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.zb);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);this.zb.ic=3;this.zb.af=b.length/3;this.te=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.te);a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);this.te.ic=3;this.te.af=c.length/3;this.me=m;this.Jb=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Jb);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),a.STATIC_DRAW);
this.Jb.ic=1;this.Jb.af=d.length;this.$h=this.Jb.af;this.dj=y(f)&&f.length>=3?[f[0],f[1],f[2]]:[0.8,0.8,0.8]}
Di.prototype.draw=function(a){var b=this.a.ba,c=new Float32Array(Hb(this.a.wb.sa.Cd()));b.uniformMatrix4fv(a.$j,!1,c);c=new Float32Array(Hb(ph(Dh(this.a)).Cd()));b.uniformMatrix4fv(a.xg,!1,c);c=new Float32Array(Hb(ph(xh(this.a.wb)).Cd()));b.uniformMatrix3fv(a.ak,!1,c);b.uniform3fv(a.cj,this.dj);b.bindBuffer(b.ARRAY_BUFFER,this.zb);b.vertexAttribPointer(a.ue,this.zb.ic,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.te);b.vertexAttribPointer(a.Hi,this.te.ic,b.FLOAT,!1,0,0);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
this.Jb);b.drawElements(b.TRIANGLES,this.Jb.af,b.UNSIGNED_SHORT,0)};function Ei(a,b){this.a=a;var c=new th;uh(c,M(16.598914));vh(c,-M(49.194289));var d={},f;for(f in c)d[f]=c[f];c.translate(0,0,1);f=1/6378137;c.scale(f,f,f);this.size=b.objects["o3d.Primitive"].length;this.Ai=[];var g=b.objects["o3d.VertexBuffer"];f={};for(var h=0;h<g.length;++h){for(var j=g[h].custom.fieldData[0].data,k=g[h].custom.fieldData[1].data,l=[],p=[],n=0;n<j.length/3;++n){var t=c.sa.multiply(new Y([[j[3*n]],[j[3*n+1]],[j[3*n+2]],[1]]));l.push(Z(t,0,0));l.push(Z(t,1,0));l.push(Z(t,2,0));t=
d.sa.multiply(new Y([[k[3*n]],[k[3*n+1]],[k[3*n+2]],[1]]));p.push(Z(t,0,0));p.push(Z(t,1,0));p.push(Z(t,2,0))}f[g[h].custom.fieldData[0].id]=l;f[g[h].custom.fieldData[1].id]=p}d=b.objects["o3d.IndexBuffer"];c={};for(h=0;h<d.length;++h)c[d[h].id]=d[h].custom.fieldData[0].data;g=b.objects["o3d.StreamBank"];d={};for(h=0;h<g.length;++h)d[g[h].id]=g[h].custom.vertexStreams;j=b.objects["o3d.Material"];g={};for(h=0;h<j.length;++h)g[j[h].id]=j[h].params.diffuse.value;for(h=0;h<this.size;++h)j=b.objects["o3d.Primitive"][h],
k=d[j.params["o3d.streamBank"].value.ref],this.Ai.push(new Di(a,f[k[0].stream.field],f[k[1].stream.field],c[j.properties.indexBuffer.ref],g[j.params["o3d.material"].value.ref]))}Ei.prototype.draw=function(a){for(var b=0;b<this.size;++b)this.Ai[b].draw(a)};function Fi(a){this.a=a;this.wg=[];this.I=m;var a=this.a.ba,b=Hh("model-fs.glsl"),b=Eh(this.a,b,a.FRAGMENT_SHADER),c=Hh("model-vs.glsl"),c=Eh(this.a,c,a.VERTEX_SHADER),d=a.createProgram();w(d)&&e(Error("Unknown"));a.attachShader(d,c);a.attachShader(d,b);a.linkProgram(d);a.getProgramParameter(d,a.LINK_STATUS)||e(Error("Shader program err: "+a.getProgramInfoLog(d)));d.ue=a.getAttribLocation(d,"aVertexPosition");a.enableVertexAttribArray(d.ue);d.Hi=a.getAttribLocation(d,"aVertexNormal");a.enableVertexAttribArray(d.Hi);
d.$j=a.getUniformLocation(d,"uMVMatrix");d.xg=a.getUniformLocation(d,"uMVPMatrix");d.ak=a.getUniformLocation(d,"uNMatrix");d.cj=a.getUniformLocation(d,"uColor");this.I=d}Fi.prototype.Hd=function(a,b){ti(a,B(function(a){if(Ci(a.target))a=a.target,a=a.B?ji(a.B.responseText):i,this.wg.push(b?new Ei(this.a,a):new Di(this.a,a.vertexPositions,a.vertexNormals,a.indices))},this))};Fi.prototype.draw=function(){this.wg.length!=0&&(this.a.ba.useProgram(this.I),K(this.wg,B(function(a){a.draw(this.I)},this)))};function Gi(a,b,c,d,f,g){this.a=a;this.Kh=b||m;this.Dd=c||document.createElement("div");if(!v(c))a=this.a.canvas,a.parentNode&&a.parentNode.insertBefore(this.Dd,a.nextSibling);this.pe=d||document.createElement("img");if(!v(d))d=this.Dd,d.parentNode&&d.parentNode.insertBefore(this.pe,d.nextSibling);this.Ni=g||m;this.ua=new Yh(this,f);this.ne=0;this.d=new Zg(this);this.Xh=new Fi(this.a);Ch(this);this.Xg()}
Gi.prototype.Xg=function(){w(this.Dd)||(qd(this.Dd),pd(this.Dd,this.Ni),this.ua.oa.Jd(this.Dd));if(!w(this.pe))w(this.ua.oa.Je())?this.pe.style.visibility="hidden":(this.pe.src=this.ua.oa.Je(),this.pe.style.visibility="visible")};function eh(a){return Math.max(3,a.ua.oa.Sd())}function Ch(a){a.ne=0.7*a.a.canvas.height/a.ua.oa.ec()}
Gi.prototype.draw=function(){if(!w(this.Kh)){for(var a=this.Kh,b=yc(this.d.tb).toFixed(4)+"; "+yc(this.d.Kb).toFixed(4)+" @ "+this.d.na.toFixed(0)+"m -> z="+this.d.getZoom().toFixed(3)+"; ",c=this.ua.Na,d="",f=0;f<c.ia.length;++f)d+=f+c.ab+":"+c.ia[f].ac.length+" ";a.innerHTML=b+("BufferQueue size: "+d+"; Loading tiles: "+this.ua.oa.ub)}a=this.d.na/6378137;b=this.a;b.we=0.25*a;b.ve=1+a;Bh(b);wh(this.a.wb,-this.d.pi);vh(this.a.wb,-this.d.getTilt());wh(this.a.wb,-this.d.getHeading());this.a.wb.translate(0,
0,-1-this.d.na/6378137);vh(this.a.wb,this.d.tb);uh(this.a.wb,-this.d.Kb);this.ua.draw();this.Xh.draw()};function Hi(a,b){var c=a.ga();c.x=-c.x;c.y=-c.y;c.F=-c.F;var d=b.x*c.x+b.y*c.y+b.F*c.F,f=d*d-(c.x*c.x+c.y*c.y+c.F*c.F)+1;return f<0?m:(c=Math.min(d+Math.sqrt(f),d-Math.sqrt(f)),d=Math.max(d+Math.sqrt(f),d-Math.sqrt(f)),[c,d])}
function fh(a,b,c,d){var f=bi(b,c,0,a.a.$e,a.a.jb,a.a.ib),a=bi(b,c,1,a.a.$e,a.a.jb,a.a.ib);if(w(f)||w(a))return m;a.Sg(f);a.normalize();b=Hi(f,a);if(w(b))return m;a=a.scale(b[0]);f=new ai(f.x+a.x,f.y+a.y,f.F+a.F);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.F<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),Ac(a)]:[yc(Math.asin(f.y)),yc(Ac(a))]}Gi.prototype.Hd=function(a,b){this.Xh.Hd(a,b)};function Th(a){return Math.log(Math.tan(a/2+Math.PI/4))}function Xh(a){return 2*Math.atan(Math.exp(a))-Math.PI/2};function Ii(a,b,c){this.target=a;this.handle=b||a;this.Rh=c||new Oe(NaN,NaN,NaN,NaN);this.z=P(a);this.ob=new Qf(this);R(this.handle,["touchstart","mousedown"],this.vi,!1,this)}D(Ii,T);var Ji=F||G&&I("1.9.3");r=Ii.prototype;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.xi=0;r.yi=0;r.hd=0;r.dc=0;r.la=!0;r.Oa=!1;r.Ih=0;r.Uj=0;r.Fj=!1;r.xa=o("ob");r.Sb=ba("la");
r.g=function(){Ii.b.g.call(this);qe(this.handle,["touchstart","mousedown"],this.vi,!1,this);this.ob.i();delete this.target;delete this.handle;delete this.ob};
r.vi=function(a){var b=a.type=="mousedown";if(this.la&&!this.Oa&&(!b||Ud(a))){Ki(a);if(this.Ih==0)if(Li(this,a),this.Oa)a.preventDefault();else return;else a.preventDefault();var b=this.z,c=b.documentElement,d=!Ji;this.ob.h(b,["touchmove","mousemove"],this.zj,d);this.ob.h(b,["touchend","mouseup"],this.Ee,d);Ji?(c.setCapture(!1),this.ob.h(c,"losecapture",this.Ee)):this.ob.h(b?b.parentWindow||b.defaultView:window,"blur",this.Ee);F&&this.Fj&&this.ob.h(b,"dragstart",Pd);this.zk&&this.ob.h(this.zk,"scroll",
this.ok,d);this.clientX=this.xi=a.clientX;this.clientY=this.yi=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.hd=this.target.offsetLeft;this.dc=this.target.offsetTop;this.Eg=Cd(fd(this.z));this.Uj=C()}else this.dispatchEvent("earlycancel")};function Li(a,b){if(a.dispatchEvent(new Mi("start",a,b.clientX,b.clientY,b))!==!1)a.Oa=!0}
r.Ee=function(a,b){this.ob.wd();Ji&&this.z.releaseCapture();var c=Ni(this,this.hd),d=Oi(this,this.dc);this.Oa?(Ki(a),this.Oa=!1,this.dispatchEvent(new Mi("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};
function Ki(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.gc(a.wa.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.gc(a.wa.changedTouches[0],a.currentTarget)}
r.zj=function(a){if(this.la){Ki(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Oa){var d=this.xi-this.clientX,f=this.yi-this.clientY;if(d*d+f*f>this.Ih&&(Li(this,a),!this.Oa)){this.Ee(a);return}}c=Qi(this,b,c);b=c.x;c=c.y;this.Oa&&this.dispatchEvent(new Mi("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Ri(this,a,b,c),a.preventDefault())}};
function Qi(a,b,c){var d=Cd(fd(a.z));b+=d.x-a.Eg.x;c+=d.y-a.Eg.y;a.Eg=d;a.hd+=b;a.dc+=c;b=Ni(a,a.hd);a=Oi(a,a.dc);return new O(b,a)}r.ok=function(a){var b=Qi(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Ri(this,a,b.x,b.y)};function Ri(a,b,c,d){a.Jf(c,d);a.dispatchEvent(new Mi("drag",a,b.clientX,b.clientY,b,c,d))}function Ni(a,b){var c=a.Rh,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function Oi(a,b){var c=a.Rh,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}r.Jf=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function Mi(a,b,c,d,f,g,h,j){Od.call(this,a);this.clientX=c;this.clientY=d;this.Xk=f;this.left=v(g)?g:b.hd;this.top=v(h)?h:b.dc;this.qh=b;this.Yk=!!j}D(Mi,Od);function Si(a){this.f=a;this.ra=R(this.f,G?"DOMMouseScroll":"mousewheel",this)}D(Si,T);
Si.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.wa;if(a.type=="mousewheel"){c=1;if(F||H&&(Sa||I("532.0")))c=40;d=H&&Ra&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=H&&Ra&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=H&&Ra&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ga(this.Vh)&&(b=L(b,-this.Vh,this.Vh));ga(this.Wh)&&(c=L(c,-this.Wh,this.Wh));b=new Ti(d,a,
b,c);try{this.dispatchEvent(b)}finally{b.i()}};Si.prototype.g=function(){Si.b.g.call(this);S(this.ra);delete this.ra};function Ti(a,b,c,d){b&&this.gc(b,i);this.type="mousewheel";this.detail=a;this.hd=c;this.dc=d}D(Ti,Rd);function Ui(){pf.call(this,[0],[0],0);this.Ba=[]}D(Ui,pf);Ui.prototype.Cg=function(){this.Mf(function(a){a.play(a.Aa==0)});Ui.b.Cg.call(this)};Ui.prototype.Dg=function(){this.Mf(function(a){a.stop()});Ui.b.Dg.call(this)};Ui.prototype.zg=function(){this.oh();Ui.b.zg.call(this)};Ui.prototype.oh=function(){K(this.Ba,function(a){a.i()})};function Vi(){Ui.call(this)}D(Vi,Ui);Vi.prototype.La=function(){for(var a=0;a<this.Ba.length;a++)this.Ba[a].play();Vi.b.La.call(this)};
Vi.prototype.Mf=function(a){K(this.Ba,a)};Vi.prototype.add=function(a){this.Ba.push(a);this.duration=Math.max(this.duration,a.duration)};Vi.prototype.remove=function(a){if(zb(this.Ba,a)&&a.duration==this.duration)this.duration=0,K(this.Ba,function(a){this.duration=Math.max(a.duration,this.duration)},this)};function Wi(){Ui.call(this);this.Ef=new Qf(this)}D(Wi,Ui);r=Wi.prototype;r.Ac=0;r.La=function(){Xi(this);Wi.b.La.call(this)};r.nc=function(){Yi(this);Wi.b.nc.call(this)};
function Yi(a){a.Ac=0;a.Ef.wd()}function Xi(a){a.s==-1&&(Yi(a),K(a.Ba,function(a){a.Aa=0;wf(a,a.Aa);a.stop()}));a.Ba[a.Ac].play();a.Ac++;a.Ac<a.Ba.length&&a.Ef.h(a.Ba[a.Ac-1],"finish",function(){Xi(this)})}r.add=function(a){this.Ba.push(a);this.duration+=a.duration};r.remove=function(a){zb(this.Ba,a)&&(this.duration-=a.duration)};r.Mf=function(a){this.Ac>0&&a(this.Ba[this.Ac-1])};r.oh=function(){K(this.Ba,function(a){a.i()});this.Ef.i()};function Zi(){}D(Zi,T);r=Zi.prototype;r.gb=0;r.bb=0;r.Sa=100;r.Ea=0;r.tc=1;r.Ha=!1;r.Nc=!1;r.Y=function(a){a=$i(this,a);if(this.gb!=a)this.gb=a+this.Ea>this.Sa?this.Sa-this.Ea:a<this.bb?this.bb:a,!this.Ha&&!this.Nc&&this.dispatchEvent("change")};r.n=function(){return $i(this,this.gb)};r.yd=function(a){a=$i(this,a);if(this.Ea!=a)this.Ea=a<0?0:this.gb+a>this.Sa?this.Sa-this.gb:a,!this.Ha&&!this.Nc&&this.dispatchEvent("change")};r.Fb=function(){return this.tc==m?this.Ea:Math.round(this.Ea/this.tc)*this.tc};
r.Jg=function(a){if(this.bb!=a){var b=this.Ha;this.Ha=!0;this.bb=a;if(a+this.Ea>this.Sa)this.Ea=this.Sa-this.bb;a>this.gb&&this.Y(a);if(a>this.Sa)this.Ea=0,this.ke(a),this.Y(a);this.Ha=b;!this.Ha&&!this.Nc&&this.dispatchEvent("change")}};r.qa=function(){return $i(this,this.bb)};
r.ke=function(a){a=$i(this,a);if(this.Sa!=a){var b=this.Ha;this.Ha=!0;this.Sa=a;a<this.gb+this.Ea&&this.Y(a-this.Ea);if(a<this.bb)this.Ea=0,this.Jg(a),this.Y(this.Sa);if(a<this.bb+this.Ea)this.Ea=this.Sa-this.bb;this.Ha=b;!this.Ha&&!this.Nc&&this.dispatchEvent("change")}};r.pa=function(){return $i(this,this.Sa)};r.Mg=function(a){if(this.tc!=a)this.tc=a,a=this.Ha,this.Ha=!0,this.ke(this.pa()),this.yd(this.Fb()),this.Y(this.n()),this.Ha=a,!this.Ha&&!this.Nc&&this.dispatchEvent("change")};
function $i(a,b){return a.tc==m?b:a.bb+Math.round((b-a.bb)/a.tc)*a.tc};function aj(a){rg.call(this,a);this.p=new Zi;R(this.p,"change",this.Bj,!1,this)}D(aj,rg);r=aj.prototype;r.P="horizontal";r.Qe=!1;r.Yj=!1;r.$b=10;r.ce=0;r.t=function(){aj.b.t.call(this);this.nb(this.$().t("div",this.o(this.P)))};r.nb=function(a){aj.b.nb.call(this,a);N(a,this.o(this.P));var a=this.c(),b=id(document,m,"goog-slider-thumb",a)[0];b||(b=this.$().t("div","goog-slider-thumb"),Hf(b,"button"),a.appendChild(b));this.K=this.Da=b;Hf(this.c(),"slider");bj(this)};
r.ha=function(){aj.b.ha.call(this);this.Xb=new Ii(this.K);this.Dc=new Ii(this.Da);this.Xb.Jf=this.Dc.Jf=u;this.L=new Zf(this.c());this.lc=new Si(this.c());this.xa().h(this.Xb,"beforedrag",this.xh).h(this.Dc,"beforedrag",this.xh).h(this.Xb,["start","end"],this.Dh).h(this.Dc,["start","end"],this.Dh).h(this.L,"key",this.Xf).h(this.c(),"mousedown",this.Me).h(this.lc,"mousewheel",this.yj);this.c().tabIndex=0;cj(this)};r.Pa=function(){aj.b.Pa.call(this);ta(this.Xb,this.Dc,this.L,this.lc)};
r.xh=function(a){var b=a.qh==this.Xb?this.K:this.Da,c;this.P=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.pa()-this.qa())+this.qa()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.pa()-this.qa())+this.qa();c=a.qh==this.Xb?Math.min(Math.max(c,this.qa()),this.n()+this.Fb()):Math.min(Math.max(c,this.n()),this.pa());dj(this,b,c)};
r.Dh=function(a){var b=a.type=="start",c=this.c();b?N(c,"goog-slider-dragging"):$c(c,"goog-slider-dragging");a=a.target.handle;b?N(a,"goog-slider-thumb-dragging"):$c(a,"goog-slider-thumb-dragging")};
r.Xf=function(a){var b=!0;switch(a.keyCode){case 36:ej(this,this.qa());break;case 35:ej(this,this.pa());break;case 33:fj(this,this.$b);break;case 34:fj(this,-this.$b);break;case 37:case 40:fj(this,a.shiftKey?-this.$b:-this.Wg);break;case 39:case 38:fj(this,a.shiftKey?this.$b:this.Wg);break;default:b=!1}b&&a.preventDefault()};
r.Me=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!td(this.K,b)&&!td(this.Da,b))if(this.Yj)ej(this,gj(this,a));else{this.Pg(a);this.Ta=hj(this,gj(this,a));this.Jh=this.P=="vertical"?this.Ue<this.Ta.offsetTop:this.Ue>this.Ta.offsetLeft+this.Ta.offsetWidth;a=P(this.c());this.xa().h(a,"mouseup",this.Ch,!0).h(this.c(),"mousemove",this.Pg);if(!this.fc)this.fc=new mf(200),this.xa().h(this.fc,of,this.Eh);this.Eh();this.fc.start()}};r.yj=function(a){fj(this,(a.detail>0?-1:1)*this.Wg);a.preventDefault()};
r.Eh=function(){var a;if(this.P=="vertical"){var b=this.Ue,c=this.Ta.offsetTop;this.Jh?b<c&&(a=ij(this,this.Ta)+this.$b):b>c+this.Ta.offsetHeight&&(a=ij(this,this.Ta)-this.$b)}else b=this.Ue,c=this.Ta.offsetLeft,this.Jh?b>c+this.Ta.offsetWidth&&(a=ij(this,this.Ta)+this.$b):b<c&&(a=ij(this,this.Ta)-this.$b);v(a)&&dj(this,this.Ta,a)};r.Ch=function(){this.fc&&this.fc.stop();var a=P(this.c());this.xa().fa(a,"mouseup",this.Ch,!0).fa(this.c(),"mousemove",this.Pg)};
function jj(a,b){var c,d=a.c();c=$e(b);d=$e(d);c=new O(c.x-d.x,c.y-d.y);return a.P=="vertical"?c.y:c.x}r.Pg=function(a){this.Ue=jj(this,a)};function gj(a,b){var c=a.qa(),d=a.pa();if(a.P=="vertical"){var f=a.K.offsetHeight,g=a.c().clientHeight-f,f=jj(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.K.offsetWidth,g=a.c().clientWidth-f,f=jj(a,b)-f/2,(d-c)*f/g+c}
function ij(a,b){if(b==a.K)return a.p.n();else if(b==a.Da)return a.p.n()+a.p.Fb();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function fj(a,b){var c=ij(a,a.K)+b,d=ij(a,a.Da)+b,c=L(c,a.qa(),a.pa()-a.ce),d=L(d,a.qa()+a.ce,a.pa());kj(a,c,d-c)}function dj(a,b,c){var d=m;b==a.Da&&c<=a.p.pa()&&c>=a.p.n()+a.ce&&(d=c-a.p.n());var f=d||a.p.Fb();b==a.K&&c>=a.qa()&&c<=a.p.n()+f-a.ce&&(b=f-(c-a.p.n()),$i(a.p,c)+$i(a.p,b)==$i(a.p,c+b)&&(kj(a,c,b),d=m));d!=m&&a.p.yd(d)}
function kj(a,b,c){if(a.qa()<=b&&b<=a.pa()-c&&a.ce<=c&&c<=a.pa()-b&&!(b==a.n()&&c==a.Fb()))a.p.Nc=!0,a.p.yd(0),a.p.Y(b),a.p.yd(c),a.p.Nc=!1,cj(a),a.dispatchEvent("change")}r.qa=function(){return this.p.qa()};r.Jg=function(a){this.p.Jg(a)};r.pa=function(){return this.p.pa()};r.ke=function(a){this.p.ke(a)};function hj(a,b){return b<=a.p.n()+a.p.Fb()/2?a.K:a.Da}r.Bj=function(){cj(this);bj(this);this.dispatchEvent("change")};
function cj(a){if(a.K&&!a.Qe){var b=lj(a,ij(a,a.K)),c=lj(a,ij(a,a.Da));if(a.P=="vertical"){if(a.K.style.top=b.y+"px",a.Da.style.top=c.y+"px",a.S)b=mj(c.y,b.y,a.K.offsetHeight),a.S.style.top=b.mc+"px",a.S.style.height=b.size+"px"}else if(a.K.style.left=b.x+"px",a.Da.style.left=c.x+"px",a.S)b=mj(b.x,c.x,a.K.offsetWidth),a.S.style.left=b.mc+"px",a.S.style.width=b.size+"px"}}function mj(a,b,c){var d=Math.ceil(c/2);return{mc:a+d,size:Math.max(b-a+c-2*d,0)}}
function lj(a,b){var c=new O;if(a.K){var d=a.qa(),f=a.pa(),f=b==d&&d==f?0:(b-d)/(f-d);a.P=="vertical"?(d=a.c().clientHeight-a.K.offsetHeight,f=Math.round(f*d),c.y=d-f):(d=Math.round(f*(a.c().clientWidth-a.K.offsetWidth)),c.x=d)}return c}
function ej(a,b){b=Math.min(a.pa(),Math.max(b,a.qa()));a.Qe&&a.Be.stop(!0);var c=new Vi,d=hj(a,b),f=lj(a,b);c.add(new zf(d,a.P=="vertical"?[d.offsetLeft,f.y]:[f.x,d.offsetTop],100));if(a.S){var g=lj(a,a.p.n()),h=lj(a,a.p.n()+a.p.Fb());d==a.K?g=f:h=f;a.P=="vertical"?(f=mj(h.y,g.y,a.K.offsetHeight),c.add(new zf(a.S,[a.S.offsetLeft,f.mc],100)),c.add(new Bf(a.S,a.S.offsetHeight,f.size,100))):(f=mj(g.x,h.x,a.K.offsetWidth),c.add(new zf(a.S,[f.mc,a.S.offsetTop],100)),c.add(new Af(a.S,a.S.offsetWidth,f.size,
100)))}a.Be=c;a.xa().h(c,"end",a.kj);a.Qe=!0;dj(a,d,b);c.play(!1)}r.kj=function(){this.Qe=!1};r.lf=function(a){if(this.P!=a){var b=this.o(this.P),c=this.o(a);this.P=a;if(this.c()){for(var a=this.c(),d=Zc(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Db(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.K.style.left=this.K.style.top="";this.Da.style.left=this.Da.style.top="";if(this.S)this.S.style.left=this.S.style.top="",this.S.style.width=this.S.style.height="";cj(this)}}};
r.g=function(){aj.b.g.call(this);this.fc&&this.fc.i();delete this.fc;this.Be&&this.Be.i();delete this.Be;delete this.K;delete this.Da;this.S&&delete this.S;this.p.i();delete this.p;this.L&&(this.L.i(),delete this.L);this.lc&&(this.lc.i(),delete this.lc);this.Xb&&(this.Xb.i(),delete this.Xb);this.Dc&&(this.Dc.i(),delete this.Dc)};r.Wg=1;r.Mg=function(a){this.p.Mg(a)};r.n=function(){return this.p.n()};r.Y=function(a){dj(this,this.K,a)};r.Fb=function(){return this.p.Fb()};
r.yd=function(a){dj(this,this.Da,this.p.n()+a)};r.setVisible=function(a){ef(this.c(),a);a&&cj(this)};function bj(a){var b=a.c();b&&(W(b,"valuemin",a.qa()),W(b,"valuemax",a.pa()),W(b,"valuenow",a.n()))};function nj(a){aj.call(this,a);this.p.yd(0)}D(nj,aj);nj.prototype.o=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function oj(a,b){this.e=a;this.sc=new nj;this.sc.lf("vertical");this.sc.ke(1);this.sc.Mg(0.01);pj=!1;this.sc.Y((this.e.d.getZoom()-eh(this.e))/this.e.ua.oa.rb());this.ra=R(this.sc,"change",function(b){pj==!1&&a.d.setZoom(b.target.n()*(a.ua.oa.rb()-eh(a))+eh(a));pj=!1});this.Uk=R(this.e.d,ah,this.Tk,!1,this);this.yf=new Yg("");Og(this.yf,"weapp-zoomslider-add");this.Rg=new Yg("");Og(this.Rg,"weapp-zoomslider-substract");this.Mi=R(this.yf,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()+1))});
this.Gk=R(this.Rg,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()-1))});this.yf.Pb(b);this.sc.Pb(b);this.Rg.Pb(b)}var pj;D(oj,E);oj.prototype.Tk=function(){pj=!0;this.sc.Y((this.e.d.getZoom()-eh(this.e))/this.e.ua.oa.rb())};oj.prototype.g=function(){S(this.ra);S(this.Uk);S(this.Mi);S(this.Gk);this.sc.i()};function qj(a){this.bc=a;this.C=m;this.nf=[];this.Fe=[]}
function rj(a,b,c,d){function f(a){var b=a*a;a*=a*a;return 6*a*b+-15*b*b+10*a}a.C!=m&&a.Ag();a.C=new Vi;var g=a.bc.getPosition();a.nf=[0,0,a.bc.getHeading(),a.bc.getTilt()];a.Fe=[0,0,0,0];sj(a,g[0],g[1],b,c);var h=["begin","animate","end"],j=new pf(a.nf,a.Fe,3E3,f);R(j,h,a.jk,!1,a);a.C.add(j);if(d)c=Zh(g[0],g[1],b,c),b=a.bc.na,c=Math.min(b,d)+c*0.2,c=Math.max(Math.max(b,d),c),b=new pf([b],[c],1500,f),d=new pf([c],[d],1500,f),R(b,h,a.ai,!1,a),R(d,h,a.ai,!1,a),h=new Wi,h.add(b),h.add(d),a.C.add(h);
R(a.C,"end",a.Ag,!1,a);a.C.play()}function sj(a,b,c,d,f){var c=xc(c,2*Math.PI),f=xc(f,2*Math.PI),g=c-f;g<-Math.PI?c+=2*Math.PI:g>Math.PI&&(f+=2*Math.PI);a.nf[0]=b;a.nf[1]=c;a.Fe[0]=d;a.Fe[1]=f}qj.prototype.jk=function(a){this.bc.setPosition(a.coords[0],a.coords[1]);this.bc.setHeading(a.coords[2]);this.bc.setTilt(a.coords[3])};qj.prototype.ai=function(a){ch(this.bc,a.coords[0])};qj.prototype.Ag=function(){if(this.C!=m)this.C.i(),this.C=m};qj.prototype.cancel=function(){this.Ag()};function tj(a,b,c){this.lat=a;this.sg=b;this.element=c;this.parentElement=m;this.enabled=!0;this.visible=!1}r=tj.prototype;r.Ld=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};r.detach=function(){if(this.parentElement)rd(this.element),this.parentElement=m};r.enable=function(a){(this.enabled=a||!1)||this.show(!1)};r.isEnabled=o("enabled");r.ca=o("visible");
r.show=function(a){this.visible=a==!0;this.element.style.display=this.visible?"block":"none"};function uj(a,b,c,d){var f=Q("div",{"class":"leaflet-marker-icon"}),g=Q("a",{"class":"leaflet-popup-close-button",href:"#"}),c=Q("div",{"class":"leaflet-popup-content"},Q("h3",{},c),Q("p",{},d)),c=Q("div",{"class":"leaflet-popup-content-wrapper"},c),d=Q("div",{"class":"leaflet-popup-tip-container"},Q("div",{"class":"leaflet-popup-tip"}));this.ee=Q("div",{"class":"leaflet-popup"},g,c,d);c=Q("div",{style:"position:absolute;"},f,this.ee);tj.call(this,a,b,c);this.show(!1);this.Og(!1);f.onclick=B(this.Og,
this,!0);g.onclick=B(this.Og,this,!1)}D(uj,tj);uj.prototype.Og=function(a){a?(this.ee.style.left=-Math.round((this.ee.offsetWidth-this.element.offsetWidth)/2)+"px",this.ee.style.opacity=1):this.ee.style.opacity=0};function vj(a){function b(){w(wj)&&(wj=new google.maps.Map(document.createElement("div")));xj?c():google.maps.event.addListenerOnce(wj,"idle",function(){xj=!0;c()})}qc.call(this,"Google Maps - "+a);this.vb=m;this.Lj=a;this.ze=new Vb;this.qg=0;this.rg=[];var c=B(function(){this.vb=wj.mapTypes[yj(a)];rc(this)},this);if(s.al!=m&&google.maps&&google.maps.Map)b();else if(w(zj)){zj="googleMapsCallback"+Ja();s[zj]=B(b,this);var d=document.createElement("script");id(document,"head",i,i)[0].appendChild(d);
d.type="text/javascript";d.src="http://maps.google.com/maps/api/js?v=3.5&sensor=false&callback="+zj}else s[zj]=sa(s[zj],B(b,this))}D(vj,qc);vj.prototype.ig=function(){return!w(this.vb)};var zj=m,wj=m,xj=!1;r=vj.prototype;r.Sd=function(){return w(this.vb)?0:this.vb.minZoom||0};r.rb=function(){return w(this.vb)?18:this.vb.maxZoom};r.ec=function(){return w(this.vb)?256:this.vb.tileSize.width};
r.$d=function(a,b,c){function d(a){return a.getElementsByTagName("img")[0]}a.nh=d;a.lh=B(function(a){this.vb.releaseTile(a)},this);var f=this.vb.getTile(new google.maps.Point(a.x,a.y),a.zoom,document),g=d(f);g.onload=B(function(){if(xa(a).src==xa(a).__src__)a.state=20,this.ub--,b(a)},this);g.onerror=B(function(){a.Nf++;a.state=-10;this.ub--;c&&c(a)},this);a.setData(f);a.state=10;this.ub++};
r.Jd=function(a){this.ze.qb()>0&&pd(a,"Map Data \u00a9 "+(new Date).getFullYear()+" "+this.ze.Qa().join(", ")+" \u2013 ");pd(a,Q("a",{href:"http://www.google.com/intl/en-US_US/help/terms_maps.html",target:"_blank"},"Terms of Use"))};r.Je=q("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAYCAMAAACV6r5dAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxcXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAJCQkLCwsRERESEhIZGRkjIyMsLCw6OjpNTU1WVlZhYWFvb28AAABycnJ5eXl8fHzc3NyFhYWGhoaHiIeLi4uSkpKWlpaYmJiampqenp6mpqahoaGlpaWhoaGpqampqamrq6uqqqqur66vr6+usK6ysrK4uLi9vb3CwsLExMTJycnNzc3Q0NDT09PU1NTV1dXX19fZ2dmDg4Pg4ODi4uLj4+Pj4+Pl5eXk5OTl5eXk5OTl5eXk5OTo6Ojq6urv7+/x8fH5+fn9/f3////54OudAAAAYHRSTlNgXlpSTUY/Pjs5NTMwLSsoJiQiIB4cGhcUEgoBAAYXJy43QElWWV1SFRwQQp2LiaQyqYmwRIi1hwi5hyiEWrxsfwW/xMTJycW3qA2ajweNi4+YAdios7vFy5/g6vD2/P7aB358AAADLElEQVR4XpWUe3OiSBTFOxpMfDsqKt2dZGeiBBlx8zABx3EiZBJk8phsMyb4wvv9P8VexCpnq7aym/PX6Uv/qpt7uBDOuRB8IzRva2AYxinbbkNcrKvTqdGrMvtt2hoG4Es63+JIa9PAM03PX81GNf1NXPAR3O5av+GCn858kvlQLe+bcJfRORORYuB3G/sHuJXsbZ1wZbYgaU23bPrxcqd4wGMygsQ/bKynCN/WCTegsxtfWa8dHVhxe3oNigTaZ+OzorPIDofD62EtOv0H14a4RUGKKLOwWUAIxWxLcPr8apo+jDOHXJlGduXldT6YeuNwdWeWI5wNgnusf61YnJyu5uSQb4THTBckV8m44GaVl3kiV0n54JTkmZvKmeCT6PTUYPFtv7q3AFURZAgLUuds0xw+hG+7skVPQlCv4UzSbNqFkDxAK23lfThb49MVyQ8e/JtWXZDeKmy1t0n8BRd7GH47gL4LHQyCF2fwJ9q8YPfQLyGenC3V+8moKRUOOTlewFX+ERP9YaA+T8DZwxX7BTe3cJG1GVde4MqBm/QjN0CN8J0ZdLrpUlU/YJxQD+Y7mhDYZRNv7MFd0sJMnuHiNo6Y/oJOawnn5ePASTSe8HkAV/uyrq+DYydL+J7BmChNz8NPXVg265jZBMg5duUI669LkjlxfXfhJGSOuPSAe5Q4eSKULytw/6C4qmAz02NwU4z3wn4i/QLfs4wPw7NdrZ5NzKGTstafTdqHebfUGAyYIPyx3fVhOXm6vr5f+M1q1gn9kRH0E8d0zw1dtJdJ2eY058KyW8M3mTvNlg8wCzyZIs7tuqQ6ruuNTJVkNL3YMs2vrYxMLZpXTfNLMyMzakw8x4fVebmnqt3jekq96v+U2jpfz7teK2SzxUq7qumM2Uq7UqtpDOt2o12N7OHr/GczlezDItmoVeqKjkC+dKQzxONxsi1LtzaTiH7juLB0EcWgSkeaVRiDWheWiAE7nrj/EuP0BdRcNKGjJanheqP/iUdD7n/EpOSgL2mcvwtHRbdevk5x/qRP7P24oAX1YuxctnIy5e/HMZrGh0Kx3MY43o1vo/mX3/jfzoX94Q7k9zgAAAAASUVORK5CYII=");
r.mi=function(a){this.ze=new Vb;var b=s.GAddCopyright,c=s.GVerify,d=s.GAppFeatures;s.GAddCopyright=B(function(){arguments.length>7&&arguments[7].length>0&&this.ze.add(arguments[7])},this);s.GVerify=qa;s.GAppFeatures=B(function(){this.qg--;if(this.qg<=0)s.GAddCopyright=b,s.GVerify=c,s.GAppFeatures=d,K(this.rg,function(a){a.parentNode.removeChild(a)}),this.rg=[],this.Gf()},this);K(a,function(a){var b=document.createElement("script");id(document,"head",i,i)[0].appendChild(b);b.type="text/javascript";
this.rg.push(b);b.src="http://maps.google.com/maps?vp="+(yc(a.$i)+","+yc(a.aj))+"&z="+a.Vk+"&spn="+(yc(a.Ek)+","+yc(a.Fk))+"&t="+Aj(this.Lj);this.qg++},this)};function yj(a){switch(a){case "Terrain":return google.maps.MapTypeId.TERRAIN;case "Hybrid":return google.maps.MapTypeId.HYBRID;case "Roadmap":return google.maps.MapTypeId.ROADMAP;default:case "Satellite":return google.maps.MapTypeId.SATELLITE}}
function Aj(a){switch(a){case "Terrain":return"p";case "Hybrid":return"h";case "Roadmap":return"m";default:case "Satellite":return"k"}}var Bj=B(document.createElement,document);document.createElement=function(a){var b=Bj(a);if(a=="img")b.crossOrigin="";return b};function Cj(a,b){qc.call(this,"Bing Maps - "+a);var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;s[c]=v(s[c])?sa(B(this.ti,this),s[c]):B(this.ti,this);c=document.createElement("script");c.src=d;c.type="text/javascript";id(document,"head",i,i)[0].appendChild(c)}D(Cj,vc);r=Cj.prototype;r.ig=function(){return!w(this.eb)};r.ti=function(a){this.be=a;if(a.resourceSets.length>0)this.eb=a.resourceSets[0].resources[0],rc(this);this.Gf()};
r.Sd=function(){return w(this.eb)?0:this.eb.zoomMin};r.rb=function(){return w(this.eb)?18:this.eb.zoomMax};r.ec=q(256);function Dj(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}r.Le=function(a,b,c){return w(this.eb)?"":this.eb.imageUrl.replace("{subdomain}",this.eb.imageUrlSubdomains[wc(this.eb.imageUrlSubdomains.length)]).replace("{quadkey}",Dj(a,b,c))};r.$d=function(a,b,c){return w(this.eb)?!1:Cj.b.$d.call(this,a,b,c)};r.Jd=function(a){w(this.be)||pd(a,this.be.copyright)};
r.Je=function(){return!w(this.be)?this.be.brandLogoUri:m};r.be=m;r.eb=m;function Ej(a,b){this.e=a;this.u=new mf(20);this.$g=this.Zg=0.1;this.hg=!1;this.zc=new X("");this.zc.of|=255;this.Li=R(this.zc,"activate",this.gk,!1,this);this.gj=R(this.zc,"deactivate",this.hk,!1,this);this.$k=R(this.zc,"enter",this.ik,!1,this);this.Tg=R(this.u,of,this.sd,!1,this);this.Wj=R(P(this.e.a.canvas),"mousemove",this.Bg,!1,this);this.Vj=R(P(this.e.a.canvas),"mousedown",function(){this.hg=!0},!1,this);this.Xj=R(P(this.e.a.canvas),"mouseup",function(){this.hg=!1},!1,this);this.zc.Pb(b)}
D(Ej,E);r=Ej.prototype;r.ik=function(){this.hg&&(this.zc.Ia(4,!0),this.u.start())};r.gk=function(){this.u.start()};r.hk=function(){this.u&&this.u.stop()};r.sd=function(){this.hf(this.Zg,this.$g)};r.Bg=function(a){this.Zg=-(a.offsetX-a.target.offsetWidth/2)*2;this.$g=-(a.offsetY-a.target.offsetHeight/2)};r.g=function(){S(this.Li);S(this.Wj);S(this.Xj);S(this.Vj);S(this.gj);S(this.Tg);this.zc.i()};
r.hf=function(a,b){var c=Math.PI*(1/this.e.a.canvas.height)*(this.e.ne/Math.pow(2,this.e.d.getZoom()));bh(this.e.d,b*c,-2*a*c)};function Fj(a){return 1-Math.pow(1-a,3)};function Gj(a,b){this.e=a;this.Oa=!1;this.Qb=i;this.cf=this.bf=this.Ob=this.Nb=this.qi=0;this.Kc=this.ra=m;R(this.e.a.canvas,"mousedown",B(this.lk,this));R(P(this.e.a.canvas),"mouseup",B(this.mk,this));this.Id=b||m}r=Gj.prototype;
r.lk=function(a){if(!Td(a,2)&&!a.ctrlKey&&!a.altKey){this.Id!=m&&this.Id.cancel();if(this.Kc)this.Kc.stop(!1),this.Kc.i(),this.Kc=m;this.Oa=!0;this.bf=this.Nb=a.screenX;this.cf=this.Ob=a.screenY;if(Td(a,1)||Td(a,0)&&a.shiftKey)if(this.Qb=this.e.d.ld(),this.Qb!=m){if(window.Md)window.Md.lat=yc(this.Qb[0]),window.Md.sg=yc(this.Qb[1]),window.Md.enable(!0);this.qi=this.e.d.getTilt()==0?this.e.d.na:Math.sin(Math.PI-this.e.d.getTilt()-(Math.PI-Math.asin((1+this.e.d.na/6378137)*Math.sin(this.e.d.getTilt()))))/
Math.sin(this.e.d.getTilt())*6378137}if(!w(this.ra))S(this.ra),this.ra=m;this.ra=R(P(this.e.a.canvas),"mousemove",B(this.Bg,this));a.preventDefault()}};
r.mk=function(a){if(this.Oa){a.preventDefault();this.Qb=i;window.Md&&window.Md.enable(!1);this.Oa=!1;if(!w(this.ra))S(this.ra),this.ra=m;if(Td(a,0)){var b=a.screenX-this.bf,c=a.screenY-this.cf,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.Nb==this.bf&&this.Ob==this.cf&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.Kc=new pf([this.Nb,this.Ob],[this.Nb+a*b,this.Ob+a*c],1300,Fj),R(this.Kc,["animate"],this.Gj,!1,this),this.Kc.play(!1)}}};
r.hf=function(a,b){if(v(this.Qb)){var c=a/this.e.a.canvas.width*Math.PI*-2,d=b/this.e.a.canvas.height*Math.PI/2;if(w(this.Qb))this.e.d.setHeading(this.e.d.getHeading()+c),this.e.d.setTilt(this.e.d.getTilt()+d);else{var f=this.e.d,g=this.Qb[0],h=this.Qb[1],j=this.qi;f.od+=c;c=Math.asin(6378137/Math.sqrt(j*j+40680631590769));f.Wb=L(f.Wb+d,-c,c);d=Math.asin(j/6378137*Math.sin(f.Wb));Math.abs(f.Wb)<1.0E-4?ch(f,j):ch(f,(Math.sin(Math.PI-f.Wb-d)/Math.sin(f.Wb)-1)*6378137);g-=Math.cos(f.od)*d;f.setPosition(g,
h+Math.sin(f.od)*d/Math.cos(g))}}else f=Math.PI*(1/this.e.a.canvas.height)*(this.e.ne/Math.pow(2,this.e.d.getZoom())),bh(this.e.d,b*f,-2*a*f)};r.Bg=function(a){this.hf(a.screenX-this.Nb,a.screenY-this.Ob);this.bf=this.Nb;this.cf=this.Ob;this.Nb=a.screenX;this.Ob=a.screenY;a.preventDefault()};r.Gj=function(a){this.hf(a.x-this.Nb,a.y-this.Ob);this.Nb=a.x;this.Ob=a.y};function Hj(a,b){this.e=a;this.f=b;this.ug=new Rb}function Ij(a,b,c){b=b||Ja();c.Ld(a.f);a.ug.set(b,c)}
Hj.prototype.Nk=function(a){a=this.ug.get(a);if(a.isEnabled()){var b;a:{var c=this.e;b=a.lat;var d=a.sg;b=M(b);var d=M(d),f=Math.cos(b),f=new ai(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.a.Ze.multiply(new Y([[f.x],[f.y],[f.F],[1]]));if(Z(d,3,0)==0)b=m;else{d=d.multiply(1/Z(d,3,0));b=(Z(d,0,0)+1)/2*c.a.jb;var d=(Z(d,1,0)-1)/-2*c.a.ib,g=1;if(b<0||b>c.a.jb||d<0||d>c.a.ib)g=0;else{c=bi(0.5,0.5,0,c.a.$e,1,1);if(w(c)){b=m;break a}var g=f.x-c.x,h=f.y-c.y,j=f.F-c.F,g=Math.sqrt(g*g+h*h+j*j),f=f.Sg(c).normalize(),
f=Hi(c,f),g=w(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=m?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function Jj(a){this.e=a;this.lc=new Si(a.a.canvas);this.ra=R(this.lc,"mousewheel",function(a){this.Ca(-(a.dc==0?0:a.dc<0?-1:1));a.preventDefault()},!1,this);this.fj=R(a.a.canvas,"dblclick",B(function(a){ch(this.d,this.d.na/2);var c=fh(this,a.offsetX,a.offsetY,!0)||this.d.ld(this);if(c){var d=(this.d.Kb+c[1])/2;Math.abs(this.d.Kb-c[1])>Math.PI&&(d+=Math.PI);this.d.setPosition((this.d.tb+c[0])/2,d)}a.preventDefault()},a));this.yk=R(a.a.canvas,"mouseup",B(function(a){if(Td(a,2)){ch(this.d,this.d.na*
2);var c=fh(this,a.offsetX,a.offsetY,!0)||this.d.ld(this);c&&this.d.setPosition(2*this.d.tb-c[0],2*this.d.Kb-c[1]);a.preventDefault()}},a));this.dk=R(a.a.canvas,"contextmenu",function(a){a.preventDefault()});this.C=m;this.Vc=this.Uc=0}D(Jj,E);
Jj.prototype.Ca=function(a){var b=120;a*=-1;if(this.C)if(this.Vc>this.Uc==a>0)return;else this.C.i(),this.C=m,b*=(this.e.d.na-this.Uc)/(this.Vc-this.Uc),a=this.Vc,this.Vc=this.Uc,this.Uc=a;else this.Uc=this.e.d.na,this.Vc=L(this.Uc*Math.pow(2,a),250,1E7);if(!(isNaN(b)||b<=0)){var a=this.e.d.getPosition(),c=this.e.d.ld()||a,d=this.Vc/this.e.d.na;a.push(this.e.d.na);this.C=new pf(a,[c[0]+d*(a[0]-c[0]),c[1]+d*(a[1]-c[1]),this.Vc],b);R(this.C,["animate","finish"],function(a){this.e.d.setPosition(a.x,
a.y);ch(this.e.d,a.F)},!1,this);R(this.C,["finish"],this.mj,!1,this);this.C.play(!1)}};Jj.prototype.mj=function(){if(this.C)this.C.i(),this.C=m};Jj.prototype.g=function(){S(this.ra);S(this.fj);S(this.yk);S(this.dk);this.lc.i();this.C.i()};function Kj(a,b){var c=Q("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
tj.call(this,a,b,c);this.show(!1)}D(Kj,tj);function Lj(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var p=l.tagName=="HTML"||l.tagName=="BODY";if(!p||Re(l,"position")!="static")k=Ye(l),p||(k=ed(k,new O(l.scrollLeft,l.scrollTop)))}l=df(a);(p=Xe(a))&&l.Lh(new Oe(p.left,p.top,p.right-p.left,p.bottom-p.top));var p=fd(a),n=fd(c);if(p.z!=n.z){var t=p.z.body,n=n.z.parentWindow||n.z.defaultView,V=new O(0,0),jc=P(t)?P(t).parentWindow||P(t).defaultView:window,ng=t;do{var Pi=jc==n?Ye(ng):$e(ng);V.x+=Pi.x;V.y+=Pi.y}while(jc&&jc!=n&&(ng=jc.frameElement)&&
(jc=jc.parent));t=ed(V,Ye(t));F&&!Bd(p)&&(t=ed(t,Cd(p)));l.left+=t.x;l.top+=t.y}a=(b&4&&Ze(a)?b^2:b)&-5;b=new O(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=ed(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var x;if(h&&(x=Xe(c))&&k)x.top-=k.y,x.right-=k.x,x.bottom-=k.y,x.left-=k.x;a:{k=b.ga();f=0;a=(d&4&&Ze(c)?d^2:d)&-5;d=bf(c);j=j?j.ga():d.ga();if(g||a!=0)a&2?k.x-=j.width+(g?g.right:0):g&&(k.x+=g.left),a&1?k.y-=j.height+(g?g.bottom:0):g&&(k.y+=g.top);if(h){if(x){g=k;f=0;if((h&65)==
65&&(g.x<x.left||g.x>=x.right))h&=-2;if((h&132)==132&&(g.y<x.top||g.y>=x.bottom))h&=-5;if(g.x<x.left&&h&1)g.x=x.left,f|=1;g.x<x.left&&g.x+j.width>x.right&&h&16&&(j.width-=g.x+j.width-x.right,f|=4);if(g.x+j.width>x.right&&h&1)g.x=Math.max(x.right-j.width,x.left),f|=1;h&2&&(f|=(g.x<x.left?16:0)|(g.x+j.width>x.right?32:0));if(g.y<x.top&&h&4)g.y=x.top,f|=2;g.y>=x.top&&g.y+j.height>x.bottom&&h&32&&(j.height-=g.y+j.height-x.bottom,f|=8);if(g.y+j.height>x.bottom&&h&4)g.y=Math.max(x.bottom-j.height,x.top),
f|=2;h&8&&(f|=(g.y<x.top?64:0)|(g.y+j.height>x.bottom?128:0));h=f}else h=256;f=h;if(f&496){c=f;break a}}Se(c,k);if(!bd(d,j))g=Bd(fd(P(c))),F&&(!g||!I("8"))?(h=c.style,g?(F?(g=hf(c,Qe(c,"paddingLeft")),d=hf(c,Qe(c,"paddingRight")),k=hf(c,Qe(c,"paddingTop")),x=hf(c,Qe(c,"paddingBottom")),g=new Ne(k,d,x,g)):(g=Pe(c,"paddingLeft"),d=Pe(c,"paddingRight"),k=Pe(c,"paddingTop"),x=Pe(c,"paddingBottom"),g=new Ne(parseFloat(k),parseFloat(d),parseFloat(x),parseFloat(g))),c=lf(c),h.pixelWidth=j.width-c.left-g.left-
g.right-c.right,h.pixelHeight=j.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=j.width,h.pixelHeight=j.height)):(c=c.style,G?c.MozBoxSizing="border-box":H?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=j.width+"px",c.height=j.height+"px");c=f}return c};function Mj(){}Mj.prototype.fe=aa();function Nj(a,b){this.element=a;this.Hf=b}D(Nj,Mj);Nj.prototype.fe=function(a,b,c){Lj(this.element,this.Hf,a,b,i,c)};function Oj(a,b,c){Nj.call(this,a,b);this.Oi=c}D(Oj,Nj);Oj.prototype.wh=q(5);Oj.prototype.fe=function(a,b,c,d){var f=Lj(this.element,this.Hf,a,b,m,c,10,d);if(f&496){var g=Pj(f,this.Hf),b=Pj(f,b),f=Lj(this.element,g,a,b,m,c,10,d);f&496&&(g=Pj(f,g),b=Pj(f,b),this.Oi?Lj(this.element,g,a,b,m,c,this.wh(),d):Lj(this.element,g,a,b,m,c,0,d))}};function Pj(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Qj(a,b,c,d){Oj.call(this,a,b,c||d);this.wk=d}D(Qj,Oj);Qj.prototype.wh=function(){return 65|(this.wk?32:132)};function Rj(){}D(Rj,Eg);ea(Rj);Rj.prototype.t=function(a){return a.$().t("div",this.o())};Rj.prototype.ka=function(a,b){if(b.tagName=="HR"){var c=b,b=this.t(a);c.parentNode&&c.parentNode.insertBefore(b,c);rd(c)}else N(b,this.o());return b};Rj.prototype.setContent=aa();Rj.prototype.o=q("goog-menuseparator");function Sj(a,b){X.call(this,m,a||Rj.Ga(),b);Qg(this,1,!1);Qg(this,2,!1);Qg(this,4,!1);Qg(this,32,!1);this.s=1}D(Sj,X);Sj.prototype.ha=function(){Sj.b.ha.call(this);Hf(this.c(),"separator")};Jg("goog-menuseparator",function(){return new Sj});function Tj(){}ea(Tj);r=Tj.prototype;r.pb=aa();function Uj(a,b){if(a)a.tabIndex=b?0:-1}r.t=function(a){return a.$().t("div",this.kd(a).join(" "))};r.Z=function(a){return a};r.Wa=function(a){return a.tagName=="DIV"};r.ka=function(a,b){b.id&&vg(a,b.id);var c=this.o(),d=!1,f=Zc(b);f&&K(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Sb(!1):b==c+"-horizontal"?a.lf(Vj):b==c+"-vertical"&&a.lf(Wj))},this);d||N(b,c);Xj(this,a,this.Z(b));return b};
function Xj(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.Sf(d);if(g)g.f=d,b.isEnabled()||g.Sb(!1),b.Fd(g),g.ka(d)}else(!d.nodeValue||za(d.nodeValue)=="")&&c.removeChild(d);d=f}}r.Sf=function(a){a:{for(var b=Zc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Kg?Kg[b[c]]():m)break a;a=m}return a};r.pd=function(a){a=a.c();gf(a,!0,G);if(F)a.hideFocus=!0;var b=this.pb();b&&Hf(a,b)};r.aa=function(a){return a.c()};r.o=q("goog-container");
r.kd=function(a){var b=this.o(),c=[b,a.P==Vj?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Yj(){}D(Yj,Tj);ea(Yj);r=Yj.prototype;r.pb=q("menu");r.Wa=function(a){return a.tagName=="UL"||Yj.b.Wa.call(this,a)};r.Sf=function(a){return a.tagName=="HR"?new Sj:Yj.b.Sf.call(this,a)};r.xc=function(a,b){return td(a.c(),b)};r.o=q("goog-menu");r.pd=function(a){Yj.b.pd.call(this,a);W(a.c(),"haspopup","true")};Jg("goog-menuseparator",function(){return new Sj});function Zj(){this.jh=[]}D(Zj,Eg);ea(Zj);function $j(a,b){var c=a.jh[b];if(!c){switch(b){case 0:c=a.o()+"-highlight";break;case 1:c=a.o()+"-checkbox";break;case 2:c=a.o()+"-content"}a.jh[b]=c}return c}r=Zj.prototype;r.pb=q("menuitem");r.t=function(a){var b=a.$().t("div",this.kd(a).join(" "),ak(this,a.getContent(),a.$()));bk(this,a,b,!!(a.U&8)||!!(a.U&16));return b};r.Z=function(a){return a&&a.firstChild};
r.ka=function(a,b){var c=sd(b),d=$j(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(ak(this,b.childNodes,a.$()));yb(Zc(b),"goog-option")&&(a.kf(!0),this.kf(a,b,!0));return Zj.b.ka.call(this,a,b)};r.setContent=function(a,b){var c=this.Z(a),d=ck(this,a)?c.firstChild:m;Zj.b.setContent.call(this,a,b);d&&!ck(this,a)&&c.insertBefore(d,c.firstChild||m)};function ak(a,b,c){a=$j(a,2);return c.t("div",a,b)}r.kf=function(a,b,c){b&&(Hf(b,c?"menuitemcheckbox":this.pb()),bk(this,a,b,c))};
function ck(a,b){var c=a.Z(b);if(c){var c=c.firstChild,d=$j(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function bk(a,b,c,d){d!=ck(a,c)&&(d?N(c,"goog-option"):$c(c,"goog-option"),c=a.Z(c),d?(a=$j(a,1),c.insertBefore(b.$().t("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}r.Qd=function(a){switch(a){case 2:return $j(this,0);case 16:case 8:return"goog-option-selected";default:return Zj.b.Qd.call(this,a)}};
r.Uf=function(a){var b=$j(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Zj.b.Uf.call(this,a)}};r.o=q("goog-menuitem");function dk(a,b,c,d){X.call(this,a,d||Zj.Ga(),c);this.Y(b)}D(dk,X);r=dk.prototype;r.n=function(){var a=this.vg;return a!=m?a:this.jd()};r.Y=ba("vg");r.kf=function(a){Qg(this,16,a);var b=this.c();b&&this.j.kf(this,b,a)};r.jd=function(){var a=this.getContent();return y(a)?(a=vb(a,function(a){return yb(Zc(a),"goog-menuitem-accel")?"":yd(a)}).join(""),ya(a)):dk.b.jd.call(this)};
r.Ic=function(a){var b=this.getParent();if(b){var c=b.gi;b.gi=m;if(b=c&&ga(a.clientX))b=new O(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}dk.b.Ic.call(this,a)};Jg("goog-menuitem",function(){return new dk(m)});function ek(a,b,c){rg.call(this,c);this.j=b||Tj.Ga();this.P=a||Wj}D(ek,rg);var Vj="horizontal",Wj="vertical";r=ek.prototype;r.lg=m;r.L=m;r.j=m;r.P=m;r.V=!0;r.la=!0;r.Of=!0;r.ma=-1;r.da=m;r.Lb=!1;r.Pi=!1;r.pk=!0;r.Bb=m;r.aa=function(){return this.lg||this.j.aa(this)};r.Ie=function(){return this.L||(this.L=new Zf(this.aa()))};r.t=function(){this.f=this.j.t(this)};r.Z=function(){return this.j.Z(this.c())};r.Wa=function(a){return this.j.Wa(a)};
r.nb=function(a){this.f=this.j.ka(this,a);if(a.style.display=="none")this.V=!1};r.ha=function(){ek.b.ha.call(this);zg(this,function(a){a.G&&fk(this,a)},this);var a=this.c();this.j.pd(this);this.setVisible(this.V,!0);this.xa().h(this,"enter",this.Vf).h(this,"highlight",this.Wf).h(this,"unhighlight",this.bg).h(this,"open",this.Aj).h(this,"close",this.sj).h(a,"mousedown",this.Hc).h(P(a),"mouseup",this.uj).h(a,["mousedown","mouseup","mouseover","mouseout"],this.rj);this.hc()&&gk(this,!0)};
function gk(a,b){var c=a.xa(),d=a.aa();b?c.h(d,"focus",a.Gc).h(d,"blur",a.Ib).h(a.Ie(),"key",a.Ya):c.fa(d,"focus",a.Gc).fa(d,"blur",a.Ib).fa(a.Ie(),"key",a.Ya)}r.Pa=function(){hk(this,-1);this.da&&this.da.T(!1);this.Lb=!1;ek.b.Pa.call(this)};r.g=function(){ek.b.g.call(this);if(this.L)this.L.i(),this.L=m;this.j=this.da=this.Bb=this.lg=m};r.Vf=q(!0);
r.Wf=function(a){var b=Dg(this,a.target);if(b>-1&&b!=this.ma){var c=Bg(this,this.ma);c&&c.yb(!1);this.ma=b;c=Bg(this,this.ma);this.Lb&&c.setActive(!0);this.pk&&this.da&&c!=this.da&&(c.U&64?c.T(!0):this.da.T(!1))}W(this.c(),"activedescendant",a.target.c().id)};r.bg=function(a){if(a.target==Bg(this,this.ma))this.ma=-1;W(this.c(),"activedescendant","")};r.Aj=function(a){if((a=a.target)&&a!=this.da&&a.getParent()==this)this.da&&this.da.T(!1),this.da=a};r.sj=function(a){if(a.target==this.da)this.da=m};
r.Hc=function(a){if(this.la)this.Lb=!0;var b=this.aa();b&&xd(b)?b.focus():a.preventDefault()};r.uj=function(){this.Lb=!1};r.rj=function(a){var b;a:{b=a.target;if(this.Bb)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Bb){b=this.Bb[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.Hc(a);break;case "mouseup":b.Ic(a);break;case "mouseover":b.ag(a);break;case "mouseout":b.$f(a)}};r.Gc=aa();r.Ib=function(){hk(this,-1);this.Lb=!1;this.da&&this.da.T(!1)};
r.Ya=function(a){return this.isEnabled()&&this.ca()&&(Ag(this)!=0||this.lg)&&this.nd(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
r.nd=function(a){var b=Bg(this,this.ma);if(b&&typeof b.Ya=="function"&&b.Ya(a))return!0;if(this.da&&this.da!=b&&typeof this.da.Ya=="function"&&this.da.Ya(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.hc())this.aa().blur();else return!1;break;case 36:ik(this);break;case 35:jk(this);break;case 38:if(this.P==Wj)kk(this);else return!1;break;case 37:if(this.P==Vj)Cg(this)?lk(this):kk(this);else return!1;break;case 40:if(this.P==Wj)lk(this);else return!1;
break;case 39:if(this.P==Vj)Cg(this)?kk(this):lk(this);else return!1;break;default:return!1}return!0};function fk(a,b){var c=b.c(),c=c.id||(c.id=ug(b));if(!a.Bb)a.Bb={};a.Bb[c]=b}r.Fd=function(a,b){ek.b.Fd.call(this,a,b)};r.Gd=function(a,b,c){a.of|=2;a.of|=64;(this.hc()||!this.Pi)&&Qg(a,32,!1);Mg(a,!1);ek.b.Gd.call(this,a,b,c);c&&this.G&&fk(this,a);b<=this.ma&&this.ma++};
r.removeChild=function(a,b){if(a=A(a)?xg(this,a):a){var c=Dg(this,a);c!=-1&&(c==this.ma?a.yb(!1):c<this.ma&&this.ma--);var d=a.c();if(d&&d.id&&this.Bb)c=this.Bb,d=d.id,d in c&&delete c[d]}a=ek.b.removeChild.call(this,a,b);Mg(a,!0);return a};r.lf=function(a){this.c()&&e(Error("Component already rendered"));this.P=a};r.ca=o("V");
r.setVisible=function(a,b){if(b||this.V!=a&&this.dispatchEvent(a?"show":"hide")){this.V=a;var c=this.c();c&&(ef(c,a),this.hc()&&Uj(this.aa(),this.la&&this.V),b||this.dispatchEvent(this.V?"aftershow":"afterhide"));return!0}return!1};r.isEnabled=o("la");r.Sb=function(a){if(this.la!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.la=!0,zg(this,function(a){a.Ji?delete a.Ji:a.Sb(!0)})):(zg(this,function(a){a.isEnabled()?a.Sb(!1):a.Ji=!0}),this.Lb=this.la=!1),this.hc()&&Uj(this.aa(),a&&this.V)};
r.hc=o("Of");r.qc=function(a){a!=this.Of&&this.G&&gk(this,a);this.Of=a;this.la&&this.V&&Uj(this.aa(),a)};function hk(a,b){var c=Bg(a,b);c?c.yb(!0):a.ma>-1&&Bg(a,a.ma).yb(!1)}r.yb=function(a){hk(this,Dg(this,a))};function ik(a){mk(a,function(a,c){return(a+1)%c},Ag(a)-1)}function jk(a){mk(a,function(a,c){a--;return a<0?c-1:a},0)}function lk(a){mk(a,function(a,c){return(a+1)%c},a.ma)}function kk(a){mk(a,function(a,c){a--;return a<0?c-1:a},a.ma)}
function mk(a,b,c){for(var c=c<0?Dg(a,a.da):c,d=Ag(a),c=b.call(a,c,d),f=0;f<=d;){var g=Bg(a,c);if(g&&a.ih(g)){hk(a,c);break}f++;c=b.call(a,c,d)}}r.ih=function(a){return a.ca()&&a.isEnabled()&&!!(a.U&2)};function nk(){}D(nk,Eg);ea(nk);nk.prototype.o=q("goog-menuheader");function ok(a,b,c){X.call(this,a,c||nk.Ga(),b);Qg(this,1,!1);Qg(this,2,!1);Qg(this,4,!1);Qg(this,32,!1);this.s=1}D(ok,X);Jg("goog-menuheader",function(){return new ok(m)});function pk(a,b){ek.call(this,Wj,b||Yj.Ga(),a);this.qc(!1)}D(pk,ek);r=pk.prototype;r.zf=!0;r.Qi=!1;r.o=function(){return this.j.o()};r.xc=function(a){if(this.j.xc(this,a))return!0;for(var b=0,c=Ag(this);b<c;b++){var d=Bg(this,b);if(typeof d.xc=="function"&&d.xc(a))return!0}return!1};r.Zb=function(a){this.Fd(a,!0)};r.bd=function(a,b){this.Gd(a,b,!0)};r.Rd=function(a){return Bg(this,a)};r.He=function(){return Ag(this)};
r.setPosition=function(a,b){var c=this.ca();c||ef(this.c(),!0);af(this.c(),a,b);c||ef(this.c(),!1)};r.getPosition=function(){return this.ca()?Ye(this.c()):m};r.setVisible=function(a,b,c){(b=pk.b.setVisible.call(this,a,b))&&a&&this.G&&this.zf&&this.aa().focus();this.gi=a&&c&&ga(c.clientX)?new O(c.clientX,c.clientY):m;return b};r.Vf=function(a){this.zf&&this.aa().focus();return pk.b.Vf.call(this,a)};r.ih=function(a){return(this.Qi||a.isEnabled())&&a.ca()&&!!(a.U&2)};
r.nb=function(a){var b=this.j,c;c=this.$();c=id(c.z,"div",b.o()+"-content",a);for(var d,f=0;d=c[f];f++)Xj(b,this,d);pk.b.nb.call(this,a)};function qk(){}D(qk,Wg);ea(qk);if(G)qk.prototype.setContent=function(a,b){var c=qk.b.Z.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,fd(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};r=qk.prototype;r.Z=function(a){a=qk.b.Z.call(this,a&&a.firstChild);if(G&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};r.ka=function(a,b){var c=id(document,"*","goog-menu",b)[0];if(c){ef(c,!1);P(c).body.appendChild(c);var d=new pk;d.ka(c);a.le(d)}return qk.b.ka.call(this,a,b)};
r.Ae=function(a,b){return qk.b.Ae.call(this,[this.createCaption(a,b),b.t("div","goog-inline-block "+(this.o()+"-dropdown"),"\u00a0")],b)};r.createCaption=function(a,b){return b.t("div","goog-inline-block "+(this.o()+"-caption"),a)};r.o=q("goog-menu-button");function rk(a,b,c,d){Vg.call(this,a,c||qk.Ga(),d);Qg(this,64,!0);b&&this.le(b);this.u=new mf(500);if((Vf||Wf)&&!I("533.17.9"))this.Re=!0}D(rk,Vg);r=rk.prototype;r.dh=!0;r.Ig=!1;r.Re=!1;r.uk=!1;r.ha=function(){rk.b.ha.call(this);this.k&&sk(this,this.k,!0);W(this.c(),"haspopup","true")};r.Pa=function(){rk.b.Pa.call(this);if(this.k){this.T(!1);this.k.Pa();sk(this,this.k,!1);var a=this.k.c();a&&rd(a)}};r.g=function(){rk.b.g.call(this);this.k&&(this.k.i(),delete this.k);delete this.sk;this.u.i()};
r.Hc=function(a){rk.b.Hc.call(this,a);if(this.Vd()&&(this.T(!this.Ra(),a),this.k))this.k.Lb=this.Ra()};r.Ic=function(a){rk.b.Ic.call(this,a);if(this.k&&!this.Vd())this.k.Lb=!1};r.td=function(){this.setActive(!1);return!0};r.tj=function(a){this.k&&this.k.ca()&&!this.xc(a.target)&&this.T(!1)};r.xc=function(a){return a&&td(this.c(),a)||this.k&&this.k.xc(a)||!1};
r.nd=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.k&&this.k.ca()){var b=this.k.Ya(a);return a.keyCode==27?(this.T(!1),!0):b}return a.keyCode==40||a.keyCode==38||a.keyCode==32?(this.T(!0),!0):!1};r.Yf=function(){this.T(!1)};r.xj=function(){this.Vd()||this.T(!1)};r.Ib=function(a){this.Re||this.T(!1);rk.b.Ib.call(this,a)};function tk(a){a.k||a.le(new pk(a.$()));return a.k||m}
r.le=function(a){var b=this.k;if(a!=b&&(b&&(this.T(!1),this.G&&sk(this,b,!1),delete this.k),a)){this.k=a;wg(a,this);a.setVisible(!1);var c=this.Re;(a.zf=c)&&a.qc(!0);this.G&&sk(this,a,!0)}return b};r.Zb=function(a){tk(this).Fd(a,!0)};r.bd=function(a,b){tk(this).Gd(a,b,!0)};r.Rd=function(a){return this.k?Bg(this.k,a):m};r.He=function(){return this.k?Ag(this.k):0};r.setVisible=function(a,b){var c=rk.b.setVisible.call(this,a,b);c&&!this.ca()&&this.T(!1);return c};
r.Sb=function(a){rk.b.Sb.call(this,a);this.isEnabled()||this.T(!1)};
r.T=function(a,b){rk.b.T.call(this,a);if(this.k&&!!(this.s&64)==a){if(a)this.k.G||(this.uk?this.k.Pb(this.c().parentNode):this.k.Pb()),this.ad=Xe(this.c()),this.vc=df(this.c()),uk(this),hk(this.k,-1);else if(this.setActive(!1),this.k.Lb=!1,this.c()&&W(this.c(),"activedescendant",""),this.df!=m){this.df=i;var c=this.k.c();if(c){var d="",f;d instanceof ad?(f=d.height,d=d.width):f="";c.style.width=Te(d,!0);c.style.height=Te(f,!0)}}this.k.setVisible(a,!1,b);this.De||(c=this.xa(),d=a?c.h:c.fa,d.call(c,
Ad(this.$()),"mousedown",this.tj,!0),this.Re&&d.call(c,this.k,"blur",this.xj),d.call(c,this.u,of,this.sd),a?this.u.start():this.u.stop())}};function uk(a){if(a.k.G){var b=new Qj(a.sk||a.c(),a.dh?5:7,!a.Ig,a.Ig),c=a.k.c();if(!a.k.ca())c.style.visibility="hidden",ef(c,!0);if(!a.df&&a.Ig)a.df=bf(c);b.fe(c,a.dh?4:6,m,a.df);if(!a.k.ca())ef(c,!1),c.style.visibility="visible"}}
r.sd=function(){var a=df(this.c()),b=Xe(this.c());if(!(this.vc==a||(!this.vc||!a?0:this.vc.left==a.left&&this.vc.width==a.width&&this.vc.top==a.top&&this.vc.height==a.height))||!(this.ad==b||(!this.ad||!b?0:this.ad.top==b.top&&this.ad.right==b.right&&this.ad.bottom==b.bottom&&this.ad.left==b.left)))this.vc=a,this.ad=b,uk(this)};function sk(a,b,c){var d=a.xa(),c=c?d.h:d.fa;c.call(d,b,"action",a.Yf);c.call(d,b,"highlight",a.Wf);c.call(d,b,"unhighlight",a.bg)}
r.Wf=function(a){W(this.c(),"activedescendant",a.target.c().id)};r.bg=function(){Bg(this.k,this.k.ma)||W(this.c(),"activedescendant","")};Jg("goog-menu-button",function(){return new rk(m)});function vk(a){this.Lc=[];wk(this,a)}D(vk,T);r=vk.prototype;r.oc=m;r.pc=m;r.He=function(){return this.Lc.length};r.Rd=function(a){return this.Lc[a]||m};function wk(a,b){b&&(K(b,function(a){xk(this,a,!1)},a),Cb(a.Lc,b))}r.Zb=function(a){this.bd(a,this.He())};r.bd=function(a,b){a&&(xk(this,a,!1),Db(this.Lc,b,0,a))};r.Ke=o("oc");r.rc=function(a){if(a!=this.oc)xk(this,this.oc,!1),this.oc=a,xk(this,a,!0);this.dispatchEvent("select")};r.Tf=function(){return this.oc?tb(this.Lc,this.oc):-1};r.ui=function(a){this.rc(this.Rd(a))};
r.clear=function(){var a=this.Lc;if(!y(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.oc=m};r.g=function(){vk.b.g.call(this);delete this.Lc;this.oc=m};function xk(a,b,c){b&&(typeof a.pc=="function"?a.pc(b,c):typeof b.Lg=="function"&&b.Lg(c))};function yk(a,b,c,d){rk.call(this,a,b,c,d);this.Ce=a;zk(this);this.ff="listbox"}D(yk,rk);r=yk.prototype;r.J=m;r.Ce=m;r.ha=function(){yk.b.ha.call(this);zk(this);Ak(this);W(this.c(),"haspopup","false")};r.nb=function(a){yk.b.nb.call(this,a);(a=this.jd())?(this.Ce=a,zk(this)):this.ui(0)};r.g=function(){yk.b.g.call(this);if(this.J)this.J.i(),this.J=m;this.Ce=m};r.Yf=function(a){this.rc(a.target);yk.b.Yf.call(this,a);a.stopPropagation();this.dispatchEvent("action")};
r.Cj=function(){var a=this.Ke();yk.b.Y.call(this,a&&a.n());zk(this)};r.le=function(a){var b=yk.b.le.call(this,a);a!=b&&(this.J&&this.J.clear(),a&&(this.J?zg(a,function(a){Bk(a);this.J.Zb(a)},this):Ck(this,a)));return b};r.Zb=function(a){Bk(a);yk.b.Zb.call(this,a);this.J?this.J.Zb(a):Ck(this,tk(this))};r.bd=function(a,b){Bk(a);yk.b.bd.call(this,a,b);this.J?this.J.bd(a,b):Ck(this,tk(this))};r.rc=function(a){this.J&&this.J.rc(a)};r.ui=function(a){this.J&&this.rc(this.J.Rd(a))};
r.Y=function(a){if(a!=m&&this.J)for(var b=0,c;c=this.J.Rd(b);b++)if(c&&typeof c.n=="function"&&c.n()==a){this.rc(c);return}this.rc(m)};r.Ke=function(){return this.J?this.J.Ke():m};r.Tf=function(){return this.J?this.J.Tf():-1};function Ck(a,b){a.J=new vk;b&&zg(b,function(a){Bk(a);this.J.Zb(a)},a);Ak(a)}function Ak(a){a.J&&a.xa().h(a.J,"select",a.Cj)}function zk(a){var b=a.Ke();a.setContent(b?b.jd():a.Ce)}function Bk(a){a.ff=a instanceof dk?"option":"separator"}
r.T=function(a,b){yk.b.T.call(this,a,b);this.Ra()&&hk(tk(this),this.Tf())};Jg("goog-select",function(){return new yk(m)});function Dk(a,b){this.e=a;this.xd=new yk("---");this.ra=R(this.xd,"action",function(b){a.ua.wc(b.target.n())});this.xd.Pb(b)}D(Dk,E);Dk.prototype.kb=function(a,b){var c=new dk(a.name,a);this.xd.Zb(c);if(b||this.xd.He()==1)this.xd.rc(c),this.e.ua.wc(a)};Dk.prototype.g=function(){S(this.ra);this.xd.i()};function Ek(a){w(a)||function(){this.a=new yh(a,hd("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});zh(this.a);this.Th=new mf(15);R(this.Th,of,B(function(){var a=this.a,b=a.ba;if(!w(a.Qf)){var c=C();if(a.mg<C()-2E3)a.Pf=1E3*a.Ge/(C()-a.mg),a.fh=a.Rf/a.Ge,a.mg=C(),a.Ge=0,a.Rf=0,a.Qf.innerHTML=a.fh.toFixed(2)+" ms / fps: "+a.Pf.toFixed(2);a.Ge++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.wb.sa=jh(4);a.m.draw();!w(a.Qf)&&(a.Rf+=C()-c);a=this.tg;K(a.ug.Fc(),
a.Nk,a)},this));this.a.m=new Gi(this.a,hd("weapp-infobox"),hd("weapp-mapcopyright"),hd("weapp-maplogo"),i,Q("p",m,"3D Buildings Source: ",Q("a",{href:"http://www.swisstopo.ch/"},"Swiss Federal Office of Topography"),"."));this.a.gf();this.Id=new qj(this.a.m.d);this.Zk=new Gj(this.a.m,this.Id);this.hl=new Jj(this.a.m);this.Mk=new Dk(this.a.m,hd("weapp-tileprovider"));this.il=new oj(this.a.m,hd("weapp-zoomslider"));this.dl=new Ej(this.a.m,hd("weapp-pancontrol"));var b=hd("weapp-nominatim");this.Zh=
new lg(b);this.tg=new Hj(this.a.m,a.parentNode);var c=new Kj(0,0);c.enable(!1);Ij(this.tg,"nominatimMarker",c);var d=B(function(a){var b=a.boundingbox,d,f=M(parseFloat(b[0])),l=M(parseFloat(b[1]));d=this.a.Od;var p=(f+l)/2,b=Zh(p,M(parseFloat(b[2])),p,M(parseFloat(b[3]))),f=Zh(f,0,l,0),l=Math.min(Math.max(this.a.Kd,b/f),1);d=M(yc(d)/(l+0.4)-2);b=Math.max(f,b);b=Math.min(Math.PI/2,d+b/12756274);d=9567205.5*(Math.sin(b)*Math.sqrt(1+1/Math.pow(Math.tan(d),2))-1);rj(this.Id,M(parseFloat(a.lat)),M(parseFloat(a.lon)),
d);c.enable(!0);c.lat=a.lat;c.sg=a.lon},this);this.Zh.addEventListener("update",function(a){d(a.row)});R(hd("weapp-nominatimform"),"submit",B(function(a){a.preventDefault();this.Zh.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=B(function(){function a(c){c+="=";var d=xb(b,function(a){return a.indexOf(c)===0});if(d!=m&&(d=d.substr(c.length),d.length>0))return d}var b=window.location.hash.substr(1).split(";"),c=a("zoom")||a("z");isNaN(c)||this.a.m.d.setZoom(c);c=a("alt");isNaN(c)||
ch(this.a.m.d,c);c=a("t");isNaN(c)||this.a.m.d.setTilt(parseFloat(c));c=a("h");isNaN(c)||this.a.m.d.setHeading(parseFloat(c));c=a("ll");if(c!=m)c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.a.m.d.setPosition(M(c[0]),M(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.a.m.d.setPosition(M(c),M(d))}},this);this.Hh=new mf(2E3);R(this.Hh,of,B(function(){var a=[yc(this.a.m.d.tb),yc(this.a.m.d.Kb)];window.location.hash="#ll="+a[0].toFixed(5)+","+a[1].toFixed(5)+";alt="+
this.a.m.d.na.toFixed(0)+";h="+this.a.m.d.getHeading().toFixed(3)+";t="+this.a.m.d.getTilt().toFixed(3)},this));this.Hh.start();window.addEventListener("hashchange",f,!1);f();R(this.a.canvas,"click",B(function(a){if(a.ctrlKey){var b=fh(this.a.m,a.offsetX,a.offsetY);Ij(this.tg,m,new uj(b[0],b[1],"Title",Q("span",{},"This is an example of new PrettyMarker. You can easily customize this popup and even add links and other objects: ",Q("br"),Q("br"),Q("a",{target:"blank",href:"http://www.klokantech.com/"},
"Klokan Technologies"),Q("br"),Q("br"))));a.preventDefault()}},this))}.call(this)}Ek.prototype.kb=function(a){this.Mk.kb(a)};Ek.prototype.Hd=function(a,b){this.a.m.Hd(a,b)};Ek.prototype.start=function(){this.Th.start()};
function Fk(){var a=new Ek(hd("weapp-canvas"));a.kb(new vj("Satellite"));a.kb(new vj("Roadmap"));a.kb(new vj("Terrain"));a.kb(new qg);a.kb(new pg);a.kb(new Cj("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.kb(new Cj("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.kb(new Cj("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Hd("swissBUILDINGS3d_10.json");a.a.m.d.setPosition(M(46.91131),M(7.45883));
ch(a.a.m.d,1144);a.a.m.d.setHeading(0);a.a.m.d.setTilt(0.923);a.start()}var Gk="WEApp".split("."),Hk=s;!(Gk[0]in Hk)&&Hk.execScript&&Hk.execScript("var "+Gk[0]);for(var Ik;Gk.length&&(Ik=Gk.shift());)!Gk.length&&v(Fk)?Hk[Ik]=Fk:Hk=Hk[Ik]?Hk[Ik]:Hk[Ik]={};
