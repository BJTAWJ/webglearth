/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function r(a){return function(){return a}}var s,ca=ca||{},t=this;function da(a){for(var a=a.split("."),b=t,c;c=a.shift();)if(b[c]!=m)b=b[c];else return m;return b}function u(){}function ea(a){a.ya=function(){return a.bj||(a.bj=new a)}}
function fa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function w(a){return a!==i}function x(a){return a===m}function y(a){return fa(a)=="array"}function ga(a){var b=fa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function z(a){return typeof a=="string"}function ha(a){return typeof a=="number"}function ia(a){return fa(a)=="function"}function ja(a){a=fa(a);return a=="object"||a=="array"||a=="function"}function A(a){return a[ka]||(a[ka]=++la)}
var ka="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),la=0;function ma(a){return a.call.apply(a.bind,arguments)}function na(a,b){var c=b||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}else return function(){return a.apply(c,arguments)}}
function B(){B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ma:na;return B.apply(m,arguments)}function oa(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var C=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};function F(){pa&&(qa[A(this)]=this)}var pa=!1,qa={};F.prototype.qf=!1;F.prototype.m=function(){if(!this.qf&&(this.qf=!0,this.g(),pa)){var a=A(this);qa.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete qa[a]}};F.prototype.g=aa();function ra(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.Bc=d||0;this.Ga=m;this.state=sa}D(ra,F);ra.prototype.g=function(){delete this.Ga};var sa=0;function ta(a,b){for(var c in a)b.call(i,a[c],c,a)}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function va(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function wa(){var a=xa,b;for(b in a)return!1;return!0}function ya(a,b){b in a&&delete a[b]}function za(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Aa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Ba(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<Aa.length;f++)b=Aa[f],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}};function Ca(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Da(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ea=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Fa(a){a=String(a);if(!Ea.test(a))return encodeURIComponent(a);return a}function Ga(a){if(!Ha.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ia,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ja,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ka,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(La,"&quot;"));return a}
var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/\"/g,Ha=/[&<>\"]/;function Ma(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Na(a,b){for(var c=0,d=Da(String(a)).split("."),f=Da(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=l.exec(j)||["","",""],q=o.exec(k)||["","",""];if(p[0].length==0&&q[0].length==0)break;c=Oa(p[1].length==0?0:parseInt(p[1],10),q[1].length==0?0:parseInt(q[1],10))||Oa(p[2].length==0,q[2].length==0)||Oa(p[2],q[2])}while(c==0)}return c}
function Oa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var G=Array.prototype,Pa=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(z(a)){if(!z(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},H=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Qa=G.filter?function(a,b,c){return G.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=
0,h=z(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},Ra=G.map?function(a,b,c){return G.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=z(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Sa=G.every?function(a,b,c){return G.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function Ta(a,b){var c;a:{c=a.length;for(var d=z(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?m:z(a)?a.charAt(c):a[c]}function Ua(a,b){return Pa(a,b)>=0}function Va(a,b){var c=Pa(a,b);c>=0&&G.splice.call(a,c,1)}function Wa(){return G.concat.apply(G,arguments)}function Xa(a){if(y(a))return Wa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Ya(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(y(c)||(d=ga(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Za(a){G.splice.apply(a,$a(arguments,1))}function $a(a,b,c){return arguments.length<=2?G.slice.call(a,b):G.slice.call(a,b,c)}function ab(a,b){G.sort.call(a,b||bb)}function bb(a,b){return a>b?1:a<b?-1:0}
function cb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];y(c)?a.push.apply(a,cb.apply(m,c)):a.push(c)}return a};function db(a){if(typeof a.Tb=="function")return a.Tb();if(z(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ua(a)}function eb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ga(a)||z(a))H(a,b,c);else{var d;if(typeof a.qc=="function")d=a.qc();else if(typeof a.Tb!="function")if(ga(a)||z(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=va(a);else d=i;for(var f=db(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};var fb="StopIteration"in t?t.StopIteration:Error("StopIteration");function gb(){}gb.prototype.next=function(){e(fb)};gb.prototype.ff=function(){return this};function hb(a){if(a instanceof gb)return a;if(typeof a.ff=="function")return a.ff(!1);if(ga(a)){var b=0,c=new gb;c.next=function(){for(;;)if(b>=a.length&&e(fb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function ib(a,b,c){if(ga(a))try{H(a,b,c)}catch(d){d!==fb&&e(d)}else{a=hb(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==fb&&e(f)}}};function jb(a){this.Ta={};this.v=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){a instanceof jb?(b=a.qc(),c=a.Tb()):(b=va(a),c=ua(a));for(var d=0;d<b.length;d++)this.set(b[d],c[d])}}s=jb.prototype;s.u=0;s.he=0;s.wf=n("u");s.Tb=function(){kb(this);for(var a=[],b=0;b<this.v.length;b++)a.push(this.Ta[this.v[b]]);return a};s.qc=function(){kb(this);return this.v.concat()};
s.tb=function(a){return lb(this.Ta,a)};s.ue=function(a,b){if(this===a)return!0;if(this.u!=a.wf())return!1;var c=b||mb;kb(this);for(var d,f=0;d=this.v[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function mb(a,b){return a===b}s.clear=function(){this.Ta={};this.he=this.u=this.v.length=0};s.remove=function(a){if(lb(this.Ta,a))return delete this.Ta[a],this.u--,this.he++,this.v.length>2*this.u&&kb(this),!0;return!1};
function kb(a){if(a.u!=a.v.length){for(var b=0,c=0;b<a.v.length;){var d=a.v[b];lb(a.Ta,d)&&(a.v[c++]=d);b++}a.v.length=c}if(a.u!=a.v.length){for(var f={},c=b=0;b<a.v.length;)d=a.v[b],lb(f,d)||(a.v[c++]=d,f[d]=1),b++;a.v.length=c}}s.get=function(a,b){if(lb(this.Ta,a))return this.Ta[a];return b};s.set=function(a,b){lb(this.Ta,a)||(this.u++,this.v.push(a),this.he++);this.Ta[a]=b};s.ba=function(){return new jb(this)};
s.ff=function(a){kb(this);var b=0,c=this.v,d=this.Ta,f=this.he,g=this,h=new gb;h.next=function(){for(;;){f!=g.he&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(fb);var h=c[b++];return a?h:d[h]}};return h};function lb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nb(a){return ob(a||arguments.callee.caller,[])}
function ob(a,b){var c=[];if(Ua(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(pb(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=pb(g))?g:"[fn]";break;default:g=typeof g}g.length>40&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(ob(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function pb(a){a=String(a);if(!qb[a]){var b=/function ([^\(]+)/.exec(a);qb[a]=b?b[1]:"[Anonymous]"}return qb[a]}var qb={};function rb(a,b,c,d,f){this.reset(a,b,c,d,f)}rb.prototype.Xj=0;rb.prototype.Pg=m;rb.prototype.Og=m;var sb=0;rb.prototype.reset=function(a,b,c,d,f){this.Xj=typeof f=="number"?f:sb++;this.vk=d||C();this.Md=a;this.uj=b;this.sk=c;delete this.Pg;delete this.Og};rb.prototype.Ph=ba("Md");function tb(a){this.xj=a}tb.prototype.M=m;tb.prototype.Md=m;tb.prototype.R=m;tb.prototype.dh=m;function ub(a,b){this.name=a;this.value=b}ub.prototype.toString=n("name");var vb=new ub("SEVERE",1E3),wb=new ub("WARNING",900),xb=new ub("CONFIG",700),yb=new ub("FINE",500),zb=new ub("FINEST",300);tb.prototype.getParent=n("M");tb.prototype.Ph=ba("Md");function Ab(a){if(a.Md)return a.Md;if(a.M)return Ab(a.M);return m}
tb.prototype.log=function(a,b,c){if(a.value>=Ab(this).value){a=this.Li(a,b,c);t.console&&t.console.markTimeline&&t.console.markTimeline("log:"+a.uj);for(b=this;b;){var c=b,d=a;if(c.dh)for(var f=0,g=i;g=c.dh[f];f++)g(d);b=b.getParent()}}};
tb.prototype.Li=function(a,b,c){var d=new rb(a,String(b),this.xj);if(c){d.Pg=c;var f;var g=arguments.callee.caller;try{var h;var j=da("window.location.href");if(z(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var k,l,o=!1;try{k=c.lineNumber||c.rk||"Not available"}catch(p){k="Not available",o=!0}try{l=c.fileName||c.filename||c.sourceURL||j}catch(q){l="Not available",o=!0}h=o||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:k,fileName:l,stack:c.stack||"Not available"}:c}f="Message: "+Ga(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ga(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ga(nb(g)+"-> ")}catch(v){f="Exception trying to expose exception! You win, we lose. "+v}d.Og=f}return d};function Bb(a,b){a.log(yb,b,i)}var Cb={},Db=m;
function Eb(a){Db||(Db=new tb(""),Cb[""]=Db,Db.Ph(xb));var b;if(!(b=Cb[a])){b=new tb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Eb(a.substr(0,c));if(!c.R)c.R={};c.R[d]=b;b.M=c;Cb[a]=b}return b};function Fb(a){this.name=a}s=Fb.prototype;s.zf=r(0);s.$h=u;s.Nd=0;s.Xf=function(a){a.Ga=new Image;a.Ga.onload=function(b){return function(){a.state=20;b.Nd--;b.$h(a)}}(this);a.Ga.onerror=function(b){return function(){a.state=-10;b.Nd--}}(this);a.state=10;a.Ga.src=this.Uc(a.zoom,a.x,a.y);this.Nd++;return!0};s.ne=aa();s.yf=r(m);s.Ig=u;function Gb(a){return Math.floor(Math.random()*a)}function Hb(a,b,c){return Math.min(Math.max(a,b),c)}function Ib(a,b){var c=a%b;return c*b<0?c+b:c}function I(a){return a*Math.PI/180};function Jb(a){var b=w(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText}function Kb(a){a=Ib(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function Lb(a,b,c,d,f,g,h){this.name=a;this.url=b;this.oj=c;this.ij=d;this.ck=f;this.Ii=g===!0;this.og=h||[]}D(Lb,Fb);Lb.prototype.zf=n("oj");Lb.prototype.Sb=n("ij");Lb.prototype.rc=n("ck");Lb.prototype.Uc=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.Ii?(1<<a)-c-1:c).toFixed(0));this.og.length>0&&(d=d.replace("{sub}",this.og[Gb(this.og.length)]));return d};var Mb,Nb,Ob,Pb,Qb,Rb,Sb;function Tb(){return t.navigator?t.navigator.userAgent:m}function Vb(){return t.navigator}Qb=Pb=Ob=Nb=Mb=!1;var Wb;if(Wb=Tb()){var Xb=Vb();Mb=Wb.indexOf("Opera")==0;Nb=!Mb&&Wb.indexOf("MSIE")!=-1;Pb=(Ob=!Mb&&Wb.indexOf("WebKit")!=-1)&&Wb.indexOf("Mobile")!=-1;Qb=!Mb&&!Ob&&Xb.product=="Gecko"}var Yb=Mb,J=Nb,K=Qb,L=Ob,Zb=Pb,$b,ac=Vb();$b=ac&&ac.platform||"";Rb=$b.indexOf("Mac")!=-1;Sb=$b.indexOf("Win")!=-1;var bc=!!Vb()&&(Vb().appVersion||"").indexOf("X11")!=-1,cc;
a:{var dc="",ec;if(Yb&&t.opera)var fc=t.opera.version,dc=typeof fc=="function"?fc():fc;else if(K?ec=/rv\:([^\);]+)(\)|;)/:J?ec=/MSIE\s+([^\);]+)(\)|;)/:L&&(ec=/WebKit\/(\S+)/),ec)var gc=ec.exec(Tb()),dc=gc?gc[1]:"";if(J){var hc,ic=t.document;hc=ic?ic.documentMode:i;if(hc>parseFloat(dc)){cc=String(hc);break a}}cc=dc}var jc={};function M(a){return jc[a]||(jc[a]=Na(cc,a)>=0)};function N(a,b){this.x=w(a)?a:0;this.y=w(b)?b:0}N.prototype.ba=function(){return new N(this.x,this.y)};function kc(a,b){return new N(a.x-b.x,a.y-b.y)};function lc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}lc.prototype.ba=function(){return new lc(this.top,this.right,this.bottom,this.left)};lc.prototype.contains=function(a){a=!this||!a?!1:a instanceof lc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function mc(a,b){this.width=a;this.height=b}function nc(a,b){if(a==b)return!0;if(!a||!b)return!1;return a.width==b.width&&a.height==b.height}s=mc.prototype;s.ba=function(){return new mc(this.width,this.height)};s.oe=function(){return this.width/this.height};s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};s.scale=function(a){this.width*=a;this.height*=a;return this};function oc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}oc.prototype.ba=function(){return new oc(this.left,this.top,this.width,this.height)};oc.prototype.contains=function(a){return a instanceof oc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};oc.prototype.yb=function(){return new mc(this.width,this.height)};var pc;function qc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function rc(a){var b=qc(a),c=$a(arguments,1),d;d=b;for(var f=0,g=0;g<c.length;g++)Ua(d,c[g])||(d.push(c[g]),f++);d=f==c.length;a.className=b.join(" ");return d}function sc(a){var b=qc(a),c=$a(arguments,1),d;d=b;for(var f=0,g=0;g<d.length;g++)Ua(c,d[g])&&(Za(d,g--,1),f++);d=f==c.length;a.className=b.join(" ");return d};var tc=!J||M("9");!K&&!J||J&&M("9")||K&&M("1.9.1");var uc=J&&!M("9");function vc(a){return a?new wc(O(a)):pc||(pc=new wc)}function xc(a){return z(a)?document.getElementById(a):a}
function yc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!L||zc(document)||M("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&Ua(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function Ac(a,b){ta(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in Bc?a.setAttribute(Bc[d],b):a[d]=b})}var Bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Cc(){return Dc(document,arguments)}
function Dc(a,b){var c=b[0],d=b[1];if(!tc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ga(d.name),'"');if(d.type){c.push(' type="',Ga(d.type),'"');var f={};Ba(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)z(d)?c.className=d:y(d)?rc.apply(m,[c].concat(d)):Ac(c,d);b.length>2&&Ec(a,c,b,2);return c}
function Ec(a,b,c,d){function f(c){c&&b.appendChild(z(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ga(g)&&!(ja(g)&&g.nodeType>0)?H(Fc(g)?Xa(g):g,f):f(g)}}function zc(a){return a.compatMode=="CSS1Compat"}function Gc(a){Ec(O(a),a,arguments,1)}function Hc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ic(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function Jc(a){if(a.firstElementChild!=i)return a.firstElementChild;for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function Kc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function O(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Lc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Hc(a),a.appendChild(O(a).createTextNode(b))}var Mc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Nc={IMG:" ",BR:"\n"};function Oc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified)return a=a.tabIndex,ha(a)&&a>=0;return!1}function Pc(a){var b=[];Qc(a,b,!1);return b.join("")}
function Qc(a,b,c){if(!(a.nodeName in Mc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Nc)b.push(Nc[a.nodeName]);else for(a=a.firstChild;a;)Qc(a,b,c),a=a.nextSibling}function Fc(a){if(a&&typeof a.length=="number")if(ja(a))return typeof a.item=="function"||typeof a.item=="string";else if(ia(a))return typeof a.item=="function";return!1}function wc(a){this.z=a||t.document||document}s=wc.prototype;s.W=vc;
function Rc(a){return a.z}s.d=function(a){return z(a)?this.z.getElementById(a):a};s.o=function(){return Dc(this.z,arguments)};s.createElement=function(a){return this.z.createElement(a)};s.createTextNode=function(a){return this.z.createTextNode(a)};function Sc(a){var b=a.z,a=!L&&zc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new N(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=Gc;s.Jh=Hc;s.removeNode=Ic;s.Sg=Jc;
s.contains=Kc;function Tc(a,b){var c=O(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m)))return c[b]||c.getPropertyValue(b);return""}function Uc(a,b){return Tc(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function Vc(a,b,c){var d,f=K&&(Rb||bc)&&M("1.9");b instanceof N?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Wc(d,f);a.style.top=Wc(b,f)}
function Xc(a){var a=a?a.nodeType==9?a:O(a):document,b;if(b=J)if(b=!M(9))b=vc(a),b=!zc(b.z);if(b)return a.body;return a.documentElement}function Yc(a){var b=a.getBoundingClientRect();if(J)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Zc(a){if(J)return a.offsetParent;for(var b=O(a),c=Uc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Uc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}
function $c(a){for(var b=new lc(0,Infinity,Infinity,0),c=vc(a),d=c.z.body,f=!L&&zc(c.z)?c.z.documentElement:c.z.body,g;a=Zc(a);)if((!J||a.clientWidth!=0)&&(!L||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Uc(a,"overflow")!="visible"){var h=ad(a),j;j=a;if(K&&!M("1.9")){var k=parseFloat(Tc(j,"borderLeftWidth"));if(bd(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(Tc(j,"borderRightWidth"));k+=l}j=new N(k,parseFloat(Tc(j,"borderTopWidth")))}else j=new N(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;L?(b.left+=d,b.top+=f):(b.left=Math.max(b.left,d),b.top=Math.max(b.top,f));if(!g||L)b.right+=d,b.bottom+=f;c=c.z.parentWindow||c.z.defaultView||window;g=c.document;L&&!M("500")&&!Zb?(typeof c.innerHeight=="undefined"&&(c=window),g=c.innerHeight,a=c.document.documentElement.scrollHeight,
c==c.top&&a<g&&(g-=15),c=new mc(c.innerWidth,g)):(c=zc(g)?g.documentElement:g.body,c=new mc(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function ad(a){var b,c=O(a),d=Uc(a,"position"),f=K&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new N(0,0),h=Xc(c);if(a==h)return g;if(a.getBoundingClientRect)b=Yc(a),a=Sc(vc(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(L&&
Uc(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Yb||L&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Zc(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Yb||b.tagName!="TR")g.y-=b.scrollTop}return g}
function cd(a){var b=new N;if(a.nodeType==1)if(a.getBoundingClientRect)a=Yc(a),b.x=a.left,b.y=a.top;else{var c=Sc(vc(a)),a=ad(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ia(a.Ki),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.ra.targetTouches&&(d=a.ra.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function dd(a,b,c){var d=ad(a);if(b instanceof N)c=b.y,b=b.x;Vc(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function ed(a,b,c){b instanceof mc?(c=b.height,b=b.width):c==i&&e(Error("missing height argument"));a.style.width=Wc(b,!0);a.style.height=Wc(c,!0)}function Wc(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function fd(a){if(Uc(a,"display")!="none")return new mc(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g=a.offsetWidth,a=a.offsetHeight;b.display=c;b.position=f;b.visibility=d;return new mc(g,a)}function gd(a){var b=ad(a),a=fd(a);return new oc(b.x,b.y,a.width,a.height)}function hd(a,b){a.style.display=b?"":"none"}function bd(a){return"rtl"==Uc(a,"direction")}
var id=K?"MozUserSelect":L?"WebkitUserSelect":m;function jd(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(id){if(b=b?"none":"",a.style[id]=b,c)for(var a=0,d;d=c[a];a++)d.style[id]=b}else if(J||Yb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var kd={thin:2,medium:4,thick:6};
function ld(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:m)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;if(c in kd)return kd[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};var md;var nd=!J||M("9"),od=J&&!M("8");function P(a,b){F.call(this);this.type=a;this.currentTarget=this.target=b}D(P,F);s=P.prototype;s.g=function(){delete this.type;delete this.target;delete this.currentTarget};s.Ac=!1;s.Ud=!0;s.stopPropagation=function(){this.Ac=!0};s.preventDefault=function(){this.Ud=!1};function pd(a){a.preventDefault()};var qd=new Function("a","return a");function rd(a,b){a&&this.Vb(a,b)}D(rd,P);var sd=[1,4,2];s=rd.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=!1;s.altKey=!1;s.shiftKey=!1;s.metaKey=!1;s.Lj=!1;s.ra=m;
s.Vb=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(K){var f;a:{try{qd(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=m)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Lj=Rb?a.metaKey:a.ctrlKey;this.state=a.state;this.ra=a;delete this.Ud;delete this.Ac};function td(a,b){return nd?a.ra.button==b:a.type=="click"?b==0:!!(a.ra.button&sd[b])}function ud(a){return td(a,0)&&!(L&&Rb&&a.ctrlKey)}
s.stopPropagation=function(){rd.b.stopPropagation.call(this);this.ra.stopPropagation?this.ra.stopPropagation():this.ra.cancelBubble=!0};s.preventDefault=function(){rd.b.preventDefault.call(this);var a=this.ra;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,od)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};s.Ki=n("ra");s.g=function(){rd.b.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.ra=m};function vd(){}var wd=0;s=vd.prototype;s.key=0;s.jd=!1;s.Eg=!1;s.Vb=function(a,b,c,d,f,g){ia(a)?this.jh=!0:a&&a.handleEvent&&ia(a.handleEvent)?this.jh=!1:e(Error("Invalid listener argument"));this.Zc=a;this.Hh=b;this.src=c;this.type=d;this.capture=!!f;this.Ce=g;this.Eg=!1;this.key=++wd;this.jd=!1};s.handleEvent=function(a){if(this.jh)return this.Zc.call(this.Ce||this.src,a);return this.Zc.handleEvent.call(this.Zc,a)};var xd,yd=(xd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";function zd(a,b){F.call(this);this.uh=b;this.oc=[];a>this.uh&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.oc.push(this.ub?this.ub():{})}D(zd,F);zd.prototype.ub=m;zd.prototype.Lg=m;zd.prototype.getObject=function(){if(this.oc.length)return this.oc.pop();return this.ub?this.ub():{}};function Ad(a,b){a.oc.length<a.uh?a.oc.push(b):Bd(a,b)}function Bd(a,b){if(a.Lg)a.Lg(b);else if(ja(b))if(ia(b.m))b.m();else for(var c in b)delete b[c]}
zd.prototype.g=function(){zd.b.g.call(this);for(var a=this.oc;a.length;)Bd(this,a.pop());delete this.oc};var Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md;
(function(){function a(){return{u:0,Va:0}}function b(){return[]}function c(){function a(b){return h.call(a.src,a.key,b)}return a}function d(){return new vd}function f(){return new rd}var g=xd&&!(Na(yd,"5.7")>=0),h;Hd=function(a){h=a};if(g){Cd=function(){return j.getObject()};Dd=function(a){Ad(j,a)};Ed=function(){return k.getObject()};Fd=function(a){Ad(k,a)};Gd=function(){return l.getObject()};Id=function(){Ad(l,c())};Jd=function(){return o.getObject()};Kd=function(a){Ad(o,a)};Ld=function(){return p.getObject()};
Md=function(a){Ad(p,a)};var j=new zd(0,600);j.ub=a;var k=new zd(0,600);k.ub=b;var l=new zd(0,600);l.ub=c;var o=new zd(0,600);o.ub=d;var p=new zd(0,600);p.ub=f}else Cd=a,Dd=u,Ed=b,Fd=u,Gd=c,Id=u,Jd=d,Kd=u,Ld=f,Md=u})();var Nd={},Q={},Od={},Pd={};
function R(a,b,c,d,f){if(b)if(y(b)){for(var g=0;g<b.length;g++)R(a,b[g],c,d,f);return m}else{var d=!!d,h=Q;b in h||(h[b]=Cd());h=h[b];d in h||(h[d]=Cd(),h.u++);var h=h[d],j=A(a),k;h.Va++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.Zc==c&&h.Ce==f){if(h.jd)break;return k[g].key}}else k=h[j]=Ed(),h.u++;g=Gd();g.src=a;h=Jd();h.Vb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);Nd[c]=h;Od[j]||(Od[j]=Ed());Od[j].push(h);a.addEventListener?(a==t||!a.Jg)&&a.addEventListener(b,g,d):a.attachEvent(Qd(b),g);return c}else e(Error("Invalid event type"))}
function Rd(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)Rd(a,b[g],c,d,f);else if(d=!!d,a=Sd(a,b,d))for(g=0;g<a.length;g++)if(a[g].Zc==c&&a[g].capture==d&&a[g].Ce==f){S(a[g].key);break}}function S(a){if(Nd[a]){var b=Nd[a];if(!b.jd){var c=b.src,d=b.type,f=b.Hh,g=b.capture;c.removeEventListener?(c==t||!c.Jg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(Qd(d),f);c=A(c);f=Q[d][g][c];if(Od[c]){var h=Od[c];Va(h,b);h.length==0&&delete Od[c]}b.jd=!0;f.yh=!0;Td(d,g,c,f);delete Nd[a]}}}
function Td(a,b,c,d){if(!d.Je&&d.yh){for(var f=0,g=0;f<d.length;f++)if(d[f].jd){var h=d[f].Hh;h.src=m;Id(h);Kd(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.yh=!1;g==0&&(Fd(d),delete Q[a][b][c],Q[a][b].u--,Q[a][b].u==0&&(Dd(Q[a][b]),delete Q[a][b],Q[a].u--),Q[a].u==0&&(Dd(Q[a]),delete Q[a]))}}
function Ud(a){var b,c=0,d=b==m;b=!!b;if(a==m)ta(Od,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}});else if(a=A(a),Od[a])for(var a=Od[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}}function Sd(a,b,c){var d=Q;if(b in d&&(d=d[b],c in d&&(d=d[c],a=A(a),d[a])))return d[a];return m}function Qd(a){if(a in Pd)return Pd[a];return Pd[a]="on"+a}
function Vd(a,b,c,d,f){var g=1,b=A(b);if(a[b]){a.Va--;a=a[b];a.Je?a.Je++:a.Je=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.jd&&(g&=Wd(k,f)!==!1)}}finally{a.Je--,Td(c,d,b,a)}}return Boolean(g)}function Wd(a,b){var c=a.handleEvent(b);a.Eg&&S(a.key);return c}
Hd(function(a,b){if(!Nd[a])return!0;var c=Nd[a],d=c.type,f=Q;if(!(d in f))return!0;var f=f[d],g,h;md===i&&(md=J&&!t.addEventListener);if(md){g=b||da("window.event");var j=!0 in f,k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(o){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=Ld();l.Vb(g,this);g=!0;try{if(j){for(var p=Ed(),q=l.currentTarget;q;q=q.parentNode)p.push(q);h=f[!0];h.Va=h.u;for(var v=p.length-1;!l.Ac&&v>=0&&h.Va;v--)l.currentTarget=
p[v],g&=Vd(h,p[v],d,!0,l);if(k){h=f[!1];h.Va=h.u;for(v=0;!l.Ac&&v<p.length&&h.Va;v++)l.currentTarget=p[v],g&=Vd(h,p[v],d,!1,l)}}else g=Wd(c,l)}finally{if(p)p.length=0,Fd(p);l.m();Md(l)}return g}d=new rd(b,this);try{g=Wd(c,d)}finally{d.m()}return g});function Xd(a){F.call(this);this.bh=a}D(Xd,F);var Yd=new zd(0,100),Zd=[];Xd.prototype.i=function(a,b,c,d,f){y(b)||(Zd[0]=b,b=Zd);for(var g=0;g<b.length;g++){var h=R(a,b[g],c||this,d||!1,f||this.bh||this);this.v?this.v[h]=!0:this.Zb?(this.v=Yd.getObject(),this.v[this.Zb]=!0,this.Zb=m,this.v[h]=!0):this.Zb=h}return this};
Xd.prototype.aa=function(a,b,c,d,f){if(this.Zb||this.v)if(y(b))for(var g=0;g<b.length;g++)this.aa(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.bh||this;d=!!d;if(a=Sd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Zc==c&&a[b].capture==d&&a[b].Ce==f){a=a[b];break a}a=m}if(a)if(a=a.key,S(a),this.v)ya(this.v,a);else if(this.Zb==a)this.Zb=m}return this};function $d(a){if(a.v){for(var b in a.v)S(b),delete a.v[b];Ad(Yd,a.v);a.v=m}else a.Zb&&S(a.Zb)}Xd.prototype.g=function(){Xd.b.g.call(this);$d(this)};
Xd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function ae(){}ea(ae);ae.prototype.yj=0;function be(a){return":"+(a.yj++).toString(36)}ae.ya();function T(){F.call(this)}D(T,F);s=T.prototype;s.Jg=!0;s.Te=m;s.kg=ba("Te");s.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Rd(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(z(a))a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var d=a,a=new P(b,this);Ba(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.Te)f.push(g);g=c[!0];g.Va=g.u;for(var h=f.length-1;!a.Ac&&h>=0&&g.Va;h--)a.currentTarget=f[h],d&=Vd(g,f[h],a.type,!0,a)&&a.Ud!=!1}if(!1 in c)if(g=c[!1],g.Va=g.u,b)for(h=0;!a.Ac&&h<f.length&&g.Va;h++)a.currentTarget=f[h],d&=Vd(g,f[h],a.type,!1,a)&&a.Ud!=!1;else for(f=this;!a.Ac&&
f&&g.Va;f=f.Te)a.currentTarget=f,d&=Vd(g,f,a.type,!1,a)&&a.Ud!=!1;a=Boolean(d)}else a=!0;return a};s.g=function(){T.b.g.call(this);Ud(this);this.Te=m};function ce(a){F.call(this);this.S=a||vc();this.Vd=de}D(ce,T);ce.prototype.Zi=ae.ya();var de=m;function ee(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}s=ce.prototype;s.Ra=m;s.G=!1;s.e=m;s.Vd=m;s.$f=m;s.M=m;s.R=m;s.Na=m;s.hi=!1;
function fe(a){return a.Ra||(a.Ra=be(a.Zi))}function ge(a,b){a.M&&a.M.Na&&(ya(a.M.Na,a.Ra),za(a.M.Na,b,a));a.Ra=b}s.d=n("e");s.sa=function(){return this.Vc||(this.Vc=new Xd(this))};function he(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.M&&a.Ra&&ie(a.M,a.Ra)&&a.M!=b&&e(Error("Unable to set parent component"));a.M=b;ce.b.kg.call(a,b)}s.getParent=n("M");s.kg=function(a){this.M&&this.M!=a&&e(Error("Method not supported"));ce.b.kg.call(this,a)};s.W=n("S");s.o=function(){this.e=this.S.createElement("div")};
s.Fb=function(a){je(this,a)};function je(a,b,c){a.G&&e(Error("Component already rendered"));a.e||a.o();b?b.insertBefore(a.e,c||m):a.S.z.body.appendChild(a.e);(!a.M||a.M.G)&&a.ca()}s.fa=function(a){if(this.G)e(Error("Component already rendered"));else if(a&&this.Ma(a)){this.hi=!0;if(!this.S||this.S.z!=O(a))this.S=vc(a);this.cb(a);this.ca()}else e(Error("Invalid element to decorate"))};s.Ma=r(!0);s.cb=ba("e");s.ca=function(){this.G=!0;ke(this,function(a){!a.G&&a.d()&&a.ca()})};
s.fb=function(){ke(this,function(a){a.G&&a.fb()});this.Vc&&$d(this.Vc);this.G=!1};s.g=function(){ce.b.g.call(this);this.G&&this.fb();this.Vc&&(this.Vc.m(),delete this.Vc);ke(this,function(a){a.m()});!this.hi&&this.e&&Ic(this.e);this.M=this.$f=this.e=this.Na=this.R=m};s.ud=function(a,b){this.vd(a,le(this),b)};
s.vd=function(a,b,c){a.G&&(c||!this.G)&&e(Error("Component already rendered"));(b<0||b>le(this))&&e(Error("Child component index out of bounds"));if(!this.Na||!this.R)this.Na={},this.R=[];a.getParent()==this?(this.Na[fe(a)]=a,Va(this.R,a)):za(this.Na,fe(a),a);he(a,this);Za(this.R,b,0,a);a.G&&this.G&&a.getParent()==this?(c=this.V(),c.insertBefore(a.d(),c.childNodes[b]||m)):c?(this.e||this.o(),b=me(this,b+1),je(a,this.V(),b?b.e:m)):this.G&&!a.G&&a.e&&a.ca()};s.V=n("e");
function ne(a){if(a.Vd==m)a.Vd=bd(a.G?a.e:a.S.z.body);return a.Vd}s.nd=function(a){this.G&&e(Error("Component already rendered"));this.Vd=a};function le(a){return a.R?a.R.length:0}function ie(a,b){var c;a.Na&&b?(c=a.Na,c=b in c?c[b]:i,c=c||m):c=m;return c}function me(a,b){return a.R?a.R[b]||m:m}function ke(a,b,c){a.R&&H(a.R,b,c)}function oe(a,b){return a.R&&b?Pa(a.R,b):-1}
s.removeChild=function(a,b){if(a){var c=z(a)?a:fe(a),a=ie(this,c);c&&a&&(ya(this.Na,c),Va(this.R,a),b&&(a.fb(),a.e&&Ic(a.e)),he(a,m))}a||e(Error("Child is not in parent component"));return a};s.Jh=function(a){for(;this.R&&this.R.length!=0;)this.removeChild(me(this,0),a)};function pe(a,b){F.call(this);this.Hd=a||1;this.ce=b||qe;this.mf=B(this.qg,this);this.Wf=C()}D(pe,T);pe.prototype.enabled=!1;var qe=t.window;s=pe.prototype;s.s=m;s.setInterval=function(a){this.Hd=a;this.s&&this.enabled?(this.stop(),this.start()):this.s&&this.stop()};s.qg=function(){if(this.enabled){var a=C()-this.Wf;if(a>0&&a<this.Hd*0.8)this.s=this.ce.setTimeout(this.mf,this.Hd-a);else if(this.dispatchEvent(re),this.enabled)this.s=this.ce.setTimeout(this.mf,this.Hd),this.Wf=C()}};
s.start=function(){this.enabled=!0;if(!this.s)this.s=this.ce.setTimeout(this.mf,this.Hd),this.Wf=C()};s.stop=function(){this.enabled=!1;if(this.s)this.ce.clearTimeout(this.s),this.s=m};s.g=function(){pe.b.g.call(this);this.stop();delete this.ce};var re="tick";function se(a,b,c,d){F.call(this);(!y(a)||!y(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.od=a;this.Gi=b;this.duration=c;this.yg=d;this.coords=[]}D(se,T);var xa={},te=m;function ue(){qe.clearTimeout(te);var a=C(),b;for(b in xa)ve(xa[b],a);te=wa()?m:qe.setTimeout(ue,20)}function we(a){a=A(a);delete xa[a];te&&wa()&&(qe.clearTimeout(te),te=m)}s=se.prototype;s.B=0;s.Rg=0;s.Ia=0;s.startTime=m;s.Ng=m;s.Uf=m;
s.play=function(a){if(a||this.B==0)this.Ia=0,this.coords=this.od;else if(this.B==1)return!1;we(this);this.startTime=C();this.B==-1&&(this.startTime-=this.duration*this.Ia);this.Ng=this.startTime+this.duration;this.Uf=this.startTime;this.Ia||this.Eb();xe(this,"play");this.B==-1&&xe(this,"resume");this.B=1;a=A(this);a in xa||(xa[a]=this);te||(te=qe.setTimeout(ue,20));ve(this,this.startTime);return!0};s.stop=function(a){we(this);this.B=0;if(a)this.Ia=1;ye(this,this.Ia);xe(this,"stop");this.dd()};
s.g=function(){this.B!=0&&this.stop(!1);xe(this,"destroy");se.b.g.call(this)};function ve(a,b){a.Ia=(b-a.startTime)/(a.Ng-a.startTime);if(a.Ia>=1)a.Ia=1;a.Rg=1E3/(b-a.Uf);a.Uf=b;ye(a,a.Ia);a.Ia==1?(a.B=0,we(a),xe(a,"finish"),a.dd()):a.B==1&&a.dg()}function ye(a,b){ia(a.yg)&&(b=a.yg(b));a.coords=Array(a.od.length);for(var c=0;c<a.od.length;c++)a.coords[c]=(a.Gi[c]-a.od[c])*b+a.od[c]}s.dg=function(){xe(this,"animate")};s.Eb=function(){xe(this,"begin")};s.dd=function(){xe(this,"end")};
function xe(a,b){a.dispatchEvent(new ze(b,a))}function ze(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.H=b.coords[2];this.duration=b.duration;this.Ia=b.Ia;this.tf=b.Rg;this.state=b.B;this.lk=b}D(ze,P);function Ae(a,b){this.x=a;this.y=b}D(Ae,N);s=Ae.prototype;s.ba=function(){return new Ae(this.x,this.y)};s.Ke=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};s.scale=function(a){this.x*=a;this.y*=a;return this};s.ih=function(){this.x=-this.x;this.y=-this.y;return this};s.normalize=function(){return this.scale(1/this.Ke())};s.add=function(a){this.x+=a.x;this.y+=a.y;return this};s.af=function(a){this.x-=a.x;this.y-=a.y;return this};
s.ue=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function Be(a){this.f=a;this.kb=this.Sa=0;this.hc=1E7;this.Aa=m;this.Nh=this.Ic=this.Xc=0;this.T=!0}D(Be,T);Be.prototype.Ib=function(a,b){this.Sa=Hb(a,-1.57,1.57);this.kb=Kb(b);this.T?(this.Aa=m,this.dispatchEvent(new Ce(De))):(this.hc=m,this.dispatchEvent(new Ce(Ee)))};function Fe(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.Nh);b/=Math.max(Math.abs(Math.cos(a.Ic)),0.1);d(a.Xc);a.Ib(a.Sa+b,a.kb+c)}Be.prototype.Ug=function(){return[this.Sa,this.kb]};
function Ge(a,b){a.hc=Hb(b,200,1E7);a.T?a.Aa=m:He(a);a.dispatchEvent(new Ce(Ee));a.dispatchEvent(new Ce(De))}function Ie(a){x(a.hc)&&Je(a);return a.hc}function Ke(a,b){a.Aa=Hb(b,Le(a.f),a.f.pa.ka.Sb());a.T?Je(a):a.hc=m;a.dispatchEvent(new Ce(De));a.dispatchEvent(new Ce(Ee))}function U(a){x(a.Aa)&&He(a);return a.Aa}Be.prototype.Ae=function(){return Me(this.f,this.f.a.$a/2,this.f.a.Za/2,!0)};
function He(a){a.Aa=Hb(Math.log(Math.cos(Math.abs(a.Sa))*2*Math.PI/(2*(a.hc/Ne)*Math.tan(a.f.a.ve/2)/a.f.be))/Math.LN2,Le(a.f),a.f.pa.ka.Sb())}function Je(a){a.hc=1/Math.tan(a.f.a.ve/2)*(Math.cos(Math.abs(a.Sa))*2*Math.PI/Math.pow(2,a.Aa)*a.f.be/2)*Ne}var De="zoomchanged",Ee="altchanged";function Ce(a){P.call(this,a)}D(Ce,P);function Oe(a,b,c,d,f){function g(a,b,c,d){return a?b:Math.max(1,Math.pow(2,Math.ceil(Math.log(b/Math.max(1,Math.sqrt(c*c+d*d)))/Math.LN2)))}a=a.Y;this.Ya=[];this.Oc=[];this.t=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j);Pe(this,h,j,k,[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k])}this.rb=a.createBuffer();this.ae=a.createBuffer();this.Ab=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.rb);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.Ya),a.STATIC_DRAW);this.rb.Xb=2;a.bindBuffer(a.ARRAY_BUFFER,this.ae);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.Oc),a.STATIC_DRAW);this.ae.Xb=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ab);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.t),a.STATIC_DRAW);this.Ah=this.t.length}
function Pe(a,b,c,d,f){for(var g=a.Ya.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.Ya.push(b+j/d,c+h/d),a.Oc.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.Ya.length/2;for(j=0;j<d;++j)a.Ya.push(b+(j+0.5)/d,c+1),a.Oc.push((j+0.5)/d,0)}if(f[1]){k[1]=a.Ya.length/2;for(h=0;h<d;++h)a.Ya.push(b+1,c+(h+0.5)/d),a.Oc.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.Ya.length/2;for(j=0;j<d;++j)a.Ya.push(b+(j+0.5)/d,c),a.Oc.push((j+0.5)/d,1)}if(f[3]){k[3]=a.Ya.length/2;for(h=0;h<d;++h)a.Ya.push(b,c+(h+0.5)/d),a.Oc.push(0,
1-(h+0.5)/d)}b=B(aa(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.t.push(l);var o=h==0&&f[2],p=j==0&&f[3];o&&!p?(a.t.push(k[2]+j),a.t.push(l+c),b(),a.t.push(k[2]+j)):p&&!o?(a.t.push(l+1),a.t.push(k[3]+h),b(),a.t.push(k[3]+h)):p&&o&&(a.t.push(k[2]+j),a.t.push(k[3]+h),b(),a.t.push(k[3]+h),a.t.push(k[2]+j),a.t.push(l+c),b(),a.t.push(k[2]+j));a.t.push(l+1);a.t.push(l+c);b();a.t.push(l+c+1);o=h==d-1&&f[0];p=j==d-1&&f[1];o&&!p?(a.t.push(k[0]+j),a.t.push(l+1),b(),a.t.push(k[0]+j)):p&&!o?(a.t.push(l+
c),a.t.push(k[1]+h),b(),a.t.push(k[1]+h)):o&&p&&(a.t.push(k[0]+j),a.t.push(k[1]+h),b(),a.t.push(k[1]+h),a.t.push(k[0]+j),a.t.push(l+1),b(),a.t.push(k[0]+j));a.t.push(l+c);a.t.push(l+1);b()}};function V(a,b){if(a instanceof V)this.A=a.Lc();else{var c;if(c=ga(a))a:{for(var d=c=0;d<a.length;d++){if(!ga(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!ha(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.A=Xa(a):a instanceof mc?this.A=Qe(a.height,a.width):ha(a)&&ha(b)&&a>0&&b>0?this.A=Qe(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new mc(this.A[0].length,this.A.length)}
function Re(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new V(b)}function Se(a,b,c){for(var d=0;d<a.yb().height;d++)for(var f=0;f<a.yb().width;f++)b.call(c,a.A[d][f],d,f,a)}function Te(a,b){var c=new V(a.yb());Se(a,function(d,f,g){c.A[f][g]=b.call(i,d,f,g,a)});return c}function Qe(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}s=V.prototype;
s.add=function(a){nc(this.l,a.yb())||e(Error("Matrix summation is only supported on arrays of equal size"));return Te(this,function(b,c,d){return b+a.A[c][d]})};function Ue(a,b){a.l.height!=b.yb().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new V(a.l.height,a.l.width+b.l.width);Se(a,function(a,b,g){c.A[b][g]=a});Se(b,function(a,b,g){c.A[b][this.l.width+g]=a},a);return c}
s.ue=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.A[d][f]-a.A[d][f])<=(c||1.0E-6)))return!1;return!0};
function Ve(a){a.l.width!=a.l.height&&e(Error("An inverse can only be taken on a square matrix."));var b=Re(a.l.height);a:{for(var a=Ue(a,b),c=new V(a),d=0,f=0;f<c.l.height;f++){if(d>=c.l.width)break;for(var g=f;c.A[g][d]==0;)if(g++,g==c.l.height&&(g=f,d++,d==c.l.width)){a=c;break a}var h=a,j=f,k=h.A[g];h.A[g]=h.A[j];h.A[j]=k;g=c.A[f][d];for(h=d;h<c.l.width;h++)c.A[f][h]/=g;for(g=0;g<c.l.height;g++)if(g!=f){j=c.A[g][d];for(h=d;h<c.l.width;h++)c.A[g][h]-=j*c.A[f][h]}d++}a=c}if(!We(a,0,b.l.width-1,
b.l.height-1).ue(b))return m;return We(a,b.l.width)}s.yb=n("l");function Xe(a){var b=new V(a.l.width,a.l.height);Se(a,function(a,d,f){b.A[f][d]=a});return b}function W(a,b,c){if(!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width))return m;return a.A[b][c]}function Ye(a,b,c,d){b>=0&&b<a.l.height&&c>=0&&c<a.l.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.l.height+","+a.l.width+")"));a.A[b][c]=d}
s.multiply=function(a){if(a instanceof V)return this.l.width!=a.yb().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Ze(this,a);else if(ha(a))return $e(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};s.af=function(a){nc(this.l,a.yb())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return Te(this,function(b,c,d){return b-a.A[c][d]})};s.Lc=n("A");
function We(a,b,c,d){var f=new V((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);Se(f,function(a,c,d){f.A[c][d]=this.A[0+c][b+d]},a);return f}function Ze(a,b){var c=new V(a.l.height,b.yb().width);Se(c,function(a,f,g){for(var h=a=0;h<this.l.width;h++)a+=W(this,f,h)*W(b,h,g);Ye(c,f,g,a)},a);return c}function $e(a,b){return Te(a,function(a){return a*b})};function af(){this.na=Re(4)}af.prototype.translate=function(a,b,c){this.na=this.na.multiply(new V([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};af.prototype.scale=function(a,b,c){this.na=this.na.multiply(new V([[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]]))};function bf(a,b){var c=Math.cos(b),d=Math.sin(b);a.na=a.na.multiply(new V([[c,0,d,0],[0,1,0,0],[-d,0,c,0],[0,0,0,1]]))}function cf(a,b){var c=Math.cos(b),d=Math.sin(b);a.na=a.na.multiply(new V([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function df(a,b){var c=Math.cos(b),d=Math.sin(b);a.na=a.na.multiply(new V([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))}function ef(a){for(var b=new V(new mc(3,3)),c=0;c<3;c++)for(var d=0;d<3;++d)Ye(b,c,d,W(a.na,c,d));return Ve(b)};function ff(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=m)return c}catch(d){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;x(f)&&h<g.length;++h)f=f||d(a,g[h]);x(f)&&(w(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.uf=b||m;this.Y=f;this.$a=a.width;this.Za=a.height;f.viewport(0,0,this.$a,this.Za);this.le=this.ve=0;this.ke=1;this.oe=
this.$a/this.Za;this.hd=Re(4);this.mb=new af;this.Oe=this.Ne=this.hd;this.vf=this.we=this.Tf=this.Cg=this.tf=0;R(t,"resize",this.Ue,!1,this)}function gf(a){a.ve=I(50);a.le=1.0E-4;a.ke=2;a.oe=a.$a/a.Za;hf(a)}function hf(a){var b=1/Math.tan(a.ve/2);a.hd=new V([[b/a.oe,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);jf(a)}function jf(a){var b=a.le-a.ke;Ye(a.hd,2,2,(a.ke+a.le)/b);Ye(a.hd,2,3,2*a.ke*a.le/b)}
ff.prototype.Ue=function(){this.$a=this.canvas.width=this.canvas.clientWidth;this.Za=this.canvas.height=this.canvas.clientHeight;this.Y.viewport(0,0,this.$a,this.Za);this.oe=this.$a/this.Za;hf(this);kf(this.h)};ff.prototype.h=m;function lf(a){a.Ne=a.hd.multiply(a.mb.na);a.Oe=Ve(a.Ne);return a.Ne};function mf(a,b,c){c=a.Y.createShader(c);a.Y.shaderSource(c,b);a.Y.compileShader(c);a.Y.getShaderParameter(c,a.Y.COMPILE_STATUS)?x(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.Y.getShaderInfoLog(c)));return c};function nf(a,b,c){b=b.Y;this.I=a;this.je=b.getAttribLocation(this.I,"aVertexPosition");b.enableVertexAttribArray(this.je);this.Zh=b.getAttribLocation(this.I,"aTextureCoord");b.enableVertexAttribArray(this.Zh);this.bg=X(b,this.I,"uMVPMatrix");this.kj=X(b,this.I,"uMetaL0");this.mj=X(b,this.I,"uMetaL1");this.nj=X(b,this.I,"uMetaL2");this.ej=X(b,this.I,"uOffL");this.si=X(b,this.I,"uBufferL0");this.ui=X(b,this.I,"uBufferL1");this.vi=X(b,this.I,"uBufferL2");this.xi=X(b,this.I,"uBufferLn");if(c)this.Ei=
X(b,this.I,"uDegradationT"),this.jj=X(b,this.I,"uMetaL0T"),this.lj=X(b,this.I,"uMetaL1T"),this.dj=X(b,this.I,"uOffLT"),this.ri=X(b,this.I,"uBufferL0T"),this.ti=X(b,this.I,"uBufferL1T"),this.wi=X(b,this.I,"uBufferLnT");this.ak=X(b,this.I,"uTileCount");this.Aj=X(b,this.I,"uOffset")}function X(a,b,c){a=a.getUniformLocation(b,c);x(a)&&e(Error("Invalid name "+c));return a};function of(a){this.ab=xd?[]:"";a!=m&&this.append.apply(this,arguments)}of.prototype.set=function(a){this.clear();this.append(a)};xd?(of.prototype.nf=0,of.prototype.append=function(a,b){b==m?this.ab[this.nf++]=a:(this.ab.push.apply(this.ab,arguments),this.nf=this.ab.length);return this}):of.prototype.append=function(a,b){this.ab+=a;if(b!=m)for(var c=1;c<arguments.length;c++)this.ab+=arguments[c];return this};of.prototype.clear=function(){xd?this.nf=this.ab.length=0:this.ab=""};
of.prototype.toString=function(){if(xd){var a=this.ab.join("");this.clear();a&&this.append(a);return a}else return this.ab};function pf(a){this.name=a||"OpenStreetMaps"}D(pf,Fb);pf.prototype.Sb=r(18);pf.prototype.rc=r(256);pf.prototype.Uc=function(a,b,c){var d=["a","b","c"];return(new of("http://",d[Gb(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};pf.prototype.ne=function(a){Gc(a,"\u00a9 ",Cc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function qf(){pf.call(this,"MapQuest OSM")}D(qf,pf);qf.prototype.Uc=function(a,b,c){return(new of("http://otile",1+Gb(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};qf.prototype.ne=function(a){Gc(a,"Map data \u00a9 ",Cc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",Cc("br"));Gc(a,"Tiles Courtesy of ",Cc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",Cc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};var rf={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0;uniform sampler2D uBufferL1;uniform sampler2D uBufferL2;uniform sampler2D uBufferLn;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLn,vTCA);}else{discard;}}",
"earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0[BUFF_SIZE];uniform float uMetaL1[BUFF_SIZE];uniform float uMetaL2[BUFF_SIZE];uniform vec2 uOffL[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);float rawElev=0.0;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).r;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).r;}else{rawElev=texture2D(uBufferLnT,TCT).r;}elev=rawElev*8248.0/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffL[0],uTileCount);if(validateOffset(off)&&uMetaL0[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffL[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffL[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffL[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}",
"model-fs.glsl":"precision highp float;varying vec3 vLightWeighting;void main(void){vec3 uColor=vec3(0.8,0.8,0.8);gl_FragColor=vec4(uColor*vLightWeighting,1.0);}","model-vs.glsl":"precision highp float;attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uMVPMatrix;uniform mat3 uNMatrix;varying vec3 vLightWeighting;void main(void){gl_Position=uMVPMatrix*vec4(aVertexPosition,1.0);vec3 transformedNormal=uNMatrix*aVertexNormal;vec3 uLightingDirection=vec3(uMVMatrix*vec4(1.0,1.0,1.0,1.0));vec3 uAmbientColor=vec3(0.2,0.2,0.2);vec3 uDirectionalColor=vec3(0.4,0.4,0.4);float directionalLightWeighting=max(dot(transformedNormal,uLightingDirection),0.0);vLightWeighting=uAmbientColor+uDirectionalColor*directionalLightWeighting;}"};function sf(a){return a in rf?rf[a]:Jb("../we/shaders/"+a)};function tf(a){this.ec=new jb;this.ac=[];this.Zj=512;this.Hg=new pe(2E4);R(this.Hg,re,this.zi,!1,this);this.Hg.start();uf(this,a)}function uf(a,b){a.ai=C();a.Hc=b;a.Hc.$h=B(a.bk,a);a.ec.clear();a.ac=[]}s=tf.prototype;s.Hc=m;s.ai=0;s.$j=u;s.zi=function(){var a=Qa(this.ec.Tb(),function(a){return a.state==20||a.state==sa||a.state==-10});for(ab(a,function(a,b){return a.Bc-b.Bc});this.ec.wf()>this.Zj&&a.length>0;){var b=a.shift();b.state==sa&&Va(this.ac,b);this.ec.remove(b.zoom+"_"+b.x+"_"+b.y);b.m()}};
s.bk=function(a){a.Bc<this.ai?(a.state=-10,this.ec.remove(a.zoom+"_"+a.x+"_"+a.y),a.m()):this.$j(a)};function vf(a){ab(a.ac,function(a,b){return a.Bc-b.Bc});for(var b=Math.min(a.ac.length,5-a.Hc.Nd),c=0;c<b;c++){var d=a.ac.pop();a.Hc.Xf(d)||a.ac.push(d)}};function wf(a,b,c,d){this.Da=b.Y;this.Ob=[];this.F=c;this.Hc=a;this.rg=new tf(a);this.Aa=d;this.Kb=1<<this.Aa;this.Kg=this.F>=this.Kb;this.cd=this.bd=0;this.buffer=m;this.va=[];xf(this)}function xf(a){a.va=[];for(var b=0;b<a.F;++b)a.va.push(Array(a.F))}wf.prototype.disable=function(){this.Ob=[];xf(this);this.buffer=m};
wf.prototype.Me=function(a,b){if(!this.Kg){var c=Ib(Math.round(a-this.F/2),this.Kb),d=Math.round(b-this.F/2),f=c-this.bd,g=d-this.cd;Math.abs(f)>this.Kb/2&&(f=(f-(f==0?0:f<0?-1:1)*this.Kb)%this.Kb);this.bd=c;this.cd=d;if(Math.abs(f)>=this.F||Math.abs(g)>=this.F)xf(this);else{if(f>0)for(c=0;c<this.F;++c)this.va[c].splice(0,f),this.va[c].push.apply(this.va[c],Array(f));if(f<0)for(c=0;c<this.F;++c)this.va[c].splice(this.F+f,-f),this.va[c].unshift.apply(this.va[c],Array(-f));if(g>0)for(c=0;c<g;++c)this.va.shift(),
this.va.push(Array(this.F));if(g<0)for(c=0;c<-g;++c)this.va.pop(),this.va.unshift(Array(this.F))}}yf(this)};wf.prototype.jc=function(a){this.Hc=a;uf(this.rg,a);this.Ob=[];xf(this)};
function yf(a){a.Ob=[];for(var b=B(function(a,b){var c=(this.Kg?this.Kb:this.F)/2;a+=c;b+=c;if(this.va[b][a]!==1){var j=this.bd+a,k=this.cd+b,j=Ib(j,this.Kb),k=Ib(k,this.Kb),c=this.rg,l=this.Aa,o=d,p=l+"_"+j+"_"+k,q=c.ec.get(p);q!=m?q.state==-10?o-q.Bc>7E3&&(q.m(),q=new ra(l,j,k,o),c.ec.set(p,q),c.ac.push(q)):q.Bc=o:(q=new ra(l,j,k,o),c.ec.set(p,q),c.ac.push(q));c=q;c.state==20&&this.Ob.push(c)}},a),c=B(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=C(),
a=Math.min(a.F,a.Kb)/2;a>0;--a)c(d+a,a)};function zf(a,b,c){var d;d=this.Da=a.Y,a=d;this.vg=b;this.Kf=c;this.qb=a.createTexture();Af(this)}zf.prototype.Ue=function(a,b){if(!(this.vg==a&&this.Kf==b))this.vg=a,this.Kf=b,this.Da.deleteTexture(this.qb),this.qb=this.Da.createTexture(),Af(this)};
function Af(a){var b=a.Da;b.bindTexture(b.TEXTURE_2D,a.qb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.vg,a.Kf,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,Bf?b.LINEAR_MIPMAP_LINEAR:b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,Bf?b.LINEAR_MIPMAP_LINEAR:b.LINEAR)};function Cf(a,b,c){function d(b,d){var k={x:b,y:d,Ga:new Image,Qg:0};k.Ga.onload=function(){f.isTexture(g)&&(f.bindTexture(f.TEXTURE_2D,g),f.texSubImage2D(f.TEXTURE_2D,0,k.x*j,(h-k.y-1)*j,f.RGBA,f.UNSIGNED_BYTE,k.Ga))};k.Ga.onerror=function(){if(f.isTexture(g))k.Qg++,k.Qg>=3||(k.Ga.src=a.Uc(c,b,d))};k.Ga.src=a.Uc(c,b,d)}var f=this.Da=b.Y,g=f.createTexture();this.qb=g;var h=1<<c,j=a.rc();f.bindTexture(f.TEXTURE_2D,g);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,1);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,j*h,j*h,
0,f.RGBA,f.UNSIGNED_BYTE,m);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR);for(b=0;b<h;++b)for(var k=0;k<h;++k)d(b,k)}D(Cf,F);Cf.prototype.g=function(){this.Da.deleteTexture(this.qb)};function Df(a,b,c,d,f,g){this.Ai=b;this.F=c;this.lb=f;this.gj=g;var h=a.rc();this.ic=[];for(var j=0;j<d;++j)this.ic.push(new zf(b,this.F*h,this.F*h));for(this.ia=[];f<=g;++f)this.ia.push(new wf(a,b,c,f));for(j=0;j<d;++j)this.ia[j].buffer=this.ic[j];this.sb=0;this.Ie=new Cf(a,b,2)}Df.prototype.jc=function(a){this.Ie.m();this.Ie=new Cf(a,this.Ai,2);var b=this.F*a.rc();H(this.ic,function(a){a.Ue(b,b)});H(this.ia,function(b){b.jc(a)})};
Df.prototype.Me=function(a,b,c){for(var c=Hb(c,this.lb,this.gj),d=c-(this.lb+this.sb+this.ic.length-1);d>0;){var f=this.ia[this.sb].buffer;this.ia[this.sb].disable();this.ia[++this.sb+this.ic.length-1].buffer=f;d--}for(;d<0&&this.sb>0;)f=this.ia[this.sb+this.ic.length-1].buffer,this.ia[this.sb+this.ic.length-1].disable(),this.ia[--this.sb].buffer=f,d++;var d=1<<c,g=1,b=(b/(2*Math.PI)+0.5)*d,a=(0.5-Math.log(Math.tan(a/2+Math.PI/4))/(Math.PI*2))*d;for(c-=this.lb;c>=this.sb;c--){this.ia[c].Me(b,a);b/=
2;a/=2;var d=g,f=this.ia[c],h=0;if(f.Ob.length>0)for(var g=Math.min(f.Ob.length,g>=0?1:0),j=0;j<g;j++){var k=f,l=f.Ob.pop();if(!x(k.buffer)&&l.zoom==k.Aa){var o=l.x-k.bd,p=l.y-k.cd,q=1<<k.Aa,o=Ib(o,q),p=Ib(p,q);if(!(o<0||o>=k.F||p<0||p>=k.F)){var q=k.Da,v=k.Hc.rc();q.bindTexture(q.TEXTURE_2D,k.buffer.qb);q.texSubImage2D(q.TEXTURE_2D,0,Ib(o+k.bd,k.F)*v,(k.F-Ib(p+k.cd,k.F)-1)*v,q.RGBA,q.UNSIGNED_BYTE,l.Ga);k.va[p][o]=1}}h++}vf(f.rg);Bf&&h>0&&(f.Da.bindTexture(f.Da.TEXTURE_2D,f.buffer.qb),f.Da.generateMipmap(f.Da.TEXTURE_2D));
g=d-h}};function Ff(a,b,c){if(b-c<a.lb)return Array(a.F*a.F);return cb(a.ia[b-a.lb-c].va)}function Gf(a,b,c){if(b-c<a.lb)return m;return a.ia[b-a.lb-c].buffer.qb}function Hf(a,b,c){for(var d=[],f=b-a.lb;f>b-a.lb-c;--f)d.push(Math.round(a.ia[Math.max(0,f)].bd),Math.round(a.ia[Math.max(0,f)].cd));return d};var Ne=6378137;
function If(a,b){this.a=a.a;this.h=a;var c=this.a.Y;this.ka=b||new qf;this.Ea=new Df(this.ka,this.a,8,3,1,19);this.qd=!1;this.jc(this.ka,!0);this.Gc=1;this.cg=[0,0];this.Oh=[new Oe(this.a,1,1,1),new Oe(this.a,4,4,16,!0),new Oe(this.a,6,6,8,!0),new Oe(this.a,8,8,8,!0),new Oe(this.a,10,10,8),new Oe(this.a,32,32,8)];var d=sf("earth-fs.glsl"),f=sf("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",this.Ea.F.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.qd?"1":"0");this.qd&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",this.Qb.F.toFixed(1)));
var d=mf(this.a,d,c.FRAGMENT_SHADER),f=mf(this.a,f,c.VERTEX_SHADER),g=c.createProgram();x(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.O=new nf(g,this.a,this.qd)}If.prototype.jc=function(a,b){this.ka=a;this.Ea.jc(this.ka);this.ka.Ig=B(this.h.ug,this);b!==!0&&(kf(this.h),this.h.ug(),Ke(this.h.c,U(this.h.c)))};
If.prototype.wb=function(){var a=this.a.Y;this.Gc=1<<U(this.h.c);var b=this.h.c.Ae();x(b)&&(b=this.h.c.Ug());this.cg[0]=Math.floor(b[1]/(2*Math.PI)*this.Gc);this.cg[1]=Hb(Math.floor(Math.log(Math.tan(b[0]/2+Math.PI/4))/(Math.PI*2)*this.Gc),-this.Gc/2,this.Gc/2);this.Ea.Me(b[0],b[1],Math.floor(U(this.h.c)));this.qd&&this.Qb.Me(b[0],b[1],Math.floor(U(this.h.c))-3);b=Math.floor(U(this.h.c));this.Gc=1<<b;df(this.a.mb,-this.h.c.Nh);cf(this.a.mb,-this.h.c.Ic);df(this.a.mb,-this.h.c.Xc);this.a.mb.translate(0,
0,-1-Ie(this.h.c)/Ne);cf(this.a.mb,this.h.c.Sa);bf(this.a.mb,-this.h.c.kb);a.useProgram(this.O.I);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,Gf(this.Ea,b,0));a.uniform1i(this.O.si,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Gf(this.Ea,b,1));a.uniform1i(this.O.ui,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Gf(this.Ea,b,2));a.uniform1i(this.O.vi,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Ea.Ie.qb);a.uniform1i(this.O.xi,3);a.uniform1fv(this.O.kj,
new Float32Array(Ff(this.Ea,b,0)));a.uniform1fv(this.O.mj,new Float32Array(Ff(this.Ea,b,1)));a.uniform1fv(this.O.nj,new Float32Array(Ff(this.Ea,b,2)));a.uniform2fv(this.O.ej,new Float32Array(Hf(this.Ea,b,3)));if(this.qd){var c=Hb(b-3,2,this.Yh.Sb());a.uniform1f(this.O.Ei,b-c);a.activeTexture(a.TEXTURE4);a.bindTexture(a.TEXTURE_2D,Gf(this.Qb,c,0));a.uniform1i(this.O.ri,4);a.activeTexture(a.TEXTURE5);a.bindTexture(a.TEXTURE_2D,Gf(this.Qb,c,1));a.uniform1i(this.O.ti,5);a.activeTexture(a.TEXTURE6);a.bindTexture(a.TEXTURE_2D,
this.Qb.Ie.qb);a.uniform1i(this.O.wi,6);a.uniform1fv(this.O.jj,new Float32Array(Ff(this.Qb,c,0)));a.uniform1fv(this.O.lj,new Float32Array(Ff(this.Qb,c,1)));a.uniform2fv(this.O.dj,new Float32Array(Hf(this.Qb,c,2)))}c=new Float32Array(cb(Xe(lf(this.a)).Lc()));b=this.Oh[Math.min(b,this.Oh.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.rb);a.vertexAttribPointer(this.O.je,b.rb.Xb,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.ae);a.vertexAttribPointer(this.O.Zh,b.ae.Xb,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.O.bg,
!1,c);a.uniform1f(this.O.ak,this.Gc);a.uniform2fv(this.O.Aj,new Float32Array(this.cg));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Ab);a.drawElements(a.TRIANGLES,b.Ah,a.UNSIGNED_SHORT,0)};function Jf(a,b,c){this.x=w(a)?a:0;this.y=w(b)?b:0;this.H=w(c)?c:0}Jf.prototype.ba=function(){return new Jf(this.x,this.y,this.H)};Jf.prototype.Lc=function(){return[this.x,this.y,this.H]};function Kf(a,b,c){this.x=a;this.y=b;this.H=c}D(Kf,Jf);s=Kf.prototype;s.ba=function(){return new Kf(this.x,this.y,this.H)};s.Ke=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.H*this.H)};s.scale=function(a){this.x*=a;this.y*=a;this.H*=a;return this};s.ih=function(){this.x=-this.x;this.y=-this.y;this.H=-this.H;return this};s.normalize=function(){return this.scale(1/this.Ke())};s.add=function(a){this.x+=a.x;this.y+=a.y;this.H+=a.H;return this};
s.af=function(a){this.x-=a.x;this.y-=a.y;this.H-=a.H;return this};s.ue=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.H==a.H};function Lf(a,b,c,d,f,g){if(x(d))return m;a=d.multiply(new V([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(W(a,3,0)==0)return m;a=a.multiply(1/W(a,3,0));return new Kf(W(a,0,0),W(a,1,0),W(a,2,0))};var Mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Nf(a,b){var c;a instanceof Nf?(this.md(b==m?a.hb:b),Of(this,a.Gb),Pf(this,a.ge),Qf(this,a.Rc),Rf(this,a.gd),Sf(this,a.zc),Tf(this,a.nb.ba()),Uf(this,a.Cd)):a&&(c=String(a).match(Mf))?(this.md(!!b),Of(this,c[1]||"",!0),Pf(this,c[2]||"",!0),Qf(this,c[3]||"",!0),Rf(this,c[4]),Sf(this,c[5]||"",!0),Tf(this,c[6]||"",!0),Uf(this,c[7]||"",!0)):(this.md(!!b),this.nb=new Vf(m,this,this.hb))}s=Nf.prototype;s.Gb="";s.ge="";s.Rc="";s.gd=m;s.zc="";s.Cd="";s.cj=!1;s.hb=!1;
s.toString=function(){if(this.La)return this.La;var a=[];this.Gb&&a.push(Wf(this.Gb,Xf),":");if(this.Rc){a.push("//");this.ge&&a.push(Wf(this.ge,Xf),"@");var b;b=this.Rc;b=z(b)?encodeURIComponent(b):m;a.push(b);this.gd!=m&&a.push(":",String(this.gd))}this.zc&&(this.Rc&&this.zc.charAt(0)!="/"&&a.push("/"),a.push(Wf(this.zc,this.zc.charAt(0)=="/"?Yf:Zf)));(b=String(this.nb))&&a.push("?",b);this.Cd&&a.push("#",Wf(this.Cd,$f));return this.La=a.join("")};
s.ba=function(){var a=this.Gb,b=this.ge,c=this.Rc,d=this.gd,f=this.zc,g=this.nb.ba(),h=this.Cd,j=new Nf(m,this.hb);a&&Of(j,a);b&&Pf(j,b);c&&Qf(j,c);d&&Rf(j,d);f&&Sf(j,f);g&&Tf(j,g);h&&Uf(j,h);return j};function Of(a,b,c){ag(a);delete a.La;a.Gb=c?b?decodeURIComponent(b):"":b;if(a.Gb)a.Gb=a.Gb.replace(/:$/,"")}function Pf(a,b,c){ag(a);delete a.La;a.ge=c?b?decodeURIComponent(b):"":b}function Qf(a,b,c){ag(a);delete a.La;a.Rc=c?b?decodeURIComponent(b):"":b}
function Rf(a,b){ag(a);delete a.La;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.gd=b):a.gd=m}function Sf(a,b,c){ag(a);delete a.La;a.zc=c?b?decodeURIComponent(b):"":b}function Tf(a,b,c){ag(a);delete a.La;b instanceof Vf?(a.nb=b,a.nb.fe=a,a.nb.md(a.hb)):(c||(b=Wf(b,bg)),a.nb=new Vf(b,a,a.hb))}function cg(a,b,c){ag(a);delete a.La;y(c)||(c=[String(c)]);a=a.nb;dg(a);eg(a);b=fg(a,b);if(a.tb(b)){var d=a.D.get(b);y(d)?a.u-=d.length:a.u--}c.length>0&&(a.D.set(b,c),a.u+=c.length)}
function Uf(a,b,c){ag(a);delete a.La;a.Cd=c?b?decodeURIComponent(b):"":b}function ag(a){a.cj&&e(Error("Tried to modify a read-only Uri"))}s.md=function(a){this.hb=a;this.nb&&this.nb.md(a);return this};var gg=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Wf(a,b){var c=m;z(a)&&(c=a,gg.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,hg)));return c}function hg(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xf=/[#\/\?@]/g,Zf=/[\#\?:]/g,Yf=/[\#\?]/g,bg=/[\#\?@]/g,$f=/#/g;
function Vf(a,b,c){this.xb=a||m;this.fe=b||m;this.hb=!!c}function dg(a){if(!a.D&&(a.D=new jb,a.xb))for(var b=a.xb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=fg(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}s=Vf.prototype;s.D=m;s.u=m;s.wf=function(){dg(this);return this.u};
s.add=function(a,b){dg(this);eg(this);a=fg(this,a);if(this.tb(a)){var c=this.D.get(a);y(c)?c.push(b):this.D.set(a,[c,b])}else this.D.set(a,b);this.u++;return this};s.remove=function(a){dg(this);a=fg(this,a);if(this.D.tb(a)){eg(this);var b=this.D.get(a);y(b)?this.u-=b.length:this.u--;return this.D.remove(a)}return!1};s.clear=function(){eg(this);this.D&&this.D.clear();this.u=0};s.tb=function(a){dg(this);a=fg(this,a);return this.D.tb(a)};
s.qc=function(){dg(this);for(var a=this.D.Tb(),b=this.D.qc(),c=[],d=0;d<b.length;d++){var f=a[d];if(y(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};s.Tb=function(a){dg(this);if(a)if(a=fg(this,a),this.tb(a)){var b=this.D.get(a);if(y(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.D.Tb(),a=[],c=0;c<b.length;c++){var d=b[c];y(d)?Ya(a,d):a.push(d)}return a};
s.set=function(a,b){dg(this);eg(this);a=fg(this,a);if(this.tb(a)){var c=this.D.get(a);y(c)?this.u-=c.length:this.u--}this.D.set(a,b);this.u++;return this};s.get=function(a,b){dg(this);a=fg(this,a);if(this.tb(a)){var c=this.D.get(a);return y(c)?c[0]:c}else return b};
s.toString=function(){if(this.xb)return this.xb;if(!this.D)return"";for(var a=[],b=0,c=this.D.qc(),d=0;d<c.length;d++){var f=c[d],g=Fa(f),f=this.D.get(f);if(y(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Fa(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Fa(f)),b++}return this.xb=a.join("")};function eg(a){delete a.of;delete a.xb;a.fe&&delete a.fe.La}
s.ba=function(){var a=new Vf;if(this.of)a.of=this.of;if(this.xb)a.xb=this.xb;if(this.D)a.D=this.D.ba();return a};function fg(a,b){var c=String(b);a.hb&&(c=c.toLowerCase());return c}s.md=function(a){a&&!this.hb&&(dg(this),eg(this),eb(this.D,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.hb=a};function ig(){if(K)this.lc={},this.ef={},this.Ze=[]}ig.prototype.da=Eb("goog.net.xhrMonitor");ig.prototype.ga=K;ig.prototype.Hb=function(a){this.ga=K&&a};function jg(a){var b=kg;if(b.ga){var c=z(a)?a:ja(a)?A(a):"";b.da.log(zb,"Pushing context: "+a+" ("+c+")",i);b.Ze.push(c)}}function lg(){var a=kg;if(a.ga){var b=a.Ze.pop();a.da.log(zb,"Popping context: "+b,i);mg(a,b)}}
function ng(a){var b=kg;if(b.ga){a=A(a);Bb(b.da,"Opening XHR : "+a);for(var c=0;c<b.Ze.length;c++){var d=b.Ze[c];og(b.lc,d,a);og(b.ef,a,d)}}}function mg(a,b){var c=a.ef[b],d=a.lc[b];c&&d&&(a.da.log(zb,"Updating dependent contexts",i),H(c,function(a){H(d,function(b){og(this.lc,a,b);og(this.ef,b,a)},this)},a))}function og(a,b,c){a[b]||(a[b]=[]);Ua(a[b],c)||a[b].push(c)}var kg=new ig;function pg(a){var a=String(a),b;b=/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}e(Error("Invalid JSON string: "+a))};function qg(){}qg.prototype.pe=m;function rg(){return sg(tg)}var tg;function ug(){}D(ug,qg);function sg(a){return(a=vg(a))?new ActiveXObject(a):new XMLHttpRequest}function wg(a){var b={};vg(a)&&(b[0]=!0,b[1]=!0);return b}ug.prototype.Mf=m;
function vg(a){if(!a.Mf&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Mf=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Mf}tg=new ug;function xg(a){F.call(this);this.headers=new jb;this.td=a||m}D(xg,T);xg.prototype.da=Eb("goog.net.XhrIo");var yg=/^https?:?$/i,zg=[];function Ag(a,b){var c=new xg;zg.push(c);b&&R(c,"complete",b);R(c,"ready",oa(Bg,c));c.send(a,i,i,i)}function Bg(a){a.m();Va(zg,a)}s=xg.prototype;s.Lb=!1;s.C=m;s.df=m;s.Ld="";s.nh="";s.Jd=0;s.Kd="";s.rf=!1;s.Ee=!1;s.Nf=!1;s.vc=!1;s.bf=0;s.Jc=m;s.Mh="";s.ik=!1;
s.send=function(a,b,c,d){this.C&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Ld=a;this.Kd="";this.Jd=0;this.nh=b;this.rf=!1;this.Lb=!0;this.C=this.td?sg(this.td):new rg;this.df=this.td?this.td.pe||(this.td.pe=wg(this.td)):tg.pe||(tg.pe=wg(tg));ng(this.C);this.C.onreadystatechange=B(this.Fh,this);try{Bb(this.da,Cg(this,"Opening Xhr")),this.Nf=!0,this.C.open(b,a,!0),this.Nf=!1}catch(f){Bb(this.da,Cg(this,"Error opening Xhr: "+f.message));Dg(this,
f);return}var a=c||"",g=this.headers.ba();d&&eb(d,function(a,b){g.set(b,a)});b=="POST"&&!g.tb("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");eb(g,function(a,b){this.C.setRequestHeader(b,a)},this);if(this.Mh)this.C.responseType=this.Mh;if("withCredentials"in this.C)this.C.withCredentials=this.ik;try{if(this.Jc)qe.clearTimeout(this.Jc),this.Jc=m;if(this.bf>0)Bb(this.da,Cg(this,"Will abort after "+this.bf+"ms if incomplete")),this.Jc=qe.setTimeout(B(this.Kc,
this),this.bf);Bb(this.da,Cg(this,"Sending request"));this.Ee=!0;this.C.send(a);this.Ee=!1}catch(h){Bb(this.da,Cg(this,"Send error: "+h.message)),Dg(this,h)}};s.dispatchEvent=function(a){if(this.C){jg(this.C);try{return xg.b.dispatchEvent.call(this,a)}finally{lg()}}else return xg.b.dispatchEvent.call(this,a)};s.Kc=function(){if(typeof ca!="undefined"&&this.C)this.Kd="Timed out after "+this.bf+"ms, aborting",this.Jd=8,Bb(this.da,Cg(this,this.Kd)),this.dispatchEvent("timeout"),this.abort(8)};
function Dg(a,b){a.Lb=!1;if(a.C)a.vc=!0,a.C.abort(),a.vc=!1;a.Kd=b;a.Jd=5;Eg(a);Fg(a)}function Eg(a){if(!a.rf)a.rf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error")}s.abort=function(a){if(this.C&&this.Lb)Bb(this.da,Cg(this,"Aborting")),this.Lb=!1,this.vc=!0,this.C.abort(),this.vc=!1,this.Jd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fg(this)};s.g=function(){if(this.C){if(this.Lb)this.Lb=!1,this.vc=!0,this.C.abort(),this.vc=!1;Fg(this,!0)}xg.b.g.call(this)};
s.Fh=function(){!this.Nf&&!this.Ee&&!this.vc?this.Ij():Gg(this)};s.Ij=function(){Gg(this)};
function Gg(a){if(a.Lb&&typeof ca!="undefined")if(a.df[1]&&Hg(a)==4&&Ig(a)==2)Bb(a.da,Cg(a,"Local request error detected and ignored"));else if(a.Ee&&Hg(a)==4)qe.setTimeout(B(a.Fh,a),0);else if(a.dispatchEvent("readystatechange"),Hg(a)==4){Bb(a.da,Cg(a,"Request complete"));a.Lb=!1;if(Jg(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Jd=6;var b;try{b=Hg(a)>2?a.C.statusText:""}catch(c){Bb(a.da,"Can not get status: "+c.message),b=""}a.Kd=b+" ["+Ig(a)+"]";Eg(a)}Fg(a)}}
function Fg(a,b){if(a.C){var c=a.C,d=a.df[0]?u:m;a.C=m;a.df=m;if(a.Jc)qe.clearTimeout(a.Jc),a.Jc=m;b||(jg(c),a.dispatchEvent("ready"),lg());var f=kg;if(f.ga){var g=A(c);Bb(f.da,"Closing XHR : "+g);delete f.ef[g];for(var h in f.lc)Va(f.lc[h],g),f.lc[h].length==0&&delete f.lc[h]}try{c.onreadystatechange=d}catch(j){a.da.log(vb,"Problem encountered resetting onreadystatechange: "+j.message,i)}}}s.Id=function(){return!!this.C};
function Jg(a){var b;switch(Ig(a)){case 0:return b=(a=z(a.Ld)?a.Ld.match(Mf)[1]||m:a.Ld.Gb)?yg.test(a):self.location?yg.test(self.location.protocol):!0,a=b,!a;case 200:case 204:case 304:case 1223:return!0;default:return!1}}function Hg(a){return a.C?a.C.readyState:0}function Ig(a){try{return Hg(a)>2?a.C.status:-1}catch(b){return a.da.log(wb,"Can not get status: "+b.message,i),-1}}function Cg(a,b){return b+" ["+a.nh+" "+a.Ld+" "+Ig(a)+"]"};function Kg(a,b,c,d){this.a=a;a=this.a.Y;this.rb=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.rb);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW);this.rb.Xb=3;this.rb.Pe=b.length/3;this.ie=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ie);a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);this.ie.Xb=3;this.ie.Pe=c.length/3;this.ae=m;this.Ab=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ab);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),a.STATIC_DRAW);
this.Ab.Xb=1;this.Ab.Pe=d.length;this.Ah=this.Ab.Pe}
Kg.prototype.wb=function(a){var b=this.a.Y,c=new Float32Array(cb(this.a.mb.na.Lc()));b.uniformMatrix4fv(a.vj,!1,c);c=new Float32Array(cb(Xe(lf(this.a)).Lc()));b.uniformMatrix4fv(a.bg,!1,c);c=new Float32Array(cb(Xe(ef(this.a.mb)).Lc()));b.uniformMatrix3fv(a.wj,!1,c);b.bindBuffer(b.ARRAY_BUFFER,this.rb);b.vertexAttribPointer(a.je,this.rb.Xb,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.ie);b.vertexAttribPointer(a.fi,this.ie.Xb,b.FLOAT,!1,0,0);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Ab);b.drawElements(b.TRIANGLES,
this.Ab.Pe,b.UNSIGNED_SHORT,0)};function Lg(a,b){this.a=a;var c=new af;bf(c,I(16.598914));cf(c,-I(49.194289));c.translate(0,0,1);var d={},f;for(f in c)d[f]=c[f];f=1/Ne;c.scale(f,f,f);this.size=b.objects["o3d.IndexBuffer"].length;this.Xh=[];f=b.objects["o3d.VertexBuffer"];for(var g=[],h=[],j=0;j<this.size;++j){for(var k=f[j].custom.fieldData[0].data,l=f[j].custom.fieldData[1].data,o=[],p=[],q=0;q<k.length/3;++q){var v=c.na.multiply(new V([[k[3*q]],[k[3*q+1]],[k[3*q+2]],[1]]));o.push(W(v,0,0));o.push(W(v,1,0));o.push(W(v,2,0));v=
d.na.multiply(new V([[l[3*q]],[l[3*q+1]],[l[3*q+2]],[1]]));v=(new Kf(W(v,0,0),W(v,1,0),W(v,2,0))).normalize();Ya(p,v.Lc())}g.push(o);h.push(p)}for(j=0;j<this.size;++j)this.Xh.push(new Kg(a,g[j],h[j],b.objects["o3d.IndexBuffer"][j].custom.fieldData[0].data))}Lg.prototype.wb=function(a){for(var b=0;b<this.size;++b)this.Xh[b].wb(a)};function Mg(a){this.a=a;this.ag=[];this.I=m;var a=this.a.Y,b=sf("model-fs.glsl"),b=mf(this.a,b,a.FRAGMENT_SHADER),c=sf("model-vs.glsl"),c=mf(this.a,c,a.VERTEX_SHADER),d=a.createProgram();x(d)&&e(Error("Unknown"));a.attachShader(d,c);a.attachShader(d,b);a.linkProgram(d);a.getProgramParameter(d,a.LINK_STATUS)||e(Error("Shader program err: "+a.getProgramInfoLog(d)));d.je=a.getAttribLocation(d,"aVertexPosition");a.enableVertexAttribArray(d.je);d.fi=a.getAttribLocation(d,"aVertexNormal");a.enableVertexAttribArray(d.fi);
d.vj=a.getUniformLocation(d,"uMVMatrix");d.bg=a.getUniformLocation(d,"uMVPMatrix");d.wj=a.getUniformLocation(d,"uNMatrix");this.I=d}Mg.prototype.wd=function(a,b){Ag(a,B(function(a){if(Jg(a.target))a=a.target,a=a.C?pg(a.C.responseText):i,this.ag.push(b?new Lg(this.a,a):new Kg(this.a,a.xk,a.wk,a.qk))},this))};Mg.prototype.wb=function(){this.ag.length!=0&&(this.a.Y.useProgram(this.I),H(this.ag,B(function(a){a.wb(this.I)},this)))};var Bf=!1;function Ng(a,b,c,d,f,g){this.a=a;this.hh=b||m;this.rd=c||document.createElement("div");if(!w(c))a=this.a.canvas,a.parentNode&&a.parentNode.insertBefore(this.rd,a.nextSibling);this.de=d||document.createElement("img");if(!w(d))d=this.rd,d.parentNode&&d.parentNode.insertBefore(this.de,d.nextSibling);this.mi=g||m;this.pa=new If(this,f);this.be=0;this.c=new Be(this);this.xh=new Mg(this.a);kf(this);this.ug()}
Ng.prototype.ug=function(){x(this.rd)||(Hc(this.rd),Gc(this.rd,this.mi),this.pa.ka.ne(this.rd));if(!x(this.de))x(this.pa.ka.yf())?this.de.style.visibility="hidden":(this.de.src=this.pa.ka.yf(),this.de.style.visibility="visible")};function Le(a){return Math.max(3,a.pa.ka.zf())}function kf(a){a.be=0.7*a.a.canvas.height/a.pa.ka.rc()}
Ng.prototype.wb=function(){if(!x(this.hh)){for(var a=this.hh,b=(this.c.Sa*180/Math.PI).toFixed(4)+"; "+(this.c.kb*180/Math.PI).toFixed(4)+" @ "+Ie(this.c).toFixed(0)+"m "+(this.c.T?"->":"<-")+" z="+U(this.c).toFixed(3)+"; ",c=this.pa.Ea,d="",f=0;f<c.ia.length;++f)d+=f+c.lb+":"+c.ia[f].Ob.length+" ";a.innerHTML=b+("BufferQueue size: "+d+"; Loading tiles: "+this.pa.ka.Nd)}a=Ie(this.c)/Ne;b=this.a;b.le=0.25*a;b.ke=1+a;jf(b);this.pa.wb();this.xh.wb()};
function Og(a,b){var c=a.ba().ih(),d=b.x*c.x+b.y*c.y+b.H*c.H,c=d*d-(c.x*c.x+c.y*c.y+c.H*c.H)+1;return c<0?m:[Math.min(d+Math.sqrt(c),d-Math.sqrt(c)),Math.max(d+Math.sqrt(c),d-Math.sqrt(c))]}
function Me(a,b,c,d){var f=Lf(b,c,0,a.a.Oe,a.a.$a,a.a.Za),a=Lf(b,c,1,a.a.Oe,a.a.$a,a.a.Za);if(x(f)||x(a))return m;a.af(f);a.normalize();b=Og(f,a);if(x(b))return m;a=a.scale(b[0]);f=new Kf(f.x+a.x,f.y+a.y,f.H+a.H);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.H<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),Kb(a)]:[Math.asin(f.y)*180/Math.PI,Kb(a)*180/Math.PI]}Ng.prototype.wd=function(a,b){this.xh.wd(a,b)};function Pg(a){return 1-Math.pow(1-a,3)};function Qg(a){this.f=a;this.Fa=!1;this.Gd=m;this.Re=this.Qe=this.Db=this.Cb=0;this.wc=this.ma=m;R(this.f.a.canvas,"mousedown",B(this.Gj,this));R(O(this.f.a.canvas),"mouseup",B(this.Hj,this))}s=Qg.prototype;
s.Gj=function(a){if(!td(a,2)&&!a.ctrlKey&&!a.altKey){if(this.wc)this.wc.stop(!1),this.wc.m(),this.wc=m;this.Fa=!0;this.Qe=this.Cb=a.screenX;this.Re=this.Db=a.screenY;if(td(a,1)||td(a,0)&&a.shiftKey)this.Gd=Me(this.f,a.offsetX,a.offsetY,!0);if(!x(this.ma))S(this.ma),this.ma=m;this.ma=R(O(this.f.a.canvas),"mousemove",B(this.eg,this));a.preventDefault()}};
s.Hj=function(a){if(this.Fa){a.preventDefault();this.Gd=m;this.Fa=!1;if(!x(this.ma))S(this.ma),this.ma=m;if(td(a,0)){var b=a.screenX-this.Qe,c=a.screenY-this.Re,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.Cb==this.Qe&&this.Db==this.Re&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.wc=new se([this.Cb,this.Db],[this.Cb+a*b,this.Db+a*c],1300,Pg),R(this.wc,["animate"],this.aj,!1,this),this.wc.play(!1)}}};
s.Ve=function(a,b){if(this.Gd!=m){this.f.c.Ic+=b/this.f.a.canvas.height*Math.PI/2;var c=this.f.c,d=this.Gd[0],f=this.Gd[1],g=a/this.f.a.canvas.width*Math.PI*-2;c.Xc+=g;var h=new Ae(c.kb-f,c.Sa-d),j=h.Ke();h.normalize();var k=h.x;h.x=k*Math.cos(g)-h.y*Math.sin(g);h.y=k*Math.sin(g)+h.y*Math.cos(g);c.Ib(d+h.y*j,f+h.x*j)}else c=Math.PI*(1/this.f.a.canvas.height)*(this.f.be/Math.pow(2,U(this.f.c))),Fe(this.f.c,b*c,-2*a*c)};
s.eg=function(a){this.Ve(a.screenX-this.Cb,a.screenY-this.Db);this.Qe=this.Cb;this.Re=this.Db;this.Cb=a.screenX;this.Db=a.screenY;a.preventDefault()};s.aj=function(a){this.Ve(a.x-this.Cb,a.y-this.Db);this.Cb=a.x;this.Db=a.y};function Rg(a,b,c){F.call(this);this.Od=a;this.Cc=c;this.j=b;R(b,[Sg,Tg,Ug,Vg],this);this.Wa=m;this.oa=[];this.ua=-1;this.xa=0;this.nc=this.ja=m}D(Rg,T);s=Rg.prototype;s.hj=10;s.qi=!0;s.Bg=!1;s.ji=!1;s.bi=!1;var Sg="hilite",Tg="select",Vg="dismiss",Ug="canceldismiss";s=Rg.prototype;s.handleEvent=function(a){if(a.target==this.j)switch(a.type){case Sg:this.Qa(a.kd);break;case Tg:Wg(this);break;case Ug:Xg(this);break;case Vg:Yg(this)}};s.Ae=n("ja");s.jb=function(){return this.j.r};
function Zg(a){var b=a.xa+a.oa.length-1;a.ua>=a.xa&&a.ua<b?a.Qa(a.ua+1):a.ua==-1?a.Qa(a.xa):a.ua==b&&(a.Bg?a.Qa(-1):a.ji&&a.Qa(a.xa))}function $g(a){a.ua>a.xa?a.Qa(a.ua-1):a.Bg&&a.ua==a.xa?a.Qa(-1):a.ji&&(a.ua==-1||a.ua==a.xa)&&a.Qa(a.xa+a.oa.length-1)}s.Qa=function(a){this.ua=a;this.j.Qa(a);return ah(this,a)!=-1};
function Wg(a){var b=ah(a,a.ua);if(b!=-1){var b=a.oa[b],c=a.Cc,d=b.toString();if(w(i)?0:c.$c){var f=bh(c,c.p(),ch(c.N)),g=dh(c,c.p());c.Uj.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.Di);c.hk&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.N;K&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.N;d=f;eh(g)?g.selectionStart=d:J&&(h=fh(g),j=h[0],j.inRange(h[1])&&(d=gh(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.N;eh(g)?g.selectionEnd=f:J&&(h=fh(g),d=h[1],h[0].inRange(d)&&(f=gh(g,f),g=gh(g,ch(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.$(d);c.hg=!0;a.bi?(a.Wa=m,Yg(a)):a.vb();a.dispatchEvent({type:"update",kd:b});a.bi&&a.Cc.update(!0);return!0}else return a.vb(),a.dispatchEvent({type:"update",kd:m}),!1}s.vb=function(){this.ua=-1;this.Wa=m;this.xa+=this.oa.length;this.oa=[];window.clearTimeout(this.nc);this.nc=m;this.j.vb()};
function Yg(a){if(!a.nc)a.nc=window.setTimeout(B(a.vb,a),100)}function Xg(a){window.setTimeout(B(function(){if(this.nc)window.clearTimeout(this.nc),this.nc=m},a),10)}s.g=function(){Rg.b.g.call(this);this.j.m();this.Cc.m();this.Od=m};s.fj=function(a,b,c){this.Wa==a&&this.fg(b,c)};
s.fg=function(a,b){var c=b?ah(this,this.ua):m;this.xa+=this.oa.length;this.oa=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.xa+f,data:a[f]});this.j.fg(d,this.Wa,this.ja);this.qi&&d.length!=0&&this.Wa?this.Qa(c!=m?this.xa+c:this.xa):this.ua=-1;this.dispatchEvent("suggestionsupdate")};function ah(a,b){var c=b-a.xa;if(c<0||c>=a.oa.length)return-1;return c}s.kf=function(){var a=this.Cc;a.kf.apply(a,arguments)};function hh(a,b,c){this.oh=a;this.sh=b;this.element=c;this.parentElement=m;this.enabled=!0}s=hh.prototype;s.xd=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};s.detach=function(){if(this.parentElement)Ic(this.element),this.parentElement=m};s.enable=function(a){(this.enabled=a||!1)||this.show(!1)};s.isEnabled=n("enabled");s.show=function(a){this.element.style.display=a===!1?"none":"block"};function ih(a,b){this.f=a;this.e=b;this.Zf=new jb}function jh(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^C()).toString(36);c.xd(a.e);a.Zf.set(b,c)}
ih.prototype.ek=function(a){a=this.Zf.get(a);if(a.isEnabled()){var b;a:{var c=this.f;b=a.oh;var d=a.sh;b=I(b);var d=I(d),f=Math.cos(b),f=new Kf(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.a.Ne.multiply(new V([[f.x],[f.y],[f.H],[1]]));if(W(d,3,0)==0)b=m;else{d=d.multiply(1/W(d,3,0));b=(W(d,0,0)+1)/2*c.a.$a;var d=(W(d,1,0)-1)/-2*c.a.Za,g=1;if(b<0||b>c.a.$a||d<0||d>c.a.Za)g=0;else{c=Lf(0.5,0.5,0,c.a.Oe,1,1);if(x(c)){b=m;break a}var g=f.x-c.x,h=f.y-c.y,j=f.H-c.H,g=Math.sqrt(g*g+h*h+j*j),f=f.af(c).normalize(),
f=Og(c,f),g=x(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=m?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function kh(){this.Ih=C()}new kh;kh.prototype.set=ba("Ih");kh.prototype.reset=function(){this.set(C())};kh.prototype.get=n("Ih");function lh(a,b){a.setAttribute("role",b);a.uk=b}function Y(a,b,c){a.setAttribute("aria-"+b,c)};function mh(){}var nh;ea(mh);s=mh.prototype;s.gb=aa();s.o=function(a){return a.W().o("div",this.Tc(a).join(" "),a.bb)};s.V=function(a){return a};s.Ad=function(a,b,c){if(a=a.d?a.d():a)if(J&&!M("7")){var d=oh(qc(a),b);d.push(b);oa(c?rc:sc,a).apply(m,d)}else c?rc(a,b):sc(a,b)};s.Ma=r(!0);
s.fa=function(a,b){b.id&&ge(a,b.id);var c=this.V(b);c&&c.firstChild?ph(a,c.firstChild.nextSibling?Xa(c.childNodes):c.firstChild):a.bb=m;var d=0,f=this.n(),g=this.n(),h=!1,j=!1,c=!1,k=qc(b);H(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.Bf(a)},this);a.B=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Oa;l&&k.push.apply(k,l);if(J&&!M("7")){var o=oh(k);o.length>0&&(k.push.apply(k,o),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");return b};
s.Yc=function(a){ne(a)&&this.nd(a.d(),!0);a.isEnabled()&&this.cc(a,a.r)};s.Yd=function(a,b){jd(a,!b,!J&&!Yb)};s.nd=function(a,b){this.Ad(a,this.n()+"-rtl",b)};s.Wb=function(a){var b;if(a.ea&32&&(b=a.X()))return Oc(b);return!1};s.cc=function(a,b){var c;if(a.ea&32&&(c=a.X())){if(!b&&a.B&32){try{c.blur()}catch(d){}a.B&32&&a.zb(m)}if(Oc(c)!=b)b?c.tabIndex=0:c.removeAttribute("tabIndex")}};s.Ja=function(a,b){hd(a,b)};
s.za=function(a,b,c){var d=a.d();if(d){var f=this.Dd(b);f&&this.Ad(a,f,c);this.sd(d,b,c)}};s.sd=function(a,b,c){nh||(nh={1:"disabled",4:"pressed",8:"selected",16:"checked",64:"expanded"});(b=nh[b])&&Y(a,b,c)};s.Dc=function(a,b){var c=this.V(a);if(c&&(Hc(c),b))if(z(b))Lc(c,b);else{var d=function(a){if(a){var b=O(c);c.appendChild(z(a)?b.createTextNode(a):a)}};y(b)?H(b,d):ga(b)&&!("nodeType"in b)?H(Xa(b),d):d(b)}};s.X=function(a){return a.d()};s.n=r("goog-control");
s.Tc=function(a){var b=this.n(),c=[b],d=this.n();d!=b&&c.push(d);b=a.B;for(d=[];b;){var f=b&-b;d.push(this.Dd(f));b&=~f}c.push.apply(c,d);(a=a.Oa)&&c.push.apply(c,a);J&&!M("7")&&c.push.apply(c,oh(c));return c};function oh(a,b){var c=[];b&&(a=a.concat([b]));H([],function(d){Sa(d,oa(Ua,a))&&(!b||Ua(d,b))&&c.push(d.join("_"))});return c}s.Dd=function(a){this.qe||qh(this);return this.qe[a]};
s.Bf=function(a){if(!this.Wh){this.qe||qh(this);var b=this.qe,c={},d;for(d in b)c[b[d]]=d;this.Wh=c}a=parseInt(this.Wh[a],10);return isNaN(a)?0:a};function qh(a){var b=a.n();a.qe={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function rh(a,b){a||e(Error("Invalid class name "+a));ia(b)||e(Error("Invalid decorator function "+b));sh[a]=b}var th={},sh={};function uh(a,b,c,d,f){if(!J&&(!L||!M("525")))return!0;if(Rb&&f)return vh(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(J&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!L}return vh(a)}
function vh(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(L&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function wh(a,b){F.call(this);a&&this.xd(a,b)}D(wh,T);s=wh.prototype;s.e=m;s.Fe=m;s.Sf=m;s.Ge=m;s.$b=-1;s.Yb=-1;
var xh={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},yh={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},zh={61:187,59:186},Ah=J||L&&M("525");s=wh.prototype;
s.Ef=function(a){if(L&&(this.$b==17&&!a.ctrlKey||this.$b==18&&!a.altKey))this.Yb=this.$b=-1;Ah&&!uh(a.keyCode,this.$b,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Yb=K&&a.keyCode in zh?zh[a.keyCode]:a.keyCode};s.Ri=function(){this.Yb=this.$b=-1};
s.handleEvent=function(a){var b=a.ra,c,d;J&&a.type=="keypress"?(c=this.Yb,d=c!=13&&c!=27?b.keyCode:0):L&&a.type=="keypress"?(c=this.Yb,d=b.charCode>=0&&b.charCode<63232&&vh(c)?b.charCode:0):Yb?(c=this.Yb,d=vh(c)?b.keyCode:0):(c=b.keyCode||this.Yb,d=b.charCode||0,Rb&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in xh?f=xh[c]:c==25&&a.shiftKey&&(f=9):g&&g in yh&&(f=yh[g]);a=f==this.$b;this.$b=f;b=new Bh(f,d,a,b);try{this.dispatchEvent(b)}finally{b.m()}};s.d=n("e");
s.xd=function(a,b){this.Ge&&this.detach();this.e=a;this.Fe=R(this.e,"keypress",this,b);this.Sf=R(this.e,"keydown",this.Ef,b,this);this.Ge=R(this.e,"keyup",this.Ri,b,this)};s.detach=function(){if(this.Fe)S(this.Fe),S(this.Sf),S(this.Ge),this.Ge=this.Sf=this.Fe=m;this.e=m;this.Yb=this.$b=-1};s.g=function(){wh.b.g.call(this);this.detach()};function Bh(a,b,c,d){d&&this.Vb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(Bh,rd);function Z(a,b,c){ce.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=A(b);if(d=th[d])break;b=b.b?b.b.constructor:m}b=d?ia(d.ya)?d.ya():new d:m}this.j=b;this.bb=a}D(Z,ce);s=Z.prototype;s.bb=m;s.B=0;s.ea=39;s.lf=255;s.$e=0;s.r=!0;s.Oa=m;s.Gf=!0;s.me=!1;function Ch(a,b){a.G&&b!=a.Gf&&Dh(a,b);a.Gf=b}s.X=function(){return this.j.X(this)};s.ye=function(){return this.L||(this.L=new wh)};function Eh(a,b){if(b)a.Oa?Ua(a.Oa,b)||a.Oa.push(b):a.Oa=[b],a.j.Ad(a,b,!0)}
s.Ad=function(a,b){if(b)Eh(this,a);else if(a&&this.Oa){Va(this.Oa,a);if(this.Oa.length==0)this.Oa=m;this.j.Ad(this,a,!1)}};s.o=function(){var a=this.j.o(this);this.e=a;var b=this.j.gb();b&&lh(a,b);this.me||this.j.Yd(a,!1);this.r||this.j.Ja(a,!1)};s.V=function(){return this.j.V(this.d())};s.Ma=function(a){return this.j.Ma(a)};s.cb=function(a){this.e=a=this.j.fa(this,a);var b=this.j.gb();b&&lh(a,b);this.me||this.j.Yd(a,!1);this.r=a.style.display!="none"};
s.ca=function(){Z.b.ca.call(this);this.j.Yc(this);if(this.ea&-2&&(this.Gf&&Dh(this,!0),this.ea&32)){var a=this.X();if(a){var b=this.ye();b.xd(a);this.sa().i(b,"key",this.Pa).i(a,"focus",this.sc).i(a,"blur",this.zb)}}};function Dh(a,b){var c=a.sa(),d=a.d();b?(c.i(d,"mouseover",a.If).i(d,"mousedown",a.tc).i(d,"mouseup",a.uc).i(d,"mouseout",a.Hf),J&&c.i(d,"dblclick",a.Xg)):(c.aa(d,"mouseover",a.If).aa(d,"mousedown",a.tc).aa(d,"mouseup",a.uc).aa(d,"mouseout",a.Hf),J&&c.aa(d,"dblclick",a.Xg))}
s.fb=function(){Z.b.fb.call(this);this.L&&this.L.detach();this.r&&this.isEnabled()&&this.j.cc(this,!1)};s.g=function(){Z.b.g.call(this);this.L&&(this.L.m(),delete this.L);delete this.j;this.Oa=this.bb=m};s.Dc=function(a){this.j.Dc(this.d(),a);this.bb=a};function ph(a,b){a.bb=b}
s.Sc=function(){var a=this.bb;if(!a)return"";if(!z(a))if(y(a))a=Ra(a,Pc).join("");else{if(uc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Qc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");J||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return Ca(a)};s.nd=function(a){Z.b.nd.call(this,a);var b=this.d();b&&this.j.nd(b,a)};s.Yd=function(a){this.me=a;var b=this.d();b&&this.j.Yd(b,a)};
s.Ja=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.d();c&&this.j.Ja(c,a);this.isEnabled()&&this.j.cc(this,a);this.r=a;return!0}return!1};s.isEnabled=function(){return!(this.B&1)};s.Hb=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&Fh(this,1,!a))a||(this.setActive(!1),this.pb(!1)),this.r&&this.j.cc(this,a),this.za(1,!a)};s.pb=function(a){Fh(this,2,a)&&this.za(2,a)};s.Id=function(){return!!(this.B&4)};
s.setActive=function(a){Fh(this,4,a)&&this.za(4,a)};s.lg=function(a){Fh(this,8,a)&&this.za(8,a)};s.jb=function(){return!!(this.B&64)};s.Q=function(a){Fh(this,64,a)&&this.za(64,a)};s.za=function(a,b){if(this.ea&a&&b!=!!(this.B&a))this.j.za(this,a,b),this.B=b?this.B|a:this.B&~a};function Gh(a,b,c){a.G&&a.B&b&&!c&&e(Error("Component already rendered"));!c&&a.B&b&&a.za(b,!1);a.ea=c?a.ea|b:a.ea&~b}function Hh(a,b){return!!(a.lf&b)&&!!(a.ea&b)}
function Fh(a,b,c){return!!(a.ea&b)&&!!(a.B&b)!=c&&(!(a.$e&b)||a.dispatchEvent(ee(b,c)))&&!a.qf}s.If=function(a){(!a.relatedTarget||!Kc(this.d(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Hh(this,2)&&this.pb(!0)};s.Hf=function(a){if((!a.relatedTarget||!Kc(this.d(),a.relatedTarget))&&this.dispatchEvent("leave"))Hh(this,4)&&this.setActive(!1),Hh(this,2)&&this.pb(!1)};
s.tc=function(a){this.isEnabled()&&(Hh(this,2)&&this.pb(!0),ud(a)&&(Hh(this,4)&&this.setActive(!0),this.j.Wb(this)&&this.X().focus()));!this.me&&ud(a)&&a.preventDefault()};s.uc=function(a){this.isEnabled()&&(Hh(this,2)&&this.pb(!0),this.Id()&&this.fd(a)&&Hh(this,4)&&this.setActive(!1))};s.Xg=function(a){this.isEnabled()&&this.fd(a)};
s.fd=function(a){if(Hh(this,16)){var b=!(this.B&16);Fh(this,16,b)&&this.za(16,b)}Hh(this,8)&&this.lg(!0);Hh(this,64)&&this.Q(!this.jb());b=new P("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};s.sc=function(){Hh(this,32)&&Fh(this,32,!0)&&this.za(32,!0)};s.zb=function(){Hh(this,4)&&this.setActive(!1);Hh(this,32)&&Fh(this,32,!1)&&this.za(32,!1)};
s.Pa=function(a){if(this.r&&this.isEnabled()&&this.Wc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};s.Wc=function(a){return a.keyCode==13&&this.fd(a)};ia(Z)||e(Error("Invalid component class "+Z));ia(mh)||e(Error("Invalid renderer class "+mh));var Ih=A(Z);th[Ih]=mh;rh("goog-control",function(){return new Z(m)});function Jh(a,b){this.f=a;this.s=new pe(20);this.xg=this.wg=0.1;this.Qf=!1;this.mc=new Z("");this.mc.$e|=255;this.ki=R(this.mc,"activate",this.Cj,!1,this);this.Ci=R(this.mc,"deactivate",this.Dj,!1,this);this.pk=R(this.mc,"enter",this.Ej,!1,this);this.qg=R(this.s,re,this.ed,!1,this);this.rj=R(O(this.f.a.canvas),"mousemove",this.eg,!1,this);this.qj=R(O(this.f.a.canvas),"mousedown",function(){this.Qf=!0},!1,this);this.sj=R(O(this.f.a.canvas),"mouseup",function(){this.Qf=!1},!1,this);this.mc.Fb(b)}
D(Jh,F);s=Jh.prototype;s.Ej=function(){this.Qf&&(this.mc.za(4,!0),this.s.start())};s.Cj=function(){this.s.start()};s.Dj=function(){this.s&&this.s.stop()};s.ed=function(){this.Ve(this.wg,this.xg)};s.eg=function(a){this.wg=-(a.offsetX-a.target.offsetWidth/2)*2;this.xg=-(a.offsetY-a.target.offsetHeight/2)};s.g=function(){S(this.ki);S(this.rj);S(this.sj);S(this.qj);S(this.Ci);S(this.qg);this.mc.m()};
s.Ve=function(a,b){var c=Math.PI*(1/this.f.a.canvas.height)*(this.f.be/Math.pow(2,U(this.f.c)));Fe(this.f.c,b*c,-2*a*c)};function Kh(a){F.call(this);this.e=a;this.ma=R(this.e,K?"DOMMouseScroll":"mousewheel",this)}D(Kh,T);
Kh.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.ra;if(a.type=="mousewheel"){c=1;if(J||L&&(Sb||M("532.0")))c=40;d=L&&Rb&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;w(a.wheelDeltaX)?(b=L&&Rb&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=L&&Rb&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),w(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ha(this.vh)&&(b=Hb(b,-this.vh,this.vh));ha(this.wh)&&(c=Hb(c,-this.wh,this.wh));b=new Lh(d,
a,b,c);try{this.dispatchEvent(b)}finally{b.m()}};Kh.prototype.g=function(){Kh.b.g.call(this);S(this.ma);delete this.ma};function Lh(a,b,c,d){b&&this.Vb(b,i);this.type="mousewheel";this.detail=a;this.Qc=c;this.Rb=d}D(Lh,rd);function Mh(a){this.f=a;this.yc=new Kh(a.a.canvas);this.ma=R(this.yc,"mousewheel",function(a){this.Aa(-(a.Rb==0?0:a.Rb<0?-1:1));a.preventDefault()},!1,this);this.Bi=R(a.a.canvas,"dblclick",B(function(a){this.c.T?Ge(this.c,Ie(this.c)/2):Ke(this.c,Math.floor(U(this.c)+1));var c=Me(this,a.offsetX,a.offsetY,!0)||this.c.Ae(this);if(c){var d=(this.c.kb+c[1])/2;Math.abs(this.c.kb-c[1])>Math.PI&&(d+=Math.PI);this.c.Ib((this.c.Sa+c[0])/2,d)}a.preventDefault()},a));this.Sj=R(a.a.canvas,"mouseup",B(function(a){if(td(a,
2)){this.c.T?Ge(this.c,Ie(this.c)*2):Ke(this.c,Math.ceil(U(this.c)-1));var c=Me(this,a.offsetX,a.offsetY,!0)||this.c.Ae(this);c&&this.c.Ib(2*this.c.Sa-c[0],2*this.c.kb-c[1]);a.preventDefault()}},a));this.zj=R(a.a.canvas,"contextmenu",function(a){a.preventDefault()});this.Ba=m;this.Fc=this.Jb=0;this.T=a.c.T}D(Mh,F);
Mh.prototype.Aa=function(a){var b=120;if(this.Ba&&this.T!=this.f.c.T)this.Ba.m(),this.Ba=m;(this.T=this.f.c.T)&&(a*=-1);if(this.Ba)if(this.Fc>this.Jb==a>0)return;else this.Ba.m(),b*=((this.T?Ie(this.f.c):U(this.f.c))-this.Jb)/(this.Fc-this.Jb),a=this.Fc,this.Fc=this.Jb,this.Jb=a;else this.T?(this.Jb=Ie(this.f.c),this.Fc=this.Jb*Math.pow(2,a)):(this.Jb=U(this.f.c),this.Fc=this.Jb+a*0.5);if(!(b<=0))this.Ba=new se([this.T?Ie(this.f.c):U(this.f.c)],[this.Fc],b),R(this.Ba,["animate","finish"],function(a){this.T?
Ge(this.f.c,a.x):Ke(this.f.c,a.x)},!1,this),R(this.Ba,["finish"],this.Hi,!1,this),this.Ba.play(!1)};Mh.prototype.Hi=function(){if(this.Ba)this.Ba.m(),this.Ba=m};Mh.prototype.g=function(){S(this.ma);S(this.Bi);S(this.Sj);S(this.zj);this.yc.m();this.Ba.m()};function Nh(a,b){var c=Cc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
hh.call(this,a,b,c);this.show(!1)}D(Nh,hh);function Oh(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var o=l.tagName=="HTML"||l.tagName=="BODY";if(!o||Uc(l,"position")!="static")k=ad(l),o||(k=kc(k,new N(l.scrollLeft,l.scrollTop)))}l=gd(a);if(o=$c(a)){var p=new oc(o.left,o.top,o.right-o.left,o.bottom-o.top),o=Math.max(l.left,p.left),q=Math.min(l.left+l.width,p.left+p.width);if(o<=q){var v=Math.max(l.top,p.top),p=Math.min(l.top+l.height,p.top+p.height);if(v<=p)l.left=o,l.top=v,l.width=q-o,l.height=p-v}}o=vc(a);v=vc(c);if(o.z!=v.z){var q=o.z.body,
v=v.z.parentWindow||v.z.defaultView,p=new N(0,0),Ub=O(q)?O(q).parentWindow||O(q).defaultView:window,Ef=q;do{var Qh=Ub==v?ad(Ef):cd(Ef);p.x+=Qh.x;p.y+=Qh.y}while(Ub&&Ub!=v&&(Ef=Ub.frameElement)&&(Ub=Ub.parent));q=kc(p,ad(q));J&&!zc(o.z)&&(q=kc(q,Sc(o)));l.left+=q.x;l.top+=q.y}a=(b&4&&bd(a)?b^2:b)&-5;b=new N(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=kc(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var E;if(h&&(E=$c(c))&&k)E.top=Math.max(0,E.top-k.y),E.right-=k.x,E.bottom-=k.y,E.left=
Math.max(0,E.left-k.x);a:{k=E;f=b.ba();E=0;a=(d&4&&bd(c)?d^2:d)&-5;d=fd(c);j=j?j.ba():d.ba();if(g||a!=0)a&2?f.x-=j.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=j.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h){if(k){g=f;E=0;if((h&65)==65&&(g.x<k.left||g.x>=k.right))h&=-2;if((h&132)==132&&(g.y<k.top||g.y>=k.bottom))h&=-5;if(g.x<k.left&&h&1)g.x=k.left,E|=1;g.x<k.left&&g.x+j.width>k.right&&h&16&&(j.width-=g.x+j.width-k.right,E|=4);if(g.x+j.width>k.right&&h&1)g.x=Math.max(k.right-j.width,k.left),E|=1;h&
2&&(E|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4)g.y=k.top,E|=2;g.y>=k.top&&g.y+j.height>k.bottom&&h&32&&(j.height-=g.y+j.height-k.bottom,E|=8);if(g.y+j.height>k.bottom&&h&4)g.y=Math.max(k.bottom-j.height,k.top),E|=2;h&8&&(E|=(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=E}else h=256;E=h;if(E&496){c=E;break a}}Vc(c,f);nc(d,j)||ed(c,j);c=E}return c};function Ph(){}Ph.prototype.Td=aa();function Rh(a,b){this.element=a;this.yd=b}D(Rh,Ph);Rh.prototype.Td=function(a,b,c){Oh(this.element,this.yd,a,b,i,c)};function Sh(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function Th(a,b,c){Rh.call(this,a,b);this.ni=c}D(Th,Rh);Th.prototype.Tg=r(5);Th.prototype.Td=function(a,b,c,d){var f=Oh(this.element,this.yd,a,b,m,c,10,d);if(f&496){var g=this.yd,h=b;f&48&&(g^=2,h^=2);f&192&&(g^=1,h^=1);f=Oh(this.element,g,a,h,m,c,10,d);f&496&&(this.ni?Oh(this.element,this.yd,a,b,m,c,this.Tg(),d):Oh(this.element,this.yd,a,b,m,c,0,d))}};function Uh(a,b,c,d){Th.call(this,a,b,c||d);this.Qj=d}D(Uh,Th);Uh.prototype.Tg=function(){return 65|(this.Qj?32:132)};function Vh(){}D(Vh,mh);ea(Vh);s=Vh.prototype;s.gb=r("button");s.sd=function(a,b,c){b==16?Y(a,"pressed",c):Vh.b.sd.call(this,a,b,c)};s.o=function(a){var b=Vh.b.o.call(this,a),c=a.Fd();c&&this.mg(b,c);(c=a.p())&&this.$(b,c);a.ea&16&&this.sd(b,16,!1);return b};s.fa=function(a,b){var b=Vh.b.fa.call(this,a,b),c=this.p(b);a.Xa=c;a.sg=this.Fd(b);a.ea&16&&this.sd(b,16,!1);return b};s.p=u;s.$=u;s.Fd=function(a){return a.title};s.mg=function(a,b){if(a)a.title=b||""};s.n=r("goog-button");function Wh(){}D(Wh,Vh);ea(Wh);s=Wh.prototype;s.gb=aa();s.o=function(a){Ch(a,!1);a.lf&=-256;Gh(a,32,!1);return a.W().o("button",{"class":this.Tc(a).join(" "),disabled:!a.isEnabled(),title:a.Fd()||"",value:a.p()||""},a.Sc()||"")};s.Ma=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};s.fa=function(a,b){Ch(a,!1);a.lf&=-256;Gh(a,32,!1);b.disabled&&rc(b,this.Dd(1));return Wh.b.fa.call(this,a,b)};s.Yc=function(a){a.sa().i(a.d(),"click",a.fd)};
s.Yd=u;s.nd=u;s.Wb=function(a){return a.isEnabled()};s.cc=u;s.za=function(a,b,c){Wh.b.za.call(this,a,b,c);if((a=a.d())&&b==1)a.disabled=c};s.p=function(a){return a.value};s.$=function(a,b){if(a)a.value=b};s.sd=u;function Xh(a,b,c){Z.call(this,a,b||Wh.ya(),c)}D(Xh,Z);s=Xh.prototype;s.p=n("Xa");s.$=function(a){this.Xa=a;this.j.$(this.d(),a)};s.Fd=n("sg");s.mg=function(a){this.sg=a;this.j.mg(this.d(),a)};s.g=function(){Xh.b.g.call(this);delete this.Xa;delete this.sg};s.ca=function(){Xh.b.ca.call(this);if(this.ea&32){var a=this.X();a&&this.sa().i(a,"keyup",this.Wc)}};s.Wc=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.fd(a);return a.keyCode==32};rh("goog-button",function(){return new Xh(m)});function Yh(){}D(Yh,mh);ea(Yh);Yh.prototype.o=function(a){return a.W().o("div",this.n())};Yh.prototype.fa=function(a,b){if(b.tagName=="HR"){var c=b,b=this.o(a);c.parentNode&&c.parentNode.insertBefore(b,c);Ic(c)}else rc(b,this.n());return b};Yh.prototype.Dc=aa();Yh.prototype.n=r("goog-menuseparator");function Zh(a,b){Z.call(this,m,a||Yh.ya(),b);Gh(this,1,!1);Gh(this,2,!1);Gh(this,4,!1);Gh(this,32,!1);this.B=1}D(Zh,Z);Zh.prototype.ca=function(){Zh.b.ca.call(this);lh(this.d(),"separator")};rh("goog-menuseparator",function(){return new Zh});function $h(){}ea($h);s=$h.prototype;s.gb=aa();function ai(a,b){if(a)a.tabIndex=b?0:-1}s.o=function(a){return a.W().o("div",this.Tc(a).join(" "))};s.V=function(a){return a};s.Ma=function(a){return a.tagName=="DIV"};s.fa=function(a,b){b.id&&ge(a,b.id);var c=this.n(),d=!1,f=qc(b);f&&H(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Hb(!1):b==c+"-horizontal"?a.Ye(bi):b==c+"-vertical"&&a.Ye(ci))},this);d||rc(b,c);di(this,a,this.V(b));return b};
function di(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.xf(d);if(g)g.e=d,b.isEnabled()||g.Hb(!1),b.ud(g),g.fa(d)}else(!d.nodeValue||Da(d.nodeValue)=="")&&c.removeChild(d);d=f}}s.xf=function(a){a:{for(var b=qc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in sh?sh[b[c]]():m)break a;a=m}return a};s.Yc=function(a){a=a.d();jd(a,!0,K);if(J)a.hideFocus=!0;var b=this.gb();b&&lh(a,b)};s.X=function(a){return a.d()};s.n=r("goog-container");
s.Tc=function(a){var b=this.n(),c=[b,a.P==bi?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function ei(){}D(ei,$h);ea(ei);s=ei.prototype;s.gb=r("menu");s.Ma=function(a){return a.tagName=="UL"||ei.b.Ma.call(this,a)};s.xf=function(a){return a.tagName=="HR"?new Zh:ei.b.xf.call(this,a)};s.kc=function(a,b){return Kc(a.d(),b)};s.n=r("goog-menu");s.Yc=function(a){ei.b.Yc.call(this,a);Y(a.d(),"haspopup","true")};rh("goog-menuseparator",function(){return new Zh});function fi(){this.Gg=[]}D(fi,mh);ea(fi);function gi(a,b){var c=a.Gg[b];if(!c){switch(b){case 0:c=a.n()+"-highlight";break;case 1:c=a.n()+"-checkbox";break;case 2:c=a.n()+"-content"}a.Gg[b]=c}return c}s=fi.prototype;s.gb=r("menuitem");s.o=function(a){var b=a.W().o("div",this.Tc(a).join(" "),hi(this,a.bb,a.W()));ii(this,a,b,!!(a.ea&8)||!!(a.ea&16));return b};s.V=function(a){return a&&a.firstChild};
s.fa=function(a,b){var c=Jc(b),d=gi(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(hi(this,b.childNodes,a.W()));Ua(qc(b),"goog-option")&&(a.We(!0),this.We(a,b,!0));return fi.b.fa.call(this,a,b)};s.Dc=function(a,b){var c=this.V(a),d=ji(this,a)?c.firstChild:m;fi.b.Dc.call(this,a,b);d&&!ji(this,a)&&c.insertBefore(d,c.firstChild||m)};function hi(a,b,c){a=gi(a,2);return c.o("div",a,b)}s.We=function(a,b,c){b&&(lh(b,c?"menuitemcheckbox":this.gb()),ii(this,a,b,c))};
function ji(a,b){var c=a.V(b);if(c){var c=c.firstChild,d=gi(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function ii(a,b,c,d){d!=ji(a,c)&&(d?rc(c,"goog-option"):sc(c,"goog-option"),c=a.V(c),d?(a=gi(a,1),c.insertBefore(b.W().o("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}s.Dd=function(a){switch(a){case 2:return gi(this,0);case 16:case 8:return"goog-option-selected";default:return fi.b.Dd.call(this,a)}};
s.Bf=function(a){var b=gi(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return fi.b.Bf.call(this,a)}};s.n=r("goog-menuitem");function ki(a,b,c,d){Z.call(this,a,d||fi.ya(),c);this.$(b)}D(ki,Z);s=ki.prototype;s.p=function(){var a=this.$f;return a!=m?a:this.Sc()};s.$=ba("$f");s.We=function(a){Gh(this,16,a);var b=this.d();b&&this.j.We(this,b,a)};s.Sc=function(){var a=this.bb;if(y(a))return a=Ra(a,function(a){return Ua(qc(a),"goog-menuitem-accel")?"":Pc(a)}).join(""),Ca(a);return ki.b.Sc.call(this)};
s.uc=function(a){var b=this.getParent();if(b){var c=b.Gh;b.Gh=m;if(b=c&&ha(a.clientX))b=new N(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}ki.b.uc.call(this,a)};rh("goog-menuitem",function(){return new ki(m)});function li(a,b,c){ce.call(this,c);this.j=b||$h.ya();this.P=a||ci}D(li,ce);var bi="horizontal",ci="vertical";s=li.prototype;s.lh=m;s.L=m;s.j=m;s.P=m;s.r=!0;s.ga=!0;s.sf=!0;s.ha=-1;s.Z=m;s.Bb=!1;s.oi=!1;s.Kj=!0;s.Pb=m;s.X=function(){return this.lh||this.j.X(this)};s.ye=function(){return this.L||(this.L=new wh(this.X()))};s.o=function(){this.e=this.j.o(this)};s.V=function(){return this.j.V(this.d())};s.Ma=function(a){return this.j.Ma(a)};
s.cb=function(a){this.e=this.j.fa(this,a);if(a.style.display=="none")this.r=!1};s.ca=function(){li.b.ca.call(this);ke(this,function(a){a.G&&mi(this,a)},this);var a=this.d();this.j.Yc(this);this.Ja(this.r,!0);this.sa().i(this,"enter",this.Cf).i(this,"highlight",this.Df).i(this,"unhighlight",this.Jf).i(this,"open",this.Vi).i(this,"close",this.Ni).i(a,"mousedown",this.tc).i(O(a),"mouseup",this.Pi).i(a,["mousedown","mouseup","mouseover","mouseout"],this.Mi);this.Wb()&&ni(this,!0)};
function ni(a,b){var c=a.sa(),d=a.X();b?c.i(d,"focus",a.sc).i(d,"blur",a.zb).i(a.ye(),"key",a.Pa):c.aa(d,"focus",a.sc).aa(d,"blur",a.zb).aa(a.ye(),"key",a.Pa)}s.fb=function(){oi(this,-1);this.Z&&this.Z.Q(!1);this.Bb=!1;li.b.fb.call(this)};s.g=function(){li.b.g.call(this);if(this.L)this.L.m(),this.L=m;this.j=this.Z=this.Pb=m};s.Cf=r(!0);
s.Df=function(a){var b=oe(this,a.target);if(b>-1&&b!=this.ha){var c=me(this,this.ha);c&&c.pb(!1);this.ha=b;c=me(this,this.ha);this.Bb&&c.setActive(!0);this.Kj&&this.Z&&c!=this.Z&&(c.ea&64?c.Q(!0):this.Z.Q(!1))}Y(this.d(),"activedescendant",a.target.d().id)};s.Jf=function(a){if(a.target==me(this,this.ha))this.ha=-1;Y(this.d(),"activedescendant","")};s.Vi=function(a){if((a=a.target)&&a!=this.Z&&a.getParent()==this)this.Z&&this.Z.Q(!1),this.Z=a};s.Ni=function(a){if(a.target==this.Z)this.Z=m};
s.tc=function(a){if(this.ga)this.Bb=!0;var b=this.X();b&&Oc(b)?b.focus():a.preventDefault()};s.Pi=function(){this.Bb=!1};s.Mi=function(a){var b;a:{b=a.target;if(this.Pb)for(var c=this.d();b&&b!==c;){var d=b.id;if(d in this.Pb){b=this.Pb[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.tc(a);break;case "mouseup":b.uc(a);break;case "mouseover":b.If(a);break;case "mouseout":b.Hf(a)}};s.sc=aa();s.zb=function(){oi(this,-1);this.Bb=!1;this.Z&&this.Z.Q(!1)};
s.Pa=function(a){if(this.isEnabled()&&this.r&&(le(this)!=0||this.lh)&&this.Wc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};
s.Wc=function(a){var b=me(this,this.ha);if(b&&typeof b.Pa=="function"&&b.Pa(a))return!0;if(this.Z&&this.Z!=b&&typeof this.Z.Pa=="function"&&this.Z.Pa(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Wb())this.X().blur();else return!1;break;case 36:pi(this);break;case 35:qi(this);break;case 38:if(this.P==ci)ri(this);else return!1;break;case 37:if(this.P==bi)ne(this)?si(this):ri(this);else return!1;break;case 40:if(this.P==ci)si(this);else return!1;
break;case 39:if(this.P==bi)ne(this)?ri(this):si(this);else return!1;break;default:return!1}return!0};function mi(a,b){var c=b.d(),c=c.id||(c.id=fe(b));if(!a.Pb)a.Pb={};a.Pb[c]=b}s.ud=function(a,b){li.b.ud.call(this,a,b)};s.vd=function(a,b,c){a.$e|=2;a.$e|=64;(this.Wb()||!this.oi)&&Gh(a,32,!1);Ch(a,!1);li.b.vd.call(this,a,b,c);c&&this.G&&mi(this,a);b<=this.ha&&this.ha++};
s.removeChild=function(a,b){if(a=z(a)?ie(this,a):a){var c=oe(this,a);c!=-1&&(c==this.ha?a.pb(!1):c<this.ha&&this.ha--);(c=a.d())&&c.id&&ya(this.Pb,c.id)}a=li.b.removeChild.call(this,a,b);Ch(a,!0);return a};s.Ye=function(a){this.d()&&e(Error("Component already rendered"));this.P=a};s.Ja=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){this.r=a;var c=this.d();c&&(hd(c,a),this.Wb()&&ai(this.X(),this.ga&&this.r),b||this.dispatchEvent(this.r?"aftershow":"afterhide"));return!0}return!1};
s.isEnabled=n("ga");s.Hb=function(a){if(this.ga!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.ga=!0,ke(this,function(a){a.ii?delete a.ii:a.Hb(!0)})):(ke(this,function(a){a.isEnabled()?a.Hb(!1):a.ii=!0}),this.Bb=this.ga=!1),this.Wb()&&ai(this.X(),a&&this.r)};s.Wb=n("sf");s.cc=function(a){a!=this.sf&&this.G&&ni(this,a);this.sf=a;this.ga&&this.r&&ai(this.X(),a)};function oi(a,b){var c=me(a,b);c?c.pb(!0):a.ha>-1&&me(a,a.ha).pb(!1)}s.pb=function(a){oi(this,oe(this,a))};
function pi(a){ti(a,function(a,c){return(a+1)%c},le(a)-1)}function qi(a){ti(a,function(a,c){a--;return a<0?c-1:a},0)}function si(a){ti(a,function(a,c){return(a+1)%c},a.ha)}function ri(a){ti(a,function(a,c){a--;return a<0?c-1:a},a.ha)}function ti(a,b,c){for(var c=c<0?oe(a,a.Z):c,d=le(a),c=b.call(a,c,d),f=0;f<=d;){var g=me(a,c);if(g&&a.Fg(g)){oi(a,c);break}f++;c=b.call(a,c,d)}}s.Fg=function(a){return a.r&&a.isEnabled()&&!!(a.ea&2)};function ui(){}D(ui,mh);ea(ui);ui.prototype.n=r("goog-menuheader");function vi(a,b,c){Z.call(this,a,c||ui.ya(),b);Gh(this,1,!1);Gh(this,2,!1);Gh(this,4,!1);Gh(this,32,!1);this.B=1}D(vi,Z);rh("goog-menuheader",function(){return new vi(m)});function wi(a,b){li.call(this,ci,b||ei.ya(),a);this.cc(!1)}D(wi,li);s=wi.prototype;s.jf=!0;s.pi=!1;s.n=function(){return this.j.n()};s.kc=function(a){if(this.j.kc(this,a))return!0;for(var b=0,c=le(this);b<c;b++){var d=me(this,b);if(typeof d.kc=="function"&&d.kc(a))return!0}return!1};s.Mb=function(a){this.ud(a,!0)};s.Nc=function(a,b){this.vd(a,b,!0)};s.Ed=function(a){return me(this,a)};s.xe=function(){return le(this)};
s.Ib=function(a,b){var c=this.r;c||hd(this.d(),!0);dd(this.d(),a,b);c||hd(this.d(),!1)};s.Ug=function(){return this.r?ad(this.d()):m};s.Ja=function(a,b,c){(b=wi.b.Ja.call(this,a,b))&&a&&this.G&&this.jf&&this.X().focus();this.Gh=a&&c&&ha(c.clientX)?new N(c.clientX,c.clientY):m;return b};s.Cf=function(a){this.jf&&this.X().focus();return wi.b.Cf.call(this,a)};s.Fg=function(a){return(this.pi||a.isEnabled())&&a.r&&!!(a.ea&2)};
s.cb=function(a){var b=this.j,c;c=this.W();c=yc(c.z,"div",b.n()+"-content",a);for(var d,f=0;d=c[f];f++)di(b,this,d);wi.b.cb.call(this,a)};function xi(){}D(xi,Vh);ea(xi);s=xi.prototype;s.o=function(a){var b={"class":"goog-inline-block "+this.Tc(a).join(" "),title:a.Fd()||""};return a.W().o("div",b,this.re(a.bb,a.W()))};s.gb=r("button");s.V=function(a){return a&&a.firstChild.firstChild};s.re=function(a,b){return b.o("div","goog-inline-block "+(this.n()+"-outer-box"),b.o("div","goog-inline-block "+(this.n()+"-inner-box"),a))};s.Ma=function(a){return a.tagName=="DIV"};
s.fa=function(a,b){yi(b,!0);yi(b,!1);var c;a:{if((c=a.W().Sg(b))&&c.className.indexOf(this.n()+"-outer-box")!=-1)if((c=a.W().Sg(c))&&c.className.indexOf(this.n()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.re(b.childNodes,a.W()));rc(b,"goog-inline-block",this.n());return xi.b.fa.call(this,a,b)};s.n=r("goog-custom-button");
function yi(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(Da(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function zi(){}D(zi,xi);ea(zi);if(K)zi.prototype.Dc=function(a,b){var c=zi.b.V.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,vc(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};s=zi.prototype;s.V=function(a){a=zi.b.V.call(this,a&&a.firstChild);if(K&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};s.fa=function(a,b){var c=yc(document,"*","goog-menu",b)[0];if(c){hd(c,!1);O(c).body.appendChild(c);var d=new wi;d.fa(c);a.$d(d)}return zi.b.fa.call(this,a,b)};
s.re=function(a,b){return zi.b.re.call(this,[this.createCaption(a,b),b.o("div","goog-inline-block "+(this.n()+"-dropdown"),"\u00a0")],b)};s.createCaption=function(a,b){return b.o("div","goog-inline-block "+(this.n()+"-caption"),a)};s.n=r("goog-menu-button");function $(a,b,c,d){Xh.call(this,a,c||zi.ya(),d);Gh(this,64,!0);b&&this.$d(b);this.s=new pe(500)}D($,Xh);s=$.prototype;s.Ag=!0;s.ig=!1;s.Pf=!1;s.Oj=!1;s.ca=function(){$.b.ca.call(this);this.k&&Ai(this,this.k,!0);Y(this.d(),"haspopup","true")};s.fb=function(){$.b.fb.call(this);if(this.k){this.Q(!1);this.k.fb();Ai(this,this.k,!1);var a=this.k.d();a&&Ic(a)}};s.g=function(){$.b.g.call(this);this.k&&(this.k.m(),delete this.k);delete this.Mj;this.s.m()};
s.tc=function(a){$.b.tc.call(this,a);if(this.Id()&&(this.Q(!this.jb(),a),this.k))this.k.Bb=this.jb()};s.uc=function(a){$.b.uc.call(this,a);if(this.k&&!this.Id())this.k.Bb=!1};s.fd=function(){this.setActive(!1);return!0};s.Oi=function(a){this.k&&this.k.r&&!this.kc(a.target)&&this.Q(!1)};s.kc=function(a){return a&&Kc(this.d(),a)||this.k&&this.k.kc(a)||!1};
s.Wc=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.k&&this.k.r){var b=this.k.Pa(a);if(a.keyCode==27)return this.Q(!1),!0;return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32)return this.Q(!0),!0;return!1};s.Ff=function(){this.Q(!1)};s.Si=function(){this.Id()||this.Q(!1)};s.zb=function(a){this.Pf||this.Q(!1);$.b.zb.call(this,a)};function Bi(a){a.k||a.$d(new wi(a.W()));return a.k||m}
s.$d=function(a){var b=this.k;if(a!=b&&(b&&(this.Q(!1),this.G&&Ai(this,b,!1),delete this.k),a)){this.k=a;he(a,this);a.Ja(!1);var c=this.Pf;(a.jf=c)&&a.cc(!0);this.G&&Ai(this,a,!0)}return b};s.Mb=function(a){Bi(this).ud(a,!0)};s.Nc=function(a,b){Bi(this).vd(a,b,!0)};s.Ed=function(a){return this.k?me(this.k,a):m};s.xe=function(){return this.k?le(this.k):0};s.Ja=function(a,b){var c=$.b.Ja.call(this,a,b);c&&!this.r&&this.Q(!1);return c};s.Hb=function(a){$.b.Hb.call(this,a);this.isEnabled()||this.Q(!1)};
s.Q=function(a,b){$.b.Q.call(this,a);if(this.k&&!!(this.B&64)==a){if(a)this.k.G||(this.Oj?this.k.Fb(this.d().parentNode):this.k.Fb()),this.gi=$c(this.d()),this.Dg=gd(this.d()),Ci(this),oi(this.k,-1);else if(this.setActive(!1),this.k.Bb=!1,this.d()&&Y(this.d(),"activedescendant",""),this.Se!=m){this.Se=i;var c=this.k.d();c&&ed(c,"","")}this.k.Ja(a,!1,b);var c=this.sa(),d=a?c.i:c.aa;d.call(c,Rc(this.W()),"mousedown",this.Oi,!0);this.Pf&&d.call(c,this.k,"blur",this.Si);d.call(c,this.s,re,this.ed);a?
this.s.start():this.s.stop()}};function Ci(a){if(a.k.G){var b=new Uh(a.Mj||a.d(),a.Ag?5:7,!a.ig,a.ig),c=a.k.d();if(!a.k.r)c.style.visibility="hidden",hd(c,!0);if(!a.Se&&a.ig)a.Se=fd(c);b.Td(c,a.Ag?4:6,m,a.Se);if(!a.k.r)hd(c,!1),c.style.visibility="visible"}}
s.ed=function(){var a=gd(this.d()),b=$c(this.d()),c;c=this.Dg;c=c==a?!0:!c||!a?!1:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c))c=this.gi,c=c==b?!0:!c||!b?!1:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left,c=!c;if(c)this.Dg=a,this.gi=b,Ci(this)};function Ai(a,b,c){var d=a.sa(),c=c?d.i:d.aa;c.call(d,b,"action",a.Ff);c.call(d,b,"highlight",a.Df);c.call(d,b,"unhighlight",a.Jf)}s.Df=function(a){Y(this.d(),"activedescendant",a.target.d().id)};
s.Jf=function(){me(this.k,this.k.ha)||Y(this.d(),"activedescendant","")};rh("goog-menu-button",function(){return new $(m)});function Di(a){F.call(this);this.xc=[];Ei(this,a)}D(Di,T);s=Di.prototype;s.bc=m;s.Cc=m;s.xe=function(){return this.xc.length};s.Ed=function(a){return this.xc[a]||m};function Ei(a,b){b&&(H(b,function(a){Fi(this,a,!1)},a),Ya(a.xc,b))}s.Mb=function(a){this.Nc(a,this.xe())};s.Nc=function(a,b){a&&(Fi(this,a,!1),Za(this.xc,b,0,a))};s.ze=n("bc");s.dc=function(a){if(a!=this.bc)Fi(this,this.bc,!1),this.bc=a,Fi(this,a,!0);this.dispatchEvent("select")};s.Af=function(){return this.bc?Pa(this.xc,this.bc):-1};
s.Rh=function(a){this.dc(this.Ed(a))};s.clear=function(){var a=this.xc;if(!y(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.bc=m};s.g=function(){Di.b.g.call(this);delete this.xc;this.bc=m};function Fi(a,b,c){b&&(typeof a.Cc=="function"?a.Cc(b,c):typeof b.lg=="function"&&b.lg(c))};function Gi(a,b,c,d){$.call(this,a,b,c,d);this.se=a;Hi(this)}D(Gi,$);s=Gi.prototype;s.J=m;s.se=m;s.ca=function(){Gi.b.ca.call(this);Hi(this);Ii(this)};s.cb=function(a){Gi.b.cb.call(this,a);(a=this.Sc())?(this.se=a,Hi(this)):this.Rh(0)};s.g=function(){Gi.b.g.call(this);if(this.J)this.J.m(),this.J=m;this.se=m};s.Ff=function(a){this.dc(a.target);Gi.b.Ff.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.Xi=function(){var a=this.ze();Gi.b.$.call(this,a&&a.p());Hi(this)};
s.$d=function(a){var b=Gi.b.$d.call(this,a);a!=b&&(this.J&&this.J.clear(),a&&(this.J?ke(a,function(a){this.J.Mb(a)},this):Ji(this,a)));return b};s.Mb=function(a){Gi.b.Mb.call(this,a);this.J?this.J.Mb(a):Ji(this,Bi(this))};s.Nc=function(a,b){Gi.b.Nc.call(this,a,b);this.J?this.J.Nc(a,b):Ji(this,Bi(this))};s.dc=function(a){this.J&&this.J.dc(a)};s.Rh=function(a){this.J&&this.dc(this.J.Ed(a))};
s.$=function(a){if(a!=m&&this.J)for(var b=0,c;c=this.J.Ed(b);b++)if(c&&typeof c.p=="function"&&c.p()==a){this.dc(c);return}this.dc(m)};s.ze=function(){return this.J?this.J.ze():m};s.Af=function(){return this.J?this.J.Af():-1};function Ji(a,b){a.J=new Di;b&&ke(b,function(a){this.J.Mb(a)},a);Ii(a)}function Ii(a){a.J&&a.sa().i(a.J,"select",a.Xi)}function Hi(a){var b=a.ze();a.Dc(b?b.Sc():a.se)}s.Q=function(a,b){Gi.b.Q.call(this,a,b);this.jb()&&oi(Bi(this),this.Af())};rh("goog-select",function(){return new Gi(m)});function Ki(a,b){this.f=a;this.ld=new Gi("---");this.ma=R(this.ld,"action",function(b){a.pa.jc(b.target.p())});this.ld.Fb(b)}D(Ki,F);Ki.prototype.gc=function(a,b){var c=new ki(a.name,a);this.ld.Mb(c);if(b||this.ld.xe()==1)this.ld.dc(c),this.f.pa.jc(a)};Ki.prototype.g=function(){S(this.ma);this.ld.m()};function Li(a,b,c){Xh.call(this,a,b||xi.ya(),c)}D(Li,Xh);rh("goog-custom-button",function(){return new Li(m)});function Mi(a,b,c){F.call(this);this.target=a;this.handle=b||a;this.qh=c||new oc(NaN,NaN,NaN,NaN);this.z=O(a);this.eb=new Xd(this);R(this.handle,["touchstart","mousedown"],this.Sh,!1,this)}D(Mi,T);var Ni=J||K&&M("1.9.3");s=Mi.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.Uh=0;s.Vh=0;s.Qc=0;s.Rb=0;s.ga=!0;s.Fa=!1;s.fh=0;s.pj=0;s.$i=!1;s.sa=n("eb");s.Hb=ba("ga");
s.g=function(){Mi.b.g.call(this);Rd(this.handle,["touchstart","mousedown"],this.Sh,!1,this);this.eb.m();delete this.target;delete this.handle;delete this.eb};
s.Sh=function(a){var b=a.type=="mousedown";if(this.ga&&!this.Fa&&(!b||ud(a))){Oi(a);if(this.fh==0)if(Pi(this,a),this.Fa)a.preventDefault();else return;else a.preventDefault();var b=this.z,c=b.documentElement,d=!Ni;this.eb.i(b,["touchmove","mousemove"],this.Ui,d);this.eb.i(b,["touchend","mouseup"],this.te,d);Ni?(c.setCapture(!1),this.eb.i(c,"losecapture",this.te)):this.eb.i(b?b.parentWindow||b.defaultView:window,"blur",this.te);J&&this.$i&&this.eb.i(b,"dragstart",pd);this.Tj&&this.eb.i(this.Tj,"scroll",
this.Jj,d);this.clientX=this.Uh=a.clientX;this.clientY=this.Vh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Qc=this.target.offsetLeft;this.Rb=this.target.offsetTop;this.Rd=Sc(vc(this.z));this.pj=C()}};function Pi(a,b){if(a.dispatchEvent(new Qi("start",a,b.clientX,b.clientY,b))!==!1)a.Fa=!0}
s.te=function(a,b){$d(this.eb);Ni&&this.z.releaseCapture();if(this.Fa)Oi(a),this.Fa=!1,this.dispatchEvent(new Qi("end",this,a.clientX,a.clientY,a,Ri(this,this.Qc),Si(this,this.Rb),b||a.type=="touchcancel"));(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function Oi(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Vb(a.ra.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Vb(a.ra.changedTouches[0],a.currentTarget)}
s.Ui=function(a){if(this.ga){Oi(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Fa){var d=this.Uh-this.clientX,f=this.Vh-this.clientY;if(d*d+f*f>this.fh&&(Pi(this,a),!this.Fa)){this.te(a);return}}c=Ti(this,b,c);b=c.x;c=c.y;this.Fa&&this.dispatchEvent(new Qi("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Ui(this,a,b,c),a.preventDefault())}};
function Ti(a,b,c){var d=Sc(vc(a.z));b+=d.x-a.Rd.x;c+=d.y-a.Rd.y;a.Rd=d;a.Qc+=b;a.Rb+=c;return new N(Ri(a,a.Qc),Si(a,a.Rb))}s.Jj=function(a){var b=Ti(this,0,0);a.clientX=this.Rd.x-this.clientX;a.clientY=this.Rd.y-this.clientY;Ui(this,a,b.x,b.y)};function Ui(a,b,c,d){a.pf(c,d);a.dispatchEvent(new Qi("drag",a,b.clientX,b.clientY,b,c,d))}function Ri(a,b){var c=a.qh,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function Si(a,b){var c=a.qh,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.pf=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function Qi(a,b,c,d,f,g,h,j){P.call(this,a);this.clientX=c;this.clientY=d;this.mk=f;this.left=w(g)?g:b.Qc;this.top=w(h)?h:b.Rb;this.Mg=b;this.nk=!!j}D(Qi,P);function Vi(a,b,c,d,f){se.call(this,b,c,d,f);this.element=a}D(Vi,se);Vi.prototype.ee=u;Vi.prototype.dg=function(){this.ee();Vi.b.dg.call(this)};Vi.prototype.dd=function(){this.ee();Vi.b.dd.call(this)};Vi.prototype.Eb=function(){this.ee();Vi.b.Eb.call(this)};function Wi(a,b,c){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));Vi.apply(this,arguments)}D(Wi,Vi);
Wi.prototype.ee=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Xi(a,b,c,d){Wi.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}D(Xi,Wi);Xi.prototype.Eb=function(){this.od=[this.element.offsetLeft,this.element.offsetTop];Xi.b.Eb.call(this)};function Yi(a,b,c,d,f){ha(b)&&(b=[b]);ha(c)&&(c=[c]);Vi.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}D(Yi,Vi);
Yi.prototype.ee=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};Yi.prototype.show=function(){this.element.style.display=""};function Zi(a,b,c){Yi.call(this,a,1,0,b,c)}D(Zi,Yi);Zi.prototype.Eb=function(){this.show();Zi.b.Eb.call(this)};Zi.prototype.dd=function(){this.element.style.display="none";Zi.b.dd.call(this)};
function $i(a,b,c){Yi.call(this,a,0,1,b,c)}D($i,Yi);$i.prototype.Eb=function(){this.show();$i.b.Eb.call(this)};function aj(){F.call(this)}D(aj,T);s=aj.prototype;s.Xa=0;s.Ua=0;s.Ha=100;s.Ca=0;s.pd=1;s.ib=!1;s.ad=!1;s.$=function(a){a=bj(this,a);if(this.Xa!=a)this.Xa=a+this.Ca>this.Ha?this.Ha-this.Ca:a<this.Ua?this.Ua:a,!this.ib&&!this.ad&&this.dispatchEvent("change")};s.p=function(){return bj(this,this.Xa)};s.Zd=function(a){a=bj(this,a);if(this.Ca!=a)this.Ca=a<0?0:this.Xa+a>this.Ha?this.Ha-this.Xa:a,!this.ib&&!this.ad&&this.dispatchEvent("change")};
s.pc=function(){var a;a=this.Ca;a=this.pd==m?a:Math.round(a/this.pd)*this.pd;return a};s.jg=function(a){if(this.Ua!=a){var b=this.ib;this.ib=!0;this.Ua=a;if(a+this.Ca>this.Ha)this.Ca=this.Ha-this.Ua;a>this.Xa&&this.$(a);if(a>this.Ha)this.Ca=0,this.Xe(a),this.$(a);this.ib=b;!this.ib&&!this.ad&&this.dispatchEvent("change")}};s.la=function(){return bj(this,this.Ua)};
s.Xe=function(a){a=bj(this,a);if(this.Ha!=a){var b=this.ib;this.ib=!0;this.Ha=a;a<this.Xa+this.Ca&&this.$(a-this.Ca);if(a<this.Ua)this.Ca=0,this.jg(a),this.$(this.Ha);if(a<this.Ua+this.Ca)this.Ca=this.Ha-this.Ua;this.ib=b;!this.ib&&!this.ad&&this.dispatchEvent("change")}};s.ta=function(){return bj(this,this.Ha)};function bj(a,b){if(a.pd==m)return b;return a.Ua+Math.round((b-a.Ua)/a.pd)*a.pd};function cj(a){ce.call(this,a);this.w=new aj;R(this.w,"change",this.Wi,!1,this)}D(cj,ce);s=cj.prototype;s.P="horizontal";s.Of=!1;s.tj=!1;s.Nb=10;s.Qd=0;s.o=function(){cj.b.o.call(this);this.cb(this.W().o("div",this.n(this.P)))};s.cb=function(a){cj.b.cb.call(this,a);rc(a,this.n(this.P));var a=this.d(),b=yc(document,m,"goog-slider-thumb",a)[0];b||(b=this.W().o("div","goog-slider-thumb"),lh(b,"button"),a.appendChild(b));this.U=this.wa=b;lh(this.d(),"slider");dj(this)};
s.ca=function(){cj.b.ca.call(this);this.Mc=new Mi(this.U);this.Bd=new Mi(this.wa);this.Mc.pf=this.Bd.pf=u;this.L=new wh(this.d());this.yc=new Kh(this.d());this.sa().i(this.Mc,"beforedrag",this.Vg).i(this.Bd,"beforedrag",this.Vg).i(this.L,"key",this.Ef).i(this.d(),"mousedown",this.Be).i(this.yc,"mousewheel",this.Ti);this.d().tabIndex=0;ej(this)};
s.Vg=function(a){var b=a.Mg==this.Mc?this.U:this.wa,c;this.P=="vertical"?(c=this.d().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.ta()-this.la())+this.la()):c=a.left/(this.d().clientWidth-b.offsetWidth)*(this.ta()-this.la())+this.la();c=a.Mg==this.Mc?Math.min(Math.max(c,this.la()),this.p()+this.pc()):Math.min(Math.max(c,this.p()),this.ta());fj(this,b,c)};
s.Ef=function(a){var b=!0;switch(a.keyCode){case 36:gj(this,this.la());break;case 35:gj(this,this.ta());break;case 33:hj(this,this.Nb);break;case 34:hj(this,-this.Nb);break;case 37:case 40:hj(this,a.shiftKey?-this.Nb:-this.tg);break;case 39:case 38:hj(this,a.shiftKey?this.Nb:this.tg);break;default:b=!1}b&&a.preventDefault()};
s.Be=function(a){this.d().focus&&this.d().focus();var b=a.target;if(!Kc(this.U,b)&&!Kc(this.wa,b))if(this.tj)gj(this,ij(this,a));else{this.ng(a);this.Ka=jj(this,ij(this,a));this.gh=this.P=="vertical"?this.He<this.Ka.offsetTop:this.He>this.Ka.offsetLeft+this.Ka.offsetWidth;a=O(this.d());this.sa().i(a,"mouseup",this.$g,!0).i(this.d(),"mousemove",this.ng);if(!this.Ub)this.Ub=new pe(200),this.sa().i(this.Ub,re,this.ah);this.ah();this.Ub.start()}};s.Ti=function(a){hj(this,(a.detail>0?-1:1)*this.tg);a.preventDefault()};
s.ah=function(){var a;if(this.P=="vertical"){var b=this.He,c=this.Ka.offsetTop;this.gh?b<c&&(a=kj(this,this.Ka)+this.Nb):b>c+this.Ka.offsetHeight&&(a=kj(this,this.Ka)-this.Nb)}else b=this.He,c=this.Ka.offsetLeft,this.gh?b>c+this.Ka.offsetWidth&&(a=kj(this,this.Ka)+this.Nb):b<c&&(a=kj(this,this.Ka)-this.Nb);w(a)&&fj(this,this.Ka,a)};s.$g=function(){this.Ub&&this.Ub.stop();var a=O(this.d());this.sa().aa(a,"mouseup",this.$g,!0).aa(this.d(),"mousemove",this.ng)};
function lj(a,b){var c,d=a.d();c=cd(b);d=cd(d);c=new N(c.x-d.x,c.y-d.y);return a.P=="vertical"?c.y:c.x}s.ng=function(a){this.He=lj(this,a)};function ij(a,b){var c=a.la(),d=a.ta();if(a.P=="vertical"){var f=a.U.offsetHeight,g=a.d().clientHeight-f,f=lj(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.U.offsetWidth,g=a.d().clientWidth-f,f=lj(a,b)-f/2,(d-c)*f/g+c}
function kj(a,b){if(b==a.U)return a.w.p();else if(b==a.wa)return a.w.p()+a.w.pc();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function hj(a,b){var c=kj(a,a.U)+b,d=kj(a,a.wa)+b,c=Hb(c,a.la(),a.ta()-a.Qd),d=Hb(d,a.la()+a.Qd,a.ta());mj(a,c,d-c)}function fj(a,b,c){var d=m;b==a.wa&&c<=a.w.ta()&&c>=a.w.p()+a.Qd&&(d=c-a.w.p());var f=d||a.w.pc();b==a.U&&c>=a.la()&&c<=a.w.p()+f-a.Qd&&(b=f-(c-a.w.p()),bj(a.w,c)+bj(a.w,b)==bj(a.w,c+b)&&(mj(a,c,b),d=m));d!=m&&a.w.Zd(d)}
function mj(a,b,c){if(a.la()<=b&&b<=a.ta()-c&&a.Qd<=c&&c<=a.ta()-b&&!(b==a.p()&&c==a.pc()))a.w.ad=!0,a.w.Zd(0),a.w.$(b),a.w.Zd(c),a.w.ad=!1,ej(a),a.dispatchEvent("change")}s.la=function(){return this.w.la()};s.jg=function(a){this.w.jg(a)};s.ta=function(){return this.w.ta()};s.Xe=function(a){this.w.Xe(a)};function jj(a,b){return b<=a.w.p()+a.w.pc()/2?a.U:a.wa}s.Wi=function(){ej(this);dj(this);this.dispatchEvent("change")};
function ej(a){if(a.U&&!a.Of){var b=nj(a,kj(a,a.U)),c=nj(a,kj(a,a.wa));a.P=="vertical"?(a.U.style.top=b.y+"px",a.wa.style.top=c.y+"px"):(a.U.style.left=b.x+"px",a.wa.style.left=c.x+"px")}}function nj(a,b){var c=new N;if(a.U){var d=a.la(),f=a.ta(),d=b==d&&d==f?0:(b-d)/(f-d);a.P=="vertical"?(f=a.d().clientHeight-a.U.offsetHeight,c.y=f-Math.round(d*f)):c.x=Math.round(d*(a.d().clientWidth-a.U.offsetWidth))}return c}
function gj(a,b){b=Math.min(a.ta(),Math.max(b,a.la()));a.zd&&a.zd.stop(!0);var c=jj(a,b),d=nj(a,b),d=new Xi(c,a.P=="vertical"?[c.offsetLeft,d.y]:[d.x,c.offsetTop],100);a.zd=d;a.sa().i(d,"end",a.Fi);a.Of=!0;fj(a,c,b);d.play(!1)}s.Fi=function(){this.Of=!1};
s.Ye=function(a){if(this.P!=a){var b=this.n(this.P),c=this.n(a);this.P=a;if(this.d()){for(var a=this.d(),d=qc(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Za(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.U.style.left=this.U.style.top="";this.wa.style.left=this.wa.style.top="";ej(this)}}};
s.g=function(){cj.b.g.call(this);this.Ub&&this.Ub.m();delete this.Ub;this.zd&&this.zd.m();delete this.zd;delete this.U;delete this.wa;this.w.m();delete this.w;this.L&&(this.L.m(),delete this.L);this.yc&&(this.yc.m(),delete this.yc);this.Mc&&(this.Mc.m(),delete this.Mc);this.Bd&&(this.Bd.m(),delete this.Bd)};s.tg=1;s.p=function(){return this.w.p()};s.$=function(a){fj(this,this.U,a)};s.pc=function(){return this.w.pc()};s.Zd=function(a){fj(this,this.wa,this.w.p()+a)};
s.Ja=function(a){hd(this.d(),a);a&&ej(this)};function dj(a){var b=a.d();b&&(Y(b,"valuemin",a.la()),Y(b,"valuemax",a.ta()),Y(b,"valuenow",a.p()))};function oj(a){cj.call(this,a);this.w.Zd(0)}D(oj,cj);oj.prototype.n=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function pj(a,b){this.f=a;this.Ec=new oj;this.Ec.Ye("vertical");this.Ec.Xe(400);qj=!1;this.Ec.$((U(this.f.c)-Le(this.f))*400/this.f.pa.ka.Sb());this.ma=R(this.Ec,"change",function(b){qj==!1&&Ke(a.c,b.target.p()*(a.pa.ka.Sb()-Le(a))/400+Le(a));qj=!1});this.kk=R(this.f.c,De,this.jk,!1,this);this.hf=new Li("");Eh(this.hf,"addzoom");this.pg=new Li("");Eh(this.pg,"substractzoom");this.li=R(this.hf,"action",function(){Ke(a.c,Math.floor(U(a.c)+1))});this.Yj=R(this.pg,"action",function(){Ke(a.c,Math.floor(U(a.c)-
1))});this.hf.Fb(xc("addzoom"));this.pg.Fb(xc("substractzoom"));this.Ec.Fb(b)}var qj;D(pj,F);pj.prototype.jk=function(){qj=!0;this.Ec.$((U(this.f.c)-Le(this.f))*400/this.f.pa.ka.Sb())};pj.prototype.g=function(){S(this.ma);S(this.kk);S(this.li);S(this.Yj);this.Ec.m()};function rj(a,b){this.name="Bing Maps - "+a;var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;t[c]=w(t[c])?Sh(B(this.Qh,this),t[c]):B(this.Qh,this);c=document.createElement("script");c.src=d;c.type="text/javascript";yc(document,"head",i,i)[0].appendChild(c)}D(rj,Fb);s=rj.prototype;s.Qh=function(a){this.Pd=a;a.resourceSets.length>0&&(this.ob=a.resourceSets[0].resources[0]);this.Ig()};s.zf=function(){return x(this.ob)?0:this.ob.zoomMin};
s.Sb=function(){return x(this.ob)?18:this.ob.zoomMax};s.rc=r(256);function sj(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}s.Uc=function(a,b,c){return x(this.ob)?"":this.ob.imageUrl.replace("{subdomain}",this.ob.imageUrlSubdomains[Gb(this.ob.imageUrlSubdomains.length)]).replace("{quadkey}",sj(a,b,c))};s.Xf=function(a){return x(this.ob)?!1:rj.b.Xf.call(this,a)};s.ne=function(a){x(this.Pd)||Gc(a,this.Pd.copyright)};s.yf=function(){if(!x(this.Pd))return this.Pd.brandLogoUri;return m};
s.Pd=m;s.ob=m;function tj(a,b){this.fe=new Nf(a);this.yi=b?b:"callback";this.Kc=5E3}var uj=0;
tj.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(uj++).toString(36)+C().toString(36);t._callbacks_||(t._callbacks_={});var f=document.createElement("script"),g=m;this.Kc>0&&(g=t.setTimeout(vj(d,f,a,c),this.Kc));c=this.fe.ba();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&cg(c,h,a[h]);b&&(t._callbacks_[d]=wj(d,f,b,g),cg(c,this.yi,"_callbacks_."+d));Ac(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Ra:d,Kc:g}};tj.prototype.cancel=function(a){if(a&&a.Ra){var b=xc(a.Ra);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.Ra]=="function"&&(a.Kc&&t.clearTimeout(a.Kc),xj(a.Ra,b,!1))}};function vj(a,b,c,d){return function(){xj(a,b,!1);d&&d(c)}}function wj(a,b,c,d){return function(){t.clearTimeout(d);xj(a,b,!0);c.apply(i,arguments)}}function xj(a,b,c){t.setTimeout(function(){Ic(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function yj(a,b){this.fk=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Sd=b||{};this.kh=new tj(this.fk,"json_callback")}
function zj(a,b,c,d){a.Sd.q=b;a.Sd.format="json";a.Sd.addressdetails=1;a.Sd.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.Bj=b;if(!(c>1&&b===a.Bj))a.Lh!==m&&a.kh.cancel(a.Lh),a.Lh=a.kh.send(a.Sd,function(a){var c=Qa(a,function(a){return a["class"]=="place"});c.length>0?(H(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};function Aj(a,b,c,d){F.call(this);this.M=a||document.body;this.S=vc(this.M);this.Pj=!a;this.e=m;this.Wa="";this.oa=[];this.Th=this.De=-1;this.r=!1;this.className="ac-renderer";this.gg="ac-row";this.ph="active";this.zg="ac-active";this.Yi="ac-highlighted";this.Pc=b||m;this.gk=d!=m?d:!0;this.Lf=!1;this.Rj=c!=m?c:!1;this.Rf=m;this.cf=!1;this.Le=0}D(Aj,T);s=Aj.prototype;s.d=n("e");s.fg=function(a,b,c){this.Wa=b;this.oa=a;this.De=-1;this.Th=C();this.ja=c;this.Wd=[];Bj(this)};
s.vb=function(){this.ja&&Y(this.ja,"activedescendant","");if(this.r)this.r=!1,this.Le>0?(new Zi(this.e,this.Le)).play():hd(this.e,!1)};s.show=function(){if(!this.r)this.r=!0,this.Le>0?(new $i(this.e,this.Le)).play():hd(this.e,!0)};
function Cj(a,b){Dj(a);a.De=b;if(b>=0&&b<a.e.childNodes.length){var c=a.Wd[b];rc(c,a.zg,a.ph);a.ja&&Y(a.ja,"activedescendant",c?c.id:"");var d=a.e,f=ad(c),g=ad(d),h;if(J){var j=ld(d,"borderLeft");h=ld(d,"borderRight");var k=ld(d,"borderTop"),l=ld(d,"borderBottom");h=new lc(k,h,l,j)}else j=Tc(d,"borderLeftWidth"),h=Tc(d,"borderRightWidth"),k=Tc(d,"borderTopWidth"),l=Tc(d,"borderBottomWidth"),h=new lc(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j));j=f.x-g.x-h.left;f=f.y-g.y-h.top;g=d.clientHeight-
c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function Dj(a){a.De>=0&&sc(a.Wd[a.De],a.zg,a.ph)}s.Qa=function(a){if(a==-1)Cj(this,-1);else for(var b=0;b<this.oa.length;b++)if(this.oa[b].id==a){Cj(this,b);break}};
function Ej(a){if(!a.e){var b=a.S.o("div",{style:"display:none"});a.e=b;rc(b,a.className);lh(b,"listbox");b.id=be(ae.ya());a.ja&&(lh(a.ja,"combobox"),Y(a.ja,"autocomplete","list"),Y(a.ja,"haspopup",!0));a.S.appendChild(a.M,b);R(b,"click",a.Wg,!1,a);R(b,"mousedown",a.Be,!1,a);R(a.S.z,"mousedown",a.Yg,!1,a);R(b,"mouseover",a.Zg,!1,a)}}
function Bj(a){Ej(a);if(a.cf)a.e.style.visibility="hidden";a.Wd.length=0;a.S.Jh(a.e);if(a.Pc&&a.Pc.Fb)a.Pc.Fb(a);else{var b=m;ib(a.oa,function(a){var d=this.Wa,f=this.S.o("div",{className:this.gg,id:be(ae.ya())});lh(f,"option");this.Pc&&this.Pc.Kh?this.Pc.Kh(a,d,f):f.innerHTML=Ga(a.data.toString());d&&this.gk&&Fj(this,f,d);rc(f,this.gg);this.Wd.push(f);a=f;this.cf?this.e.insertBefore(a,b):this.S.appendChild(this.e,a);b=a},a)}a.oa.length==0?a.vb():(a.show(),Gj(a.e),a.Td(),jd(a.e,!0))}
s.Td=function(){if(this.ja&&this.Pj){var a=ad(this.ja),b=fd(this.ja),c=fd(Xc(this.ja)),d=fd(this.e);a.y=this.cf?a.y-d.height:a.y+b.height;(this.Rj||a.x+d.width>c.width)&&this.Rf!="LEFT"?(a.x=a.x+b.width-d.width,this.Rf="RIGHT"):this.Rf="LEFT";dd(this.e,a);if(this.cf)this.e.style.visibility="visible"}};
s.g=function(){Aj.b.g.call(this);if(this.e)Rd(this.e,"click",this.Wg,!1,this),Rd(this.e,"mousedown",this.Be,!1,this),Rd(this.S.z,"mousedown",this.Yg,!1,this),Rd(this.e,"mouseover",this.Zg,!1,this),this.S.removeNode(this.e),this.e=m,this.r=!1;delete this.M};function Gj(a){if(K&&Rb)a.style.width="",a.style.overflow="visible",a.style.width=a.offsetWidth,a.style.overflow="auto"}
function Fj(a,b,c){if(b.nodeType==3){var d=m;y(c)&&c.length>1&&!a.Lf&&(d=$a(c,1));c=Hj(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.Lf?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.S.createElement("b"),h.className=a.Yi,a.S.appendChild(h,a.S.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.S.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=$a(c,d*3);b.nodeValue=a.join("")}else d&&Fj(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Fj(a,b,c),b=d}function Hj(a,b){var c="";if(!b)return c;a.Lf?y(b)?(c=Qa(b,function(a){return!/^[\s\xa0]*$/.test(a==m?"":String(a))}),c=Ra(c,Ma),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ma(c),c=c.replace(/ /g,"|")):c=y(b)?b.length>0?Ma(b[0]):"":Ma(b);return c}
function Ij(a,b){for(;b&&b!=a.e&&!Ua(qc(b),a.gg);)b=b.parentNode;return b?Pa(a.Wd,b):-1}s.Wg=function(a){var b=Ij(this,a.target);b>=0&&this.dispatchEvent({type:Tg,kd:this.oa[b].id});a.stopPropagation()};s.Be=function(a){this.dispatchEvent(Ug);a.stopPropagation();a.preventDefault()};s.Yg=function(a){this.ja==a.target?(Dj(this),a.stopPropagation()):this.dispatchEvent(Vg)};s.Zg=function(a){a=Ij(this,a.target);a>=0&&!(C()-this.Th<300)&&this.dispatchEvent({type:Sg,kd:this.oa[a].id})};function ch(a){var b;a:{var c=0,d=0;if(eh(a))c=a.selectionStart,d=-1;else if(J){var f=fh(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function fh(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function gh(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function eh(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};function Jj(a,b,c,d){F.call(this);d=d||150;this.Xd=a!=m?a:Kj;this.Di=this.Xd.substring(0,1);a=this.$c?"[\\s"+this.Xd+"]+":"[\\s]+";this.ci=RegExp("^"+a+"|"+a+"$","g");this.Uj=RegExp("\\s*["+this.Xd+"]$");this.rh=b||"";this.Nj=this.$c=c!=m?c:!0;this.s=d>0?new pe(d):m;this.qa=new Xd(this);this.gf=new Xd(this);this.L=new wh;this.mh=-1}D(Jj,F);var Kj=",;";s=Jj.prototype;s.hk=!0;s.Ji=!0;s.ei=!1;s.Wj=!0;s.Vj=!0;s.N=m;s.Vf="";s.fc=!1;s.hg=!1;s.di=!0;s.p=function(){return this.N.value};
s.$=function(a){this.N.value=a};s.kf=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];Y(b,"haspopup",!0);this.qa.i(b,"focus",this.sc);this.qa.i(b,"blur",this.zb);this.N||this.gf.i(b,"keydown",this.Fj)}};s.g=function(){Jj.b.g.call(this);this.qa.m();delete this.qa;this.gf.m();this.L.m()};function Lj(a){a.s?a.s.setInterval(300):a.s=new pe(300)}
s.Pa=function(a){switch(a.keyCode){case 40:if(this.K.jb())return this.ei?$g(this.K):Zg(this.K),a.preventDefault(),!0;else if(!this.$c)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.K.jb())return this.ei?Zg(this.K):$g(this.K),a.preventDefault(),!0;break;case 9:if(this.K.jb()&&!a.shiftKey){if(this.update(),Wg(this.K)&&this.Nj)return a.preventDefault(),!0}else this.K.vb();break;case 13:if(this.K.jb()){if(this.update(),Wg(this.K))return a.preventDefault(),a.stopPropagation(),!0}else this.K.vb();
break;case 27:if(this.K.jb())return this.K.vb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.fc){if(!this.fc)this.qa.i(this.N,"keyup",this.Dh),this.qa.i(this.N,"keypress",this.Ch),this.fc=!0;return!0}break;default:this.s&&!this.di&&(this.s.stop(),this.s.start())}return Mj(this,a)};function Mj(a,b){var c=a.$c&&b.charCode&&a.Xd.indexOf(String.fromCharCode(b.charCode))!=-1;a.Wj&&c&&a.update();if(a.Vj&&c&&Wg(a.K))return b.preventDefault(),!0;return!1}s.Qi=r(!1);
s.sc=function(a){$d(this.gf);this.K&&Xg(this.K);if(a.target!=this.N)this.N=a.target||m,this.s&&(this.s.start(),this.qa.i(this.s,re,this.ed)),this.Vf=this.p(),this.L.xd(this.N),this.qa.i(this.L,"key",this.Eh),J&&this.qa.i(this.N,"keypress",this.Bh)};s.zb=function(){if(this.N)this.qa.aa(this.L,"key",this.Eh),this.L.detach(),this.qa.aa(this.N,"keyup",this.Qi),J&&this.qa.aa(this.N,"keypress",this.Bh),this.fc&&Nj(this),this.N=m,this.s&&(this.s.stop(),this.qa.aa(this.s,re,this.ed)),this.K&&Yg(this.K)};
s.ed=function(){this.update()};s.Fj=function(a){this.sc(a)};s.Eh=function(a){this.mh=a.keyCode;this.K&&this.Pa(a)};s.Ch=function(){this.fc&&this.mh!=229&&Nj(this)};s.Dh=function(a){this.fc&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Nj(this)};function Nj(a){if(a.fc)a.fc=!1,a.qa.aa(a.N,"keypress",a.Ch),a.qa.aa(a.N,"keyup",a.Dh)}s.Bh=function(a){Mj(this,a)};
s.update=function(a){if(a||this.N&&this.p()!=this.Vf){if(a||!this.hg){var a=ch(this.N),b=this.p(),a=dh(this,b)[bh(this,b,a)],a=this.ci?String(a).replace(this.ci,""):a;if(this.K&&(this.K.ja=this.N,b=this.K,this.p(),b.Wa!=a))b.Wa=a,zj(b.Od,b.Wa,b.hj,B(b.fj,b)),Xg(b)}this.Vf=this.p()}this.hg=!1};function bh(a,b,c){a=dh(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++)f+=a[d].length,b=d;return b}
function dh(a,b){if(!a.$c)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.rh&&a.rh.indexOf(c[g])!=-1){if(a.Ji&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.Xd.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function Oj(a,b,c){var d=new Aj(m,{Kh:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.Od=new yj(b,c);b=new Jj(m,m,!1);Lj(b);b.di=!1;b.K=this;b.kf(a);Rg.call(this,this.Od,d,b);this.addEventListener("update",function(b){a.value=b.kd.display_name})}D(Oj,Rg);Oj.prototype.search=function(a,b,c){zj(this.Od,a,b,c)};function Pj(a){x(a)||function(){this.a=new ff(a,xc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});gf(this.a);this.th=new pe(15);R(this.th,re,B(function(){var a=this.a,b=a.Y;if(!x(a.uf)){var c=C();if(a.Tf<C()-2E3)a.tf=1E3*a.we/(C()-a.Tf),a.Cg=a.vf/a.we,a.Tf=C(),a.we=0,a.vf=0,a.uf.innerHTML=a.Cg.toFixed(2)+" ms / fps: "+a.tf.toFixed(2);a.we++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.mb.na=Re(4);a.h.wb();!x(a.uf)&&(a.vf+=C()-c);a=this.Yf;H(a.Zf.qc(),
a.ek,a)},this));this.a.h=new Ng(this.a,xc("weapp-infobox"),xc("weapp-mapcopyright"),xc("weapp-maplogo"));this.a.Ue();this.ok=new Qg(this.a.h);this.yk=new Mh(this.a.h);this.dk=new Ki(this.a.h,xc("weapp-tileprovider"));this.zk=new pj(this.a.h,xc("weapp-zoomslider"));this.tk=new Jh(this.a.h,xc("weapp-pancontrol"));var b=xc("weapp-nominatim");this.zh=new Oj(b);this.Yf=new ih(this.a.h,a.parentNode);var c=new Nh(0,0);c.enable(!1);jh(this.Yf,"nominatimMarker",c);var d=B(function(a){this.a.h.c.Ib(I(a.lat),
I(a.lon));this.a.h.c.Ic=0;c.enable(!0);c.oh=a.lat;c.sh=a.lon},this);this.zh.addEventListener("update",function(a){d(a.kd)});R(xc("weapp-nominatimform"),"submit",B(function(a){a.preventDefault();this.zh.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=B(function(){function a(c){c+="=";var d=Ta(b,function(a){return a.indexOf(c)===0});if(d!=m&&(d=d.substr(c.length),d.length>0))return d}var b=window.location.hash.substr(1).split(";"),c=a("zoom")||a("z");isNaN(c)||Ke(this.a.h.c,c);c=
a("alt");isNaN(c)||Ge(this.a.h.c,c);c=a("t");if(!isNaN(c))this.a.h.c.Ic=parseFloat(c);c=a("h");if(!isNaN(c))this.a.h.c.Xc=parseFloat(c);c=a("ll");if(c!=m)c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.a.h.c.Ib(I(c[0]),I(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.a.h.c.Ib(I(c),I(d))}},this);this.eh=new pe(2E3);R(this.eh,re,B(function(){var a=[this.a.h.c.Sa*180/Math.PI,this.a.h.c.kb*180/Math.PI],a="#ll="+a[0].toFixed(5)+","+a[1].toFixed(5)+(this.a.h.c.T?
";alt="+Ie(this.a.h.c).toFixed(0):";z="+U(this.a.h.c).toFixed(2))+";h="+this.a.h.c.Xc.toFixed(3)+";t="+this.a.h.c.Ic.toFixed(3);window.location.hash=a},this));this.eh.start();window.addEventListener("hashchange",f,!1);f();R(this.a.canvas,"click",B(function(a){if(a.ctrlKey){var b=Me(this.a.h,a.offsetX,a.offsetY);jh(this.Yf,m,new Nh(b[0],b[1]));a.preventDefault()}},this));R(window.document,"keydown",function(a){if(a.keyCode==70&&a.ctrlKey)this.T=!this.T,a.preventDefault()},!1,this.a.h.c)}.call(this)}
Pj.prototype.gc=function(a){this.dk.gc(a)};Pj.prototype.wd=function(a,b){this.a.h.wd(a,b)};Pj.prototype.start=function(){this.th.start()};
function Qj(){var a=new Pj(xc("weapp-canvas"));a.gc(new qf);a.gc(new pf);a.gc(new rj("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.gc(new rj("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.gc(new rj("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.wd("demo1.o3djson",!0);a.a.h.c.Ib(I(49.19326),I(16.59753));Ge(a.a.h.c,200);a.a.h.c.Xc=-0.736;a.a.h.c.Ic=0.696;a.start()}
var Rj="WEApp".split("."),Sj=t;!(Rj[0]in Sj)&&Sj.execScript&&Sj.execScript("var "+Rj[0]);for(var Tj;Rj.length&&(Tj=Rj.shift());)!Rj.length&&w(Qj)?Sj[Tj]=Qj:Sj=Sj[Tj]?Sj[Tj]:Sj[Tj]={};
