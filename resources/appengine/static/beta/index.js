/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function o(a){return function(){return this[a]}}function q(a){return function(){return a}}var s,t=this;function u(){}function ca(a){a.oa=function(){return a.Pi||(a.Pi=new a)}}
function da(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===m}function x(a){return da(a)=="array"}function ea(a){var b=da(a);return b=="array"||b=="object"&&typeof a.length=="number"}function y(a){return typeof a=="string"}function fa(a){return typeof a=="number"}function ga(a){return da(a)=="function"}function ha(a){a=da(a);return a=="object"||a=="array"||a=="function"}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ka=0;function la(a){return a.call.apply(a.bind,arguments)}function ma(a,b){var c=b||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}}
function z(){z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma;return z.apply(m,arguments)}function na(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var A=Date.now||function(){return+new Date};function B(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function D(){oa&&(pa[ia(this)]=this)}var oa=!1,pa={};D.prototype.mf=!1;D.prototype.m=function(){if(!this.mf&&(this.mf=!0,this.h(),oa)){var a=ia(this);pa.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete pa[a]}};D.prototype.h=aa();function qa(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.Y=d||0;this.Oc=m;this.state=ra}B(qa,D);function sa(a){return a.zoom+"_"+a.x+"_"+a.y}qa.prototype.h=function(){delete this.Oc};var ra=0;function ta(a,b){for(var c in a)b.call(i,a[c],c,a)}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function va(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function wa(a){for(var b in a)return!1;return!0}function xa(a,b){b in a&&delete a[b]}function ya(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Aa(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<za.length;f++)b=za[f],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}function Ba(){var a=arguments.length;if(a==1&&x(arguments[0]))return Ba.apply(m,arguments[0]);a%2&&e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Da=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Ea(a){a=String(a);if(!Da.test(a))return encodeURIComponent(a);return a}function Fa(a){if(!Ga.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ha,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ia,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ja,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ka,"&quot;"));return a}var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/\"/g,Ga=/[&<>\"]/;
function La(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ma(a,b){for(var c=0,d=Ca(String(a)).split("."),f=Ca(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(j)||["","",""],r=p.exec(k)||["","",""];if(n[0].length==0&&r[0].length==0)break;c=Na(n[1].length==0?0:parseInt(n[1],10),r[1].length==0?0:parseInt(r[1],10))||Na(n[2].length==0,r[2].length==0)||Na(n[2],r[2])}while(c==0)}return c}
function Na(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var E=Array.prototype,Oa=E.indexOf?function(a,b,c){return E.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(y(a)){if(!y(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=E.forEach?function(a,b,c){E.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Qa=E.filter?function(a,b,c){return E.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],
g=0,h=y(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},Ra=E.map?function(a,b,c){return E.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=y(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Sa=E.every?function(a,b,c){return E.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function Ta(a,b){var c;a:{c=a.length;for(var d=y(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?m:y(a)?a.charAt(c):a[c]}function Ua(a,b){var c=Va(a,b,i);return c<0?m:y(a)?a.charAt(c):a[c]}function Va(a,b,c){for(var d=y(a)?a.split(""):a,f=a.length-1;f>=0;f--)if(f in d&&b.call(c,d[f],f,a))return f;return-1}function Wa(a,b){return Oa(a,b)>=0}function Xa(a,b){var c=Oa(a,b);c>=0&&E.splice.call(a,c,1)}function Ya(){return E.concat.apply(E,arguments)}
function Za(a){if(x(a))return Ya(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function $a(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(x(c)||(d=ea(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function ab(a){E.splice.apply(a,bb(arguments,1))}function bb(a,b,c){return arguments.length<=2?E.slice.call(a,b):E.slice.call(a,b,c)}function cb(a,b){E.sort.call(a,b||db)}
function db(a,b){return a>b?1:a<b?-1:0}function eb(a,b,c){var d;c=c||db;for(var f=0,g=a.length;f<g;){var h=f+g>>1,j;j=c(b,a[h]);j>0?f=h+1:(g=h,d=!j)}d=d?f:~f;d<0&&ab(a,-(d+1),0,b)}function fb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];x(c)?a.push.apply(a,fb.apply(m,c)):a.push(c)}return a};var gb="StopIteration"in t?t.StopIteration:Error("StopIteration");function hb(){}hb.prototype.next=function(){e(gb)};hb.prototype.zf=function(){return this};function ib(a){if(a instanceof hb)return a;if(typeof a.zf=="function")return a.zf(!1);if(ea(a)){var b=0,c=new hb;c.next=function(){for(;;)if(b>=a.length&&e(gb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function jb(a,b,c){if(ea(a))try{Pa(a,b,c)}catch(d){d!==gb&&e(d)}else{a=ib(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==gb&&e(f)}}};function kb(a){if(typeof a.Fb=="function")return a.Fb();if(y(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ua(a)}function lb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ea(a)||y(a))Pa(a,b,c);else{var d;if(typeof a.Rb=="function")d=a.Rb();else if(typeof a.Fb!="function")if(ea(a)||y(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=va(a);else d=i;f=kb(a);g=f.length;for(var h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function mb(a){this.Oa={};this.w=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){a instanceof mb?(b=a.Rb(),c=a.Fb()):(b=va(a),c=ua(a));for(var d=0;d<b.length;d++)this.set(b[d],c[d])}}s=mb.prototype;s.v=0;s.vd=0;s.ef=o("v");s.Fb=function(){nb(this);for(var a=[],b=0;b<this.w.length;b++)a.push(this.Oa[this.w[b]]);return a};s.Rb=function(){nb(this);return this.w.concat()};
s.Lb=function(a){return ob(this.Oa,a)};s.nf=function(a,b){if(this===a)return!0;if(this.v!=a.ef())return!1;var c=b||pb;nb(this);for(var d,f=0;d=this.w[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function pb(a,b){return a===b}s.clear=function(){this.Oa={};this.vd=this.v=this.w.length=0};s.remove=function(a){if(ob(this.Oa,a))return delete this.Oa[a],this.v--,this.vd++,this.w.length>2*this.v&&nb(this),!0;return!1};
function nb(a){if(a.v!=a.w.length){for(var b=0,c=0;b<a.w.length;){var d=a.w[b];ob(a.Oa,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.v!=a.w.length){var f={};for(c=b=0;b<a.w.length;)d=a.w[b],ob(f,d)||(a.w[c++]=d,f[d]=1),b++;a.w.length=c}}s.get=function(a,b){if(ob(this.Oa,a))return this.Oa[a];return b};s.set=function(a,b){ob(this.Oa,a)||(this.v++,this.w.push(a),this.vd++);this.Oa[a]=b};s.ma=function(){return new mb(this)};
s.zf=function(a){nb(this);var b=0,c=this.w,d=this.Oa,f=this.vd,g=this,h=new hb;h.next=function(){for(;;){f!=g.vd&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(gb);var j=c[b++];return a?j:d[j]}};return h};function ob(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function qb(a){this.name=a}s=qb.prototype;s.Qb=q(0);s.Ug=u;s.Qc=0;s.ff=function(a){a.Oc=new Image;a.Oc.onload=function(b){return function(){a.state=20;b.Qc--;b.Ug(a)}}(this);a.Oc.onerror=function(b){return function(){a.state=-10;b.Qc--}}(this);a.state=10;a.Oc.src=this.me(a.zoom,a.x,a.y);this.Qc++;return!0};s.ke=aa();s.xf=q(m);s.Sg=u;function rb(a){return Math.floor(Math.random()*a)}function sb(a,b,c){return Math.min(Math.max(a,b),c)}function tb(a,b){var c=a%b;return c*b<0?c+b:c};function ub(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText};function vb(a,b,c,d,f,g,h){this.name=a;this.url=b;this.Xi=c;this.Wi=d;this.Yi=f;this.Vi=g===!0;this.Af=h||[]}B(vb,qb);vb.prototype.Qb=o("Xi");vb.prototype.Ua=o("Wi");vb.prototype.Vb=o("Yi");vb.prototype.me=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0));d=d.replace("{x}",b.toFixed(0));d=d.replace("{y}",(this.Vi?(1<<a)-c-1:c).toFixed(0));this.Af.length>0&&(d=d.replace("{sub}",this.Af[rb(this.Af.length)]));return d};var wb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function xb(a,b){var c;a instanceof xb?(this.Mc(b==m?a.hb:b),yb(this,a.Nb),zb(this,a.td),Ab(this,a.Jc),Bb(this,a.Lc),Cb(this,a.Kc),Db(this,a.eb.ma()),Eb(this,a.sd)):a&&(c=String(a).match(wb))?(this.Mc(!!b),yb(this,c[1]||"",!0),zb(this,c[2]||"",!0),Ab(this,c[3]||"",!0),Bb(this,c[4]),Cb(this,c[5]||"",!0),Db(this,c[6]||"",!0),Eb(this,c[7]||"",!0)):(this.Mc(!!b),this.eb=new Fb(m,this,this.hb))}s=xb.prototype;s.Nb="";s.td="";s.Jc="";s.Lc=m;s.Kc="";s.sd="";s.Zi=!1;s.hb=!1;
s.toString=function(){if(this.Qa)return this.Qa;var a=[];this.Nb&&a.push(Gb(this.Nb,Ib),":");if(this.Jc){a.push("//");this.td&&a.push(Gb(this.td,Ib),"@");var b;b=this.Jc;b=y(b)?encodeURIComponent(b):m;a.push(b);this.Lc!=m&&a.push(":",String(this.Lc))}this.Kc&&(this.Jc&&this.Kc.charAt(0)!="/"&&a.push("/"),a.push(Gb(this.Kc,Jb)));(b=String(this.eb))&&a.push("?",b);this.sd&&a.push("#",Gb(this.sd,Kb));return this.Qa=a.join("")};
s.ma=function(){var a=this.Nb,b=this.td,c=this.Jc,d=this.Lc,f=this.Kc,g=this.eb.ma(),h=this.sd,j=new xb(m,this.hb);a&&yb(j,a);b&&zb(j,b);c&&Ab(j,c);d&&Bb(j,d);f&&Cb(j,f);g&&Db(j,g);h&&Eb(j,h);return j};function yb(a,b,c){Lb(a);delete a.Qa;a.Nb=c?b?decodeURIComponent(b):"":b;if(a.Nb)a.Nb=a.Nb.replace(/:$/,"")}function zb(a,b,c){Lb(a);delete a.Qa;a.td=c?b?decodeURIComponent(b):"":b}function Ab(a,b,c){Lb(a);delete a.Qa;a.Jc=c?b?decodeURIComponent(b):"":b}
function Bb(a,b){Lb(a);delete a.Qa;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.Lc=b):a.Lc=m}function Cb(a,b,c){Lb(a);delete a.Qa;a.Kc=c?b?decodeURIComponent(b):"":b}function Db(a,b,c){Lb(a);delete a.Qa;b instanceof Fb?(a.eb=b,a.eb.ud=a,a.eb.Mc(a.hb)):(c||(b=Gb(b,Mb)),a.eb=new Fb(b,a,a.hb));return a}
function Nb(a,b,c){Lb(a);delete a.Qa;x(c)||(c=[String(c)]);a=a.eb;Ob(a);Pb(a);b=Qb(a,b);if(a.Lb(b)){var d=a.D.get(b);x(d)?a.v-=d.length:a.v--}c.length>0&&(a.D.set(b,c),a.v+=c.length)}function Eb(a,b,c){Lb(a);delete a.Qa;a.sd=c?b?decodeURIComponent(b):"":b}function Lb(a){a.Zi&&e(Error("Tried to modify a read-only Uri"))}s.Mc=function(a){this.hb=a;this.eb&&this.eb.Mc(a);return this};var Rb=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;
function Gb(a,b){var c=m;y(a)&&(c=a,Rb.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,Sb)));return c}function Sb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ib=/[#\/\?@]/g,Jb=/[\#\?]/g,Mb=/[\#\?@]/g,Kb=/#/g;function Fb(a,b,c){this.sb=a||m;this.ud=b||m;this.hb=!!c}
function Ob(a){if(!a.D&&(a.D=new mb,a.sb))for(var b=a.sb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Qb(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}s=Fb.prototype;s.D=m;s.v=m;s.ef=function(){Ob(this);return this.v};
s.add=function(a,b){Ob(this);Pb(this);a=Qb(this,a);if(this.Lb(a)){var c=this.D.get(a);x(c)?c.push(b):this.D.set(a,[c,b])}else this.D.set(a,b);this.v++;return this};s.remove=function(a){Ob(this);a=Qb(this,a);if(this.D.Lb(a)){Pb(this);var b=this.D.get(a);x(b)?this.v-=b.length:this.v--;return this.D.remove(a)}return!1};s.clear=function(){Pb(this);this.D&&this.D.clear();this.v=0};s.Lb=function(a){Ob(this);a=Qb(this,a);return this.D.Lb(a)};
s.Rb=function(){Ob(this);for(var a=this.D.Fb(),b=this.D.Rb(),c=[],d=0;d<b.length;d++){var f=a[d];if(x(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};s.Fb=function(a){Ob(this);if(a)if(a=Qb(this,a),this.Lb(a)){var b=this.D.get(a);if(x(b))return b;else a=[],a.push(b)}else a=[];else{b=this.D.Fb();a=[];for(var c=0;c<b.length;c++){var d=b[c];x(d)?$a(a,d):a.push(d)}}return a};
s.set=function(a,b){Ob(this);Pb(this);a=Qb(this,a);if(this.Lb(a)){var c=this.D.get(a);x(c)?this.v-=c.length:this.v--}this.D.set(a,b);this.v++;return this};s.get=function(a,b){Ob(this);a=Qb(this,a);if(this.Lb(a)){var c=this.D.get(a);return x(c)?c[0]:c}else return b};
s.toString=function(){if(this.sb)return this.sb;if(!this.D)return"";for(var a=[],b=0,c=this.D.Rb(),d=0;d<c.length;d++){var f=c[d],g=Ea(f);f=this.D.get(f);if(x(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Ea(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Ea(f)),b++}return this.sb=a.join("")};function Pb(a){delete a.rf;delete a.sb;a.ud&&delete a.ud.Qa}
s.ma=function(){var a=new Fb;if(this.rf)a.rf=this.rf;if(this.sb)a.sb=this.sb;if(this.D)a.D=this.D.ma();return a};function Qb(a,b){var c=String(b);a.hb&&(c=c.toLowerCase());return c}s.Mc=function(a){a&&!this.hb&&(Ob(this),Pb(this),lb(this.D,function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,b))},this));this.hb=a};var Tb;function Ub(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Vb(a){var b=Ub(a),c;c=bb(arguments,1);for(var d=0,f=0;f<c.length;f++)Wa(b,c[f])||(b.push(c[f]),d++);c=d==c.length;a.className=b.join(" ");return c}function Wb(a){var b=Ub(a),c;c=bb(arguments,1);for(var d=0,f=0;f<b.length;f++)Wa(c,b[f])&&(ab(b,f--,1),d++);c=d==c.length;a.className=b.join(" ");return c};var Xb,Yb,Zb,$b,ac,bc,cc;function dc(){return t.navigator?t.navigator.userAgent:m}function ec(){return t.navigator}ac=$b=Zb=Yb=Xb=!1;var fc;if(fc=dc()){var gc=ec();Xb=fc.indexOf("Opera")==0;Yb=!Xb&&fc.indexOf("MSIE")!=-1;$b=(Zb=!Xb&&fc.indexOf("WebKit")!=-1)&&fc.indexOf("Mobile")!=-1;ac=!Xb&&!Zb&&gc.product=="Gecko"}var hc=Xb,F=Yb,H=ac,I=Zb,ic=$b,jc,kc=ec();jc=kc&&kc.platform||"";bc=jc.indexOf("Mac")!=-1;cc=jc.indexOf("Win")!=-1;var lc=!!ec()&&(ec().appVersion||"").indexOf("X11")!=-1,mc;
a:{var nc="",oc;if(hc&&t.opera){var pc=t.opera.version;nc=typeof pc=="function"?pc():pc}else if(H?oc=/rv\:([^\);]+)(\)|;)/:F?oc=/MSIE\s+([^\);]+)(\)|;)/:I&&(oc=/WebKit\/(\S+)/),oc){var qc=oc.exec(dc());nc=qc?qc[1]:""}if(F){var rc,sc=t.document;rc=sc?sc.documentMode:i;if(rc>parseFloat(nc)){mc=String(rc);break a}}mc=nc}var tc={};function J(a){return tc[a]||(tc[a]=Ma(mc,a)>=0)};function uc(a,b){this.width=a;this.height=b}function vc(a,b){if(a==b)return!0;if(!a||!b)return!1;return a.width==b.width&&a.height==b.height}s=uc.prototype;s.ma=function(){return new uc(this.width,this.height)};s.$d=function(){return this.width/this.height};s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};s.scale=function(a){this.width*=a;this.height*=a;return this};var wc=!F||J("9");!H&&!F||F&&J("9")||H&&J("1.9.1");var xc=F&&!J("9");function K(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}K.prototype.ma=function(){return new K(this.x,this.y)};function yc(a,b){return new K(a.x-b.x,a.y-b.y)};function L(a){return a?new zc(M(a)):Tb||(Tb=new zc)}function N(a){return y(a)?document.getElementById(a):a}
function Ac(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!I||Bc(document)||J("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){d={};for(var f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&Wa(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function Cc(a,b){ta(b,function(c,d){d=="style"?a.style.cssText=c:d=="class"?a.className=c:d=="for"?a.htmlFor=c:d in Dc?a.setAttribute(Dc[d],c):a[d]=c})}var Dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Ec(){return Fc(document,arguments)}
function Fc(a,b){var c=b[0],d=b[1];if(!wc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Fa(d.name),'"');if(d.type){c.push(' type="',Fa(d.type),'"');var f={};Aa(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)y(d)?c.className=d:x(d)?Vb.apply(m,[c].concat(d)):Cc(c,d);b.length>2&&Gc(a,c,b,2);return c}
function Gc(a,b,c,d){function f(h){h&&b.appendChild(y(h)?a.createTextNode(h):h)}for(;d<c.length;d++){var g=c[d];ea(g)&&!(ha(g)&&g.nodeType>0)?Pa(Hc(g)?Za(g):g,f):f(g)}}function Bc(a){return a.compatMode=="CSS1Compat"}function Ic(a){Gc(M(a),a,arguments,1)}function Jc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Kc(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function Lc(a){if(a.firstElementChild!=i)return a.firstElementChild;for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function Mc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function M(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Nc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Jc(a),a.appendChild(M(a).createTextNode(b))}var Oc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Pc={IMG:" ",BR:"\n"};function Qc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified)return a=a.tabIndex,fa(a)&&a>=0;return!1}
function Rc(a){if(xc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Sc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");F||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""));return a}
function Sc(a,b,c){if(!(a.nodeName in Oc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Pc)b.push(Pc[a.nodeName]);else for(a=a.firstChild;a;)Sc(a,b,c),a=a.nextSibling}function Hc(a){if(a&&typeof a.length=="number")if(ha(a))return typeof a.item=="function"||typeof a.item=="string";else if(ga(a))return typeof a.item=="function";return!1}function zc(a){this.z=a||t.document||document}s=zc.prototype;s.S=L;
function Tc(a){return a.z}s.c=function(a){return y(a)?this.z.getElementById(a):a};s.p=function(){return Fc(this.z,arguments)};s.createElement=function(a){return this.z.createElement(a)};s.createTextNode=function(a){return this.z.createTextNode(a)};function Uc(a){var b=a.z;a=!I&&Bc(b)?b.documentElement:b.body;b=b.parentWindow||b.defaultView;return new K(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=Ic;s.pg=Jc;s.removeNode=Kc;s.zg=Lc;
s.contains=Mc;function Vc(a,b){this.ud=new xb(a);this.Gi=b?b:"callback";this.Cd=5E3}var Wc=0;
Vc.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(Wc++).toString(36)+A().toString(36);t._callbacks_||(t._callbacks_={});var f=document.createElement("script"),g=m;this.Cd>0&&(g=t.setTimeout(Xc(d,f,a,c),this.Cd));c=this.ud.ma();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Nb(c,h,a[h]);b&&(t._callbacks_[d]=Yc(d,f,b,g),Nb(c,this.Gi,"_callbacks_."+d));Cc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Na:d,Cd:g}};Vc.prototype.cancel=function(a){if(a&&a.Na){var b=N(a.Na);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.Na]=="function"&&(a.Cd&&t.clearTimeout(a.Cd),Zc(a.Na,b,!1))}};function Xc(a,b,c,d){return function(){Zc(a,b,!1);d&&d(c)}}function Yc(a,b,c,d){return function(){t.clearTimeout(d);Zc(a,b,!0);c.apply(i,arguments)}}function Zc(a,b,c){t.setTimeout(function(){Kc(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function $c(a,b){this.Ti=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Ed=b||{};this.ih=new Vc(this.Ti,"json_callback")}
function ad(a,b,c,d){a.Ed.q=b;a.Ed.format="json";a.Ed.addressdetails=1;a.Ed.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.Qi=b;if(!(c>1&&b===a.Qi))a.jh!==m&&a.ih.cancel(a.jh),a.jh=a.ih.send(a.Ed,function(f){var g=Qa(f,function(h){return h["class"]=="place"});g.length>0?(Pa(g,function(h){var j=h.address.country_code=="us"?h.address.state:h.address.country;h.type=="suburb"&&(j=h.address.city+", "+j);h.display_name=h.address[h.type]?h.address[h.type]+", "+j:h.display_name}),d(b,g)):d(b,f)})}};var bd;var cd=!F||J("9"),dd=F&&!J("8");function O(a,b){D.call(this);this.type=a;this.currentTarget=this.target=b}B(O,D);s=O.prototype;s.h=function(){delete this.type;delete this.target;delete this.currentTarget};s.kc=!1;s.zd=!0;s.stopPropagation=function(){this.kc=!0};s.preventDefault=function(){this.zd=!1};function ed(a){a.preventDefault()};var fd=new Function("a","return a");function gd(a,b){a&&this.Kb(a,b)}B(gd,O);var hd=[1,4,2];s=gd.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=!1;s.altKey=!1;s.shiftKey=!1;s.metaKey=!1;s.Li=!1;s.ka=m;
s.Kb=function(a,b){var c=this.type=a.type;O.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(H)try{fd(d.nodeName)}catch(f){d=m}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Li=bc?a.metaKey:a.ctrlKey;this.state=a.state;this.ka=a;delete this.zd;delete this.kc};function id(a,b){return cd?a.ka.button==b:a.type=="click"?b==0:!!(a.ka.button&hd[b])}function jd(a){return id(a,0)&&!(I&&bc&&a.ctrlKey)}
s.stopPropagation=function(){gd.a.stopPropagation.call(this);this.ka.stopPropagation?this.ka.stopPropagation():this.ka.cancelBubble=!0};s.preventDefault=function(){gd.a.preventDefault.call(this);var a=this.ka;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,dd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};s.Oi=o("ka");s.h=function(){gd.a.h.call(this);this.relatedTarget=this.currentTarget=this.target=this.ka=m};function kd(){}var ld=0;s=kd.prototype;s.key=0;s.Nc=!1;s.eh=!1;s.Kb=function(a,b,c,d,f,g){ga(a)?this.dh=!0:a&&a.handleEvent&&ga(a.handleEvent)?this.dh=!1:e(Error("Invalid listener argument"));this.Gc=a;this.Tg=b;this.src=c;this.type=d;this.capture=!!f;this.de=g;this.eh=!1;this.key=++ld;this.Nc=!1};s.handleEvent=function(a){if(this.dh)return this.Gc.call(this.de||this.src,a);return this.Gc.handleEvent.call(this.Gc,a)};var md;var nd=(md="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";function od(a,b){D.call(this);this.hh=b;this.hc=[];a>this.hh&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.hc.push(this.tb?this.tb():{})}B(od,D);od.prototype.tb=m;od.prototype.bh=m;od.prototype.getObject=function(){if(this.hc.length)return this.hc.pop();return this.tb?this.tb():{}};function pd(a,b){a.hc.length<a.hh?a.hc.push(b):qd(a,b)}function qd(a,b){if(a.bh)a.bh(b);else if(ha(b))if(ga(b.m))b.m();else for(var c in b)delete b[c]}
od.prototype.h=function(){od.a.h.call(this);for(var a=this.hc;a.length;)qd(this,a.pop());delete this.hc};var rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd;
(function(){function a(){return{v:0,Pa:0}}function b(){return[]}function c(){function r(G){return h.call(r.src,r.key,G)}return r}function d(){return new kd}function f(){return new gd}var g=md&&!(Ma(nd,"5.7")>=0),h;wd=function(r){h=r};if(g){rd=function(){return j.getObject()};sd=function(r){pd(j,r)};td=function(){return k.getObject()};ud=function(r){pd(k,r)};vd=function(){return l.getObject()};xd=function(){pd(l,c())};yd=function(){return p.getObject()};zd=function(r){pd(p,r)};Ad=function(){return n.getObject()};
Bd=function(r){pd(n,r)};var j=new od(0,600);j.tb=a;var k=new od(0,600);k.tb=b;var l=new od(0,600);l.tb=c;var p=new od(0,600);p.tb=d;var n=new od(0,600);n.tb=f}else rd=a,sd=u,td=b,ud=u,vd=c,xd=u,yd=d,zd=u,Ad=f,Bd=u})();var Cd={},P={},Dd={},Ed={};
function Q(a,b,c,d,f){if(b)if(x(b)){for(var g=0;g<b.length;g++)Q(a,b[g],c,d,f);return m}else{d=!!d;var h=P;b in h||(h[b]=rd());h=h[b];d in h||(h[d]=rd(),h.v++);h=h[d];var j=ia(a),k;h.Pa++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.Gc==c&&h.de==f){if(h.Nc)break;return k[g].key}}else k=h[j]=td(),h.v++;g=vd();g.src=a;h=yd();h.Kb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);Cd[c]=h;Dd[j]||(Dd[j]=td());Dd[j].push(h);a.addEventListener?(a==t||!a.Og)&&a.addEventListener(b,g,d):a.attachEvent(Fd(b),g);return c}else e(Error("Invalid event type"))}
function Gd(a,b,c,d,f){if(x(b))for(var g=0;g<b.length;g++)Gd(a,b[g],c,d,f);else if(d=!!d,a=Hd(a,b,d))for(g=0;g<a.length;g++)if(a[g].Gc==c&&a[g].capture==d&&a[g].de==f){R(a[g].key);break}}function R(a){if(Cd[a]){var b=Cd[a];if(!b.Nc){var c=b.src,d=b.type,f=b.Tg,g=b.capture;c.removeEventListener?(c==t||!c.Og)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(Fd(d),f);c=ia(c);f=P[d][g][c];if(Dd[c]){var h=Dd[c];Xa(h,b);h.length==0&&delete Dd[c]}b.Nc=!0;f.Yg=!0;Id(d,g,c,f);delete Cd[a]}}}
function Id(a,b,c,d){if(!d.ie&&d.Yg){for(var f=0,g=0;f<d.length;f++)if(d[f].Nc){var h=d[f].Tg;h.src=m;xd(h);zd(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.Yg=!1;g==0&&(ud(d),delete P[a][b][c],P[a][b].v--,P[a][b].v==0&&(sd(P[a][b]),delete P[a][b],P[a].v--),P[a].v==0&&(sd(P[a]),delete P[a]))}}
function Jd(a){var b,c=0,d=b==m;b=!!b;if(a==m)ta(Dd,function(h){for(var j=h.length-1;j>=0;j--){var k=h[j];if(d||b==k.capture)R(k.key),c++}});else if(a=ia(a),Dd[a]){a=Dd[a];for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)R(g.key),c++}}}function Hd(a,b,c){var d=P;if(b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a])))return d[a];return m}function Fd(a){if(a in Ed)return Ed[a];return Ed[a]="on"+a}
function Kd(a,b,c,d,f){var g=1;b=ia(b);if(a[b]){a.Pa--;a=a[b];a.ie?a.ie++:a.ie=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Nc&&(g&=Ld(k,f)!==!1)}}finally{a.ie--,Id(c,d,b,a)}}return Boolean(g)}function Ld(a,b){var c=a.handleEvent(b);a.eh&&R(a.key);return c}
wd(function(a,b){if(!Cd[a])return!0;var c=Cd[a],d=c.type,f=P;if(!(d in f))return!0;f=f[d];var g,h;bd===i&&(bd=F&&!t.addEventListener);if(bd){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=t;g=j.shift();)if(k[g]!=m)k=k[g];else{j=m;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(p){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=Ad();l.Kb(g,this);g=!0;try{if(j){for(var n=td(),r=l.currentTarget;r;r=
r.parentNode)n.push(r);h=f[!0];h.Pa=h.v;for(var G=n.length-1;!l.kc&&G>=0&&h.Pa;G--)l.currentTarget=n[G],g&=Kd(h,n[G],d,!0,l);if(k){h=f[!1];h.Pa=h.v;for(G=0;!l.kc&&G<n.length&&h.Pa;G++)l.currentTarget=n[G],g&=Kd(h,n[G],d,!1,l)}}else g=Ld(c,l)}finally{if(n)n.length=0,ud(n);l.m();Bd(l)}return g}d=new gd(b,this);try{g=Ld(c,d)}finally{d.m()}return g});function S(){D.call(this)}B(S,D);s=S.prototype;s.Og=!0;s.Yd=m;s.lf=ba("Yd");s.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Gd(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=P;if(b in c){if(y(a))a=new O(a,this);else if(a instanceof O)a.target=a.target||this;else{var d=a;a=new O(b,this);Aa(a,d)}d=1;var f;c=c[b];b=!0 in c;var g;if(b){f=[];for(g=this;g;g=g.Yd)f.push(g);g=c[!0];g.Pa=g.v;for(var h=f.length-1;!a.kc&&h>=0&&g.Pa;h--)a.currentTarget=f[h],d&=Kd(g,f[h],a.type,!0,a)&&a.zd!=!1}if(!1 in c)if(g=c[!1],g.Pa=g.v,b)for(h=0;!a.kc&&h<f.length&&g.Pa;h++)a.currentTarget=f[h],d&=Kd(g,f[h],a.type,!1,a)&&a.zd!=!1;else for(f=this;!a.kc&&
f&&g.Pa;f=f.Yd)a.currentTarget=f,d&=Kd(g,f,a.type,!1,a)&&a.zd!=!1;a=Boolean(d)}else a=!0;return a};s.h=function(){S.a.h.call(this);Jd(this);this.Yd=m};function Md(a,b,c){D.call(this);this.Vc=a;this.Yb=c;this.j=b;Q(b,[Nd,Od,Pd,Qd],this);this.Ya=m;this.fa=[];this.la=-1;this.ra=0;this.jc=this.ea=m}B(Md,S);s=Md.prototype;s.xi=10;s.vi=!0;s.Qg=!1;s.Rg=!1;s.si=!1;var Nd="hilite",Od="select",Qd="dismiss",Pd="canceldismiss";s=Md.prototype;s.handleEvent=function(a){if(a.target==this.j)switch(a.type){case Nd:this.Ma(a.mc);break;case Od:Rd(this);break;case Pd:Sd(this);break;case Qd:Td(this)}};s.xg=o("ea");s.$a=function(){return this.j.s};
function Ud(a){var b=a.ra+a.fa.length-1;if(a.la>=a.ra&&a.la<b)return a.Ma(a.la+1),!0;else if(a.la==-1)return a.Ma(a.ra),!0;else if(a.la==b)if(a.Qg)a.Ma(-1);else if(a.Rg)return a.Ma(a.ra),!0;return!1}function Vd(a){if(a.la>a.ra)return a.Ma(a.la-1),!0;else if(a.Qg&&a.la==a.ra)a.Ma(-1);else if(a.Rg&&(a.la==-1||a.la==a.ra))return a.Ma(a.ra+a.fa.length-1),!0;return!1}s.Ma=function(a){this.la=a;this.j.Ma(a);return Wd(this,a)!=-1};
function Rd(a){var b=Wd(a,a.la);if(b!=-1){b=a.fa[b];var c=a.Yb,d=b.toString();if(v(i)?0:c.uc){var f=Xd(c,c.o(),Yd(c.K)),g=Zd(c,c.o());c.$h.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.Zh);c.ti&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.K;H&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.K;d=f;$d(g)?g.selectionStart=d:F&&(h=ae(g),j=h[0],j.inRange(h[1])&&(d=be(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.K;$d(g)?g.selectionEnd=f:F&&(h=ae(g),d=h[1],h[0].inRange(d)&&(f=be(g,f),g=be(g,Yd(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.U(d);c.Te=!0;a.lb();a.dispatchEvent({type:"update",mc:b});a.si&&a.Yb.update(!0);return!0}else return a.lb(),a.dispatchEvent({type:"update",mc:m}),!1}s.lb=function(){this.la=-1;this.Ya=m;this.ra+=this.fa.length;this.fa=[];window.clearTimeout(this.jc);this.jc=m;this.j.lb()};function Td(a){if(!a.jc)a.jc=window.setTimeout(z(a.lb,a),100)}
function Sd(a){window.setTimeout(z(function(){if(this.jc)window.clearTimeout(this.jc),this.jc=m},a),10)}s.h=function(){Md.a.h.call(this);this.j.m();this.Yb.m();this.Vc=m};s.wi=function(a,b,c){this.Ya==a&&this.jf(b,c)};s.jf=function(a,b){var c=b?Wd(this,this.la):m;this.ra+=this.fa.length;this.fa=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ra+f,data:a[f]});this.j.jf(d,this.Ya,this.ea);this.vi&&d.length!=0&&this.Ya?this.Ma(c!=m?this.ra+c:this.ra):this.la=-1;this.dispatchEvent("suggestionsupdate")};
function Wd(a,b){var c=b-a.ra;if(c<0||c>=a.fa.length)return-1;return c}s.vf=function(){var a=this.Yb;a.vf.apply(a,arguments)};function ce(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}ce.prototype.ma=function(){return new ce(this.top,this.right,this.bottom,this.left)};ce.prototype.contains=function(a){a=!this||!a?!1:a instanceof ce?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function de(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}de.prototype.ma=function(){return new de(this.left,this.top,this.width,this.height)};de.prototype.contains=function(a){return a instanceof de?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};de.prototype.rb=function(){return new uc(this.width,this.height)};function ee(a,b){var c=M(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m)))return c[b]||c.getPropertyValue(b);return""}function fe(a,b){return ee(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function ge(a,b,c){var d,f=H&&(bc||lc)&&J("1.9");b instanceof K?(d=b.x,b=b.y):(d=b,b=c);a.style.left=he(d,f);a.style.top=he(b,f)}
function ie(a){a=a?a.nodeType==9?a:M(a):document;var b;if(b=F)if(b=!J(9))b=L(a),b=!Bc(b.z);if(b)return a.body;return a.documentElement}function je(a){var b=a.getBoundingClientRect();if(F)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function ke(a){if(F)return a.offsetParent;var b=M(a),c=fe(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=fe(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a;return m}
function le(a){for(var b=new ce(0,Infinity,Infinity,0),c=L(a),d=c.z.body,f=!I&&Bc(c.z)?c.z.documentElement:c.z.body,g;a=ke(a);)if((!F||a.clientWidth!=0)&&(!I||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&fe(a,"overflow")!="visible"){var h=me(a),j;j=a;if(H&&!J("1.9")){var k=parseFloat(ee(j,"borderLeftWidth"));if(ne(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(ee(j,"borderRightWidth"));k+=l}j=new K(k,parseFloat(ee(j,"borderTopWidth")))}else j=new K(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;I?(b.left+=d,b.top+=f):(b.left=Math.max(b.left,d),b.top=Math.max(b.top,f));if(!g||I)b.right+=d,b.bottom+=f;c=c.z.parentWindow||c.z.defaultView||window;g=c.document;I&&!J("500")&&!ic?(typeof c.innerHeight=="undefined"&&(c=window),g=c.innerHeight,a=c.document.documentElement.scrollHeight,
c==c.top&&a<g&&(g-=15),c=new uc(c.innerWidth,g)):(c=Bc(g)?g.documentElement:g.body,c=new uc(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function me(a){var b,c=M(a),d=fe(a,"position"),f=H&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new K(0,0),h=ie(c);if(a==h)return g;if(a.getBoundingClientRect)b=je(a),a=Uc(L(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(I&&
fe(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(hc||I&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=ke(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!hc||b.tagName!="TR")g.y-=b.scrollTop}return g}
function oe(a){var b=new K;if(a.nodeType==1)if(a.getBoundingClientRect)a=je(a),b.x=a.left,b.y=a.top;else{var c=Uc(L(a));a=me(a);b.x=a.x-c.x;b.y=a.y-c.y}else{c=ga(a.Oi);var d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.ka.targetTouches&&(d=a.ka.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function pe(a,b,c){var d=me(a);if(b instanceof K)c=b.y,b=b.x;ge(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function qe(a,b,c){b instanceof uc?(c=b.height,b=b.width):c==i&&e(Error("missing height argument"));a.style.width=he(b,!0);a.style.height=he(c,!0)}function he(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function re(a){if(fe(a,"display")!="none")return new uc(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=f;b.visibility=d;return new uc(g,a)}function se(a){var b=me(a);a=re(a);return new de(b.x,b.y,a.width,a.height)}function te(a,b){a.style.display=b?"":"none"}function ne(a){return"rtl"==fe(a,"direction")}
var ue=H?"MozUserSelect":I?"WebkitUserSelect":m;function ve(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(ue){if(b=b?"none":"",a.style[ue]=b,c){a=0;for(var d;d=c[a];a++)d.style[ue]=b}}else if(F||hc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var we={thin:2,medium:4,thick:6};
function xe(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:m)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;if(c in we)return we[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};function ye(){}ca(ye);ye.prototype.$i=0;function ze(a){return":"+(a.$i++).toString(36)}ye.oa();function Ae(a,b){a.setAttribute("role",b);a.ij=b}function T(a,b,c){a.setAttribute("aria-"+b,c)};function Be(a,b,c,d){this.aa=a||document.body;this.R=L(this.aa);this.fi=!a;this.g=m;this.Ya="";this.fa=[];this.ig=this.Xd=-1;this.s=!1;this.className="ac-renderer";this.Ie="ac-row";this.ng="active";this.mg="ac-active";this.ki="ac-highlighted";this.xc=b||m;this.Oh=d!=m?d:!0;this.Ze=!1;this.gi=c!=m?c:!1;this.Ue=m;this.Sd=!1}B(Be,S);s=Be.prototype;s.c=o("g");s.jf=function(a,b,c){this.Ya=b;this.fa=a;this.Xd=-1;this.ig=A();this.ea=c;this.cd=[];Ce(this)};
s.lb=function(){this.ea&&T(this.ea,"activedescendant","");if(this.s)this.s=!1,te(this.g,!1)};s.show=function(){if(!this.s)this.s=!0,te(this.g,!0)};
function De(a,b){a.Xd>=0&&Wb(a.cd[a.Xd],a.mg,a.ng);a.Xd=b;if(b>=0&&b<a.g.childNodes.length){var c=a.cd[b];Vb(c,a.mg,a.ng);a.ea&&T(a.ea,"activedescendant",c?c.id:"");var d=a.g,f=me(c),g=me(d),h;if(F){var j=xe(d,"borderLeft");h=xe(d,"borderRight");var k=xe(d,"borderTop"),l=xe(d,"borderBottom");h=new ce(k,h,l,j)}else j=ee(d,"borderLeftWidth"),h=ee(d,"borderRightWidth"),k=ee(d,"borderTopWidth"),l=ee(d,"borderBottomWidth"),h=new ce(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j));j=f.x-g.x-h.left;
f=f.y-g.y-h.top;g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}s.Ma=function(a){if(a==-1)De(this,-1);else for(var b=0;b<this.fa.length;b++)if(this.fa[b].id==a){De(this,b);break}};
function Ee(a){if(!a.g){var b=a.R.p("div",{style:"display:none"});a.g=b;Vb(b,a.className);Ae(b,"listbox");b.id=ze(ye.oa());a.ea&&(Ae(a.ea,"combobox"),T(a.ea,"autocomplete","list"),T(a.ea,"haspopup",!0));a.R.appendChild(a.aa,b);Q(b,"click",a.Sf,!1,a);Q(b,"mousedown",a.Fd,!1,a);Q(a.R.z,"mousedown",a.Tf,!1,a);Q(b,"mouseover",a.Uf,!1,a)}}
function Ce(a){Ee(a);if(a.Sd)a.g.style.visibility="hidden";a.cd.length=0;a.R.pg(a.g);if(a.xc&&a.xc.Sa)a.xc.Sa(a);else{var b=m;jb(a.fa,function(c){var d=this.Ya,f=this.R.p("div",{className:this.Ie,id:ze(ye.oa())});Ae(f,"option");this.xc&&this.xc.ag?this.xc.ag(c,0,f):f.innerHTML=Fa(c.data.toString());d&&this.Oh&&Fe(this,f,d);Vb(f,this.Ie);this.cd.push(f);c=f;this.Sd?this.g.insertBefore(c,b):this.R.appendChild(this.g,c);b=c},a)}a.fa.length==0?a.lb():(a.show(),Ge(a.g),a.Wb(),ve(a.g,!0))}
s.Wb=function(){if(this.ea&&this.fi){var a=me(this.ea),b=re(this.ea),c=re(ie(this.ea)),d=re(this.g);a.y=this.Sd?a.y-d.height:a.y+b.height;(this.gi||a.x+d.width>c.width)&&this.Ue!="LEFT"?(a.x=a.x+b.width-d.width,this.Ue="RIGHT"):this.Ue="LEFT";pe(this.g,a);if(this.Sd)this.g.style.visibility="visible"}};
s.h=function(){Be.a.h.call(this);if(this.g)Gd(this.g,"click",this.Sf,!1,this),Gd(this.g,"mousedown",this.Fd,!1,this),Gd(this.R.z,"mousedown",this.Tf,!1,this),Gd(this.g,"mouseover",this.Uf,!1,this),this.R.removeNode(this.g),this.g=m,this.s=!1;delete this.aa};function Ge(a){if(H&&bc)a.style.width="",a.style.overflow="visible",a.style.width=a.offsetWidth,a.style.overflow="auto"}
function Fe(a,b,c){if(b.nodeType==3){var d=m;x(c)&&c.length>1&&!a.Ze&&(d=bb(c,1));c=He(a,c);if(c.length!=0){var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi");c=[];for(var h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.Ze?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.R.createElement("b"),h.className=a.ki,a.R.appendChild(h,a.R.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.R.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=bb(c,d*3);b.nodeValue=a.join("")}else d&&Fe(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Fe(a,b,c),b=d}function He(a,b){var c="";if(!b)return c;a.Ze?x(b)?(c=Qa(b,function(d){return!/^[\s\xa0]*$/.test(d==m?"":String(d))}),c=Ra(c,La),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=La(c),c=c.replace(/ /g,"|")):c=x(b)?b.length>0?La(b[0]):"":La(b);return c}
function Ie(a,b){for(;b&&b!=a.g&&!Wa(Ub(b),a.Ie);)b=b.parentNode;return b?Oa(a.cd,b):-1}s.Sf=function(a){var b=Ie(this,a.target);b>=0&&this.dispatchEvent({type:Od,mc:this.fa[b].id});a.stopPropagation()};s.Fd=function(a){this.dispatchEvent(Pd);a.stopPropagation();a.preventDefault()};s.Tf=function(){this.dispatchEvent(Qd)};s.Uf=function(a){a=Ie(this,a.target);a>=0&&!(A()-this.ig<300)&&this.dispatchEvent({type:Nd,mc:this.fa[a].id})};function U(a,b){D.call(this);this.Bd=a||1;this.jd=b||Je;this.tf=z(this.Je,this);this.uf=A()}B(U,S);U.prototype.enabled=!1;var Je=t.window;s=U.prototype;s.r=m;s.setInterval=function(a){this.Bd=a;this.r&&this.enabled?(this.stop(),this.start()):this.r&&this.stop()};s.Je=function(){if(this.enabled){var a=A()-this.uf;if(a>0&&a<this.Bd*0.8)this.r=this.jd.setTimeout(this.tf,this.Bd-a);else if(this.dispatchEvent(Ke),this.enabled)this.r=this.jd.setTimeout(this.tf,this.Bd),this.uf=A()}};
s.start=function(){this.enabled=!0;if(!this.r)this.r=this.jd.setTimeout(this.tf,this.Bd),this.uf=A()};s.stop=function(){this.enabled=!1;if(this.r)this.jd.clearTimeout(this.r),this.r=m};s.h=function(){U.a.h.call(this);this.stop();delete this.jd};var Ke="tick";function Le(a){D.call(this);this.Ng=a}B(Le,D);var Me=new od(0,100),Ne=[];Le.prototype.i=function(a,b,c,d,f){x(b)||(Ne[0]=b,b=Ne);for(var g=0;g<b.length;g++){var h=Q(a,b[g],c||this,d||!1,f||this.Ng||this);this.w?this.w[h]=!0:this.Ob?(this.w=Me.getObject(),this.w[this.Ob]=!0,this.Ob=m,this.w[h]=!0):this.Ob=h}return this};
Le.prototype.T=function(a,b,c,d,f){if(this.Ob||this.w)if(x(b))for(var g=0;g<b.length;g++)this.T(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Ng||this;d=!!d;if(a=Hd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Gc==c&&a[b].capture==d&&a[b].de==f){a=a[b];break a}a=m}if(a)if(a=a.key,R(a),this.w)xa(this.w,a);else if(this.Ob==a)this.Ob=m}return this};function Oe(a){if(a.w){for(var b in a.w)R(b),delete a.w[b];pd(Me,a.w);a.w=m}else a.Ob&&R(a.Ob)}Le.prototype.h=function(){Le.a.h.call(this);Oe(this)};
Le.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Yd(a){var b;a:{var c=0,d=0;if($d(a))c=a.selectionStart,d=-1;else if(F){var f=ae(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function ae(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function be(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function $d(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};function Pe(a,b,c,d,f){if(!F&&(!I||!J("525")))return!0;if(bc&&f)return Qe(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(F&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!I}return Qe(a)}
function Qe(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(I&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Re(a,b){D.call(this);a&&this.Tc(a,b)}B(Re,S);s=Re.prototype;s.g=m;s.ge=m;s.qf=m;s.he=m;s.Jb=-1;s.Ib=-1;
var Se={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Te={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ue={61:187,
59:186},Ve=F||I&&J("525");s=Re.prototype;s.Be=function(a){if(I&&(this.Jb==17&&!a.ctrlKey||this.Jb==18&&!a.altKey))this.Ib=this.Jb=-1;Ve&&!Pe(a.keyCode,this.Jb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Ib=H&&a.keyCode in Ue?Ue[a.keyCode]:a.keyCode};s.Di=function(){this.Ib=this.Jb=-1};
s.handleEvent=function(a){var b=a.ka,c,d;F&&a.type=="keypress"?(c=this.Ib,d=c!=13&&c!=27?b.keyCode:0):I&&a.type=="keypress"?(c=this.Ib,d=b.charCode>=0&&b.charCode<63232&&Qe(c)?b.charCode:0):hc?(c=this.Ib,d=Qe(c)?b.keyCode:0):(c=b.keyCode||this.Ib,d=b.charCode||0,bc&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in Se?f=Se[c]:c==25&&a.shiftKey&&(f=9):g&&g in Te&&(f=Te[g]);a=f==this.Jb;this.Jb=f;b=new We(f,d,a,b);try{this.dispatchEvent(b)}finally{b.m()}};s.c=o("g");
s.Tc=function(a,b){this.he&&this.detach();this.g=a;this.ge=Q(this.g,"keypress",this,b);this.qf=Q(this.g,"keydown",this.Be,b,this);this.he=Q(this.g,"keyup",this.Di,b,this)};s.detach=function(){if(this.ge)R(this.ge),R(this.qf),R(this.he),this.he=this.qf=this.ge=m;this.g=m;this.Ib=this.Jb=-1};s.h=function(){Re.a.h.call(this);this.detach()};function We(a,b,c,d){d&&this.Kb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}B(We,gd);function Xe(a,b,c,d){D.call(this);d=d||150;this.rd=a!=m?a:Ye;this.Zh=this.rd.substring(0,1);a=this.uc?"[\\s"+this.rd+"]+":"[\\s]+";this.lg=RegExp("^"+a+"|"+a+"$","g");this.$h=RegExp("\\s*["+this.rd+"]$");this.Lg=b||"";this.ai=this.uc=c!=m?c:!0;this.r=d>0?new U(d):m;this.ia=new Le(this);this.xe=new Le(this);this.H=new Re;this.Eg=-1}B(Xe,D);var Ye=",;";s=Xe.prototype;s.ti=!0;s.Ni=!0;s.wg=!1;s.Ji=!0;s.Ii=!0;s.K=m;s.Ke="";s.Db=!1;s.Te=!1;s.tg=!0;s.o=function(){return this.K.value};
s.U=function(a){this.K.value=a};s.vf=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];T(b,"haspopup",!0);this.ia.i(b,"focus",this.ac);this.ia.i(b,"blur",this.nb);this.K||this.xe.i(b,"keydown",this.zi)}};s.h=function(){Xe.a.h.call(this);this.ia.m();delete this.ia;this.xe.m();this.H.m()};function $e(a){a.r?a.r.setInterval(300):a.r=new U(300)}
s.Ea=function(a){switch(a.keyCode){case 40:if(this.I.$a())return this.wg?Vd(this.I):Ud(this.I),a.preventDefault(),!0;else if(!this.uc)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.I.$a())return this.wg?Ud(this.I):Vd(this.I),a.preventDefault(),!0;break;case 9:if(this.I.$a()&&!a.shiftKey){if(this.update(),Rd(this.I)&&this.ai)return a.preventDefault(),!0}else this.I.lb();break;case 13:if(this.I.$a()){if(this.update(),Rd(this.I))return a.preventDefault(),a.stopPropagation(),!0}else this.I.lb();
break;case 27:if(this.I.$a())return this.I.lb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.Db){if(!this.Db)this.ia.i(this.K,"keyup",this.sg),this.ia.i(this.K,"keypress",this.rg),this.Db=!0;return!0}break;default:this.r&&!this.tg&&(this.r.stop(),this.r.start())}return af(this,a)};function af(a,b){var c=a.uc&&b.charCode&&a.rd.indexOf(String.fromCharCode(b.charCode))!=-1;a.Ji&&c&&a.update();if(a.Ii&&c&&Rd(a.I))return b.preventDefault(),!0;return!1}s.mi=q(!1);
s.ac=function(a){Oe(this.xe);this.I&&Sd(this.I);if(a.target!=this.K)this.K=a.target||m,this.r&&(this.r.start(),this.ia.i(this.r,Ke,this.lc)),this.Ke=this.o(),this.H.Tc(this.K),this.ia.i(this.H,"key",this.Zf),F&&this.ia.i(this.K,"keypress",this.Yf)};s.nb=function(){if(this.K)this.ia.T(this.H,"key",this.Zf),this.H.detach(),this.ia.T(this.K,"keyup",this.mi),F&&this.ia.T(this.K,"keypress",this.Yf),this.Db&&bf(this),this.K=m,this.r&&(this.r.stop(),this.ia.T(this.r,Ke,this.lc)),this.I&&Td(this.I)};
s.lc=function(){this.update()};s.zi=function(a){this.ac(a)};s.Zf=function(a){this.Eg=a.keyCode;this.I&&this.Ea(a)};s.rg=function(){this.Db&&this.Eg!=229&&bf(this)};s.sg=function(a){this.Db&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&bf(this)};function bf(a){if(a.Db)a.Db=!1,a.ia.T(a.K,"keypress",a.rg),a.ia.T(a.K,"keyup",a.sg)}s.Yf=function(a){af(this,a)};
s.update=function(a){if(a||this.K&&this.o()!=this.Ke){if(a||!this.Te){a=Yd(this.K);var b=this.o();a=Zd(this,b)[Xd(this,b,a)];a=this.lg?String(a).replace(this.lg,""):a;if(this.I&&(this.I.ea=this.K,b=this.I,this.o(),b.Ya!=a))b.Ya=a,ad(b.Vc,b.Ya,b.xi,z(b.wi,b)),Sd(b)}this.Ke=this.o()}this.Te=!1};function Xd(a,b,c){a=Zd(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++)f+=a[d].length,b=d;return b}
function Zd(a,b){if(!a.uc)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.Lg&&a.Lg.indexOf(c[g])!=-1){if(a.Ni&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.rd.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function cf(a,b,c){var d={};d.ag=function(f,g,h){h.innerHTML=f.data.display_name+" ("+f.data.type+")"};d=new Be(m,d);this.Vc=new $c(b,c);b=new Xe(m,m,!1);$e(b);b.tg=!1;b.I=this;b.vf(a);Md.call(this,this.Vc,d,b);this.addEventListener("update",function(f){a.value=f.mc.display_name})}B(cf,Md);cf.prototype.search=function(a,b,c){ad(this.Vc,a,b,c)};function df(){this.lh=A()}new df;df.prototype.set=ba("lh");df.prototype.get=o("lh");function ef(a){this.ib=md?[]:"";a!=m&&this.append.apply(this,arguments)}ef.prototype.set=function(a){this.clear();this.append(a)};md?(ef.prototype.yf=0,ef.prototype.append=function(a,b){b==m?this.ib[this.yf++]=a:(this.ib.push.apply(this.ib,arguments),this.yf=this.ib.length);return this}):ef.prototype.append=function(a,b){this.ib+=a;if(b!=m)for(var c=1;c<arguments.length;c++)this.ib+=arguments[c];return this};ef.prototype.clear=function(){md?this.yf=this.ib.length=0:this.ib=""};
ef.prototype.toString=function(){if(md){var a=this.ib.join("");this.clear();a&&this.append(a);return a}else return this.ib};function ff(a){this.name=a||"OpenStreetMaps"}B(ff,qb);ff.prototype.Ua=q(18);ff.prototype.Vb=q(256);ff.prototype.me=function(a,b,c){var d=["a","b","c"];return(new ef("http://",d[rb(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};ff.prototype.ke=function(a){Ic(a,"\u00a9 ",Ec("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function gf(){ff.call(this,"MapQuest OSM")}B(gf,ff);gf.prototype.me=function(a,b,c){return(new ef("http://otile",1+rb(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};gf.prototype.ke=function(a){Ic(a,"Map data \u00a9 ",Ec("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",Ec("br"));Ic(a,"Tiles Courtesy of ",Ec("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",Ec("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function hf(a){D.call(this);this.R=a||L();this.nd=jf}B(hf,S);hf.prototype.Si=ye.oa();var jf=m;function kf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}s=hf.prototype;s.Na=m;s.F=!1;s.g=m;s.nd=m;s.Ge=m;s.aa=m;s.da=m;s.Fa=m;s.Rf=!1;
function lf(a){return a.Na||(a.Na=ze(a.Si))}function mf(a,b){a.aa&&a.aa.Fa&&(xa(a.aa.Fa,a.Na),ya(a.aa.Fa,b,a));a.Na=b}s.c=o("g");s.ha=function(){return this.sc||(this.sc=new Le(this))};function nf(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.aa&&a.Na&&of(a.aa,a.Na)&&a.aa!=b&&e(Error("Unable to set parent component"));a.aa=b;hf.a.lf.call(a,b)}s.getParent=o("aa");s.lf=function(a){this.aa&&this.aa!=a&&e(Error("Method not supported"));hf.a.lf.call(this,a)};s.S=o("R");
s.p=function(){this.g=this.R.createElement("div")};s.Sa=function(a){pf(this,a)};function pf(a,b,c){a.F&&e(Error("Component already rendered"));a.g||a.p();b?b.insertBefore(a.g,c||m):a.R.z.body.appendChild(a.g);(!a.aa||a.aa.F)&&a.Z()}s.ca=function(a){if(this.F)e(Error("Component already rendered"));else if(a&&this.La(a)){this.Rf=!0;if(!this.R||this.R.z!=M(a))this.R=L(a);this.Xa(a);this.Z()}else e(Error("Invalid element to decorate"))};s.La=q(!0);s.Xa=ba("g");
s.Z=function(){this.F=!0;qf(this,function(a){!a.F&&a.c()&&a.Z()})};s.Va=function(){qf(this,function(a){a.F&&a.Va()});this.sc&&Oe(this.sc);this.F=!1};s.h=function(){hf.a.h.call(this);this.F&&this.Va();this.sc&&(this.sc.m(),delete this.sc);qf(this,function(a){a.m()});!this.Rf&&this.g&&Kc(this.g);this.aa=this.Ge=this.g=this.Fa=this.da=m};s.hd=function(a,b){this.od(a,rf(this),b)};
s.od=function(a,b,c){a.F&&(c||!this.F)&&e(Error("Component already rendered"));(b<0||b>rf(this))&&e(Error("Child component index out of bounds"));if(!this.Fa||!this.da)this.Fa={},this.da=[];a.getParent()==this?(this.Fa[lf(a)]=a,Xa(this.da,a)):ya(this.Fa,lf(a),a);nf(a,this);ab(this.da,b,0,a);a.F&&this.F&&a.getParent()==this?(c=this.W(),c.insertBefore(a.c(),c.childNodes[b]||m)):c?(this.g||this.p(),b=V(this,b+1),pf(a,this.W(),b?b.g:m)):this.F&&!a.F&&a.g&&a.Z()};s.W=o("g");
function sf(a){if(a.nd==m)a.nd=ne(a.F?a.g:a.R.z.body);return a.nd}s.wc=function(a){this.F&&e(Error("Component already rendered"));this.nd=a};function rf(a){return a.da?a.da.length:0}function of(a,b){var c;a.Fa&&b?(c=a.Fa,c=b in c?c[b]:i,c=c||m):c=m;return c}function V(a,b){return a.da?a.da[b]||m:m}function qf(a,b,c){a.da&&Pa(a.da,b,c)}function tf(a,b){return a.da&&b?Oa(a.da,b):-1}
s.removeChild=function(a,b){if(a){var c=y(a)?a:lf(a);a=of(this,c);c&&a&&(xa(this.Fa,c),Xa(this.da,a),b&&(a.Va(),a.g&&Kc(a.g)),nf(a,m))}a||e(Error("Child is not in parent component"));return a};s.pg=function(a){for(;this.da&&this.da.length!=0;)this.removeChild(V(this,0),a)};function uf(){}var vf;ca(uf);s=uf.prototype;s.ab=aa();s.p=function(a){return a.S().p("div",this.Ec(a).join(" "),a.kb)};s.W=function(a){return a};s.ed=function(a,b,c){if(a=a.c?a.c():a)if(F&&!J("7")){var d=wf(this,Ub(a),b);d.push(b);na(c?Vb:Wb,a).apply(m,d)}else c?Vb(a,b):Wb(a,b)};s.La=q(!0);
s.ca=function(a,b){b.id&&mf(a,b.id);var c=this.W(b);c&&c.firstChild?xf(a,c.firstChild.nextSibling?Za(c.childNodes):c.firstChild):a.kb=m;var d=0,f=this.n(),g=this.n(),h=!1,j=!1;c=!1;var k=Ub(b);Pa(k,function(n){!h&&n==f?(h=!0,g==f&&(j=!0)):!j&&n==g?j=!0:d|=this.We(n)},this);a.t=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Ha;l&&k.push.apply(k,l);if(F&&!J("7")){var p=wf(this,k);p.length>0&&(k.push.apply(k,p),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");return b};
s.qc=function(a){sf(a)&&this.wc(a.c(),!0);a.isEnabled()&&this.yb(a,a.s)};s.Zc=function(a,b){ve(a,!b,!F&&!hc)};s.wc=function(a,b){this.ed(a,this.n()+"-rtl",b)};s.ub=function(a){var b;if(a.$&32&&(b=a.V()))return Qc(b);return!1};s.yb=function(a,b){var c;if(a.$&32&&(c=a.V())){if(!b&&a.t&32){try{c.blur()}catch(d){}a.t&32&&a.nb(m)}if(Qc(c)!=b)b?c.tabIndex=0:c.removeAttribute("tabIndex")}};s.za=function(a,b){te(a,b)};s.pa=function(a,b,c){var d=a.c();if(d){var f=this.ad(b);f&&this.ed(a,f,c);this.tc(d,b,c)}};
s.tc=function(a,b,c){vf||(vf=Ba(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=vf[b])&&T(a,b,c)};s.fc=function(a,b){var c=this.W(a);if(c&&(Jc(c),b))if(y(b))Nc(c,b);else{var d=function(f){if(f){var g=M(c);c.appendChild(y(f)?g.createTextNode(f):f)}};x(b)?Pa(b,d):ea(b)&&!("nodeType"in b)?Pa(Za(b),d):d(b)}};s.V=function(a){return a.c()};s.n=q("goog-control");
s.Ec=function(a){var b=this.n(),c=[b],d=this.n();d!=b&&c.push(d);b=a.t;for(d=[];b;){var f=b&-b;d.push(this.ad(f));b&=~f}c.push.apply(c,d);(a=a.Ha)&&c.push.apply(c,a);F&&!J("7")&&c.push.apply(c,wf(this,c));return c};function wf(a,b,c){var d=[];c&&(b=b.concat([c]));Pa([],function(f){Sa(f,na(Wa,b))&&(!c||Wa(f,c))&&d.push(f.join("_"))});return d}s.ad=function(a){this.je||yf(this);return this.je[a]};
s.We=function(a){if(!this.kh){this.je||yf(this);var b=this.je,c={},d;for(d in b)c[b[d]]=d;this.kh=c}a=parseInt(this.kh[a],10);return isNaN(a)?0:a};function yf(a){var b=a.n();a.je=Ba(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")};function zf(a,b){a||e(Error("Invalid class name "+a));ga(b)||e(Error("Invalid decorator function "+b));Af[a]=b}var Bf={},Af={};function W(a,b,c){hf.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ia(b);if(d=Bf[d])break;b=b.a?b.a.constructor:m}b=d?ga(d.oa)?d.oa():new d:m}this.j=b;this.kb=a}B(W,hf);s=W.prototype;s.kb=m;s.t=0;s.$=39;s.Oe=255;s.Kd=0;s.s=!0;s.Ha=m;s.Ee=!0;s.Od=!1;function Cf(a,b){a.F&&b!=a.Ee&&Df(a,b);a.Ee=b}s.V=function(){return this.j.V(this)};s.Qd=function(){return this.H||(this.H=new Re)};function Ef(a,b){if(b)a.Ha?Wa(a.Ha,b)||a.Ha.push(b):a.Ha=[b],a.j.ed(a,b,!0)}
s.ed=function(a,b){if(b)Ef(this,a);else if(a&&this.Ha){Xa(this.Ha,a);if(this.Ha.length==0)this.Ha=m;this.j.ed(this,a,!1)}};s.p=function(){var a=this.j.p(this);this.g=a;var b=this.j.ab();b&&Ae(a,b);this.Od||this.j.Zc(a,!1);this.s||this.j.za(a,!1)};s.W=function(){return this.j.W(this.c())};s.La=function(a){return this.j.La(a)};s.Xa=function(a){this.g=a=this.j.ca(this,a);var b=this.j.ab();b&&Ae(a,b);this.Od||this.j.Zc(a,!1);this.s=a.style.display!="none"};
s.Z=function(){W.a.Z.call(this);this.j.qc(this);if(this.$&-2&&(this.Ee&&Df(this,!0),this.$&32)){var a=this.V();if(a){var b=this.Qd();b.Tc(a);this.ha().i(b,"key",this.Ea).i(a,"focus",this.ac).i(a,"blur",this.nb)}}};function Df(a,b){var c=a.ha(),d=a.c();b?(c.i(d,"mouseover",a.Ye).i(d,"mousedown",a.Sb).i(d,"mouseup",a.$b).i(d,"mouseout",a.Xe),F&&c.i(d,"dblclick",a.vg)):(c.T(d,"mouseover",a.Ye).T(d,"mousedown",a.Sb).T(d,"mouseup",a.$b).T(d,"mouseout",a.Xe),F&&c.T(d,"dblclick",a.vg))}
s.Va=function(){W.a.Va.call(this);this.H&&this.H.detach();this.s&&this.isEnabled()&&this.j.yb(this,!1)};s.h=function(){W.a.h.call(this);this.H&&(this.H.m(),delete this.H);delete this.j;this.Ha=this.kb=m};s.fc=function(a){this.j.fc(this.c(),a);this.kb=a};function xf(a,b){a.kb=b}function Ff(a,b){var c=a.kb;if(!c||y(c))return c;return(c=x(c)?Ra(c,b).join(""):Rc(c))&&Ca(c)}s.dd=function(){return Ff(this,Rc)};s.wc=function(a){W.a.wc.call(this,a);var b=this.c();b&&this.j.wc(b,a)};
s.Zc=function(a){this.Od=a;var b=this.c();b&&this.j.Zc(b,a)};s.za=function(a,b){if(b||this.s!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.j.za(c,a);this.isEnabled()&&this.j.yb(this,a);this.s=a;return!0}return!1};s.isEnabled=function(){return!(this.t&1)};s.Ab=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&Gf(this,1,!a))a||(this.setActive(!1),this.Za(!1)),this.s&&this.j.yb(this,a),this.pa(1,!a)};
s.Za=function(a){Gf(this,2,a)&&this.pa(2,a)};s.setActive=function(a){Gf(this,4,a)&&this.pa(4,a)};s.pf=function(a){Gf(this,8,a)&&this.pa(8,a)};s.$a=function(){return!!(this.t&64)};s.M=function(a){Gf(this,64,a)&&this.pa(64,a)};s.pa=function(a,b){if(this.$&a&&b!=!!(this.t&a))this.j.pa(this,a,b),this.t=b?this.t|a:this.t&~a};function X(a,b,c){a.F&&a.t&b&&!c&&e(Error("Component already rendered"));!c&&a.t&b&&a.pa(b,!1);a.$=c?a.$|b:a.$&~b}function Hf(a,b){return!!(a.Oe&b)&&!!(a.$&b)}
function Gf(a,b,c){return!!(a.$&b)&&!!(a.t&b)!=c&&(!(a.Kd&b)||a.dispatchEvent(kf(b,c)))&&!a.mf}s.Ye=function(a){(!a.relatedTarget||!Mc(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Hf(this,2)&&this.Za(!0)};s.Xe=function(a){if((!a.relatedTarget||!Mc(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))Hf(this,4)&&this.setActive(!1),Hf(this,2)&&this.Za(!1)};
s.Sb=function(a){this.isEnabled()&&(Hf(this,2)&&this.Za(!0),jd(a)&&(Hf(this,4)&&this.setActive(!0),this.j.ub(this)&&this.V().focus()));!this.Od&&jd(a)&&a.preventDefault()};s.$b=function(a){this.isEnabled()&&(Hf(this,2)&&this.Za(!0),this.t&4&&this.Bc(a)&&Hf(this,4)&&this.setActive(!1))};s.vg=function(a){this.isEnabled()&&this.Bc(a)};
s.Bc=function(a){if(Hf(this,16)){var b=!(this.t&16);Gf(this,16,b)&&this.pa(16,b)}Hf(this,8)&&this.pf(!0);Hf(this,64)&&this.M(!this.$a());b=new O("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};s.ac=function(){Hf(this,32)&&Gf(this,32,!0)&&this.pa(32,!0)};s.nb=function(){Hf(this,4)&&this.setActive(!1);Hf(this,32)&&Gf(this,32,!1)&&this.pa(32,!1)};
s.Ea=function(a){if(this.s&&this.isEnabled()&&this.yc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};s.yc=function(a){return a.keyCode==13&&this.Bc(a)};ga(W)||e(Error("Invalid component class "+W));ga(uf)||e(Error("Invalid renderer class "+uf));var If=ia(W);Bf[If]=uf;zf("goog-control",function(){return new W(m)});function Jf(){}B(Jf,uf);ca(Jf);s=Jf.prototype;s.ab=q("button");s.tc=function(a,b,c){b==16?T(a,"pressed",c):Jf.a.tc.call(this,a,b,c)};s.p=function(a){var b=Jf.a.p.call(this,a),c=a.$c();c&&this.De(b,c);(c=a.o())&&this.U(b,c);a.$&16&&this.tc(b,16,!1);return b};s.ca=function(a,b){b=Jf.a.ca.call(this,a,b);var c=this.o(b);a.Ga=c;a.Ce=this.$c(b);a.$&16&&this.tc(b,16,!1);return b};s.o=u;s.U=u;s.$c=function(a){return a.title};s.De=function(a,b){if(a)a.title=b||""};s.n=q("goog-button");function Kf(){}B(Kf,Jf);ca(Kf);s=Kf.prototype;s.ab=aa();s.p=function(a){Cf(a,!1);a.Oe&=-256;X(a,32,!1);return a.S().p("button",{"class":this.Ec(a).join(" "),disabled:!a.isEnabled(),title:a.$c()||"",value:a.o()||""},a.dd()||"")};s.La=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};s.ca=function(a,b){Cf(a,!1);a.Oe&=-256;X(a,32,!1);b.disabled&&Vb(b,this.ad(1));return Kf.a.ca.call(this,a,b)};s.qc=function(a){a.ha().i(a.c(),"click",a.Bc)};
s.Zc=u;s.wc=u;s.ub=function(a){return a.isEnabled()};s.yb=u;s.pa=function(a,b,c){Kf.a.pa.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};s.o=function(a){return a.value};s.U=function(a,b){if(a)a.value=b};s.tc=u;function Lf(a,b,c){W.call(this,a,b||Kf.oa(),c)}B(Lf,W);s=Lf.prototype;s.o=o("Ga");s.U=function(a){this.Ga=a;this.j.U(this.c(),a)};s.$c=o("Ce");s.De=function(a){this.Ce=a;this.j.De(this.c(),a)};s.h=function(){Lf.a.h.call(this);delete this.Ga;delete this.Ce};s.Z=function(){Lf.a.Z.call(this);if(this.$&32){var a=this.V();a&&this.ha().i(a,"keyup",this.yc)}};s.yc=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Bc(a);return a.keyCode==32};zf("goog-button",function(){return new Lf(m)});function Mf(){}B(Mf,Jf);ca(Mf);s=Mf.prototype;s.p=function(a){var b={"class":"goog-inline-block "+this.Ec(a).join(" "),title:a.$c()||""};return a.S().p("div",b,this.Wd(a.kb,a.S()))};s.ab=q("button");s.W=function(a){return a&&a.firstChild.firstChild};s.Wd=function(a,b){return b.p("div","goog-inline-block "+(this.n()+"-outer-box"),b.p("div","goog-inline-block "+(this.n()+"-inner-box"),a))};s.La=function(a){return a.tagName=="DIV"};
s.ca=function(a,b){Nf(b,!0);Nf(b,!1);var c;a:{if((c=a.S().zg(b))&&c.className.indexOf(this.n()+"-outer-box")!=-1)if((c=a.S().zg(c))&&c.className.indexOf(this.n()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.Wd(b.childNodes,a.S()));Vb(b,"goog-inline-block",this.n());return Mf.a.ca.call(this,a,b)};s.n=q("goog-custom-button");
function Nf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(Ca(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Of(a,b,c){Lf.call(this,a,b||Mf.oa(),c)}B(Of,Lf);zf("goog-custom-button",function(){return new Of(m)});function Pf(a){this.Gb=new mb;this.cb=[];this.Ai=1024;this.fh=new U(2E4);Q(this.fh,Ke,this.Mi,!1,this);this.fh.start();Qf(this,a)}function Qf(a,b){a.Vg=A();a.sa=b;a.sa.Ug=z(a.Hi,a);a.Gb.clear();a.cb=[]}s=Pf.prototype;s.sa=m;s.Vg=0;s.Gg=u;s.Mi=function(){var a=Qa(this.Gb.Fb(),function(c){return c.state==20||c.state==ra||c.state==-10});for(cb(a,function(c,d){return c.Y-d.Y});this.Gb.ef()>this.Ai&&a.length>0;){var b=a.shift();b.state==ra&&Xa(this.cb,b);this.Gb.remove(sa(b));b.m()}};
s.Hi=function(a){a.Y<this.Vg?a.state=-10:this.Gg(a)};function Rf(a,b){cb(a.cb,function(g,h){return g.Y-h.Y});for(var c=Math.min(a.cb.length,b-a.sa.Qc),d=0;d<c;d++){var f=a.cb.pop();a.sa.ff(f)||a.cb.push(f)}};function Sf(a,b,c,d){this.yg=b.C;this.Aa=[];this.Cc=c;this.be=d;this.sa=a;this.ld=this.sa.Vb();this.Ac=new Pf(a);this.Ac.Gg=z(this.af,this);Tf(this)}s=Sf.prototype;s.Uc=function(a){this.sa=a;Qf(this.Ac,a);this.ld=this.sa.Vb();this.Aa=[];Tf(this)};
function Tf(a){var b=a.yg;a.Tb&&b.deleteTexture(a.Tb);a.Tb=b.createTexture();b.bindTexture(b.TEXTURE_2D,a.Tb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.Cc*a.ld,a.be*a.ld,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);a.oc=[];a.Ad=[];for(b=0;b<
a.Cc;++b)for(var c=0;c<a.be;++c)a.oc.push([-1,0,0,c*a.Cc+b]),a.Ad.push(new Uf(b,c))}s.Tb=m;s.oc=m;s.Ad=m;function Vf(a,b){return Ua(a.Ad,function(c){return!w(c.ya)&&sa(c.ya)==b})}function Wf(a,b){return Va(a.Aa,function(c){return sa(c)==b})}
function Xf(a,b,c,d,f,g){if(!(b<a.sa.Qb()||b>a.sa.Ua())){var h=1<<b;c=tb(c,h);d=tb(d,h);h=b+"_"+c+"_"+d;var j=Vf(a,h);if(w(j))if(j=Wf(a,h),j>=0)b=a.Aa[j],E.splice.call(a.Aa,j,1),b.Y=f,a.af(b);else if(g){if(a=a.Ac.Gb.get(h),a!=m)a.Y=f}else g=a.Ac,h=b+"_"+c+"_"+d,j=g.Gb.get(h),j!=m?j.Y=f:(j=new qa(b,c,d,f),g.Gb.set(h,j),g.cb.push(j)),f=j,f.state==20&&a.af(f);else j.ya.Y=f}}
s.af=function(a){a.state=30;eb(this.Aa,a,function(b,c){return b.Y==c.Y?b.zoom==c.zoom?b.x==c.x?b.y-c.y:b.x-c.x:b.zoom-c.zoom:b.Y-c.Y})};function Yf(a){for(var b=A()-500;a.Aa.length>0&&a.Aa[0].Y<b;)a.Aa.shift().state=20;a=a.Ac;for(b=A()-500;a.cb.length>0&&a.cb[0].Y<b;){var c=a.cb.shift();a.Gb.remove(sa(c));c.m()}}
function Zf(a,b,c){if(a.Aa.length>0){b=Math.min(a.Aa.length,b);for(var d=0;d<b;d++)$f(a,a.Aa.pop())}cb(a.oc,function(f,g){return f[0]==g[0]?f[1]==g[1]?f[2]-g[2]:f[1]-g[1]:f[0]-g[0]});Rf(a.Ac,c)}
function $f(a,b){var c=a.yg;cb(a.Ad,function(g,h){return(w(g.ya)?0:g.ya.Y)-(w(h.ya)?0:h.ya.Y)});var d=a.Ad[0];if(!w(d.ya)&&d.ya.Y>b.Y)b.state=20;else{c.bindTexture(c.TEXTURE_2D,a.Tb);c.texSubImage2D(c.TEXTURE_2D,0,d.x*a.ld,d.y*a.ld,c.RGBA,c.UNSIGNED_BYTE,b.Oc);var f=d.y*a.Cc+d.x;c=Ta(a.oc,function(g){return g[3]==f});c[0]=b.zoom;c[1]=b.x;c[2]=b.y;if(!w(d.ya))d.ya.state=20;d.ya=b;d.ya.state=40}}function Uf(a,b){this.x=a;this.y=b}Uf.prototype.ya=m;function ag(a){this.f=a||m;this.longitude=this.latitude=0;this.altitude=1E7;this.Ld=this.nc=this.Xc=0;this.Q=!0}ag.prototype.Hd=function(a,b){this.latitude=sb(a,-89,89)*Math.PI/180;this.longitude=b*Math.PI/180};function bg(a,b){a.altitude=sb(b,250,1E7);a.Q=!0}ag.prototype.xg=function(a){return cg(a,a.b.Ja/2,a.b.Ia/2,!0)};function dg(a,b,c,d){this.C=a.C;d=d?d:1;b*=d;c*=d;this.pc=this.C.createBuffer();this.Sc=this.C.createBuffer();this.C.bindBuffer(this.C.ARRAY_BUFFER,this.pc);a=b*c*12;for(var f=new Float32Array(a*2),g=new Float32Array(a*2),h=0;h<c;++h)for(var j=0;j<b;++j){var k=function(l,p,n){l=(j*b+h)*6+l;f[l*2+0]=(j-b/2+p)/d;f[l*2+1]=(h-c/2+n)/d;g[l*2+0]=j%d/d+p/d;g[l*2+1]=h%d/d+n/d};k(0,1,1);k(1,0,1);k(2,1,0);k(3,0,1);k(4,0,0);k(5,1,0)}this.C.bufferData(this.C.ARRAY_BUFFER,f,this.C.STATIC_DRAW);this.pc.ue=2;this.pc.Gf=
a;this.C.bindBuffer(this.C.ARRAY_BUFFER,this.Sc);this.C.bufferData(this.C.ARRAY_BUFFER,g,this.C.STATIC_DRAW);this.Sc.ue=2;this.Sc.Gf=a};function Y(a,b){if(a instanceof Y)this.B=a.se();else{var c;if(c=ea(a))a:{for(var d=c=0;d<a.length;d++){if(!ea(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!fa(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Za(a):a instanceof uc?this.B=eg(a.height,a.width):fa(a)&&fa(b)&&a>0&&b>0?this.B=eg(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new uc(this.B[0].length,this.B.length)}
function fg(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Y(b)}function gg(a,b,c){for(var d=0;d<a.rb().height;d++)for(var f=0;f<a.rb().width;f++)b.call(c,a.B[d][f],d,f,a)}function hg(a,b){var c=new Y(a.rb());gg(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function eg(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}s=Y.prototype;
s.add=function(a){vc(this.l,a.rb())||e(Error("Matrix summation is only supported on arrays of equal size"));return hg(this,function(b,c,d){return b+a.B[c][d]})};function ig(a,b){a.l.height!=b.rb().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new Y(a.l.height,a.l.width+b.l.width);gg(a,function(d,f,g){c.B[f][g]=d});gg(b,function(d,f,g){c.B[f][this.l.width+g]=d},a);return c}
s.nf=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return!1;return!0};s.rb=o("l");function jg(a){var b=new Y(a.l.width,a.l.height);gg(a,function(c,d,f){b.B[f][d]=c});return b}function kg(a,b,c){if(!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width))return m;return a.B[b][c]}
s.multiply=function(a){if(a instanceof Y)return this.l.width!=a.rb().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),lg(this,a);else if(fa(a))return mg(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};s.df=function(a){vc(this.l,a.rb())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return hg(this,function(b,c,d){return b-a.B[c][d]})};s.se=o("B");
function ng(a,b,c,d){var f=new Y((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);gg(f,function(g,h,j){f.B[h][j]=this.B[0+h][b+j]},a);return f}function lg(a,b){var c=new Y(a.l.height,b.rb().width);gg(c,function(d,f,g){for(var h=d=0;h<this.l.width;h++)d+=kg(this,f,h)*kg(b,h,g);f>=0&&f<c.l.height&&g>=0&&g<c.l.width||e(Error("Index out of bounds when setting matrix value, ("+f+","+g+") in size ("+c.l.height+","+c.l.width+")"));c.B[f][g]=d},a);return c}
function mg(a,b){return hg(a,function(c){return c*b})};function og(a,b,c){function d(j,k){try{var l=j.getContext(k);if(l!=m)return l}catch(p){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.pe=b||m;this.C=f;this.Ja=a.width;this.Ia=a.height;f.viewport(0,0,this.Ja,this.Ia);this.xd=this.rc=0;this.wd=1;this.$d=
this.Ja/this.Ia;this.Md=this.Nd=this.Wa=this.kd=fg(4);this.qe=this.Gd=this.re=this.Df=this.oe=0;Q(t,"resize",this.og,!1,this)}function pg(a){a.rc=50*Math.PI/180;a.xd=1.0E-6;a.wd=5;a.$d=a.Ja/a.Ia;qg(a)}function qg(a){var b=1/Math.tan(a.rc/2);a.kd=new Y([[b/a.$d,0,0,0],[0,b,0,0],[0,0,(a.wd+a.xd)/(a.xd-a.wd),2*a.wd*a.xd/(a.xd-a.wd)],[0,0,-1,0]])}
og.prototype.og=function(){this.Ja=this.canvas.width=this.canvas.clientWidth;this.Ia=this.canvas.height=this.canvas.clientHeight;this.C.viewport(0,0,this.Ja,this.Ia);this.$d=this.Ja/this.Ia;qg(this);rg(this.e)};og.prototype.translate=function(a,b,c){this.Wa=this.Wa.multiply(new Y([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function sg(a,b){var c=Math.cos(b),d=Math.sin(b);a.Wa=a.Wa.multiply(new Y([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function tg(a,b){var c=Math.cos(b),d=Math.sin(b);a.Wa=a.Wa.multiply(new Y([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))}og.prototype.e=m;
function ug(a){a.Nd=a.kd.multiply(a.Wa);var b;var c=a.Nd;c.l.width!=c.l.height&&e(Error("An inverse can only be taken on a square matrix."));b=fg(c.l.height);b:{c=ig(c,b);for(var d=new Y(c),f=0,g=0;g<d.l.height;g++){if(f>=d.l.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.l.height&&(h=g,f++,f==d.l.width)){c=d;break b}var j=c,k=g,l=j.B[h];j.B[h]=j.B[k];j.B[k]=l;h=d.B[g][f];for(j=f;j<d.l.width;j++)d.B[g][j]/=h;for(h=0;h<d.l.height;h++)if(h!=g){k=d.B[h][f];for(j=f;j<d.l.width;j++)d.B[h][j]-=k*d.B[g][j]}f++}c=
d}b=ng(c,0,b.l.width-1,b.l.height-1).nf(b)?ng(c,b.l.width):m;a.Md=b;return a.Nd};function vg(a,b,c){c=a.C.createShader(c);a.C.shaderSource(c,b);a.C.compileShader(c);a.C.getShaderParameter(c,a.C.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.C.getShaderInfoLog(c)));return c};function wg(a,b){var c=b.b.C;this.ta=a;this.If=c.getAttribLocation(this.ta,"aVertexPosition");c.enableVertexAttribArray(this.If);this.Hf=c.getAttribLocation(this.ta,"aTextureCoord");c.enableVertexAttribArray(this.Hf);this.qh=xg(c,this.ta,"uMVPMatrix");this.uh=xg(c,this.ta,"uTileBuffer");this.ph=xg(c,this.ta,"uMetaBuffer");if(b.Ub)this.th=xg(c,this.ta,"uTileBufferT"),this.oh=xg(c,this.ta,"uMetaBufferT"),this.wh=xg(c,this.ta,"uTileSize");this.xh=xg(c,this.ta,"uTileSize");this.yh=xg(c,this.ta,"uZoomLevel");
this.vh=xg(c,this.ta,"uTileCount");this.rh=xg(c,this.ta,"uOffset")}function xg(a,b,c){a=a.getUniformLocation(b,c);if(w(a))e(Error("Invalid name "+c));else return a};var yg={};yg["fs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\nprecision mediump float;varying vec2 vTile;varying vec2 vTC;uniform sampler2D uTileBuffer;uniform float uTileSize;void main(){vec2 TC=clamp(vTC*uTileSize,0.5,uTileSize-0.5);vec2 BC=(vTile+(TC/uTileSize));gl_FragColor=texture2D(uTileBuffer,vec2(BC.s/BUFF_W,BC.t/BUFF_H));}";yg["vs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\n#define BUFF_SIZE %BUFFER_SIZE_INT%\n#define BINARY_SEARCH_CYCLES %BINARY_SEARCH_CYCLES_INT%\n#define LOOKUP_LEVELS %LOOKUP_LEVELS_INT%\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_W_T %BUFFER_WIDTH_T_FLOAT%\n#define BUFF_H_T %BUFFER_HEIGHT_T_FLOAT%\n#define BUFF_SIZE_T %BUFFER_SIZE_T_INT%\n#define BINARY_SEARCH_CYCLES_T %BINARY_SEARCH_CYCLES_T_INT%\n#define LOOKUP_LEVELS_T %LOOKUP_LEVELS_T_INT%\n#define MAX_ZOOM_T %MAX_ZOOM_T_FLOAT%\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float MAX_PHI=1.4844222;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uZoomLevel;uniform float uTileCount;uniform vec2 uOffset;uniform vec4 uMetaBuffer[BUFF_SIZE];\n#if TERRAIN\nuniform vec4 uMetaBufferT[BUFF_SIZE_T];uniform sampler2D uTileBufferT;uniform float uTileSize;\n#endif\nvarying vec2 vTile;varying vec2 vTC;float compareMeta(vec3 a,vec3 b){vec3 c=a-b;return bool(c.x)?c.x:(bool(c.y)?c.y:c.z);}int findInBuffer(vec3 key) {int mid;float min=0.0,max=float(BUFF_SIZE)-1.0;for (int _i=0;_i<BINARY_SEARCH_CYCLES;++_i) {if (min>max) break;mid=int((min+max)*0.5);float res=compareMeta(uMetaBuffer[mid].xyz,key);if (res>0.0){max=float(mid)-1.0;} else if (res<0.0){min=float(mid)+1.0;} else {return mid;}}return -1;}int lookup(inout vec3 key,out vec2 off) {off=vec2(0.0,0.0);float lastZoomLevel=max(0.0,uZoomLevel-float(LOOKUP_LEVELS)+1.0);int mid=-1;for (int _i=0;_i<LOOKUP_LEVELS;++_i) {mid=findInBuffer(key);if (mid<0 && key.r>lastZoomLevel) {key.r--;off.x=off.x*0.5+mod(key.g,2.0);off.y=off.y*0.5+1.0-mod(key.b,2.0);key.gb=floor(key.gb/2.0);} else {break;}}return mid;}\n#if TERRAIN\nint findInBufferT(vec3 key) {int mid;float min=0.0,max=float(BUFF_SIZE_T)-1.0;for (int _i=0;_i<BINARY_SEARCH_CYCLES_T;++_i) {if (min>max) break;mid=int((min+max)*0.5);float res=compareMeta(uMetaBufferT[mid].xyz,key);if (res>0.0){max=float(mid)-1.0;} else if (res<0.0){min=float(mid)+1.0;} else {return mid;}}return -1;}int lookupT(inout vec3 key,inout vec2 off) {float lastZoomLevel=max(0.0,uZoomLevel-float(LOOKUP_LEVELS_T)+1.0);int mid=-1;for (int _i=0;_i<LOOKUP_LEVELS_T;++_i) {mid=findInBufferT(key);if (mid<0 && key.r>lastZoomLevel) {key.r--;off.x=off.x*0.5+mod(key.g,2.0);off.y=off.y*0.5+1.0-mod(key.b,2.0);key.gb=floor(key.gb/2.0);} else {break;}}return mid;}\n#endif\nvoid main(){vec2 phi=PI2*vec2(aVertexPosition.x+uOffset.x,aVertexPosition.y+uOffset.y)/uTileCount;float tilex=mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount);float tiley=aTextureCoord.y-1.0-aVertexPosition.y-uOffset.y+uTileCount*0.5;float elev=0.0;\n#if TERRAIN\nfloat zoomdiff = max(3.0, uZoomLevel - MAX_ZOOM_T);vec2 offT = vec2(0.0,0.0);vec3 keyT=vec3(uZoomLevel-zoomdiff,tilex,tiley);for (float i=0.0;i<15.0;++i) {if (i>=zoomdiff) break;offT.x=offT.x*0.5+mod(keyT.g,2.0);offT.y=offT.y*0.5+1.0-mod(keyT.b,2.0);keyT.gb=floor(keyT.gb/2.0);}int tileT=lookupT(keyT,offT);if (tileT>=0) {float i=uMetaBufferT[tileT].a;float reduction=exp2(uZoomLevel-keyT.r);vec2 vTileT=vec2(mod(i,BUFF_W_T),floor(i/BUFF_W_T));vec2 vTCT=offT*0.5+(aTextureCoord)/reduction;vec2 TCT_=clamp(vTCT*uTileSize,0.5,uTileSize-0.5);vec2 BCT_=(vTileT+(TCT_/uTileSize));float value=texture2D(uTileBufferT,vec2(BCT_.s/BUFF_W_T,BCT_.t/BUFF_H_T)).r;elev = value * 8248.0 / 6371009.0;}\n#endif\n%VERTEX_TRANSFORM%vec2 off;vec3 key=vec3(uZoomLevel,tilex,tiley);int tile=lookup(key,off);if (tile>=0) {float i=uMetaBuffer[tile].a;float reduction=exp2(uZoomLevel-key.r);vTile.x=mod(i,BUFF_W);vTile.y=floor(i/BUFF_W);vTC.x=off.x*0.5+(aTextureCoord.x)/reduction;vTC.y=off.y*0.5+(aTextureCoord.y)/reduction;return;}vTile=vec2(0.0,0.0);vTC=vec2(0.0,0.0);if ((abs(phi.y)-MAX_PHI)>0.01)vTC=vec2(0.5,0.5);}";function zg(a){return a in yg?yg[a]:ub("../we/shaders/"+a)};function Ag(a){this.e=a;this.te=m;var b=Bg(this.e);a=this.e.b.C;var c=zg("fs.glsl");c=c.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));c=c.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));var d=zg("vs.glsl");d=d.replace("%VERTEX_TRANSFORM%",this.Qe);d=d.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));d=d.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));d=d.replace("%BUFFER_SIZE_INT%",(b.width*b.height).toFixed(0));d=d.replace("%BINARY_SEARCH_CYCLES_INT%",(Math.log(b.width*b.height)/
Math.LN2).toFixed(0));d=d.replace("%LOOKUP_LEVELS_INT%",(Cg+1).toFixed(0));d=d.replace("%TERRAIN_BOOL%",this.e.Ub?"1":"0");this.e.Ub&&(b=Bg(this.e,!0),d=d.replace("%BUFFER_WIDTH_T_FLOAT%",b.width.toFixed(1)),d=d.replace("%BUFFER_HEIGHT_T_FLOAT%",b.height.toFixed(1)),d=d.replace("%BUFFER_SIZE_T_INT%",(b.width*b.height).toFixed(0)),d=d.replace("%BINARY_SEARCH_CYCLES_T_INT%",(Math.log(b.width*b.height)/Math.LN2).toFixed(0)),d=d.replace("%LOOKUP_LEVELS_T_INT%",(Dg+1).toFixed(0)),d=d.replace("%MAX_ZOOM_T_FLOAT%",
this.e.mb.sa.Ua().toFixed(1)));c=vg(this.e.b,c,a.FRAGMENT_SHADER);d=vg(this.e.b,d,a.VERTEX_SHADER);b=a.createProgram();w(b)&&e(Error("Unknown"));a.attachShader(b,d);a.attachShader(b,c);a.bindAttribLocation(b,0,"aVertexPosition");a.linkProgram(b);a.getProgramParameter(b,a.LINK_STATUS)||e(Error("Shader program err: "+a.getProgramInfoLog(b)));this.te=new wg(b,this.e)}Ag.prototype.Qe="";function Eg(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.A=v(c)?c:0}Eg.prototype.ma=function(){return new Eg(this.x,this.y,this.A)};Eg.prototype.se=function(){return[this.x,this.y,this.A]};function Fg(a,b,c){this.x=a;this.y=b;this.A=c}B(Fg,Eg);s=Fg.prototype;s.ma=function(){return new Fg(this.x,this.y,this.A)};s.scale=function(a){this.x*=a;this.y*=a;this.A*=a;return this};s.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.A*this.A))};s.add=function(a){this.x+=a.x;this.y+=a.y;this.A+=a.A;return this};s.df=function(a){this.x-=a.x;this.y-=a.y;this.A-=a.A;return this};s.nf=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.A==a.A};
function Gg(a,b){return new Fg(a.x+b.x,a.y+b.y,a.A+b.A)};function Hg(a){Ag.call(this,a)}B(Hg,Ag);s=Hg.prototype;s.Qe="float exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos = vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);";s.Kf=function(){return 1/Math.tan(this.e.b.rc/2)*(Math.cos(Math.abs(this.e.d.latitude))*2*Math.PI/Math.pow(2,this.e.J)*this.e.Xb/2)*Ig};
s.Lf=function(){return Math.log(Math.cos(Math.abs(this.e.d.latitude))*2*Math.PI/(2*(this.e.d.altitude/Ig)*Math.tan(this.e.b.rc/2)/this.e.Xb))/Math.LN2};s.Of=function(){tg(this.e.b,-this.e.d.Ld);sg(this.e.b,-this.e.d.nc);tg(this.e.b,-this.e.d.Xc);this.e.b.translate(0,0,-1-this.e.d.altitude/Ig);sg(this.e.b,this.e.d.latitude);var a=this.e.b,b=-this.e.d.longitude,c=Math.cos(b);b=Math.sin(b);a.Wa=a.Wa.multiply(new Y([[c,0,b,0],[0,1,0,0],[-b,0,c,0],[0,0,0,1]]))};
function Jg(a,b){var c=a.ma();c.x=-c.x;c.y=-c.y;c.A=-c.A;var d=b.x*c.x+b.y*c.y+b.A*c.A;c=d*d-(c.x*c.x+c.y*c.y+c.A*c.A)+1;return c<0?m:[Math.min(d+Math.sqrt(c),d-Math.sqrt(c)),Math.max(d+Math.sqrt(c),d-Math.sqrt(c))]}s.Fg=function(a,b){var c=Jg(a,b);if(w(c))return m;else{c=Gg(a,b.scale(c[0]));var d=Math.asin(c.x/Math.sqrt(1-c.y*c.y));c.A<0&&(d=Math.PI-d);d=tb(d,2*Math.PI);return[Math.asin(c.y),d>Math.PI?d-2*Math.PI:d]}};
s.gg=function(a,b){var c=Math.cos(a);return new Fg(Math.sin(b)*c,Math.sin(a),Math.cos(b)*c)};s.hg=function(a,b){var c;c=a.x-b.x;var d=a.y-b.y,f=a.A-b.A;c=Math.sqrt(c*c+d*d+f*f);d=a.df(b).normalize();d=Jg(b,d);return w(d)?!1:Math.abs(c-d[0])<Math.abs(c-d[1])};function Kg(a,b,c,d,f,g){if(w(d))return m;a=d.multiply(new Y([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(kg(a,3,0)==0)return m;a=a.multiply(1/kg(a,3,0));return new Fg(kg(a,0,0),kg(a,1,0),kg(a,2,0))};var Cg=4,Dg=2,Ig=6371009;
function Lg(a,b,c,d,f,g,h){this.b=a;this.Ef=b||m;this.vc=c||document.createElement("div");if(!v(c))b=this.b.canvas,b.parentNode&&b.parentNode.insertBefore(this.vc,b.nextSibling);this.Yc=d||document.createElement("img");if(!v(d))d=this.vc,d.parentNode&&d.parentNode.insertBefore(this.Yc,d.nextSibling);this.Lh=h||m;this.P=f||new gf;this.qa=new Sf(this.P,a,8,8);(this.Ub=this.b.C.getParameter(this.b.C.MAX_VERTEX_TEXTURE_IMAGE_UNITS)!==0)&&(this.mb=new Sf(new vb("CleanTOPO2","../../resources/terrain/CleanTOPO2/{z}/{x}/{y}.png",0,
5,256),a,4,4));this.Uc(this.P);this.Xf=new U(150);Q(this.Xf,Ke,z(this.Nh,this));this.Xf.start();this.Xb=0;rg(this);this.J=3;this.wb=1;this.d=new ag(this);this.Rc=[0,0];this.Ta=g||new Hg(this);this.Ff=[new dg(a,1,1,1),new dg(a,4,4,16),new dg(a,6,6,8),new dg(a,8,8,8),new dg(a,10,10,8),new dg(a,16,16,8)]}B(Lg,S);function Mg(a){O.call(this,a)}B(Mg,O);function Bg(a,b){return b&&a.Ub?{width:a.mb.Cc,height:a.mb.be}:{width:a.qa.Cc,height:a.qa.be}}
Lg.prototype.Zg=function(){w(this.vc)||(Jc(this.vc),Ic(this.vc,this.Lh),this.P.ke(this.vc));if(!w(this.Yc))w(this.P.xf())?this.Yc.style.visibility="hidden":(this.Yc.src=this.P.xf(),this.Yc.style.visibility="visible")};Lg.prototype.Uc=function(a){this.P=a;this.qa.Uc(this.P);this.P.Sg=z(this.Zg,this);rg(this);this.Zg()};function rg(a){a.Xb=0.9*a.b.canvas.height/a.P.Vb()}function Ng(a,b){a.J=sb(b,Math.max(3,a.P.Qb()),a.P.Ua());a.wb=1<<Math.floor(a.J);a.d.Q=!1;a.dispatchEvent(new Mg("zoomchanged"))}
Lg.prototype.Nh=function(){function a(g,h,j,k,l,p){for(var n=-j;n<=j;n++){var r=Math.abs(n);Xf(p,k,g+n,h-j,l-r);Xf(p,k,g+n,h+j,l-r);r!=j&&(Xf(p,k,g-j,h+n,l-r),Xf(p,k,g+j,h+n,l-r))}}var b=this.d.xg(this);w(b)&&(b=[this.d.latitude,this.d.longitude]);this.Rc[0]=Math.floor(b[1]/(2*Math.PI)*this.wb);this.Rc[1]=Math.floor(Og(b[0])/(Math.PI*2)*this.wb);b={x:this.Rc[0]+this.wb/2,y:this.wb-1-(this.Rc[1]+this.wb/2)};for(var c=Math.floor(this.J),d=A(),f=1;f<=Cg;f++)Xf(this.qa,c-f,b.x>>f,b.y>>f,d+f,f>4);a(b.x>>
1,b.y>>1,1,c-1,d,this.qa);Xf(this.qa,c,b.x,b.y,d+3);a(b.x,b.y,1,c,d+2,this.qa);a(b.x,b.y,2,c,d-5,this.qa);Yf(this.qa);Zf(this.qa,2,12);this.Ub&&(f=sb(c-3,0,this.mb.sa.Ua()),c-=f,Xf(this.qa,f,b.x>>c,b.y>>c,d+1),a(b.x>>c,b.y>>c,1,f,d,this.mb),Zf(this.mb,1,4))};function cg(a,b,c,d){var f=Kg(b,c,0,a.b.Md,a.b.Ja,a.b.Ia);b=Kg(b,c,1,a.b.Md,a.b.Ja,a.b.Ia);if(w(f)||w(b))return m;b.df(f);b.normalize();a=a.Ta.Fg(f,b);return a!=m?d==!0?[a[0],a[1]]:[a[0]*180/Math.PI,a[1]*180/Math.PI]:m}
function Og(a){return Math.log(Math.tan(a/2+Math.PI/4))};function Pg(a,b,c){D.call(this);this.target=a;this.handle=b||a;this.$g=c||new de(NaN,NaN,NaN,NaN);this.z=M(a);this.bb=new Le(this);Q(this.handle,["touchstart","mousedown"],this.qg,!1,this)}B(Pg,S);var Qg=F||H&&J("1.9.3");s=Pg.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.Cg=0;s.Dg=0;s.Dc=0;s.xb=0;s.Ka=!0;s.Ba=!1;s.Bg=0;s.pi=0;s.oi=!1;s.ha=o("bb");s.Ab=ba("Ka");
s.h=function(){Pg.a.h.call(this);Gd(this.handle,["touchstart","mousedown"],this.qg,!1,this);this.bb.m();delete this.target;delete this.handle;delete this.bb};
s.qg=function(a){var b=a.type=="mousedown";if(this.Ka&&!this.Ba&&(!b||jd(a))){Rg(a);if(this.Bg==0)if(Sg(this,a),this.Ba)a.preventDefault();else return;else a.preventDefault();b=this.z;var c=b.documentElement,d=!Qg;this.bb.i(b,["touchmove","mousemove"],this.ni,d);this.bb.i(b,["touchend","mouseup"],this.ce,d);Qg?(c.setCapture(!1),this.bb.i(c,"losecapture",this.ce)):this.bb.i(b?b.parentWindow||b.defaultView:window,"blur",this.ce);F&&this.oi&&this.bb.i(b,"dragstart",ed);this.ri&&this.bb.i(this.ri,"scroll",
this.qi,d);this.clientX=this.Cg=a.clientX;this.clientY=this.Dg=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Dc=this.target.offsetLeft;this.xb=this.target.offsetTop;this.pd=Uc(L(this.z));this.pi=A()}};function Sg(a,b){if(a.dispatchEvent(new Tg("start",a,b.clientX,b.clientY,b))!==!1)a.Ba=!0}
s.ce=function(a,b){Oe(this.bb);Qg&&this.z.releaseCapture();if(this.Ba)Rg(a),this.Ba=!1,this.dispatchEvent(new Tg("end",this,a.clientX,a.clientY,a,Ug(this,this.Dc),Vg(this,this.xb),b||a.type=="touchcancel"));(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function Rg(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Kb(a.ka.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Kb(a.ka.changedTouches[0],a.currentTarget)}
s.ni=function(a){if(this.Ka){Rg(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ba){var d=this.Cg-this.clientX,f=this.Dg-this.clientY;if(d*d+f*f>this.Bg&&(Sg(this,a),!this.Ba)){this.ce(a);return}}c=Wg(this,b,c);b=c.x;c=c.y;this.Ba&&this.dispatchEvent(new Tg("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Xg(this,a,b,c),a.preventDefault())}};
function Wg(a,b,c){var d=Uc(L(a.z));b+=d.x-a.pd.x;c+=d.y-a.pd.y;a.pd=d;a.Dc+=b;a.xb+=c;return new K(Ug(a,a.Dc),Vg(a,a.xb))}s.qi=function(a){var b=Wg(this,0,0);a.clientX=this.pd.x-this.clientX;a.clientY=this.pd.y-this.clientY;Xg(this,a,b.x,b.y)};function Xg(a,b,c,d){a.Fe(c,d);a.dispatchEvent(new Tg("drag",a,b.clientX,b.clientY,b,c,d))}function Ug(a,b){var c=a.$g,d=!isNaN(c.left)?c.left:m;c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function Vg(a,b){var c=a.$g,d=!isNaN(c.top)?c.top:m;c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.Fe=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function Tg(a,b,c,d,f,g,h,j){O.call(this,a);this.clientX=c;this.clientY=d;this.gj=f;this.left=v(g)?g:b.Dc;this.top=v(h)?h:b.xb;this.cg=b;this.hj=!!j}B(Tg,O);function Zg(a){D.call(this);this.g=a;this.L=Q(this.g,H?"DOMMouseScroll":"mousewheel",this)}B(Zg,S);
Zg.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.ka;if(a.type=="mousewheel"){c=1;if(F||I&&(cc||J("532.0")))c=40;d=I&&bc&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=I&&bc&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=I&&bc&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.Wg)&&(b=sb(b,-this.Wg,this.Wg));fa(this.Xg)&&(c=sb(c,-this.Xg,this.Xg));b=new $g(d,
a,b,c);try{this.dispatchEvent(b)}finally{b.m()}};Zg.prototype.h=function(){Zg.a.h.call(this);R(this.L);delete this.L};function $g(a,b,c,d){b&&this.Kb(b,i);this.type="mousewheel";this.detail=a;this.Dc=c;this.xb=d}B($g,gd);function ah(a,b,c,d){D.call(this);(!x(a)||!x(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Fc=a;this.Ri=b;this.duration=c;this.Pg=d;this.coords=[]}B(ah,S);var bh={},ch=m;function dh(){Je.clearTimeout(ch);var a=A(),b;for(b in bh)eh(bh[b],a);ch=wa(bh)?m:Je.setTimeout(dh,20)}function fh(a){a=ia(a);delete bh[a];ch&&wa(bh)&&(Je.clearTimeout(ch),ch=m)}s=ah.prototype;s.t=0;s.Jg=0;s.wa=0;s.startTime=m;s.Mg=m;
s.sf=m;s.play=function(a){if(a||this.t==0)this.wa=0,this.coords=this.Fc;else if(this.t==1)return!1;fh(this);this.startTime=A();this.t==-1&&(this.startTime-=this.duration*this.wa);this.Mg=this.startTime+this.duration;this.sf=this.startTime;this.wa||this.md();gh(this,"play");this.t==-1&&gh(this,"resume");this.t=1;a=ia(this);a in bh||(bh[a]=this);ch||(ch=Je.setTimeout(dh,20));eh(this,this.startTime);return!0};s.stop=function(a){fh(this);this.t=0;if(a)this.wa=1;hh(this,this.wa);gh(this,"stop");this.ee()};
s.h=function(){this.t!=0&&this.stop(!1);gh(this,"destroy");ah.a.h.call(this)};function eh(a,b){a.wa=(b-a.startTime)/(a.Mg-a.startTime);if(a.wa>=1)a.wa=1;a.Jg=1E3/(b-a.sf);a.sf=b;ga(a.Pg)?hh(a,a.Pg(a.wa)):hh(a,a.wa);a.wa==1?(a.t=0,fh(a),gh(a,"finish"),a.ee()):a.t==1&&a.hf()}function hh(a,b){a.coords=Array(a.Fc.length);for(var c=0;c<a.Fc.length;c++)a.coords[c]=(a.Ri[c]-a.Fc[c])*b+a.Fc[c]}s.hf=function(){gh(this,"animate")};s.md=function(){gh(this,"begin")};s.ee=function(){gh(this,"end")};
function gh(a,b){a.dispatchEvent(new ih(b,a))}function ih(a,b){O.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.A=b.coords[2];this.duration=b.duration;this.wa=b.wa;this.oe=b.Jg;this.state=b.t;this.fj=b}B(ih,O);function jh(a,b,c,d,f){ah.call(this,b,c,d,f);this.element=a}B(jh,ah);jh.prototype.fe=u;jh.prototype.hf=function(){this.fe();jh.a.hf.call(this)};jh.prototype.ee=function(){this.fe();jh.a.ee.call(this)};jh.prototype.md=function(){this.fe();jh.a.md.call(this)};function kh(a,b,c){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));jh.apply(this,arguments)}B(kh,jh);
kh.prototype.fe=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function lh(a,b,c,d){kh.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}B(lh,kh);lh.prototype.md=function(){this.Fc=[this.element.offsetLeft,this.element.offsetTop];lh.a.md.call(this)};function mh(){D.call(this)}B(mh,S);s=mh.prototype;s.Ga=0;s.Ra=0;s.Da=100;s.xa=0;s.Pc=1;s.fb=!1;s.zc=!1;s.U=function(a){a=nh(this,a);if(this.Ga!=a)this.Ga=a+this.xa>this.Da?this.Da-this.xa:a<this.Ra?this.Ra:a,!this.fb&&!this.zc&&this.dispatchEvent("change")};s.o=function(){return nh(this,this.Ga)};s.gd=function(a){a=nh(this,a);if(this.xa!=a)this.xa=a<0?0:this.Ga+a>this.Da?this.Da-this.Ga:a,!this.fb&&!this.zc&&this.dispatchEvent("change")};
s.bc=function(){var a;a=this.xa;a=this.Pc==m?a:Math.round(a/this.Pc)*this.Pc;return a};s.kf=function(a){if(this.Ra!=a){var b=this.fb;this.fb=!0;this.Ra=a;if(a+this.xa>this.Da)this.xa=this.Da-this.Ra;a>this.Ga&&this.U(a);if(a>this.Da)this.xa=0,this.Pd(a),this.U(a);this.fb=b;!this.fb&&!this.zc&&this.dispatchEvent("change")}};s.ga=function(){return nh(this,this.Ra)};
s.Pd=function(a){a=nh(this,a);if(this.Da!=a){var b=this.fb;this.fb=!0;this.Da=a;a<this.Ga+this.xa&&this.U(a-this.xa);if(a<this.Ra)this.xa=0,this.kf(a),this.U(this.Da);if(a<this.Ra+this.xa)this.xa=this.Da-this.Ra;this.fb=b;!this.fb&&!this.zc&&this.dispatchEvent("change")}};s.ja=function(){return nh(this,this.Da)};function nh(a,b){if(a.Pc==m)return b;return a.Ra+Math.round((b-a.Ra)/a.Pc)*a.Pc};function oh(a){hf.call(this,a);this.u=new mh;Q(this.u,"change",this.Ki,!1,this)}B(oh,hf);s=oh.prototype;s.N="horizontal";s.cf=!1;s.bi=!1;s.Mb=10;s.fd=0;s.p=function(){oh.a.p.call(this);this.Xa(this.S().p("div",this.n(this.N)))};s.Xa=function(a){oh.a.Xa.call(this,a);Vb(a,this.n(this.N));a=this.c();var b=Ac(document,m,"goog-slider-thumb",a)[0];b||(b=this.S().p("div","goog-slider-thumb"),Ae(b,"button"),a.appendChild(b));this.O=this.na=b;Ae(this.c(),"slider");ph(this)};
s.Z=function(){oh.a.Z.call(this);this.Jd=new Pg(this.O);this.Vf=new Pg(this.na);this.Jd.Fe=this.Vf.Fe=u;this.H=new Re(this.c());this.Pb=new Zg(this.c());this.ha().i(this.Jd,"beforedrag",this.Wf).i(this.Vf,"beforedrag",this.Wf).i(this.H,"key",this.Be).i(this.c(),"mousedown",this.Fd).i(this.Pb,"mousewheel",this.Mh);this.c().tabIndex=0;qh(this)};
s.Wf=function(a){var b=a.cg==this.Jd?this.O:this.na,c;this.N=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.ja()-this.ga())+this.ga()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.ja()-this.ga())+this.ga();c=a.cg==this.Jd?Math.min(Math.max(c,this.ga()),this.o()+this.bc()):Math.min(Math.max(c,this.o()),this.ja());rh(this,b,c)};
s.Be=function(a){var b=!0;switch(a.keyCode){case 36:sh(this,this.ga());break;case 35:sh(this,this.ja());break;case 33:th(this,this.Mb);break;case 34:th(this,-this.Mb);break;case 37:case 40:th(this,a.shiftKey?-this.Mb:-this.wf);break;case 39:case 38:th(this,a.shiftKey?this.Mb:this.wf);break;default:b=!1}b&&a.preventDefault()};
s.Fd=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!Mc(this.O,b)&&!Mc(this.na,b))if(this.bi)sh(this,uh(this,a));else{this.Le(a);this.Ca=vh(this,uh(this,a));this.bg=this.N=="vertical"?this.Ud<this.Ca.offsetTop:this.Ud>this.Ca.offsetLeft+this.Ca.offsetWidth;a=M(this.c());this.ha().i(a,"mouseup",this.$f,!0).i(this.c(),"mousemove",this.Le);if(!this.vb)this.vb=new U(200),this.ha().i(this.vb,Ke,this.fg);this.fg();this.vb.start()}};s.Mh=function(a){th(this,(a.detail>0?-1:1)*this.wf);a.preventDefault()};
s.fg=function(){var a;if(this.N=="vertical"){var b=this.Ud,c=this.Ca.offsetTop;this.bg?b<c&&(a=wh(this,this.Ca)+this.Mb):b>c+this.Ca.offsetHeight&&(a=wh(this,this.Ca)-this.Mb)}else b=this.Ud,c=this.Ca.offsetLeft,this.bg?b>c+this.Ca.offsetWidth&&(a=wh(this,this.Ca)+this.Mb):b<c&&(a=wh(this,this.Ca)-this.Mb);v(a)&&rh(this,this.Ca,a)};s.$f=function(){this.vb&&this.vb.stop();var a=M(this.c());this.ha().T(a,"mouseup",this.$f,!0).T(this.c(),"mousemove",this.Le)};
function xh(a,b){var c,d=a.c();c=oe(b);d=oe(d);c=new K(c.x-d.x,c.y-d.y);return a.N=="vertical"?c.y:c.x}s.Le=function(a){this.Ud=xh(this,a)};function uh(a,b){var c=a.ga(),d=a.ja();if(a.N=="vertical"){var f=a.O.offsetHeight,g=a.c().clientHeight-f;f=xh(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.O.offsetWidth,g=a.c().clientWidth-f,f=xh(a,b)-f/2,(d-c)*f/g+c}
function wh(a,b){if(b==a.O)return a.u.o();else if(b==a.na)return a.u.o()+a.u.bc();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function th(a,b){var c=wh(a,a.O)+b,d=wh(a,a.na)+b;c=sb(c,a.ga(),a.ja()-a.fd);d=sb(d,a.ga()+a.fd,a.ja());yh(a,c,d-c)}function rh(a,b,c){var d=m;b==a.na&&c<=a.u.ja()&&c>=a.u.o()+a.fd&&(d=c-a.u.o());var f=d||a.u.bc();b==a.O&&c>=a.ga()&&c<=a.u.o()+f-a.fd&&(b=f-(c-a.u.o()),nh(a.u,c)+nh(a.u,b)==nh(a.u,c+b)&&(yh(a,c,b),d=m));d!=m&&a.u.gd(d)}
function yh(a,b,c){if(a.ga()<=b&&b<=a.ja()-c&&a.fd<=c&&c<=a.ja()-b&&!(b==a.o()&&c==a.bc()))a.u.zc=!0,a.u.gd(0),a.u.U(b),a.u.gd(c),a.u.zc=!1,qh(a),a.dispatchEvent("change")}s.ga=function(){return this.u.ga()};s.kf=function(a){this.u.kf(a)};s.ja=function(){return this.u.ja()};s.Pd=function(a){this.u.Pd(a)};function vh(a,b){return b<=a.u.o()+a.u.bc()/2?a.O:a.na}s.Ki=function(){qh(this);ph(this);this.dispatchEvent("change")};
function qh(a){if(a.O&&!a.cf){var b=zh(a,wh(a,a.O)),c=zh(a,wh(a,a.na));a.N=="vertical"?(a.O.style.top=b.y+"px",a.na.style.top=c.y+"px"):(a.O.style.left=b.x+"px",a.na.style.left=c.x+"px")}}function zh(a,b){var c=new K;if(a.O){var d=a.ga(),f=a.ja();d=b==d&&d==f?0:(b-d)/(f-d);a.N=="vertical"?(f=a.c().clientHeight-a.O.offsetHeight,c.y=f-Math.round(d*f)):c.x=Math.round(d*(a.c().clientWidth-a.O.offsetWidth))}return c}
function sh(a,b){b=Math.min(a.ja(),Math.max(b,a.ga()));a.Wc&&a.Wc.stop(!0);var c=vh(a,b),d=zh(a,b);d=new lh(c,a.N=="vertical"?[c.offsetLeft,d.y]:[d.x,c.offsetTop],100);a.Wc=d;a.ha().i(d,"end",a.yi);a.cf=!0;rh(a,c,b);d.play(!1)}s.yi=function(){this.cf=!1};
s.Rd=function(a){if(this.N!=a){var b=this.n(this.N),c=this.n(a);this.N=a;if(this.c()){a=this.c();for(var d=Ub(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(ab(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.O.style.left=this.O.style.top="";this.na.style.left=this.na.style.top="";qh(this)}}};
s.h=function(){oh.a.h.call(this);this.vb&&this.vb.m();delete this.vb;this.Wc&&this.Wc.m();delete this.Wc;delete this.O;delete this.na;this.u.m();delete this.u;this.H&&(this.H.m(),delete this.H);this.Pb&&(this.Pb.m(),delete this.Pb)};s.wf=1;s.o=function(){return this.u.o()};s.U=function(a){rh(this,this.O,a)};s.bc=function(){return this.u.bc()};s.gd=function(a){rh(this,this.na,this.u.o()+a)};s.za=function(a){te(this.c(),a);a&&qh(this)};
function ph(a){var b=a.c();b&&(T(b,"valuemin",a.ga()),T(b,"valuemax",a.ja()),T(b,"valuenow",a.o()))};function Ah(a){oh.call(this,a);this.u.gd(0)}B(Ah,oh);Ah.prototype.n=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function Bh(a,b){this.f=a;this.cc=new Ah;this.cc.Rd("vertical");this.cc.Pd(400);var c=Math.max(3,a.P.Qb());Ch=!1;this.cc.U((this.f.J-c)*400/this.f.P.Ua());this.L=Q(this.cc,"change",function(d){Ch==!1&&Ng(a,d.target.o()*(a.P.Ua()-c)/400+c);Ch=!1});this.Rh=Q(this.f,"zoomchanged",this.Yh,!1,this);this.Me=new Of("");Ef(this.Me,"addzoom");this.Ne=new Of("");Ef(this.Ne,"substractzoom");this.Ph=Q(this.Me,"action",function(){Ng(a,Math.floor(a.J+1))});this.Qh=Q(this.Ne,"action",function(){Ng(a,Math.floor(a.J-
1))});this.Me.Sa(N("addzoom"));this.Ne.Sa(N("substractzoom"));this.cc.Sa(b)}var Ch;B(Bh,D);Bh.prototype.Yh=function(){var a=Math.max(3,this.f.P.Qb());Ch=!0;this.cc.U((this.f.J-a)*400/this.f.P.Ua())};Bh.prototype.h=function(){R(this.L);R(this.Rh);R(this.Ph);R(this.Qh);this.cc.m()};function Dh(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var p=l.tagName=="HTML"||l.tagName=="BODY";if(!p||fe(l,"position")!="static")k=me(l),p||(k=yc(k,new K(l.scrollLeft,l.scrollTop)))}l=se(a);if(p=le(a)){var n=new de(p.left,p.top,p.right-p.left,p.bottom-p.top);p=Math.max(l.left,n.left);var r=Math.min(l.left+l.width,n.left+n.width);if(p<=r){var G=Math.max(l.top,n.top);n=Math.min(l.top+l.height,n.top+n.height);if(G<=n)l.left=p,l.top=G,l.width=r-p,l.height=n-G}}p=L(a);G=L(c);if(p.z!=G.z){r=p.z.body;
G=G.z.parentWindow||G.z.defaultView;n=new K(0,0);var Hb=M(r)?M(r).parentWindow||M(r).defaultView:window,Ze=r;do{var Yg=Hb==G?me(Ze):oe(Ze);n.x+=Yg.x;n.y+=Yg.y}while(Hb&&Hb!=G&&(Ze=Hb.frameElement)&&(Hb=Hb.parent));r=yc(n,me(r));F&&!Bc(p.z)&&(r=yc(r,Uc(p)));l.left+=r.x;l.top+=r.y}a=(b&4&&ne(a)?b^2:b)&-5;b=new K(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=yc(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var C;if(h&&(C=le(c))&&k)C.top=Math.max(0,C.top-k.y),C.right-=k.x,C.bottom-=k.y,
C.left=Math.max(0,C.left-k.x);a:{k=C;f=b.ma();C=0;a=(d&4&&ne(c)?d^2:d)&-5;d=re(c);j=j?j.ma():d;if(g||a!=0)a&2?f.x-=j.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=j.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h){if(k){g=f;C=0;if(g.x<k.left&&h&1)g.x=k.left,C|=1;g.x<k.left&&g.x+j.width>k.right&&h&16&&(j.width-=g.x+j.width-k.right,C|=4);if(g.x+j.width>k.right&&h&1)g.x=Math.max(k.right-j.width,k.left),C|=1;h&2&&(C|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4)g.y=k.top,C|=2;g.y>=k.top&&
g.y+j.height>k.bottom&&h&32&&(j.height-=g.y+j.height-k.bottom,C|=8);if(g.y+j.height>k.bottom&&h&4)g.y=Math.max(k.bottom-j.height,k.top),C|=2;h&8&&(C|=(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=C}else h=256;C=h;if(C&496){c=C;break a}}ge(c,f);vc(d,j)||qe(c,j);c=C}return c};function Eh(){}Eh.prototype.Wb=aa();function Fh(a,b){this.element=a;this.Ic=b}B(Fh,Eh);Fh.prototype.Wb=function(a,b,c){Dh(this.element,this.Ic,a,b,i,c)};function Gh(a,b,c){Fh.call(this,a,b);this.Ui=c}B(Gh,Fh);Gh.prototype.Wb=function(a,b,c,d){var f=Dh(this.element,this.Ic,a,b,m,c,10,d);if(f&496){var g=this.Ic,h=b;f&48&&(g^=2,h^=2);f&192&&(g^=1,h^=1);f=Dh(this.element,g,a,h,m,c,10,d);f&496&&(this.Ui?Dh(this.element,this.Ic,a,b,m,c,5,d):Dh(this.element,this.Ic,a,b,m,c,0,d))}};function Hh(a,b,c,d){Gh.call(this,a,b,c);this.Bi=d}B(Hh,Gh);Hh.prototype.Wb=function(a,b,c,d){this.Bi?Dh(this.element,this.Ic,a,b,m,c,33,d):Hh.a.Wb.call(this,a,b,c,d)};function Ih(){}B(Ih,uf);ca(Ih);Ih.prototype.p=function(a){return a.S().p("div",this.n())};Ih.prototype.ca=function(a,b){if(b.tagName=="HR"){var c=b;b=this.p(a);c.parentNode&&c.parentNode.insertBefore(b,c);Kc(c)}else Vb(b,this.n());return b};Ih.prototype.fc=aa();Ih.prototype.n=q("goog-menuseparator");function Jh(a,b){W.call(this,m,a||Ih.oa(),b);X(this,1,!1);X(this,2,!1);X(this,4,!1);X(this,32,!1);this.t=1}B(Jh,W);Jh.prototype.Z=function(){Jh.a.Z.call(this);Ae(this.c(),"separator")};zf("goog-menuseparator",function(){return new Jh});function Kh(){}ca(Kh);s=Kh.prototype;s.ab=aa();function Lh(a,b){if(a)a.tabIndex=b?0:-1}s.p=function(a){return a.S().p("div",this.Ec(a).join(" "))};s.W=function(a){return a};s.La=function(a){return a.tagName=="DIV"};s.ca=function(a,b){b.id&&mf(a,b.id);var c=this.n(),d=!1,f=Ub(b);f&&Pa(f,function(g){g==c?d=!0:g&&(g==c+"-disabled"?a.Ab(!1):g==c+"-horizontal"?a.Rd(Mh):g==c+"-vertical"&&a.Rd(Nh))},this);d||Vb(b,c);Oh(this,a,this.W(b));return b};
function Oh(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.bf(d);if(g)g.g=d,b.isEnabled()||g.Ab(!1),b.hd(g),g.ca(d)}else(!d.nodeValue||Ca(d.nodeValue)=="")&&c.removeChild(d);d=f}}s.bf=function(a){a:{for(var b=Ub(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Af?Af[b[c]]():m)break a;a=m}return a};s.qc=function(a){a=a.c();ve(a,!0,H);if(F)a.hideFocus=!0;var b=this.ab();b&&Ae(a,b)};s.V=function(a){return a.c()};s.n=q("goog-container");
s.Ec=function(a){var b=this.n(),c=[b,a.N==Mh?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Ph(){}B(Ph,Kh);ca(Ph);s=Ph.prototype;s.ab=q("menu");s.La=function(a){return a.tagName=="UL"||Ph.a.La.call(this,a)};s.bf=function(a){return a.tagName=="HR"?new Jh:Ph.a.bf.call(this,a)};s.gc=function(a,b){return Mc(a.c(),b)};s.n=q("goog-menu");s.qc=function(a){Ph.a.qc.call(this,a);T(a.c(),"haspopup","true")};zf("goog-menuseparator",function(){return new Jh});function Qh(){this.ah=[]}B(Qh,uf);ca(Qh);function Rh(a,b){var c=a.ah[b];if(!c){switch(b){case 0:c=a.n()+"-highlight";break;case 1:c=a.n()+"-checkbox";break;case 2:c=a.n()+"-content"}a.ah[b]=c}return c}s=Qh.prototype;s.ab=q("menuitem");s.p=function(a){var b=a.S().p("div",this.Ec(a).join(" "),Sh(this,a.kb,a.S()));Th(this,a,b,!!(a.$&8)||!!(a.$&16));return b};s.W=function(a){return a&&a.firstChild};
s.ca=function(a,b){var c=Lc(b),d=Rh(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(Sh(this,b.childNodes,a.S()));Wa(Ub(b),"goog-option")&&(a.Td(!0),this.Td(a,b,!0));return Qh.a.ca.call(this,a,b)};s.fc=function(a,b){var c=this.W(a),d=Uh(this,a)?c.firstChild:m;Qh.a.fc.call(this,a,b);d&&!Uh(this,a)&&c.insertBefore(d,c.firstChild||m)};function Sh(a,b,c){a=Rh(a,2);return c.p("div",a,b)}s.Td=function(a,b,c){b&&(Ae(b,c?"menuitemcheckbox":this.ab()),Th(this,a,b,c))};
function Uh(a,b){var c=a.W(b);if(c){c=c.firstChild;var d=Rh(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function Th(a,b,c,d){d!=Uh(a,c)&&(d?Vb(c,"goog-option"):Wb(c,"goog-option"),c=a.W(c),d?(a=Rh(a,1),c.insertBefore(b.S().p("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}s.ad=function(a){switch(a){case 2:return Rh(this,0);case 16:case 8:return"goog-option-selected";default:return Qh.a.ad.call(this,a)}};
s.We=function(a){var b=Rh(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Qh.a.We.call(this,a)}};s.n=q("goog-menuitem");function Vh(a,b,c,d){W.call(this,a,d||Qh.oa(),c);this.U(b)}B(Vh,W);s=Vh.prototype;s.o=function(){var a=this.Ge;return a!=m?a:this.dd()};s.U=ba("Ge");s.Td=function(a){X(this,16,a);var b=this.c();b&&this.j.Td(this,b,a)};s.dd=function(){return Ff(this,function(a){return Wa(Ub(a),"goog-menuitem-accel")?"":Rc(a)})};s.$b=function(a){var b=this.getParent();if(b){var c=b.Ag;b.Ag=m;if(b=c&&fa(a.clientX))b=new K(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}Vh.a.$b.call(this,a)};
zf("goog-menuitem",function(){return new Vh(m)});function Wh(a,b,c){hf.call(this,c);this.j=b||Kh.oa();this.N=a||Nh}B(Wh,hf);var Mh="horizontal",Nh="vertical";s=Wh.prototype;s.Hg=m;s.H=m;s.j=m;s.N=m;s.s=!0;s.Ka=!0;s.of=!0;s.ba=-1;s.X=m;s.jb=!1;s.ui=!1;s.li=!0;s.zb=m;s.V=function(){return this.Hg||this.j.V(this)};s.Qd=function(){return this.H||(this.H=new Re(this.V()))};s.p=function(){this.g=this.j.p(this)};s.W=function(){return this.j.W(this.c())};s.La=function(a){return this.j.La(a)};
s.Xa=function(a){this.g=this.j.ca(this,a);if(a.style.display=="none")this.s=!1};s.Z=function(){Wh.a.Z.call(this);qf(this,function(b){b.F&&Xh(this,b)},this);var a=this.c();this.j.qc(this);this.za(this.s,!0);this.ha().i(this,"enter",this.Ae).i(this,"highlight",this.ye).i(this,"unhighlight",this.ze).i(this,"open",this.Hh).i(this,"close",this.Fh).i(a,"mousedown",this.Sb).i(M(a),"mouseup",this.Gh).i(a,["mousedown","mouseup","mouseover","mouseout"],this.Eh);this.ub()&&Yh(this,!0)};
function Yh(a,b){var c=a.ha(),d=a.V();b?c.i(d,"focus",a.ac).i(d,"blur",a.nb).i(a.Qd(),"key",a.Ea):c.T(d,"focus",a.ac).T(d,"blur",a.nb).T(a.Qd(),"key",a.Ea)}s.Va=function(){Zh(this,-1);this.X&&this.X.M(!1);this.jb=!1;Wh.a.Va.call(this)};s.h=function(){Wh.a.h.call(this);if(this.H)this.H.m(),this.H=m;this.j=this.X=this.zb=m};s.Ae=q(!0);
s.ye=function(a){var b=tf(this,a.target);if(b>-1&&b!=this.ba){var c=V(this,this.ba);c&&c.Za(!1);this.ba=b;c=V(this,this.ba);this.jb&&c.setActive(!0);this.li&&this.X&&c!=this.X&&(c.$&64?c.M(!0):this.X.M(!1))}T(this.c(),"activedescendant",a.target.c().id)};s.ze=function(a){if(a.target==V(this,this.ba))this.ba=-1;T(this.c(),"activedescendant","")};s.Hh=function(a){if((a=a.target)&&a!=this.X&&a.getParent()==this)this.X&&this.X.M(!1),this.X=a};s.Fh=function(a){if(a.target==this.X)this.X=m};
s.Sb=function(a){if(this.Ka)this.jb=!0;var b=this.V();b&&Qc(b)?b.focus():a.preventDefault()};s.Gh=function(){this.jb=!1};s.Eh=function(a){var b;a:{b=a.target;if(this.zb)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.zb){b=this.zb[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.Sb(a);break;case "mouseup":b.$b(a);break;case "mouseover":b.Ye(a);break;case "mouseout":b.Xe(a)}};s.ac=aa();s.nb=function(){Zh(this,-1);this.jb=!1;this.X&&this.X.M(!1)};
s.Ea=function(a){if(this.isEnabled()&&this.s&&(rf(this)!=0||this.Hg)&&this.yc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};
s.yc=function(a){var b=V(this,this.ba);if(b&&typeof b.Ea=="function"&&b.Ea(a))return!0;if(this.X&&this.X!=b&&typeof this.X.Ea=="function"&&this.X.Ea(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.ub())this.V().blur();else return!1;break;case 36:$h(this);break;case 35:ai(this);break;case 38:if(this.N==Nh)bi(this);else return!1;break;case 37:if(this.N==Mh)sf(this)?ci(this):bi(this);else return!1;break;case 40:if(this.N==Nh)ci(this);else return!1;
break;case 39:if(this.N==Mh)sf(this)?bi(this):ci(this);else return!1;break;default:return!1}return!0};function Xh(a,b){var c=b.c();c=c.id||(c.id=lf(b));if(!a.zb)a.zb={};a.zb[c]=b}s.hd=function(a,b){Wh.a.hd.call(this,a,b)};s.od=function(a,b,c){a.Kd|=2;a.Kd|=64;(this.ub()||!this.ui)&&X(a,32,!1);Cf(a,!1);Wh.a.od.call(this,a,b,c);c&&this.F&&Xh(this,a);b<=this.ba&&this.ba++};
s.removeChild=function(a,b){if(a=y(a)?of(this,a):a){var c=tf(this,a);c!=-1&&(c==this.ba?a.Za(!1):c<this.ba&&this.ba--);(c=a.c())&&c.id&&xa(this.zb,c.id)}a=Wh.a.removeChild.call(this,a,b);Cf(a,!0);return a};s.Rd=function(a){this.c()&&e(Error("Component already rendered"));this.N=a};s.za=function(a,b){if(b||this.s!=a&&this.dispatchEvent(a?"show":"hide")){this.s=a;var c=this.c();c&&(te(c,a),this.ub()&&Lh(this.V(),this.Ka&&this.s),b||this.dispatchEvent(this.s?"aftershow":"afterhide"));return!0}return!1};
s.isEnabled=o("Ka");s.Ab=function(a){if(this.Ka!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Ka=!0,qf(this,function(b){b.Kg?delete b.Kg:b.Ab(!0)})):(qf(this,function(b){b.isEnabled()?b.Ab(!1):b.Kg=!0}),this.jb=this.Ka=!1),this.ub()&&Lh(this.V(),a&&this.s)};s.ub=o("of");s.yb=function(a){a!=this.of&&this.F&&Yh(this,a);this.of=a;this.Ka&&this.s&&Lh(this.V(),a)};function Zh(a,b){var c=V(a,b);c?c.Za(!0):a.ba>-1&&V(a,a.ba).Za(!1)}s.Za=function(a){Zh(this,tf(this,a))};
function $h(a){di(a,function(b,c){return(b+1)%c},rf(a)-1)}function ai(a){di(a,function(b,c){b--;return b<0?c-1:b},0)}function ci(a){di(a,function(b,c){return(b+1)%c},a.ba)}function bi(a){di(a,function(b,c){b--;return b<0?c-1:b},a.ba)}function di(a,b,c){c=c<0?tf(a,a.X):c;var d=rf(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=V(a,c);if(g&&a.gh(g)){Zh(a,c);break}f++;c=b.call(a,c,d)}}s.gh=function(a){return a.s&&a.isEnabled()&&!!(a.$&2)};function ei(){}B(ei,uf);ca(ei);ei.prototype.n=q("goog-menuheader");function fi(a,b,c){W.call(this,a,c||ei.oa(),b);X(this,1,!1);X(this,2,!1);X(this,4,!1);X(this,32,!1);this.t=1}B(fi,W);zf("goog-menuheader",function(){return new fi(m)});function gi(a,b){Wh.call(this,Nh,b||Ph.oa(),a);this.yb(!1)}B(gi,Wh);s=gi.prototype;s.Re=!0;s.Fi=!1;s.n=function(){return this.j.n()};s.gc=function(a){if(this.j.gc(this,a))return!0;for(var b=0,c=rf(this);b<c;b++){var d=V(this,b);if(typeof d.gc=="function"&&d.gc(a))return!0}return!1};s.qb=function(a){this.hd(a,!0)};s.Hc=function(a,b){this.od(a,b,!0)};s.yd=function(a){return V(this,a)};s.qd=function(){return rf(this)};
s.Hd=function(a,b){var c=this.s;c||te(this.c(),!0);pe(this.c(),a,b);c||te(this.c(),!1)};s.za=function(a,b,c){(b=gi.a.za.call(this,a,b))&&a&&this.F&&this.Re&&this.V().focus();this.Ag=a&&c&&fa(c.clientX)?new K(c.clientX,c.clientY):m;return b};s.Ae=function(a){this.Re&&this.V().focus();return gi.a.Ae.call(this,a)};s.gh=function(a){return(this.Fi||a.isEnabled())&&a.s&&!!(a.$&2)};
s.Xa=function(a){var b=this.j,c;c=this.S();c=Ac(c.z,"div",b.n()+"-content",a);for(var d,f=0;d=c[f];f++)Oh(b,this,d);gi.a.Xa.call(this,a)};function hi(){}B(hi,Mf);ca(hi);if(H)hi.prototype.fc=function(a,b){var c=hi.a.W.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,L(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};s=hi.prototype;s.W=function(a){a=hi.a.W.call(this,a&&a.firstChild);if(H&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};s.ca=function(a,b){var c=Ac(document,"*","goog-menu",b)[0];if(c){te(c,!1);M(c).body.appendChild(c);var d=new gi;d.ca(c);a.bd(d)}return hi.a.ca.call(this,a,b)};
s.Wd=function(a,b){return hi.a.Wd.call(this,[this.createCaption(a,b),b.p("div","goog-inline-block "+(this.n()+"-dropdown"),"\u00a0")],b)};s.createCaption=function(a,b){return b.p("div","goog-inline-block "+(this.n()+"-caption"),a)};s.n=q("goog-menu-button");function Z(a,b,c,d){Lf.call(this,a,c||hi.oa(),d);X(this,64,!0);b&&this.bd(b);this.r=new U(500)}B(Z,Lf);s=Z.prototype;s.ug=!0;s.Ve=!1;s.we=!1;s.Ch=!1;s.Z=function(){Z.a.Z.call(this);this.k&&ii(this,this.k,!0);T(this.c(),"haspopup","true")};s.Va=function(){Z.a.Va.call(this);if(this.k){this.M(!1);this.k.Va();ii(this,this.k,!1);var a=this.k.c();a&&Kc(a)}};s.h=function(){Z.a.h.call(this);this.k&&(this.k.m(),delete this.k);delete this.Dh;this.r.m()};
s.Sb=function(a){Z.a.Sb.call(this,a);if(this.t&4&&(this.M(!this.$a(),a),this.k))this.k.jb=this.$a()};s.$b=function(a){Z.a.$b.call(this,a);if(this.k&&!(this.t&4))this.k.jb=!1};s.Bc=function(){this.setActive(!1);return!0};s.Ah=function(a){this.k&&this.k.s&&!this.gc(a.target)&&this.M(!1)};s.gc=function(a){return a&&Mc(this.c(),a)||this.k&&this.k.gc(a)||!1};
s.yc=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.k&&this.k.s){var b=this.k.Ea(a);if(a.keyCode==27)return this.M(!1),!0;return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32)return this.M(!0),!0;return!1};s.$e=function(){this.M(!1)};s.Bh=function(){this.t&4||this.M(!1)};s.nb=function(a){this.we||this.M(!1);Z.a.nb.call(this,a)};function ji(a){a.k||a.bd(new gi(a.S()));return a.k||m}
s.bd=function(a){var b=this.k;if(a!=b&&(b&&(this.M(!1),this.F&&ii(this,b,!1),delete this.k),a)){this.k=a;nf(a,this);a.za(!1);var c=this.we;(a.Re=c)&&a.yb(!0);this.F&&ii(this,a,!0)}return b};s.qb=function(a){ji(this).hd(a,!0)};s.Hc=function(a,b){ji(this).od(a,b,!0)};s.yd=function(a){return this.k?V(this.k,a):m};s.qd=function(){return this.k?rf(this.k):0};s.za=function(a,b){var c=Z.a.za.call(this,a,b);c&&!this.s&&this.M(!1);return c};s.Ab=function(a){Z.a.Ab.call(this,a);this.isEnabled()||this.M(!1)};
s.M=function(a,b){Z.a.M.call(this,a);if(this.k&&!!(this.t&64)==a){if(a)this.k.F||(this.Ch?this.k.Sa(this.c().parentNode):this.k.Sa()),this.Qf=le(this.c()),this.Pf=se(this.c()),ki(this),Zh(this.k,-1);else if(this.setActive(!1),this.k.jb=!1,this.c()&&T(this.c(),"activedescendant",""),this.Id!=m){this.Id=i;var c=this.k.c();c&&qe(c,"","")}this.k.za(a,!1,b);c=this.ha();var d=a?c.i:c.T;d.call(c,Tc(this.S()),"mousedown",this.Ah,!0);this.we&&d.call(c,this.k,"blur",this.Bh);d.call(c,this.r,Ke,this.lc);a?this.r.start():
this.r.stop()}};function ki(a){if(a.k.F){var b=new Hh(a.Dh||a.c(),a.ug?5:7,!a.Ve,a.Ve),c=a.k.c();if(!a.k.s)c.style.visibility="hidden",te(c,!0);if(!a.Id&&a.Ve)a.Id=re(c);b.Wb(c,a.ug?4:6,m,a.Id);if(!a.k.s)te(c,!1),c.style.visibility="visible"}}
s.lc=function(){var a=se(this.c()),b=le(this.c()),c;c=this.Pf;c=c==a?!0:!c||!a?!1:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c))c=this.Qf,c=c==b?!0:!c||!b?!1:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left,c=!c;if(c)this.Pf=a,this.Qf=b,ki(this)};function ii(a,b,c){var d=a.ha();c=c?d.i:d.T;c.call(d,b,"action",a.$e);c.call(d,b,"highlight",a.ye);c.call(d,b,"unhighlight",a.ze)}s.ye=function(a){T(this.c(),"activedescendant",a.target.c().id)};
s.ze=function(){V(this.k,this.k.ba)||T(this.c(),"activedescendant","")};zf("goog-menu-button",function(){return new Z(m)});function li(a){D.call(this);this.ic=[];mi(this,a)}B(li,S);s=li.prototype;s.Hb=m;s.Yb=m;s.qd=function(){return this.ic.length};s.yd=function(a){return this.ic[a]||m};function mi(a,b){b&&(Pa(b,function(c){ni(this,c,!1)},a),$a(a.ic,b))}s.qb=function(a){this.Hc(a,this.qd())};s.Hc=function(a,b){a&&(ni(this,a,!1),ab(this.ic,b,0,a))};s.Zd=o("Hb");s.pb=function(a){if(a!=this.Hb)ni(this,this.Hb,!1),this.Hb=a,ni(this,a,!0);this.dispatchEvent("select")};s.gf=function(){return this.Hb?Oa(this.ic,this.Hb):-1};
s.Ig=function(a){this.pb(this.yd(a))};s.clear=function(){var a=this.ic;if(!x(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Hb=m};s.h=function(){li.a.h.call(this);delete this.ic;this.Hb=m};function ni(a,b,c){b&&(typeof a.Yb=="function"?a.Yb(b,c):typeof b.pf=="function"&&b.pf(c))};function $(a,b,c,d){Z.call(this,a,b,c,d);this.Vd=a;oi(this)}B($,Z);s=$.prototype;s.G=m;s.Vd=m;s.Z=function(){$.a.Z.call(this);oi(this);pi(this)};s.Xa=function(a){$.a.Xa.call(this,a);(a=this.dd())?(this.Vd=a,oi(this)):this.Ig(0)};s.h=function(){$.a.h.call(this);if(this.G)this.G.m(),this.G=m;this.Vd=m};s.$e=function(a){this.pb(a.target);$.a.$e.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.Ci=function(){var a=this.Zd();$.a.U.call(this,a&&a.o());oi(this)};
s.bd=function(a){var b=$.a.bd.call(this,a);a!=b&&(this.G&&this.G.clear(),a&&(this.G?qf(a,function(c){this.G.qb(c)},this):qi(this,a)));return b};s.qb=function(a){$.a.qb.call(this,a);this.G?this.G.qb(a):qi(this,ji(this))};s.Hc=function(a,b){$.a.Hc.call(this,a,b);this.G?this.G.Hc(a,b):qi(this,ji(this))};s.pb=function(a){this.G&&this.G.pb(a)};s.Ig=function(a){this.G&&this.pb(this.G.yd(a))};
s.U=function(a){if(a!=m&&this.G)for(var b=0,c;c=this.G.yd(b);b++)if(c&&typeof c.o=="function"&&c.o()==a){this.pb(c);return}this.pb(m)};s.Zd=function(){return this.G?this.G.Zd():m};s.gf=function(){return this.G?this.G.gf():-1};function qi(a,b){a.G=new li;b&&qf(b,function(c){this.G.qb(c)},a);pi(a)}function pi(a){a.G&&a.ha().i(a.G,"select",a.Ci)}function oi(a){var b=a.Zd();a.fc(b?b.dd():a.Vd)}s.M=function(a,b){$.a.M.call(this,a,b);this.$a()&&Zh(ji(this),this.gf())};zf("goog-select",function(){return new $(m)});function ri(a,b){this.f=a;this.va=new $("---");this.L=Q(this.va,"action",function(c){c=c.target.o();a.Ta=c});this.va.Sa(b)}B(ri,D);ri.prototype.ae=function(a,b,c){a=new Vh(a,b);this.va.qb(a);if(c||this.va.qd()==1)this.va.pb(a),this.f.Ta=b};ri.prototype.h=function(){R(this.L);this.va.m()};function si(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function ti(a,b){this.name="Bing Maps - "+a;var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;t[c]=v(t[c])?si(z(this.mh,this),t[c]):z(this.mh,this);c=document.createElement("script");c.src=d;c.type="text/javascript";Ac(document,"head",i,i)[0].appendChild(c)}B(ti,qb);s=ti.prototype;s.mh=function(a){this.Dd=a;a.resourceSets.length>0&&(this.gb=a.resourceSets[0].resources[0]);this.Sg()};s.Qb=function(){return w(this.gb)?0:this.gb.zoomMin};
s.Ua=function(){return w(this.gb)?18:this.gb.zoomMax};s.Vb=q(256);function ui(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}s.me=function(a,b,c){return w(this.gb)?"":this.gb.imageUrl.replace("{subdomain}",this.gb.imageUrlSubdomains[rb(this.gb.imageUrlSubdomains.length)]).replace("{quadkey}",ui(a,b,c))};s.ff=function(a){return w(this.gb)?!1:ti.a.ff.call(this,a)};s.ke=function(a){w(this.Dd)||Ic(a,this.Dd.copyright)};s.xf=function(){if(!w(this.Dd))return this.Dd.brandLogoUri;return m};
s.Dd=m;s.gb=m;function vi(a){Ag.call(this,a)}B(vi,Ag);s=vi.prototype;s.Qe="gl_Position=uMVPMatrix*vec4(phi.x/PI,phi.y/PI,0.0,1.0);";s.Kf=function(){return 1/Math.tan(this.e.b.rc/2)*(2*this.e.Xb/Math.pow(2,this.e.J)/2)*Ig};s.Lf=function(){return Math.log(Math.cos(Math.abs(this.e.d.latitude))*2*Math.PI/(2*(this.e.d.altitude/Ig)*Math.tan(this.e.b.rc/2)/this.e.Xb))/Math.LN2};
s.Of=function(){tg(this.e.b,-this.e.d.Ld);sg(this.e.b,-this.e.d.nc);tg(this.e.b,-this.e.d.Xc);this.e.b.translate(-this.e.d.longitude/Math.PI,-Og(this.e.d.latitude)/Math.PI,-this.e.d.altitude/Ig/2)};s.Fg=function(a,b){if(b.A==0)return m;else{var c=Gg(a,b.scale(-a.A/b.A));return[2*Math.atan(Math.exp(c.y*Math.PI))-Math.PI/2,c.x*Math.PI]}};s.gg=function(a,b){return new Fg(b/Math.PI,Og(a)/Math.PI,0)};s.hg=q(!0);function wi(a,b){this.f=a;this.r=new U(20);this.eg=this.dg=0.1;this.Pe=!1;this.ec=new W("");this.ec.Kd|=255;this.Sh=Q(this.ec,"activate",this.ci,!1,this);this.Th=Q(this.ec,"deactivate",this.di,!1,this);this.ej=Q(this.ec,"enter",this.ei,!1,this);this.Je=Q(this.r,Ke,this.lc,!1,this);this.Vh=Q(M(this.f.b.canvas),"mousemove",this.He,!1,this);this.Uh=Q(M(this.f.b.canvas),"mousedown",function(){this.Pe=!0},!1,this);this.Wh=Q(M(this.f.b.canvas),"mouseup",function(){this.Pe=!1},!1,this);this.ec.Sa(b)}
B(wi,D);s=wi.prototype;s.ei=function(){this.Pe&&(this.ec.pa(4,!0),this.r.start())};s.ci=function(){this.r.start()};s.di=function(){this.r&&this.r.stop()};s.lc=function(){this.le(this.dg,this.eg)};s.He=function(a){this.dg=-(a.offsetX-a.target.offsetWidth/2)*2;this.eg=-(a.offsetY-a.target.offsetHeight/2)};s.h=function(){R(this.Sh);R(this.Vh);R(this.Wh);R(this.Uh);R(this.Th);R(this.Je);this.ec.m()};
s.le=function(a,b){function c(f){var g=a;a=g*Math.cos(f)-b*Math.sin(f);b=g*Math.sin(f)+b*Math.cos(f)}var d=Math.PI*(1/this.f.b.canvas.height)*(this.f.Xb/Math.pow(2,this.f.J));c(this.f.d.Ld);b/=Math.max(Math.abs(Math.cos(this.f.d.nc)),0.1);c(-this.f.d.Xc);this.f.d.longitude-=a*2*d;this.f.d.latitude+=b*d;if(Math.abs(this.f.d.latitude)>Math.PI/2.1)this.f.d.latitude=(this.f.d.latitude==0?0:this.f.d.latitude<0?-1:1)*(Math.PI/2.1);this.f.d.longitude>Math.PI&&(this.f.d.longitude-=2*Math.PI);this.f.d.longitude<
-Math.PI&&(this.f.d.longitude+=2*Math.PI)};function xi(a){return 1-Math.pow(1-a,3)};function yi(a){this.f=a;this.Ba=!1;this.kg=this.jg=this.Cb=this.Bb=0;this.L=m;this.Se=new U(20);this.dc=m;Q(this.f.b.canvas,"mousedown",z(this.ii,this));Q(M(this.f.b.canvas),"mouseup",z(this.ji,this));Q(this.Se,Ke,this.hi,!1,this)}s=yi.prototype;s.ii=function(a){if(!id(a,2)&&!a.ctrlKey&&!a.altKey){if(this.dc)this.dc.stop(!1),this.dc.m(),this.dc=m;this.Ba=!0;this.Bb=a.screenX;this.Cb=a.screenY;if(!w(this.L))R(this.L),this.L=m;this.L=Q(M(this.f.b.canvas),"mousemove",z(this.He,this));a.preventDefault()}};
s.ji=function(a){if(this.Ba&&a.type!="mousedown")if(this.jg=a.screenX,this.kg=a.screenY,a.preventDefault(),id(a,0))this.Se.start();else if(!w(this.L))R(this.L),this.L=m};
s.le=function(a,b,c){if(c)this.f.d.nc+=b/this.f.b.canvas.height*Math.PI/2,this.f.d.Xc+=a/this.f.b.canvas.width*Math.PI;else{c=Math.PI*(1/this.f.b.canvas.height)*(this.f.Xb/Math.pow(2,this.f.J));var d=function(f){var g=a;a=g*Math.cos(f)-b*Math.sin(f);b=g*Math.sin(f)+b*Math.cos(f)};d(this.f.d.Ld);b/=Math.max(Math.abs(Math.cos(this.f.d.nc)),0.1);d(-this.f.d.Xc);this.f.d.longitude-=a*2*c;this.f.d.latitude+=b*c;if(Math.abs(this.f.d.latitude)>Math.PI/2.1)this.f.d.latitude=(this.f.d.latitude==0?0:this.f.d.latitude<
0?-1:1)*(Math.PI/2.1);this.f.d.longitude>Math.PI&&(this.f.d.longitude-=2*Math.PI);this.f.d.longitude<-Math.PI&&(this.f.d.longitude+=2*Math.PI)}};s.He=function(a){this.le(a.screenX-this.Bb,a.screenY-this.Cb,id(a,1)||id(a,0)&&a.shiftKey);this.Bb=a.screenX;this.Cb=a.screenY;a.preventDefault()};
s.hi=function(){this.Se.stop();this.Ba=!1;if(!w(this.L))R(this.L),this.L=m;var a=this.Bb-this.jg,b=this.Cb-this.kg,c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));if(c>6){var d=Math.max(15,c)*8;this.dc=new ah([this.Bb,this.Cb],[this.Bb+d*(a/c),this.Cb+d*(b/c)],1300,xi);Q(this.dc,["animate"],this.Ei,!1,this);this.dc.play(!1)}};s.Ei=function(a){this.le(a.x-this.Bb,a.y-this.Cb,!1);this.Bb=a.x;this.Cb=a.y};function zi(a,b,c){this.Bf=a;this.Cf=b;this.element=c;this.parentElement=m;this.enabled=!0}s=zi.prototype;s.Tc=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};s.detach=function(){if(this.parentElement)Kc(this.element),this.parentElement=m};s.enable=function(a){(this.enabled=a||!1)||this.show(!1)};s.isEnabled=o("enabled");s.show=function(a){this.element.style.display=a===!1?"none":"block"};function Ai(a,b){this.f=a;this.g=b;this.ne=new mb}function Bi(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^A()).toString(36);c.Tc(a.g);a.ne.set(b,c)}
Ai.prototype.zh=function(a){a=this.ne.get(a);if(a.isEnabled()){var b;a:{b=this.f;var c=b.Ta.gg(a.Bf*Math.PI/180,a.Cf*Math.PI/180),d=b.b.Nd.multiply(new Y([[c.x],[c.y],[c.A],[1]]));if(kg(d,3,0)==0)b=m;else{d=d.multiply(1/kg(d,3,0));var f=(kg(d,0,0)+1)/2*b.b.Ja;d=(kg(d,1,0)-1)/-2*b.b.Ia;var g=1;if(f<0||f>b.b.Ja||d<0||d>b.b.Ia)g=0;else{g=Kg(0.5,0.5,0,b.b.Md,1,1);if(w(g)){b=m;break a}g=b.Ta.hg(c,g)?1:0}b=[f,d,g]}}b!=m?(c=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=c.toFixed()+"px",
a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function Ci(a){this.f=a;this.Pb=new Zg(a.b.canvas);this.L=Q(this.Pb,"mousewheel",function(b){Di(this,-(b.xb==0?0:b.xb<0?-1:1));b.preventDefault()},!1,this);this.Ih=Q(a.b.canvas,"dblclick",z(function(b){this.d.Q?bg(this.d,this.d.altitude/2):Ng(this,Math.floor(this.J+1));b.preventDefault()},a));this.Kh=Q(a.b.canvas,"mouseup",z(function(b){id(b,2)&&(this.d.Q?bg(this.d,this.d.altitude*2):Ng(this,Math.ceil(this.J-1)),b.preventDefault())},a));this.Jh=Q(a.b.canvas,"contextmenu",function(b){b.preventDefault()});
this.ua=m;this.Zb=this.ob=0;this.Q=a.d.Q}B(Ci,D);
function Di(a,b){var c=120;if(a.ua&&a.Q!=a.f.d.Q)a.ua.m(),a.ua=m;a.Q=a.f.d.Q;a.Q&&(b*=-1);if(a.ua)if(a.Zb>a.ob==b>0)return;else{a.ua.m();c*=((a.Q?a.f.d.altitude:a.f.J)-a.ob)/(a.Zb-a.ob);var d=a.Zb;a.Zb=a.ob;a.ob=d}else a.Q?(a.ob=a.f.d.altitude,a.Zb=a.ob*Math.pow(2,b)):(a.ob=a.f.J,a.Zb=a.ob+b*0.5);if(!(c<=0))a.ua=new ah([a.Q?a.f.d.altitude:a.f.J],[a.Zb],c),Q(a.ua,["animate","finish"],function(f){this.Q?bg(this.f.d,f.x):Ng(this.f,f.x)},!1,a),Q(a.ua,["finish"],a.Xh,!1,a),a.ua.play(!1)}
Ci.prototype.Xh=function(){if(this.ua)this.ua.m(),this.ua=m};Ci.prototype.h=function(){R(this.L);R(this.Ih);R(this.Kh);R(this.Jh);this.Pb.m();this.ua.m()};function Ei(a,b){var c=Ec("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
zi.call(this,a,b,c);this.show(!1)}B(Ei,zi);function Fi(a,b){this.f=a;this.va=new $("---");this.L=Q(this.va,"action",function(c){a.Uc(c.target.o())});this.va.Sa(b)}B(Fi,D);Fi.prototype.Eb=function(a,b){var c=new Vh(a.name,a);this.va.qb(c);if(b||this.va.qd()==1)this.va.pb(c),this.f.Uc(a)};Fi.prototype.h=function(){R(this.L);this.va.m()};function Gi(a){w(a)||function(){this.b=new og(a,N("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});pg(this.b);this.Jf=new U(15);Q(this.Jf,Ke,z(function(){var g=this.b,h=g.C;if(!w(g.pe)){var j=A();if(g.re<A()-2E3)g.oe=1E3*g.Gd/(A()-g.re),g.Df=g.qe/g.Gd,g.re=A(),g.Gd=0,g.qe=0,g.pe.innerHTML=g.Df.toFixed(2)+" ms / fps: "+g.oe.toFixed(2);g.Gd++}h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT);g.Wa=fg(4);h=g.e;var k=h.b.C;h.d.Q?(h.J=sb(h.Ta.Lf(),Math.max(3,h.P.Qb()),
h.P.Ua()),h.wb=1<<Math.floor(h.J)):h.d.altitude=h.Ta.Kf();if(!w(h.Ef))h.Ef.innerHTML=(h.d.latitude*180/Math.PI).toFixed(4)+"; "+(h.d.longitude*180/Math.PI).toFixed(4)+" @ "+h.d.altitude.toFixed(0)+"m "+(h.d.Q?"->":"<-")+" z="+h.J.toFixed(3)+"; BufferQueue size: "+h.qa.Aa.length+"; Currently loading tiles: "+h.P.Qc;h.Ta.Of();k.useProgram(h.Ta.te.ta);var l=h.Ta.te;k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,h.qa.Tb);k.uniform1i(l.uh,0);var p=fb(h.qa.oc);k.uniform4fv(l.ph,new Float32Array(p));
h.Ub&&(k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,h.mb.Tb),k.uniform1i(l.th,1),p=fb(h.mb.oc),k.uniform4fv(l.oh,new Float32Array(p)),k.uniform1f(l.wh,h.mb.sa.Vb()));p=new Float32Array(fb(jg(ug(h.b)).se()));var n=h.Ff[Math.min(Math.floor(h.J),h.Ff.length-1)];k.bindBuffer(k.ARRAY_BUFFER,n.pc);k.vertexAttribPointer(l.If,n.pc.ue,k.FLOAT,!1,0,0);k.bindBuffer(k.ARRAY_BUFFER,n.Sc);k.vertexAttribPointer(l.Hf,n.Sc.ue,k.FLOAT,!1,0,0);k.uniformMatrix4fv(l.qh,!1,p);k.uniform1f(l.xh,h.P.Vb());k.uniform1f(l.yh,
Math.floor(h.J));k.uniform1f(l.vh,h.wb);k.uniform2fv(l.rh,new Float32Array(h.Rc));k.drawArrays(k.TRIANGLES,0,n.pc.Gf);!w(g.pe)&&(g.qe+=A()-j);g=this.ve;Pa(g.ne.Rb(),g.zh,g)},this));this.b.e=new Lg(this.b,N("weapp-infobox"),N("weapp-mapcopyright"),N("weapp-maplogo"));this.aj=new yi(this.b.e);this.cj=new Ci(this.b.e);this.nh=new Fi(this.b.e,N("weapp-tileprovider"));this.dj=new Bh(this.b.e,N("weapp-zoomslider"));this.bj=new wi(this.b.e,N("weapp-pancontrol"));this.sh=new ri(this.b.e,N("weapp-rendershape"));
var b=N("weapp-nominatim");this.Nf=new cf(b);this.ve=new Ai(this.b.e,a.parentNode);var c=new Ei(0,0);c.enable(!1);Bi(this.ve,"nominatimMarker",c);var d=z(function(g){this.b.e.d.Hd(g.lat,g.lon);this.b.e.d.nc=0;c.enable(!0);c.Bf=g.lat;c.Cf=g.lon},this);this.Nf.addEventListener("update",function(g){d(g.mc)});Q(N("weapp-nominatimform"),"submit",z(function(g){g.preventDefault();this.Nf.search(b.value,1,function(h,j){j.length>0&&d(j[0])})},this));var f=z(function(){function g(l){var p=h.indexOf(l+"=");
if(!(p<0))return p+=l.length+1,l=h.indexOf(";",p),h.substring(p,l>0?l:h.length)}var h=window.location.hash,j=g("zoom")||g("z");isNaN(j)||Ng(this.b.e,j);j=g("alt");isNaN(j)||bg(this.b.e.d,j);j=g("ll");if(j!=m)j=j.split(","),j.length>1&&!isNaN(j[0])&&!isNaN(j[1])&&this.b.e.d.Hd(j[0],j[1]);else{j=g("lat");var k=g("lon")||g("long");!isNaN(j)&&!isNaN(k)&&this.b.e.d.Hd(j,k)}},this);this.Mf=new U(2E3);Q(this.Mf,Ke,z(function(){window.location.hash="#ll="+(this.b.e.d.latitude*180/Math.PI).toFixed(5)+","+
(this.b.e.d.longitude*180/Math.PI).toFixed(5)+(this.b.e.d.Q?";alt="+this.b.e.d.altitude.toFixed(0):";z="+this.b.e.J.toFixed(2))},this));this.Mf.start();window.addEventListener("hashchange",f,!1);f();Q(this.b.canvas,"click",z(function(g){if(g.ctrlKey){var h=cg(this.b.e,g.offsetX,g.offsetY);Bi(this.ve,m,new Ei(h[0],h[1]));g.preventDefault()}},this));Q(window.document,"keydown",function(g){if(g.keyCode==70&&g.ctrlKey)this.Q=!this.Q,g.preventDefault()},!1,this.b.e.d)}.call(this)}Gi.prototype.Eb=function(a){this.nh.Eb(a)};
Gi.prototype.ae=function(a,b){this.sh.ae(a,b)};Gi.prototype.start=function(){this.b.og();this.Jf.start()};
function Hi(){var a=new Gi(N("weapp-canvas"));a.Eb(new gf);a.Eb(new ff);a.Eb(new ti("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Eb(new ti("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Eb(new ti("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Eb(new vb("CleanTOPO2","../../resources/terrain/CleanTOPO2/{z}/{x}/{y}.png",0,5,256));a.ae("Globe",new Hg(a.b.e));a.ae("Mercator",new vi(a.b.e));a.start()}
var Ii="WEApp".split("."),Ji=t;!(Ii[0]in Ji)&&Ji.execScript&&Ji.execScript("var "+Ii[0]);for(var Ki;Ii.length&&(Ki=Ii.shift());)!Ii.length&&v(Hi)?Ji[Ki]=Hi:Ji=Ji[Ki]?Ji[Ki]:Ji[Ki]={};
