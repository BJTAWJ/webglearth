/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function p(a){return function(){return a}}var r,t=this;function u(){}function da(a){a.za=function(){return a.Di||(a.Di=new a)}}
function ea(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===m}function x(a){return ea(a)=="array"}function y(a){var b=ea(a);return b=="array"||b=="object"&&typeof a.length=="number"}function z(a){return typeof a=="string"}function fa(a){return typeof a=="number"}function ga(a){return ea(a)=="function"}function ha(a){a=ea(a);return a=="object"||a=="array"||a=="function"}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||e(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function A(a,b,c){A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma;return A.apply(m,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var B=Date.now||function(){return+new Date};function C(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function oa(a){return function(){return a}}var pa=oa(!0),qa=oa(m);function ra(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};function D(){}D.prototype.ce=!1;D.prototype.k=function(){if(!this.ce)this.ce=!0,this.h()};D.prototype.h=function(){this.gi&&sa.apply(m,this.gi)};function ta(a){a&&typeof a.k=="function"&&a.k()}function sa(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];y(d)?sa.apply(m,d):ta(d)}};function ua(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.af=0;this.Fc=d||0;this.Rc=this.tf=m;this.state=va}C(ua,D);ua.prototype.setData=ca("Rc");ua.prototype.wg=qa;function wa(a){return a.Rc?a.wg(a.Rc):a.tf}ua.prototype.ug=u;ua.prototype.h=function(){this.tf=m;if(this.Rc)this.ug(this.Rc),this.Rc=m};var va=0;function xa(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var za=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Aa(a){a=String(a);return!za.test(a)?encodeURIComponent(a):a}function Ba(a){if(!Ca.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Da,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ea,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Fa,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ga,"&quot;"));return a}
var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;function Ha(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ia(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^B()).toString(36)}
function Ja(a,b){for(var c=0,d=ya(String(a)).split("."),f=ya(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var o=l.exec(j)||["","",""],s=q.exec(k)||["","",""];if(o[0].length==0&&s[0].length==0)break;c=Ka(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Ka(o[2].length==0,s[2].length==0)||Ka(o[2],s[2])}while(c==0)}return c}
function Ka(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var La,Ma,Na,Oa,Pa,Qa,Ra;function Sa(){return t.navigator?t.navigator.userAgent:m}function Ta(){return t.navigator}Pa=Oa=Na=Ma=La=!1;var Ua;if(Ua=Sa()){var Va=Ta();La=Ua.indexOf("Opera")==0;Ma=!La&&Ua.indexOf("MSIE")!=-1;Oa=(Na=!La&&Ua.indexOf("WebKit")!=-1)&&Ua.indexOf("Mobile")!=-1;Pa=!La&&!Na&&Va.product=="Gecko"}var Wa=La,F=Ma,G=Pa,H=Na,Xa=Oa,Ya,Za=Ta();Ya=Za&&Za.platform||"";Qa=Ya.indexOf("Mac")!=-1;Ra=Ya.indexOf("Win")!=-1;var $a=!!Ta()&&(Ta().appVersion||"").indexOf("X11")!=-1,ab;
a:{var bb="",cb;if(Wa&&t.opera)var db=t.opera.version,bb=typeof db=="function"?db():db;else if(G?cb=/rv\:([^\);]+)(\)|;)/:F?cb=/MSIE\s+([^\);]+)(\)|;)/:H&&(cb=/WebKit\/(\S+)/),cb)var eb=cb.exec(Sa()),bb=eb?eb[1]:"";if(F){var fb,gb=t.document;fb=gb?gb.documentMode:i;if(fb>parseFloat(bb)){ab=String(fb);break a}}ab=bb}var hb={};function I(a){return hb[a]||(hb[a]=Ja(ab,a)>=0)}var ib={};function jb(){return ib[9]||(ib[9]=F&&document.documentMode&&document.documentMode>=9)};function kb(a,b){for(var c in a)b.call(i,a[c],c,a)}function lb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function mb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function nb(){var a=ob,b;for(b in a)return!1;return!0}function pb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var qb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function rb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<qb.length;g++)c=qb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var J=Array.prototype,sb=J.indexOf?function(a,b,c){return J.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(z(a))return!z(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},K=J.forEach?function(a,b,c){J.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},tb=J.filter?function(a,b,c){return J.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=z(a)?a.split(""):
a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},ub=J.map?function(a,b,c){return J.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=z(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},vb=J.every?function(a,b,c){return J.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function wb(a,b){var c;a:{c=a.length;for(var d=z(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?m:z(a)?a.charAt(c):a[c]}function xb(a,b){return sb(a,b)>=0}function yb(a,b){var c=sb(a,b),d;(d=c>=0)&&J.splice.call(a,c,1);return d}function zb(a){return J.concat.apply(J,arguments)}function Ab(a){if(x(a))return zb(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Bb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(x(d)||(f=y(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,j=0;j<h;j++)a[g+j]=d[j];else a.push(d)}}function Cb(a,b,c,d){J.splice.apply(a,Db(arguments,1))}function Db(a,b,c){return arguments.length<=2?J.slice.call(a,b):J.slice.call(a,b,c)}function Eb(a,b){J.sort.call(a,b||Fb)}function Fb(a,b){return a>b?1:a<b?-1:0}
function Gb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];x(d)?b.push.apply(b,Gb.apply(m,d)):b.push(d)}return b};function Hb(a){if(typeof a.jb=="function")a=a.jb();else if(y(a)||z(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a}function Ib(a){if(typeof a.Ia=="function")return a.Ia();if(z(a))return a.split("");if(y(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return lb(a)}function Jb(a){if(typeof a.sc=="function")return a.sc();if(typeof a.Ia!="function"){if(y(a)||z(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return mb(a)}}
function Kb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(y(a)||z(a))K(a,b,c);else for(var d=Jb(a),f=Ib(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}function Lb(a,b){if(typeof a.every=="function")return a.every(b,i);if(y(a)||z(a))return vb(a,b,i);for(var c=Jb(a),d=Ib(a),f=d.length,g=0;g<f;g++)if(!b.call(i,d[g],c&&c[g],a))return!1;return!0};var Mb="StopIteration"in t?t.StopIteration:Error("StopIteration");function Nb(){}Nb.prototype.next=function(){e(Mb)};Nb.prototype.nd=function(){return this};function Ob(a){if(a instanceof Nb)return a;if(typeof a.nd=="function")return a.nd(!1);if(y(a)){var b=0,c=new Nb;c.next=function(){for(;;)if(b>=a.length&&e(Mb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function Pb(a,b,c){if(y(a))try{K(a,b,c)}catch(d){d!==Mb&&e(d)}else{a=Ob(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==Mb&&e(f)}}};function Qb(a,b){this.O={};this.G=[];var c=arguments.length;if(c>1){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.Oe(a)}r=Qb.prototype;r.w=0;r.Td=0;r.jb=n("w");r.Ia=function(){Rb(this);for(var a=[],b=0;b<this.G.length;b++)a.push(this.O[this.G[b]]);return a};r.sc=function(){Rb(this);return this.G.concat()};r.vb=function(a){return Sb(this.O,a)};
r.Ve=function(a){for(var b=0;b<this.G.length;b++){var c=this.G[b];if(Sb(this.O,c)&&this.O[c]==a)return!0}return!1};r.equals=function(a,b){if(this===a)return!0;if(this.w!=a.jb())return!1;var c=b||Tb;Rb(this);for(var d,f=0;d=this.G[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Tb(a,b){return a===b}r.clear=function(){this.O={};this.Td=this.w=this.G.length=0};r.remove=function(a){return Sb(this.O,a)?(delete this.O[a],this.w--,this.Td++,this.G.length>2*this.w&&Rb(this),!0):!1};
function Rb(a){if(a.w!=a.G.length){for(var b=0,c=0;b<a.G.length;){var d=a.G[b];Sb(a.O,d)&&(a.G[c++]=d);b++}a.G.length=c}if(a.w!=a.G.length){for(var f={},c=b=0;b<a.G.length;)d=a.G[b],Sb(f,d)||(a.G[c++]=d,f[d]=1),b++;a.G.length=c}}r.get=function(a,b){return Sb(this.O,a)?this.O[a]:b};r.set=function(a,b){Sb(this.O,a)||(this.w++,this.G.push(a),this.Td++);this.O[a]=b};r.Oe=function(a){var b;a instanceof Qb?(b=a.sc(),a=a.Ia()):(b=mb(a),a=lb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.ea=function(){return new Qb(this)};
r.nd=function(a){Rb(this);var b=0,c=this.G,d=this.O,f=this.Td,g=this,h=new Nb;h.next=function(){for(;;){f!=g.Td&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(Mb);var h=c[b++];return a?h:d[h]}};return h};function Sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Ub(a){this.O=new Qb;a&&this.Oe(a)}function Vb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+ia(a):b.substr(0,1)+a}r=Ub.prototype;r.jb=function(){return this.O.jb()};r.add=function(a){this.O.set(Vb(a),a)};r.Oe=function(a){for(var a=Ib(a),b=a.length,c=0;c<b;c++)this.add(a[c])};r.Fd=function(a){for(var a=Ib(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.O.remove(Vb(a))};r.clear=function(){this.O.clear()};r.contains=function(a){return this.O.vb(Vb(a))};
r.Rg=function(a){for(var b=new Ub,a=Ib(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};r.Ia=function(){return this.O.Ia()};r.ea=function(){return new Ub(this)};r.equals=function(a){return this.jb()==Hb(a)&&Wb(this,a)};
function Wb(a,b){var c=Hb(b);if(a.jb()>c)return!1;!(b instanceof Ub)&&c>5&&(b=new Ub(b));return Lb(a,function(a){if(typeof b.contains=="function")a=b.contains(a);else if(typeof b.Ve=="function")a=b.Ve(a);else if(y(b)||z(b))a=xb(b,a);else a:{for(var c in b)if(b[c]==a){a=!0;break a}a=!1}return a})}r.nd=function(){return this.O.nd(!1)};function Xb(a){this.name=a;this.nb=0;this.$e=[]}r=Xb.prototype;r.xd=p(0);r.vf=p(!0);function Yb(a){K(a.$e,function(a){this.nb--;this.Ad(a.zj,a.onload,a.ij)},a);a.$e=[]}function $b(a,b,c,d){a.vf()?a.Ad(b,c,d):(a.$e.push(new ac(b,c,d)),a.nb++)}r.qd=ba();r.ie=p(m);r.oh=u;r.We=u;function bc(a,b,c,d,f){this.Zh=a;this.$h=b;this.vj=c;this.wj=d;this.Kj=f}function ac(a,b,c){this.zj=a;this.onload=b;this.ij=c};function cc(a){Xb.call(this,a)}C(cc,Xb);cc.prototype.Ad=function(a,b,c){var d=new Image;d.onload=A(function(){a.state=20;this.nb--;b(a)},this);d.onerror=A(function(){a.af++;a.state=-10;this.nb--;c&&c(a)},this);a.state=10;a.tf=d;d.crossOrigin="";d.src=this.ke(a.zoom,a.x,a.y);this.nb++};function dc(a){return Math.floor(Math.random()*a)}function L(a,b,c){return Math.min(Math.max(a,b),c)}function ec(a,b){var c=a%b;return c*b<0?c+b:c}function fc(a){return a*Math.PI/180}function gc(a){return a*180/Math.PI};function hc(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText}function ic(a){a=ec(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function jc(a,b,c,d,f,g,h){Xb.call(this,a);this.url=b;this.minZoom=c;this.maxZoom=d;this.tileSize=f;this.ki=g===!0;this.$f=h||[]}C(jc,cc);jc.prototype.xd=n("minZoom");jc.prototype.kb=n("maxZoom");jc.prototype.Tb=n("tileSize");jc.prototype.ke=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.ki?(1<<a)-c-1:c).toFixed(0));this.$f.length>0&&(d=d.replace("{sub}",this.$f[dc(this.$f.length)]));return d};var kc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function lc(a,b){var c;a instanceof lc?(this.jd(b==m?a.lb:b),mc(this,a.bc),nc(this,a.Sd),oc(this,a.pc),pc(this,a.ed),this.setPath(a.getPath()),qc(this,a.qb.ea()),rc(this,a.ud)):a&&(c=String(a).match(kc))?(this.jd(!!b),mc(this,c[1]||"",!0),nc(this,c[2]||"",!0),oc(this,c[3]||"",!0),pc(this,c[4]),this.setPath(c[5]||"",!0),qc(this,c[6]||"",!0),rc(this,c[7]||"",!0)):(this.jd(!!b),this.qb=new sc(m,this,this.lb))}r=lc.prototype;r.bc="";r.Sd="";r.pc="";r.ed=m;r.Bc="";r.ud="";r.Ei=!1;r.lb=!1;
r.toString=function(){if(this.Ma)return this.Ma;var a=[];this.bc&&a.push(tc(this.bc,uc),":");this.pc&&(a.push("//"),this.Sd&&a.push(tc(this.Sd,uc),"@"),a.push(z(this.pc)?encodeURIComponent(this.pc):m),this.ed!=m&&a.push(":",String(this.ed)));this.Bc&&(this.pc&&this.Bc.charAt(0)!="/"&&a.push("/"),a.push(tc(this.Bc,this.Bc.charAt(0)=="/"?vc:wc)));var b=String(this.qb);b&&a.push("?",b);this.ud&&a.push("#",tc(this.ud,xc));return this.Ma=a.join("")};
r.ea=function(){var a=this.bc,b=this.Sd,c=this.pc,d=this.ed,f=this.Bc,g=this.qb.ea(),h=this.ud,j=new lc(m,this.lb);a&&mc(j,a);b&&nc(j,b);c&&oc(j,c);d&&pc(j,d);f&&j.setPath(f);g&&qc(j,g);h&&rc(j,h);return j};function mc(a,b,c){yc(a);delete a.Ma;a.bc=c?b?decodeURIComponent(b):"":b;if(a.bc)a.bc=a.bc.replace(/:$/,"")}function nc(a,b,c){yc(a);delete a.Ma;a.Sd=c?b?decodeURIComponent(b):"":b}function oc(a,b,c){yc(a);delete a.Ma;a.pc=c?b?decodeURIComponent(b):"":b}
function pc(a,b){yc(a);delete a.Ma;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.ed=b):a.ed=m}r.getPath=n("Bc");r.setPath=function(a,b){yc(this);delete this.Ma;this.Bc=b?a?decodeURIComponent(a):"":a;return this};function qc(a,b,c){yc(a);delete a.Ma;b instanceof sc?(a.qb=b,a.qb.Rd=a,a.qb.jd(a.lb)):(c||(b=tc(b,zc)),a.qb=new sc(b,a,a.lb))}function Ac(a,b,c){yc(a);delete a.Ma;x(c)||(c=[String(c)]);a.qb.setValues(b,c)}
function rc(a,b,c){yc(a);delete a.Ma;a.ud=c?b?decodeURIComponent(b):"":b}function yc(a){a.Ei&&e(Error("Tried to modify a read-only Uri"))}r.jd=function(a){this.lb=a;this.qb&&this.qb.jd(a);return this};var Bc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function tc(a,b){var c=m;z(a)&&(c=a,Bc.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,Cc)));return c}function Cc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uc=/[#\/\?@]/g,wc=/[\#\?:]/g,vc=/[\#\?]/g,zc=/[\#\?@]/g,xc=/#/g;
function sc(a,b,c){this.yb=a||m;this.Rd=b||m;this.lb=!!c}function Dc(a){if(!a.C&&(a.C=new Qb,a.w=0,a.yb))for(var b=a.yb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Ec(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}r=sc.prototype;r.C=m;r.w=m;r.jb=function(){Dc(this);return this.w};
r.add=function(a,b){Dc(this);Fc(this);a=Ec(this,a);if(this.vb(a)){var c=this.C.get(a);x(c)?c.push(b):this.C.set(a,[c,b])}else this.C.set(a,b);this.w++;return this};r.remove=function(a){Dc(this);a=Ec(this,a);if(this.C.vb(a)){Fc(this);var b=this.C.get(a);x(b)?this.w-=b.length:this.w--;return this.C.remove(a)}return!1};r.clear=function(){Fc(this);this.C&&this.C.clear();this.w=0};r.vb=function(a){Dc(this);a=Ec(this,a);return this.C.vb(a)};r.Ve=function(a){var b=this.Ia();return xb(b,a)};
r.sc=function(){Dc(this);for(var a=this.C.Ia(),b=this.C.sc(),c=[],d=0;d<b.length;d++){var f=a[d];if(x(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};r.Ia=function(a){Dc(this);if(a)if(a=Ec(this,a),this.vb(a)){var b=this.C.get(a);if(x(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.C.Ia(),a=[],c=0;c<b.length;c++){var d=b[c];x(d)?Bb(a,d):a.push(d)}return a};
r.set=function(a,b){Dc(this);Fc(this);a=Ec(this,a);if(this.vb(a)){var c=this.C.get(a);x(c)?this.w-=c.length:this.w--}this.C.set(a,b);this.w++;return this};r.get=function(a,b){Dc(this);a=Ec(this,a);if(this.vb(a)){var c=this.C.get(a);return x(c)?c[0]:c}else return b};r.setValues=function(a,b){Dc(this);Fc(this);a=Ec(this,a);if(this.vb(a)){var c=this.C.get(a);x(c)?this.w-=c.length:this.w--}b.length>0&&(this.C.set(a,b),this.w+=b.length)};
r.toString=function(){if(this.yb)return this.yb;if(!this.C)return"";for(var a=[],b=0,c=this.C.sc(),d=0;d<c.length;d++){var f=c[d],g=Aa(f),f=this.C.get(f);if(x(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Aa(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Aa(f)),b++}return this.yb=a.join("")};function Fc(a){delete a.Ye;delete a.yb;a.Rd&&delete a.Rd.Ma}
r.ea=function(){var a=new sc;if(this.Ye)a.Ye=this.Ye;if(this.yb)a.yb=this.yb;if(this.C)a.C=this.C.ea();return a};function Ec(a,b){var c=String(b);a.lb&&(c=c.toLowerCase());return c}r.jd=function(a){a&&!this.lb&&(Dc(this),Fc(this),Kb(this.C,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.lb=a};var Gc;function Hc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function M(a,b){var c=Hc(a),d=Db(arguments,1),f;f=c;for(var g=0,h=0;h<d.length;h++)xb(f,d[h])||(f.push(d[h]),g++);f=g==d.length;a.className=c.join(" ");return f}function Ic(a,b){var c=Hc(a),d=Db(arguments,1),f;f=c;for(var g=0,h=0;h<f.length;h++)xb(d,f[h])&&(Cb(f,h--,1),g++);f=g==d.length;a.className=c.join(" ");return f};function Jc(a,b){this.width=a;this.height=b}function Kc(a,b){return a==b?!0:!a||!b?!1:a.width==b.width&&a.height==b.height}r=Jc.prototype;r.ea=function(){return new Jc(this.width,this.height)};r.Xd=function(){return this.width/this.height};r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};r.scale=function(a){this.width*=a;this.height*=a;return this};var Lc=!F||jb();!G&&!F||F&&jb()||G&&I("1.9.1");var Mc=F&&!I("9");function N(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}N.prototype.ea=function(){return new N(this.x,this.y)};function Nc(a,b){return new N(a.x-b.x,a.y-b.y)};function O(a){return a?new Oc(P(a)):Gc||(Gc=new Oc)}function Pc(a){return z(a)?document.getElementById(a):a}
function Qc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!H||Rc(document)||I("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&xb(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function Sc(a,b){kb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in Tc?a.setAttribute(Tc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var Tc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Uc(a,b,c){return Vc(document,arguments)}
function Vc(a,b){var c=b[0],d=b[1];if(!Lc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};rb(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)z(d)?c.className=d:x(d)?M.apply(m,[c].concat(d)):Sc(c,d);b.length>2&&Wc(a,c,b,2);return c}
function Wc(a,b,c,d){function f(c){c&&b.appendChild(z(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];y(g)&&!(ha(g)&&g.nodeType>0)?K(Xc(g)?Ab(g):g,f):f(g)}}function Rc(a){return a.compatMode=="CSS1Compat"}function Yc(a,b){Wc(P(a),a,arguments,1)}function Zc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function $c(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function ad(a){if(a.firstElementChild!=i)a=a.firstElementChild;else for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function bd(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function P(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function cd(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Zc(a),a.appendChild(P(a).createTextNode(b))}var dd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ed={IMG:" ",BR:"\n"};function fd(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,fa(a)&&a>=0&&a<32768):!1}function gd(a){var b=[];hd(a,b,!1);return b.join("")}
function hd(a,b,c){if(!(a.nodeName in dd))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ed)b.push(ed[a.nodeName]);else for(a=a.firstChild;a;)hd(a,b,c),a=a.nextSibling}function Xc(a){if(a&&typeof a.length=="number")if(ha(a))return typeof a.item=="function"||typeof a.item=="string";else if(ga(a))return typeof a.item=="function";return!1}function Oc(a){this.A=a||t.document||document}r=Oc.prototype;r.W=O;
function id(a){return a.A}r.c=function(a){return z(a)?this.A.getElementById(a):a};r.s=function(a,b,c){return Vc(this.A,arguments)};r.createElement=function(a){return this.A.createElement(a)};r.createTextNode=function(a){return this.A.createTextNode(a)};function jd(a){var b=a.A,a=!H&&Rc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new N(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}r.appendChild=function(a,b){a.appendChild(b)};r.append=Yc;r.mh=Zc;r.removeNode=$c;
r.Bg=ad;r.contains=bd;function kd(a,b){this.Rd=new lc(a);this.Yh=b?b:"callback";this.Od=5E3}var ld=0;
kd.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(ld++).toString(36)+B().toString(36);t._callbacks_||(t._callbacks_={});var f=document.createElement("script"),g=m;this.Od>0&&(g=t.setTimeout(md(d,f,a,c),this.Od));c=this.Rd.ea();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Ac(c,h,a[h]);b&&(t._callbacks_[d]=nd(d,f,b,g),Ac(c,this.Yh,"_callbacks_."+d));Sc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Sa:d,Od:g}};kd.prototype.cancel=function(a){if(a&&a.Sa){var b=Pc(a.Sa);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.Sa]=="function"&&(a.Od&&t.clearTimeout(a.Od),od(a.Sa,b,!1))}};function md(a,b,c,d){return function(){od(a,b,!1);d&&d(c)}}function nd(a,b,c,d){return function(f){t.clearTimeout(d);od(a,b,!0);c.apply(i,arguments)}}function od(a,b,c){t.setTimeout(function(){$c(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function pd(a,b){this.Fj=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Ed=b||{};this.Tg=new kd(this.Fj,"json_callback")}
function qd(a,b,c,d){a.Ed.q=b;a.Ed.format="json";a.Ed.addressdetails=1;a.Ed.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.$i=b;if(!(c>1&&b===a.$i))a.ph!==m&&a.Tg.cancel(a.ph),a.ph=a.Tg.send(a.Ed,function(a){var c=tb(a,function(a){return a["class"]=="place"});c.length>0?(K(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};var rd;var td=!F||jb(),ud=F&&!I("8");function Q(a,b){this.type=a;this.currentTarget=this.target=b}C(Q,D);r=Q.prototype;r.h=function(){delete this.type;delete this.target;delete this.currentTarget};r.Cc=!1;r.Hd=!0;r.stopPropagation=function(){this.Cc=!0};r.preventDefault=function(){this.Hd=!1};function vd(a){a.preventDefault()};function wd(a){wd[" "](a);return a}wd[" "]=u;function xd(a,b){a&&this.Vb(a,b)}C(xd,Q);var yd=[1,4,2];r=xd.prototype;r.target=m;r.relatedTarget=m;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=!1;r.altKey=!1;r.shiftKey=!1;r.metaKey=!1;r.jj=!1;r.qa=m;
r.Vb=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var f;a:{try{wd(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=m)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.jj=Qa?a.metaKey:a.ctrlKey;this.state=a.state;this.qa=a;delete this.Hd;delete this.Cc};function zd(a,b){return td?a.qa.button==b:a.type=="click"?b==0:!!(a.qa.button&yd[b])}function Ad(a){return zd(a,0)&&!(H&&Qa&&a.ctrlKey)}
r.stopPropagation=function(){xd.a.stopPropagation.call(this);this.qa.stopPropagation?this.qa.stopPropagation():this.qa.cancelBubble=!0};r.preventDefault=function(){xd.a.preventDefault.call(this);var a=this.qa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ud)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};r.mi=n("qa");r.h=function(){xd.a.h.call(this);this.relatedTarget=this.currentTarget=this.target=this.qa=m};function Bd(){}var Cd=0;r=Bd.prototype;r.key=0;r.Ec=!1;r.qg=!1;r.Vb=function(a,b,c,d,f,g){ga(a)?this.Sg=!0:a&&a.handleEvent&&ga(a.handleEvent)?this.Sg=!1:e(Error("Invalid listener argument"));this.$c=a;this.kh=b;this.src=c;this.type=d;this.capture=!!f;this.me=g;this.qg=!1;this.key=++Cd;this.Ec=!1};r.handleEvent=function(a){return this.Sg?this.$c.call(this.me||this.src,a):this.$c.handleEvent.call(this.$c,a)};var Dd,Ed=(Dd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";function Fd(a,b){this.Zg=b;this.rc=[];a>this.Zg&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.rc.push(this.wb?this.wb():{})}C(Fd,D);Fd.prototype.wb=m;Fd.prototype.xg=m;Fd.prototype.getObject=function(){return this.rc.length?this.rc.pop():this.wb?this.wb():{}};function Gd(a,b){a.rc.length<a.Zg?a.rc.push(b):Hd(a,b)}function Hd(a,b){if(a.xg)a.xg(b);else if(ha(b))if(ga(b.k))b.k();else for(var c in b)delete b[c]}
Fd.prototype.h=function(){Fd.a.h.call(this);for(var a=this.rc;a.length;)Hd(this,a.pop());delete this.rc};var Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd;
(function(){function a(){return{w:0,Xa:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Bd}function f(){return new xd}var g=Dd&&!(Ja(Ed,"5.7")>=0),h;Nd=function(a){h=a};if(g){Id=function(){return j.getObject()};Jd=function(a){Gd(j,a)};Kd=function(){return k.getObject()};Ld=function(a){Gd(k,a)};Md=function(){return l.getObject()};Od=function(){Gd(l,c())};Pd=function(){return q.getObject()};Qd=function(a){Gd(q,a)};Rd=function(){return o.getObject()};
Sd=function(a){Gd(o,a)};var j=new Fd(0,600);j.wb=a;var k=new Fd(0,600);k.wb=b;var l=new Fd(0,600);l.wb=c;var q=new Fd(0,600);q.wb=d;var o=new Fd(0,600);o.wb=f}else Id=a,Jd=u,Kd=b,Ld=u,Md=c,Od=u,Pd=d,Qd=u,Rd=f,Sd=u})();var Td={},R={},Ud={},Vd={};
function S(a,b,c,d,f){if(b)if(x(b)){for(var g=0;g<b.length;g++)S(a,b[g],c,d,f);return m}else{var d=!!d,h=R;b in h||(h[b]=Id());h=h[b];d in h||(h[d]=Id(),h.w++);var h=h[d],j=ia(a),k;h.Xa++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.$c==c&&h.me==f){if(h.Ec)break;return k[g].key}}else k=h[j]=Kd(),h.w++;g=Md();g.src=a;h=Pd();h.Vb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);Td[c]=h;Ud[j]||(Ud[j]=Kd());Ud[j].push(h);a.addEventListener?(a==t||!a.vg)&&a.addEventListener(b,g,d):a.attachEvent(b in Vd?Vd[b]:
Vd[b]="on"+b,g);return c}else e(Error("Invalid event type"))}function Wd(a,b,c,d,f){if(x(b))for(var g=0;g<b.length;g++)Wd(a,b[g],c,d,f);else if(d=!!d,a=Xd(a,b,d))for(g=0;g<a.length;g++)if(a[g].$c==c&&a[g].capture==d&&a[g].me==f){T(a[g].key);break}}
function T(a){if(!Td[a])return!1;var b=Td[a];if(b.Ec)return!1;var c=b.src,d=b.type,f=b.kh,g=b.capture;c.removeEventListener?(c==t||!c.vg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Vd?Vd[d]:Vd[d]="on"+d,f);c=ia(c);f=R[d][g][c];if(Ud[c]){var h=Ud[c];yb(h,b);h.length==0&&delete Ud[c]}b.Ec=!0;f.bh=!0;Yd(d,g,c,f);delete Td[a];return!0}
function Yd(a,b,c,d){if(!d.ue&&d.bh){for(var f=0,g=0;f<d.length;f++)if(d[f].Ec){var h=d[f].kh;h.src=m;Od(h);Qd(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.bh=!1;g==0&&(Ld(d),delete R[a][b][c],R[a][b].w--,R[a][b].w==0&&(Jd(R[a][b]),delete R[a][b],R[a].w--),R[a].w==0&&(Jd(R[a]),delete R[a]))}}
function Zd(a){var b,c=0,d=b==m;b=!!b;if(a==m)kb(Ud,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)T(g.key),c++}});else if(a=ia(a),Ud[a])for(var a=Ud[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)T(g.key),c++}}function Xd(a,b,c){var d=R;return b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a]))?d[a]:m}
function $d(a,b,c,d,f){var g=1,b=ia(b);if(a[b]){a.Xa--;a=a[b];a.ue?a.ue++:a.ue=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Ec&&(g&=ae(k,f)!==!1)}}finally{a.ue--,Yd(c,d,b,a)}}return Boolean(g)}function ae(a,b){var c=a.handleEvent(b);a.qg&&T(a.key);return c}
Nd(function(a,b){if(!Td[a])return!0;var c=Td[a],d=c.type,f=R;if(!(d in f))return!0;var f=f[d],g,h;rd===i&&(rd=F&&!t.addEventListener);if(rd){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=t;g=j.shift();)if(k[g]!=m)k=k[g];else{j=m;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(q){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=Rd();l.Vb(g,this);g=!0;try{if(j){for(var o=Kd(),s=l.currentTarget;s;s=
s.parentNode)o.push(s);h=f[!0];h.Xa=h.w;for(var aa=o.length-1;!l.Cc&&aa>=0&&h.Xa;aa--)l.currentTarget=o[aa],g&=$d(h,o[aa],d,!0,l);if(k){h=f[!1];h.Xa=h.w;for(aa=0;!l.Cc&&aa<o.length&&h.Xa;aa++)l.currentTarget=o[aa],g&=$d(h,o[aa],d,!1,l)}}else g=ae(c,l)}finally{if(o)o.length=0,Ld(o);l.k();Sd(l)}return g}d=new xd(b,this);try{g=ae(c,d)}finally{d.k()}return g});function U(){}C(U,D);r=U.prototype;r.vg=!0;r.Ce=m;r.Vf=ca("Ce");r.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){Wd(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=R;if(b in c){if(z(a))a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a,a=new Q(b,this);rb(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.Ce)f.push(g);g=c[!0];g.Xa=g.w;for(var h=f.length-1;!a.Cc&&h>=0&&g.Xa;h--)a.currentTarget=f[h],d&=$d(g,f[h],a.type,!0,a)&&a.Hd!=!1}if(!1 in c)if(g=c[!1],g.Xa=g.w,b)for(h=0;!a.Cc&&h<f.length&&g.Xa;h++)a.currentTarget=f[h],d&=$d(g,f[h],a.type,!1,a)&&a.Hd!=!1;else for(f=this;!a.Cc&&
f&&g.Xa;f=f.Ce)a.currentTarget=f,d&=$d(g,f,a.type,!1,a)&&a.Hd!=!1;a=Boolean(d)}else a=!0;return a};r.h=function(){U.a.h.call(this);Zd(this);this.Ce=m};function be(a,b,c){this.Bd=a;this.dc=c;this.i=b;S(b,[ce,de,ee,fe],this);this.Za=m;this.ma=[];this.ta=-1;this.ya=0;this.oc=this.Z=m}C(be,U);r=be.prototype;r.Ki=10;r.Qh=!0;r.og=!1;r.Jh=!1;r.Ch=!1;var ce="hilite",de="select",fe="dismiss",ee="canceldismiss";r=be.prototype;r.handleEvent=function(a){if(a.target==this.i)switch(a.type){case ce:this.Ra(a.row);break;case de:ge(this);break;case ee:he(this);break;case fe:ie(this)}};r.Wc=n("Z");r.Ta=function(){return this.i.u};
function je(a){var b=a.ya+a.ma.length-1;a.ta>=a.ya&&a.ta<b?a.Ra(a.ta+1):a.ta==-1?a.Ra(a.ya):a.ta==b&&(a.og?a.Ra(-1):a.Jh&&a.Ra(a.ya))}function ke(a){a.ta>a.ya?a.Ra(a.ta-1):a.og&&a.ta==a.ya?a.Ra(-1):a.Jh&&(a.ta==-1||a.ta==a.ya)&&a.Ra(a.ya+a.ma.length-1)}r.Ra=function(a){this.ta=a;this.i.Ra(a);return le(this,a)!=-1};
function ge(a){var b=le(a,a.ta);if(b!=-1){var b=a.ma[b],c=a.dc,d=b.toString();if(v(i)?0:c.ad){var f=me(c,c.m(),ne(c.L)),g=oe(c,c.m());c.sj.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.ei);c.Hj&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.L;G&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.L;d=f;pe(g)?g.selectionStart=d:F&&(h=qe(g),j=h[0],j.inRange(h[1])&&(d=re(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.L;pe(g)?g.selectionEnd=f:F&&(h=qe(g),d=h[1],h[0].inRange(d)&&(f=re(g,f),g=re(g,ne(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.T(d);c.Sf=!0;a.Ch?(a.Za=m,ie(a)):a.xb();a.dispatchEvent({type:"update",row:b});a.Ch&&a.dc.update(!0);return!0}else return a.xb(),a.dispatchEvent({type:"update",row:m}),!1}r.xb=function(){this.ta=-1;this.Za=m;this.ya+=this.ma.length;this.ma=[];window.clearTimeout(this.oc);this.oc=m;this.i.xb()};
function ie(a){if(!a.oc)a.oc=window.setTimeout(A(a.xb,a),100)}function he(a){window.setTimeout(A(function(){if(this.oc)window.clearTimeout(this.oc),this.oc=m},a),10)}r.h=function(){be.a.h.call(this);this.i.k();this.dc.k();this.Bd=m};r.Ii=function(a,b,c){this.Za==a&&this.Qf(b,c)};
r.Qf=function(a,b){var c=b?le(this,this.ta):m;this.ya+=this.ma.length;this.ma=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ya+f,data:a[f]});this.i.Qf(d,this.Za,this.Z);this.Qh&&d.length!=0&&this.Za?this.Ra(c!=m?this.ya+c:this.ya):this.ta=-1;this.dispatchEvent("suggestionsupdate")};function le(a,b){var c=b-a.ya;return c<0||c>=a.ma.length?-1:c}r.Re=function(a){var b=this.dc;b.Re.apply(b,arguments)};r.update=function(a){this.dc.update(a)};function se(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}se.prototype.ea=function(){return new se(this.top,this.right,this.bottom,this.left)};se.prototype.contains=function(a){return!this||!a?!1:a instanceof se?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function te(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}te.prototype.ea=function(){return new te(this.left,this.top,this.width,this.height)};te.prototype.Rg=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
te.prototype.contains=function(a){return a instanceof te?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};te.prototype.Ab=function(){return new Jc(this.width,this.height)};function ue(a,b){var c=P(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b):""}function ve(a,b){return ue(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function we(a,b,c){var d,f=G&&(Qa||$a)&&I("1.9");b instanceof N?(d=b.x,b=b.y):(d=b,b=c);a.style.left=xe(d,f);a.style.top=xe(b,f)}function ye(a){var a=a?a.nodeType==9?a:P(a):document,b;if(b=F)if(b=!jb())b=O(a),b=!Rc(b.A);return b?a.body:a.documentElement}
function ze(a){var b=a.getBoundingClientRect();if(F)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Ae(a){if(F)return a.offsetParent;for(var b=P(a),c=ve(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ve(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}
function Be(a){for(var b=new se(0,Infinity,Infinity,0),c=O(a),d=c.A.body,f=!H&&Rc(c.A)?c.A.documentElement:c.A.body,g;a=Ae(a);)if((!F||a.clientWidth!=0)&&(!H||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&ve(a,"overflow")!="visible"){var h=Ce(a),j;j=a;if(G&&!I("1.9")){var k=parseFloat(ue(j,"borderLeftWidth"));if(De(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(ue(j,"borderRightWidth"));k+=l}j=new N(k,parseFloat(ue(j,"borderTopWidth")))}else j=new N(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;H?(b.left+=d,b.top+=f):(b.left=Math.max(b.left,d),b.top=Math.max(b.top,f));if(!g||H)b.right+=d,b.bottom+=f;c=c.A.parentWindow||c.A.defaultView||window;g=c.document;H&&!I("500")&&!Xa?(typeof c.innerHeight=="undefined"&&(c=window),g=c.innerHeight,a=c.document.documentElement.scrollHeight,
c==c.top&&a<g&&(g-=15),c=new Jc(c.innerWidth,g)):(c=Rc(g)?g.documentElement:g.body,c=new Jc(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function Ce(a){var b,c=P(a),d=ve(a,"position"),f=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new N(0,0),h=ye(c);if(a==h)return g;if(a.getBoundingClientRect)b=ze(a),a=jd(O(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(H&&
ve(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Wa||H&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Ae(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Wa||b.tagName!="TR")g.y-=b.scrollTop}return g}
function Ee(a){var b=new N;if(a.nodeType==1)if(a.getBoundingClientRect)a=ze(a),b.x=a.left,b.y=a.top;else{var c=jd(O(a)),a=Ce(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ga(a.mi),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.qa.targetTouches&&(d=a.qa.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Fe(a,b,c){var d=Ce(a);if(b instanceof N)c=b.y,b=b.x;we(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Ge(a,b,c){b instanceof Jc?(c=b.height,b=b.width):c==i&&e(Error("missing height argument"));a.style.width=xe(b,!0);a.style.height=xe(c,!0)}function xe(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}function He(a){if(ve(a,"display")!="none")return Ie(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Ie(a);b.display=c;b.position=f;b.visibility=d;return a}
function Ie(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(!v(b)||d)&&a.getBoundingClientRect?(a=ze(a),new Jc(a.right-a.left,a.bottom-a.top)):new Jc(b,c)}function Je(a){var b=Ce(a),a=He(a);return new te(b.x,b.y,a.width,a.height)}function Ke(a,b){a.style.display=b?"":"none"}function De(a){return"rtl"==ve(a,"direction")}var Le=G?"MozUserSelect":H?"WebkitUserSelect":m;
function Me(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(Le){if(b=b?"none":"",a.style[Le]=b,c)for(var a=0,d;d=c[a];a++)d.style[Le]=b}else if(F||Wa)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var Ne={thin:2,medium:4,thick:6};
function Oe(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:m)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m,d;if(c in Ne)d=Ne[c];else if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};function Pe(a,b){this.zd=a||1;this.Pd=b||Qe;this.Te=A(this.cg,this);this.Df=B()}C(Pe,U);Pe.prototype.enabled=!1;var Qe=t.window;r=Pe.prototype;r.v=m;r.setInterval=function(a){this.zd=a;this.v&&this.enabled?(this.stop(),this.start()):this.v&&this.stop()};r.cg=function(){if(this.enabled){var a=B()-this.Df;if(a>0&&a<this.zd*0.8)this.v=this.Pd.setTimeout(this.Te,this.zd-a);else if(this.dispatchEvent(Re),this.enabled)this.v=this.Pd.setTimeout(this.Te,this.zd),this.Df=B()}};
r.start=function(){this.enabled=!0;if(!this.v)this.v=this.Pd.setTimeout(this.Te,this.zd),this.Df=B()};r.stop=function(){this.enabled=!1;if(this.v)this.Pd.clearTimeout(this.v),this.v=m};r.h=function(){Pe.a.h.call(this);this.stop();delete this.Pd};var Re="tick";function Se(a,b,c,d){(!x(a)||!x(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.ld=a;this.ii=b;this.duration=c;this.lg=d;this.coords=[]}C(Se,U);var ob={},Te=m;function Ue(){Ve();var a=B(),b;for(b in ob)We(ob[b],a);Te=nb()?m:Qe.setTimeout(Ue,20)}function Ve(){Te&&(Qe.clearTimeout(Te),Te=m)}function Xe(a){a=ia(a);delete ob[a];nb()&&Ve()}r=Se.prototype;r.t=0;r.Ag=0;r.Da=0;r.startTime=m;r.zg=m;r.Bf=m;
r.play=function(a){if(a||this.t==0)this.Da=0,this.coords=this.ld;else if(this.t==1)return!1;Xe(this);this.startTime=a=B();this.t==-1&&(this.startTime-=this.duration*this.Da);this.zg=this.startTime+this.duration;this.Bf=this.startTime;this.Da||this.Wa();Ye(this,"play");this.t==-1&&this.Nf();this.t=1;var b=ia(this);b in ob||(ob[b]=this);Te||(Te=Qe.setTimeout(Ue,20));We(this,a);return!0};r.stop=function(a){Xe(this);this.t=0;if(a)this.Da=1;Ze(this,this.Da);this.Of();this.bd()};
r.h=function(){this.t!=0&&this.stop(!1);this.Lf();Se.a.h.call(this)};function We(a,b){a.Da=(b-a.startTime)/(a.zg-a.startTime);if(a.Da>=1)a.Da=1;a.Ag=1E3/(b-a.Bf);a.Bf=b;Ze(a,a.Da);a.Da==1?(a.t=0,Xe(a),Ye(a,"finish"),a.bd()):a.t==1&&a.Kf()}function Ze(a,b){ga(a.lg)&&(b=a.lg(b));a.coords=Array(a.ld.length);for(var c=0;c<a.ld.length;c++)a.coords[c]=(a.ii[c]-a.ld[c])*b+a.ld[c]}r.Kf=function(){Ye(this,"animate")};r.Wa=function(){Ye(this,"begin")};r.Lf=function(){Ye(this,"destroy")};
r.bd=function(){Ye(this,"end")};r.Nf=function(){Ye(this,"resume")};r.Of=function(){Ye(this,"stop")};function Ye(a,b){a.dispatchEvent(new $e(b,a))}function $e(a,b){Q.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.D=b.coords[2];this.duration=b.duration;this.Da=b.Da;this.cf=b.Ag;this.state=b.t;this.Lj=b}C($e,Q);function V(a,b,c,d,f){Se.call(this,b,c,d,f);this.element=a}C(V,Se);V.prototype.Lc=u;V.prototype.Kf=function(){this.Lc();V.a.Kf.call(this)};V.prototype.bd=function(){this.Lc();V.a.bd.call(this)};V.prototype.Wa=function(){this.Lc();V.a.Wa.call(this)};function af(a,b,c,d,f){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));V.apply(this,arguments)}C(af,V);
af.prototype.Lc=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function bf(a,b,c,d){af.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}C(bf,af);bf.prototype.Wa=function(){this.ld=[this.element.offsetLeft,this.element.offsetTop];bf.a.Wa.call(this)};function cf(a,b,c,d,f){V.call(this,a,[b],[c],d,f)}C(cf,V);cf.prototype.Lc=function(){this.element.style.width=Math.round(this.coords[0])+"px"};
function df(a,b,c,d,f){V.call(this,a,[b],[c],d,f)}C(df,V);df.prototype.Lc=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function ef(a,b,c,d,f){fa(b)&&(b=[b]);fa(c)&&(c=[c]);V.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}C(ef,V);
ef.prototype.Lc=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};ef.prototype.show=function(){this.element.style.display=""};function ff(a,b,c){ef.call(this,a,1,0,b,c)}C(ff,ef);ff.prototype.Wa=function(){this.show();ff.a.Wa.call(this)};ff.prototype.bd=function(){this.element.style.display="none";ff.a.bd.call(this)};
function gf(a,b,c){ef.call(this,a,0,1,b,c)}C(gf,ef);gf.prototype.Wa=function(){this.show();gf.a.Wa.call(this)};function hf(){}da(hf);hf.prototype.Wi=0;function jf(a){return":"+(a.Wi++).toString(36)}hf.za();function kf(a,b){a.setAttribute("role",b);a.Sj=b}function W(a,b,c){a.setAttribute("aria-"+b,c)};function lf(a,b,c,d){this.ca=a||document.body;this.S=O(this.ca);this.nj=!a;this.f=m;this.Za="";this.ma=[];this.Gc=[];this.wh=this.ne=-1;this.u=!1;this.className="ac-renderer";this.Rf="ac-row";this.Vg="active";this.mg="ac-active";this.zi="ac-highlighted";this.Qc=b||m;this.Gj=d!=m?d:!0;this.sf=!1;this.pj=c!=m?c:!1;this.xf=m;this.Ke=!1;this.ve=0}C(lf,U);r=lf.prototype;r.c=n("f");r.Qf=function(a,b,c){this.Za=b;this.ma=a;this.ne=-1;this.wh=B();this.Z=c;this.Gc=[];mf(this)};
r.xb=function(){this.Z&&W(this.Z,"activedescendant","");if(this.u)this.u=!1,this.Z&&W(this.Z,"haspopup",!1),this.ve>0?(ta(this.da),this.da=new ff(this.f,this.ve),this.da.play()):Ke(this.f,!1)};r.show=function(){if(!this.u)this.u=!0,this.Z&&(kf(this.Z,"combobox"),W(this.Z,"autocomplete","list"),W(this.Z,"haspopup",!0)),this.ve>0?(ta(this.da),this.da=new gf(this.f,this.ve),this.da.play()):Ke(this.f,!0)};
function nf(a,b){var c=b>=0&&b<a.Gc.length?a.Gc[b]:i;if(a.dispatchEvent({type:"rowhilite",Tj:c})&&(of(a),a.ne=b,c)){M(c,a.mg,a.Vg);a.Z&&W(a.Z,"activedescendant",c?c.id:"");var d=a.f,f=Ce(c),g=Ce(d),h;if(F){var j=Oe(d,"borderLeft");h=Oe(d,"borderRight");var k=Oe(d,"borderTop"),l=Oe(d,"borderBottom");h=new se(k,h,l,j)}else j=ue(d,"borderLeftWidth"),h=ue(d,"borderRightWidth"),k=ue(d,"borderTopWidth"),l=ue(d,"borderBottomWidth"),h=new se(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j));j=f.x-
g.x-h.left;f=f.y-g.y-h.top;g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function of(a){a.ne>=0&&Ic(a.Gc[a.ne],a.mg,a.Vg)}r.Ra=function(a){if(a==-1)nf(this,-1);else for(var b=0;b<this.ma.length;b++)if(this.ma[b].id==a){nf(this,b);break}};
function pf(a){if(!a.f){var b=a.S.s("div",{style:"display:none"});a.f=b;M(b,a.className);kf(b,"listbox");b.id=jf(hf.za());a.S.appendChild(a.ca,b);S(b,"click",a.Eg,!1,a);S(b,"mousedown",a.le,!1,a);S(a.S.A,"mousedown",a.Gg,!1,a);S(b,"mouseover",a.Hg,!1,a)}}
function mf(a){pf(a);if(a.Ke)a.f.style.visibility="hidden";a.Gc.length=0;a.S.mh(a.f);if(a.Qc&&a.Qc.Ib)a.Qc.Ib(a);else{var b=m;Pb(a.ma,function(a){var d=this.Za,f=this.S.s("div",{className:this.Rf,id:jf(hf.za())});kf(f,"option");this.Qc&&this.Qc.nh?this.Qc.nh(a,d,f):f.innerHTML=Ba(a.data.toString());d&&this.Gj&&qf(this,f,d);M(f,this.Rf);this.Gc.push(f);a=f;this.Ke?this.f.insertBefore(a,b):this.S.appendChild(this.f,a);b=a},a)}a.ma.length==0?a.xb():(a.show(),rf(a.f),a.Gd(),Me(a.f,!0))}
r.Gd=function(){if(this.Z&&this.nj){var a=Ce(this.Z),b=He(this.Z),c=He(ye(this.Z)),d=He(this.f);a.y=this.Ke?a.y-d.height:a.y+b.height;(this.pj||a.x+d.width>c.width)&&this.xf!="LEFT"?(a.x=a.x+b.width-d.width,this.xf="RIGHT"):this.xf="LEFT";Fe(this.f,a);if(this.Ke)this.f.style.visibility="visible"}};
r.h=function(){if(this.f)Wd(this.f,"click",this.Eg,!1,this),Wd(this.f,"mousedown",this.le,!1,this),Wd(this.S.A,"mousedown",this.Gg,!1,this),Wd(this.f,"mouseover",this.Hg,!1,this),this.S.removeNode(this.f),this.f=m,this.u=!1;ta(this.da);delete this.ca;lf.a.h.call(this)};function rf(a){if(G&&Qa)a.style.width="",a.style.overflow="visible",a.style.width=a.offsetWidth,a.style.overflow="auto"}
function qf(a,b,c){if(b.nodeType==3){var d=m;x(c)&&c.length>1&&!a.sf&&(d=Db(c,1));c=sf(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.sf?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.S.createElement("b"),h.className=a.zi,a.S.appendChild(h,a.S.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.S.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=Db(c,d*3);b.nodeValue=a.join("")}else d&&qf(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,qf(a,b,c),b=d}function sf(a,b){var c="";if(!b)return c;a.sf?x(b)?(c=tb(b,function(a){return!/^[\s\xa0]*$/.test(a==m?"":String(a))}),c=ub(c,Ha),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ha(c),c=c.replace(/ /g,"|")):c=x(b)?b.length>0?Ha(b[0]):"":Ha(b);return c}
function tf(a,b){for(;b&&b!=a.f&&!xb(Hc(b),a.Rf);)b=b.parentNode;return b?sb(a.Gc,b):-1}r.Eg=function(a){var b=tf(this,a.target);b>=0&&this.dispatchEvent({type:de,row:this.ma[b].id});a.stopPropagation()};r.le=function(a){this.dispatchEvent(ee);a.stopPropagation();a.preventDefault()};r.Gg=function(a){this.Z==a.target?(of(this),a.stopPropagation()):this.dispatchEvent(fe)};r.Hg=function(a){a=tf(this,a.target);a>=0&&!(B()-this.wh<300)&&this.dispatchEvent({type:ce,row:this.ma[a].id})};function uf(a){this.Lg=a;this.G=[]}C(uf,D);var vf=[];r=uf.prototype;r.g=function(a,b,c,d,f){x(b)||(vf[0]=b,b=vf);for(var g=0;g<b.length;g++)this.G.push(S(a,b[g],c||this,d||!1,f||this.Lg||this));return this};r.$=function(a,b,c,d,f){if(x(b))for(var g=0;g<b.length;g++)this.$(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Lg||this;d=!!d;if(a=Xd(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Ec&&a[b].$c==c&&a[b].capture==d&&a[b].me==f){a=a[b];break a}a=m}if(a)a=a.key,T(a),yb(this.G,a)}return this};
r.Fd=function(){K(this.G,T);this.G.length=0};r.h=function(){uf.a.h.call(this);this.Fd()};r.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function ne(a){var b;a:{var c=0,d=0;if(pe(a))c=a.selectionStart,d=-1;else if(F){var f=qe(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function qe(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function re(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function pe(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};var wf,xf;xf=wf=!1;var yf=Sa();yf&&(yf.indexOf("Firefox")!=-1||yf.indexOf("Camino")!=-1||(yf.indexOf("iPhone")!=-1||yf.indexOf("iPod")!=-1?wf=!0:yf.indexOf("iPad")!=-1&&(xf=!0)));var zf=wf,Af=xf;function Bf(a,b,c,d,f){if(!F&&(!H||!I("525")))return!0;if(Qa&&f)return Df(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(F&&d&&b==a)return!1;switch(a){case 13:return!(F&&jb());case 27:return!H}return Df(a)}
function Df(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(H&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Ef(a,b){a&&this.rd(a,b)}C(Ef,U);r=Ef.prototype;r.f=m;r.qe=m;r.yf=m;r.re=m;r.Yb=-1;r.Xb=-1;
var Ff={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Gf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Hf={61:187,59:186},If=F||H&&I("525");r=Ef.prototype;
r.lf=function(a){if(H&&(this.Yb==17&&!a.ctrlKey||this.Yb==18&&!a.altKey))this.Xb=this.Yb=-1;If&&!Bf(a.keyCode,this.Yb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Xb=G&&a.keyCode in Hf?Hf[a.keyCode]:a.keyCode};r.si=function(){this.Xb=this.Yb=-1};
r.handleEvent=function(a){var b=a.qa,c,d;F&&a.type=="keypress"?(c=this.Xb,d=c!=13&&c!=27?b.keyCode:0):H&&a.type=="keypress"?(c=this.Xb,d=b.charCode>=0&&b.charCode<63232&&Df(c)?b.charCode:0):Wa?(c=this.Xb,d=Df(c)?b.keyCode:0):(c=b.keyCode||this.Xb,d=b.charCode||0,Qa&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in Ff?f=Ff[c]:c==25&&a.shiftKey&&(f=9):g&&g in Gf&&(f=Gf[g]);a=f==this.Yb;this.Yb=f;b=new Jf(f,d,a,b);try{this.dispatchEvent(b)}finally{b.k()}};r.c=n("f");
r.rd=function(a,b){this.re&&this.detach();this.f=a;this.qe=S(this.f,"keypress",this,b);this.yf=S(this.f,"keydown",this.lf,b,this);this.re=S(this.f,"keyup",this.si,b,this)};r.detach=function(){if(this.qe)T(this.qe),T(this.yf),T(this.re),this.re=this.yf=this.qe=m;this.f=m;this.Xb=this.Yb=-1};r.h=function(){Ef.a.h.call(this);this.detach()};function Jf(a,b,c,d){d&&this.Vb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}C(Jf,xd);function Kf(a,b,c,d){d=d||150;this.Jd=a!=m?a:Lf;this.ei=this.Jd.substring(0,1);a=this.ad?"[\\s"+this.Jd+"]+":"[\\s]+";this.Dh=RegExp("^"+a+"|"+a+"$","g");this.sj=RegExp("\\s*["+this.Jd+"]$");this.Xg=b||"";this.lj=this.ad=c!=m?c:!0;this.v=d>0?new Pe(d):m;this.pa=new uf(this);this.Me=new uf(this);this.J=new Ef;this.Ug=-1}C(Kf,D);var Mf=(zf||Af)&&!I("533.17.9"),Lf=",;";r=Kf.prototype;r.Hj=!0;r.li=!0;r.Fh=!1;r.uj=!0;r.tj=!0;r.Ne=m;r.L=m;r.Cf="";r.jc=!1;r.Sf=!1;r.Eh=!0;r.m=function(){return this.L.value};
r.T=function(a){this.L.value=a};r.Re=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ha(c)&&c.nodeType==1&&W(c,"haspopup",!0);this.pa.g(c,"focus",this.tc);this.pa.g(c,"blur",this.Cb);if(!this.L&&(this.Me.g(c,"keydown",this.dj),ha(c)&&c.nodeType==1)){var d=P(c);(d&&d.activeElement)==c&&Nf(this,c)}}};r.h=function(){Kf.a.h.call(this);this.Ne!=m&&window.clearTimeout(this.Ne);this.pa.k();delete this.pa;this.Me.k();this.J.k()};function Of(a){a.v?a.v.setInterval(300):a.v=new Pe(300)}
r.Qa=function(a){switch(a.keyCode){case 40:if(this.K.Ta())return this.Fh?ke(this.K):je(this.K),a.preventDefault(),!0;else if(!this.ad)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.K.Ta())return this.Fh?je(this.K):ke(this.K),a.preventDefault(),!0;break;case 9:if(this.K.Ta()&&!a.shiftKey){if(this.update(),ge(this.K)&&this.lj)return a.preventDefault(),!0}else this.K.xb();break;case 13:if(this.K.Ta()){if(this.update(),ge(this.K))return a.preventDefault(),a.stopPropagation(),!0}else this.K.xb();
break;case 27:if(this.K.Ta())return this.K.xb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.jc){if(!this.jc)this.pa.g(this.L,"keyup",this.gh),this.pa.g(this.L,"keypress",this.fh),this.jc=!0;return!0}break;default:this.v&&!this.Eh&&(this.v.stop(),this.v.start())}return Pf(this,a)};function Pf(a,b){var c=a.ad&&b.charCode&&a.Jd.indexOf(String.fromCharCode(b.charCode))!=-1;a.uj&&c&&a.update();return a.tj&&c&&ge(a.K)?(b.preventDefault(),!0):!1}r.ri=p(!1);
r.tc=function(a){Nf(this,a.target||m)};function Nf(a,b){a.Me.Fd();a.K&&he(a.K);if(b!=a.L)a.L=b,a.v&&(a.v.start(),a.pa.g(a.v,Re,a.cd)),a.Cf=a.m(),a.J.rd(a.L),a.pa.g(a.J,"key",a.hh),F&&a.pa.g(a.L,"keypress",a.eh)}r.Cb=function(){Mf?this.Ne=window.setTimeout(A(this.jh,this),0):this.jh()};
r.jh=function(){if(this.L)this.pa.$(this.J,"key",this.hh),this.J.detach(),this.pa.$(this.L,"keyup",this.ri),F&&this.pa.$(this.L,"keypress",this.eh),this.jc&&Qf(this),this.L=m,this.v&&(this.v.stop(),this.pa.$(this.v,Re,this.cd)),this.K&&ie(this.K)};r.cd=function(){this.update()};r.dj=function(a){this.tc(a)};r.hh=function(a){this.Ug=a.keyCode;this.K&&this.Qa(a)};r.fh=function(){this.jc&&this.Ug!=229&&Qf(this)};r.gh=function(a){this.jc&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Qf(this)};
function Qf(a){if(a.jc)a.jc=!1,a.pa.$(a.L,"keypress",a.fh),a.pa.$(a.L,"keyup",a.gh)}r.eh=function(a){Pf(this,a)};r.update=function(a){if(this.L&&(a||this.m()!=this.Cf)){if(a||!this.Sf){var a=ne(this.L),b=this.m(),a=oe(this,b)[me(this,b,a)],a=this.Dh?String(a).replace(this.Dh,""):a;if(this.K&&(this.K.Z=this.L,b=this.K,this.m(),b.Za!=a))b.Za=a,qd(b.Bd,b.Za,b.Ki,A(b.Ii,b)),he(b)}this.Cf=this.m()}this.Sf=!1};
function me(a,b,c){a=oe(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++)f+=a[d].length,b=d;return b}function oe(a,b){if(!a.ad)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.Xg&&a.Xg.indexOf(c[g])!=-1){if(a.li&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.Jd.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function Rf(a,b,c){var d=new lf(m,{nh:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.Bd=new pd(b,c);b=new Kf(m,m,!1);Of(b);b.Eh=!1;b.K=this;b.Re(a);be.call(this,this.Bd,d,b);this.addEventListener("update",function(b){a.value=b.row.display_name})}C(Rf,be);Rf.prototype.search=function(a,b,c){qd(this.Bd,a,b,c)};function Sf(){this.lh=B()}new Sf;Sf.prototype.set=ca("lh");Sf.prototype.get=n("lh");function Tf(a,b){this.fb=Dd?[]:"";a!=m&&this.append.apply(this,arguments)}Tf.prototype.set=function(a){this.clear();this.append(a)};Dd?(Tf.prototype.Ue=0,Tf.prototype.append=function(a,b,c){b==m?this.fb[this.Ue++]=a:(this.fb.push.apply(this.fb,arguments),this.Ue=this.fb.length);return this}):Tf.prototype.append=function(a,b,c){this.fb+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.fb+=arguments[d];return this};Tf.prototype.clear=function(){Dd?this.Ue=this.fb.length=0:this.fb=""};
Tf.prototype.toString=function(){if(Dd){var a=this.fb.join("");this.clear();a&&this.append(a);return a}else return this.fb};function Uf(a){Xb.call(this,a||"OpenStreetMaps")}C(Uf,cc);Uf.prototype.kb=p(18);Uf.prototype.Tb=p(256);Uf.prototype.ke=function(a,b,c){var d=["a","b","c"];return(new Tf("http://",d[dc(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Uf.prototype.qd=function(a){Yc(a,"\u00a9 ",Uc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function Vf(){Uf.call(this,"MapQuest OSM")}C(Vf,Uf);Vf.prototype.ke=function(a,b,c){return(new Tf("http://otile",1+dc(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};Vf.prototype.qd=function(a){Yc(a,"Map data \u00a9 ",Uc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",Uc("br"));Yc(a,"Tiles Courtesy of ",Uc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",Uc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function Wf(a){this.S=a||O();this.Id=Xf}C(Wf,U);Wf.prototype.Ai=hf.za();var Xf=m;function Yf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}r=Wf.prototype;r.Sa=m;r.F=!1;r.f=m;r.Id=m;r.Jf=m;r.ca=m;r.ha=m;r.Ea=m;r.Hh=!1;
function Zf(a){return a.Sa||(a.Sa=jf(a.Ai))}function $f(a,b){if(a.ca&&a.ca.Ea){var c=a.ca.Ea,d=a.Sa;d in c&&delete c[d];pb(a.ca.Ea,b,a)}a.Sa=b}r.c=n("f");r.ra=function(){return this.Xc||(this.Xc=new uf(this))};function ag(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.ca&&a.Sa&&bg(a.ca,a.Sa)&&a.ca!=b&&e(Error("Unable to set parent component"));a.ca=b;Wf.a.Vf.call(a,b)}r.getParent=n("ca");r.Vf=function(a){this.ca&&this.ca!=a&&e(Error("Method not supported"));Wf.a.Vf.call(this,a)};r.W=n("S");
r.s=function(){this.f=this.S.createElement("div")};r.Ib=function(a){cg(this,a)};function cg(a,b,c){a.F&&e(Error("Component already rendered"));a.f||a.s();b?b.insertBefore(a.f,c||m):a.S.A.body.appendChild(a.f);(!a.ca||a.ca.F)&&a.aa()}r.fa=function(a){if(this.F)e(Error("Component already rendered"));else if(a&&this.Na(a)){this.Hh=!0;if(!this.S||this.S.A!=P(a))this.S=O(a);this.gb(a);this.aa()}else e(Error("Invalid element to decorate"))};r.Na=p(!0);r.gb=ca("f");
r.aa=function(){this.F=!0;dg(this,function(a){!a.F&&a.c()&&a.aa()})};r.Ha=function(){dg(this,function(a){a.F&&a.Ha()});this.Xc&&this.Xc.Fd();this.F=!1};r.h=function(){Wf.a.h.call(this);this.F&&this.Ha();this.Xc&&(this.Xc.k(),delete this.Xc);dg(this,function(a){a.k()});!this.Hh&&this.f&&$c(this.f);this.ca=this.Jf=this.f=this.Ea=this.ha=m};r.od=function(a,b){this.pd(a,eg(this),b)};
r.pd=function(a,b,c){a.F&&(c||!this.F)&&e(Error("Component already rendered"));(b<0||b>eg(this))&&e(Error("Child component index out of bounds"));if(!this.Ea||!this.ha)this.Ea={},this.ha=[];a.getParent()==this?(this.Ea[Zf(a)]=a,yb(this.ha,a)):pb(this.Ea,Zf(a),a);ag(a,this);Cb(this.ha,b,0,a);a.F&&this.F&&a.getParent()==this?(c=this.V(),c.insertBefore(a.c(),c.childNodes[b]||m)):c?(this.f||this.s(),b=fg(this,b+1),cg(a,this.V(),b?b.f:m)):this.F&&!a.F&&a.f&&a.aa()};r.V=n("f");
function gg(a){if(a.Id==m)a.Id=De(a.F?a.f:a.S.A.body);return a.Id}r.kd=function(a){this.F&&e(Error("Component already rendered"));this.Id=a};function eg(a){return a.ha?a.ha.length:0}function bg(a,b){return a.Ea&&b?(b in a.Ea?a.Ea[b]:i)||m:m}function fg(a,b){return a.ha?a.ha[b]||m:m}function dg(a,b,c){a.ha&&K(a.ha,b,c)}function hg(a,b){return a.ha&&b?sb(a.ha,b):-1}
r.removeChild=function(a,b){if(a){var c=z(a)?a:Zf(a),a=bg(this,c);if(c&&a){var d=this.Ea;c in d&&delete d[c];yb(this.ha,a);b&&(a.Ha(),a.f&&$c(a.f));ag(a,m)}}a||e(Error("Child is not in parent component"));return a};r.mh=function(a){for(;this.ha&&this.ha.length!=0;)this.removeChild(fg(this,0),a)};function ig(){}var jg;da(ig);r=ig.prototype;r.ib=ba();r.s=function(a){var b=a.W().s("div",this.Vc(a).join(" "),a.getContent());kg(this,a,b);return b};r.V=function(a){return a};r.td=function(a,b,c){if(a=a.c?a.c():a)if(F&&!I("7")){var d=lg(Hc(a),b);d.push(b);na(c?M:Ic,a).apply(m,d)}else c?M(a,b):Ic(a,b)};r.Na=p(!0);
r.fa=function(a,b){b.id&&$f(a,b.id);var c=this.V(b);c&&c.firstChild?mg(a,c.firstChild.nextSibling?Ab(c.childNodes):c.firstChild):a.Oc=m;var d=0,f=this.n(),g=this.n(),h=!1,j=!1,c=!1,k=Hc(b);K(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.hf(a)},this);a.t=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Pa;l&&k.push.apply(k,l);if(F&&!I("7")){var q=lg(k);q.length>0&&(k.push.apply(k,q),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");kg(this,a,b);return b};
r.Zc=function(a){gg(a)&&this.kd(a.c(),!0);a.isEnabled()&&this.fc(a,a.u)};function kg(a,b,c){b.isEnabled()||a.sb(c,1,!0);b.t&8&&a.sb(c,8,!0);b.U&16&&a.sb(c,16,!!(b.t&16));b.U&64&&a.sb(c,64,b.Ta())}r.Kd=function(a,b){Me(a,!b,!F&&!Wa)};r.kd=function(a,b){this.td(a,this.n()+"-rtl",b)};r.Wb=function(a){var b;return a.U&32&&(b=a.X())?fd(b):!1};r.fc=function(a,b){var c;if(a.U&32&&(c=a.X())){if(!b&&a.t&32){try{c.blur()}catch(d){}a.t&32&&a.Cb(m)}if(fd(c)!=b)b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex"))}};
r.setVisible=function(a,b){Ke(a,b)};r.Ba=function(a,b,c){var d=a.c();if(d){var f=this.vd(b);f&&this.td(a,f,c);this.sb(d,b,c)}};r.sb=function(a,b,c){jg||(jg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=jg[b])&&W(a,b,c)};r.setContent=function(a,b){var c=this.V(a);if(c&&(Zc(c),b))if(z(b))cd(c,b);else{var d=function(a){if(a){var b=P(c);c.appendChild(z(a)?b.createTextNode(a):a)}};x(b)?K(b,d):y(b)&&!("nodeType"in b)?K(Ab(b),d):d(b)}};r.X=function(a){return a.c()};r.n=p("goog-control");
r.Vc=function(a){var b=this.n(),c=[b],d=this.n();d!=b&&c.push(d);b=a.t;for(d=[];b;){var f=b&-b;d.push(this.vd(f));b&=~f}c.push.apply(c,d);(a=a.Pa)&&c.push.apply(c,a);F&&!I("7")&&c.push.apply(c,lg(c));return c};function lg(a,b){var c=[];b&&(a=a.concat([b]));K([],function(d){vb(d,na(xb,a))&&(!b||xb(d,b))&&c.push(d.join("_"))});return c}r.vd=function(a){this.Yd||ng(this);return this.Yd[a]};
r.hf=function(a){if(!this.zh){this.Yd||ng(this);var b=this.Yd,c={},d;for(d in b)c[b[d]]=d;this.zh=c}a=parseInt(this.zh[a],10);return isNaN(a)?0:a};function ng(a){var b=a.n();a.Yd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function og(a,b){a||e(Error("Invalid class name "+a));ga(b)||e(Error("Invalid decorator function "+b));pg[a]=b}var qg={},pg={};function X(a,b,c){Wf.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ia(b);if(d=qg[d])break;b=b.a?b.a.constructor:m}b=d?ga(d.za)?d.za():new d:m}this.i=b;this.Oc=a}C(X,Wf);r=X.prototype;r.Oc=m;r.t=0;r.U=39;r.Se=255;r.He=0;r.u=!0;r.Pa=m;r.nf=!0;r.Wd=!1;function rg(a,b){a.F&&b!=a.nf&&sg(a,b);a.nf=b}r.X=function(){return this.i.X(this)};r.he=function(){return this.J||(this.J=new Ef)};function tg(a,b){if(b)a.Pa?xb(a.Pa,b)||a.Pa.push(b):a.Pa=[b],a.i.td(a,b,!0)}
r.td=function(a,b){if(b)tg(this,a);else if(a&&this.Pa){yb(this.Pa,a);if(this.Pa.length==0)this.Pa=m;this.i.td(this,a,!1)}};r.s=function(){var a=this.i.s(this);this.f=a;var b=this.i.ib();b&&kf(a,b);this.Wd||this.i.Kd(a,!1);this.u||this.i.setVisible(a,!1)};r.V=function(){return this.i.V(this.c())};r.Na=function(a){return this.i.Na(a)};r.gb=function(a){this.f=a=this.i.fa(this,a);var b=this.i.ib();b&&kf(a,b);this.Wd||this.i.Kd(a,!1);this.u=a.style.display!="none"};
r.aa=function(){X.a.aa.call(this);this.i.Zc(this);if(this.U&-2&&(this.nf&&sg(this,!0),this.U&32)){var a=this.X();if(a){var b=this.he();b.rd(a);this.ra().g(b,"key",this.Qa).g(a,"focus",this.tc).g(a,"blur",this.Cb)}}};function sg(a,b){var c=a.ra(),d=a.c();b?(c.g(d,"mouseover",a.pf).g(d,"mousedown",a.uc).g(d,"mouseup",a.vc).g(d,"mouseout",a.of),F&&c.g(d,"dblclick",a.Fg)):(c.$(d,"mouseover",a.pf).$(d,"mousedown",a.uc).$(d,"mouseup",a.vc).$(d,"mouseout",a.of),F&&c.$(d,"dblclick",a.Fg))}
r.Ha=function(){X.a.Ha.call(this);this.J&&this.J.detach();this.u&&this.isEnabled()&&this.i.fc(this,!1)};r.h=function(){X.a.h.call(this);this.J&&(this.J.k(),delete this.J);delete this.i;this.Pa=this.Oc=m};r.getContent=n("Oc");r.setContent=function(a){this.i.setContent(this.c(),a);this.Oc=a};function mg(a,b){a.Oc=b}
r.Uc=function(){var a=this.getContent();if(!a)return"";if(!z(a))if(x(a))a=ub(a,gd).join("");else{if(Mc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];hd(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Mc||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return xa(a)};r.kd=function(a){X.a.kd.call(this,a);var b=this.c();b&&this.i.kd(b,a)};r.Kd=function(a){this.Wd=a;var b=this.c();b&&this.i.Kd(b,a)};
r.setVisible=function(a,b){if(b||this.u!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.i.setVisible(c,a);this.isEnabled()&&this.i.fc(this,a);this.u=a;return!0}return!1};r.isEnabled=function(){return!(this.t&1)};r.ec=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&ug(this,1,!a))a||(this.setActive(!1),this.rb(!1)),this.u&&this.i.fc(this,a),this.Ba(1,!a)};r.rb=function(a){ug(this,2,a)&&this.Ba(2,a)};
r.setActive=function(a){ug(this,4,a)&&this.Ba(4,a)};r.Wf=function(a){ug(this,8,a)&&this.Ba(8,a)};r.Ta=function(){return!!(this.t&64)};r.R=function(a){ug(this,64,a)&&this.Ba(64,a)};r.Ba=function(a,b){if(this.U&a&&b!=!!(this.t&a))this.i.Ba(this,a,b),this.t=b?this.t|a:this.t&~a};function vg(a,b,c){a.F&&a.t&b&&!c&&e(Error("Component already rendered"));!c&&a.t&b&&a.Ba(b,!1);a.U=c?a.U|b:a.U&~b}function wg(a,b){return!!(a.Se&b)&&!!(a.U&b)}
function ug(a,b,c){return!!(a.U&b)&&!!(a.t&b)!=c&&(!(a.He&b)||a.dispatchEvent(Yf(b,c)))&&!a.ce}r.pf=function(a){(!a.relatedTarget||!bd(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&wg(this,2)&&this.rb(!0)};r.of=function(a){if((!a.relatedTarget||!bd(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))wg(this,4)&&this.setActive(!1),wg(this,2)&&this.rb(!1)};
r.uc=function(a){this.isEnabled()&&(wg(this,2)&&this.rb(!0),Ad(a)&&(wg(this,4)&&this.setActive(!0),this.i.Wb(this)&&this.X().focus()));!this.Wd&&Ad(a)&&a.preventDefault()};r.vc=function(a){this.isEnabled()&&(wg(this,2)&&this.rb(!0),this.t&4&&this.dd(a)&&wg(this,4)&&this.setActive(!1))};r.Fg=function(a){this.isEnabled()&&this.dd(a)};
r.dd=function(a){if(wg(this,16)){var b=!(this.t&16);ug(this,16,b)&&this.Ba(16,b)}wg(this,8)&&this.Wf(!0);wg(this,64)&&this.R(!this.Ta());b=new Q("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};r.tc=function(){wg(this,32)&&ug(this,32,!0)&&this.Ba(32,!0)};r.Cb=function(){wg(this,4)&&this.setActive(!1);wg(this,32)&&ug(this,32,!1)&&this.Ba(32,!1)};
r.Qa=function(a){return this.u&&this.isEnabled()&&this.Yc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};r.Yc=function(a){return a.keyCode==13&&this.dd(a)};ga(X)||e(Error("Invalid component class "+X));ga(ig)||e(Error("Invalid renderer class "+ig));var xg=ia(X);qg[xg]=ig;og("goog-control",function(){return new X(m)});function yg(){}C(yg,ig);da(yg);r=yg.prototype;r.ib=p("button");r.sb=function(a,b,c){b==16?W(a,"pressed",c):yg.a.sb.call(this,a,b,c)};r.s=function(a){var b=yg.a.s.call(this,a),c=a.yd();c&&this.Yf(b,c);(c=a.m())&&this.T(b,c);a.U&16&&this.sb(b,16,!1);return b};r.fa=function(a,b){var b=yg.a.fa.call(this,a,b),c=this.m(b);a.$a=c;a.fg=this.yd(b);a.U&16&&this.sb(b,16,!1);return b};r.m=u;r.T=u;r.yd=function(a){return a.title};r.Yf=function(a,b){if(a)a.title=b||""};r.n=p("goog-button");function zg(){}C(zg,yg);da(zg);r=zg.prototype;r.ib=ba();r.s=function(a){rg(a,!1);a.Se&=-256;vg(a,32,!1);return a.W().s("button",{"class":this.Vc(a).join(" "),disabled:!a.isEnabled(),title:a.yd()||"",value:a.m()||""},a.Uc()||"")};r.Na=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};r.fa=function(a,b){rg(a,!1);a.Se&=-256;vg(a,32,!1);b.disabled&&M(b,this.vd(1));return zg.a.fa.call(this,a,b)};r.Zc=function(a){a.ra().g(a.c(),"click",a.dd)};
r.Kd=u;r.kd=u;r.Wb=function(a){return a.isEnabled()};r.fc=u;r.Ba=function(a,b,c){zg.a.Ba.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};r.m=function(a){return a.value};r.T=function(a,b){if(a)a.value=b};r.sb=u;function Ag(a,b,c){X.call(this,a,b||zg.za(),c)}C(Ag,X);r=Ag.prototype;r.m=n("$a");r.T=function(a){this.$a=a;this.i.T(this.c(),a)};r.yd=n("fg");r.Yf=function(a){this.fg=a;this.i.Yf(this.c(),a)};r.h=function(){Ag.a.h.call(this);delete this.$a;delete this.fg};r.aa=function(){Ag.a.aa.call(this);if(this.U&32){var a=this.X();a&&this.ra().g(a,"keyup",this.Yc)}};r.Yc=function(a){return a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup"?this.dd(a):a.keyCode==32};og("goog-button",function(){return new Ag(m)});function Bg(){}C(Bg,yg);da(Bg);r=Bg.prototype;r.s=function(a){var b={"class":"goog-inline-block "+this.Vc(a).join(" "),title:a.yd()||""};return a.W().s("div",b,this.$d(a.getContent(),a.W()))};r.ib=p("button");r.V=function(a){return a&&a.firstChild.firstChild};r.$d=function(a,b){return b.s("div","goog-inline-block "+(this.n()+"-outer-box"),b.s("div","goog-inline-block "+(this.n()+"-inner-box"),a))};r.Na=function(a){return a.tagName=="DIV"};
r.fa=function(a,b){Cg(b,!0);Cg(b,!1);var c;a:{if((c=a.W().Bg(b))&&c.className.indexOf(this.n()+"-outer-box")!=-1)if((c=a.W().Bg(c))&&c.className.indexOf(this.n()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.$d(b.childNodes,a.W()));M(b,"goog-inline-block",this.n());return Bg.a.fa.call(this,a,b)};r.n=p("goog-custom-button");
function Cg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(ya(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Dg(a,b,c){Ag.call(this,a,b||Bg.za(),c)}C(Dg,Ag);og("goog-custom-button",function(){return new Dg(m)});function Eg(a){this.e=a;this.Db=this.mb=0;this.na=1E7;this.va=m;this.qh=this.tilt=this.heading=0}C(Eg,U);r=Eg.prototype;r.setPosition=function(a,b){this.mb=L(a,-1.57,1.57);this.Db=ic(b);this.va=m;this.dispatchEvent(new Fg(Gg))};function Hg(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.qh);b/=Math.max(Math.abs(Math.cos(a.tilt)),0.1);d(a.heading);a.setPosition(a.mb+b,a.Db+c)}r.getPosition=function(){return[this.mb,this.Db]};
function Ig(a,b){a.na=L(b,250,1E7);a.va=m;a.dispatchEvent(new Fg(Jg));a.dispatchEvent(new Fg(Gg))}r.setZoom=function(a){this.va=L(a,Kg(this.e),this.e.oa.ia.kb());a=Math.cos(Math.abs(this.mb))*2*Math.PI/Math.pow(2,this.va)*this.e.Nd;this.na=1/Math.tan(this.e.b.ee/2)*(a/2)*6378137;this.dispatchEvent(new Fg(Gg));this.dispatchEvent(new Fg(Jg))};
r.getZoom=function(){if(w(this.va)){var a=2*(this.na/6378137)*Math.tan(this.e.b.ee/2)/this.e.Nd;this.va=L(Math.log(Math.cos(Math.abs(this.mb))*2*Math.PI/a)/Math.LN2,Kg(this.e),this.e.oa.ia.kb())}return this.va};r.Wc=function(){return Lg(this.e,this.e.b.cb/2,this.e.b.bb/2,!0)};var Gg="zoomchanged",Jg="altchanged";function Fg(a){Q.call(this,a)}C(Fg,Q);function Mg(a,b,c,d,f){function g(a,b,c,d){a?a=b:(a=b/Math.max(1,Math.sqrt(c*c+d*d)),a=Math.max(1,Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))));return a}a=a.sa;this.ab=[];this.Pc=[];this.z=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j),l=[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k];Ng(this,h,j,k,l)}this.Le=a.createBuffer();this.Je=a.createBuffer();this.Pg=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Le);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.ab),a.STATIC_DRAW);this.Le.wf=2;a.bindBuffer(a.ARRAY_BUFFER,this.Je);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.Pc),a.STATIC_DRAW);this.Je.wf=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Pg);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.z),a.STATIC_DRAW);this.Yi=this.z.length}
function Ng(a,b,c,d,f){for(var g=a.ab.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.ab.push(b+j/d,c+h/d),a.Pc.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.ab.length/2;for(j=0;j<d;++j)a.ab.push(b+(j+0.5)/d,c+1),a.Pc.push((j+0.5)/d,0)}if(f[1]){k[1]=a.ab.length/2;for(h=0;h<d;++h)a.ab.push(b+1,c+(h+0.5)/d),a.Pc.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.ab.length/2;for(j=0;j<d;++j)a.ab.push(b+(j+0.5)/d,c),a.Pc.push((j+0.5)/d,1)}if(f[3]){k[3]=a.ab.length/2;for(h=0;h<d;++h)a.ab.push(b,c+(h+0.5)/d),a.Pc.push(0,
1-(h+0.5)/d)}b=A(ba(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.z.push(l);var q=h==0&&f[2],o=j==0&&f[3];q&&!o?(a.z.push(k[2]+j),a.z.push(l+c),b(),a.z.push(k[2]+j)):o&&!q?(a.z.push(l+1),a.z.push(k[3]+h),b(),a.z.push(k[3]+h)):o&&q&&(a.z.push(k[2]+j),a.z.push(k[3]+h),b(),a.z.push(k[3]+h),a.z.push(k[2]+j),a.z.push(l+c),b(),a.z.push(k[2]+j));a.z.push(l+1);a.z.push(l+c);b();a.z.push(l+c+1);q=h==d-1&&f[0];o=j==d-1&&f[1];q&&!o?(a.z.push(k[0]+j),a.z.push(l+1),b(),a.z.push(k[0]+j)):o&&!q?(a.z.push(l+
c),a.z.push(k[1]+h),b(),a.z.push(k[1]+h)):q&&o&&(a.z.push(k[0]+j),a.z.push(k[1]+h),b(),a.z.push(k[1]+h),a.z.push(k[0]+j),a.z.push(l+1),b(),a.z.push(k[0]+j));a.z.push(l+c);a.z.push(l+1);b()}};function Y(a,b){if(a instanceof Y)this.B=a.eg();else{var c;if(c=y(a))a:{for(var d=c=0;d<a.length;d++){if(!y(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!fa(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Ab(a):a instanceof Jc?this.B=Og(a.height,a.width):fa(a)&&fa(b)&&a>0&&b>0?this.B=Og(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new Jc(this.B[0].length,this.B.length)}
function Pg(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Y(b)}function Qg(a,b,c){for(var d=0;d<a.Ab().height;d++)for(var f=0;f<a.Ab().width;f++)b.call(c,a.B[d][f],d,f,a)}function Rg(a,b){var c=new Y(a.Ab());Qg(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function Og(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}r=Y.prototype;
r.add=function(a){Kc(this.l,a.Ab())||e(Error("Matrix summation is only supported on arrays of equal size"));return Rg(this,function(b,c,d){return b+a.B[c][d]})};function Sg(a,b){a.l.height!=b.Ab().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new Y(a.l.height,a.l.width+b.l.width);Qg(a,function(a,b,g){c.B[b][g]=a});Qg(b,function(a,b,g){c.B[b][this.l.width+g]=a},a);return c}
r.equals=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return!1;return!0};r.Ab=n("l");function Tg(a){var b=new Y(a.l.width,a.l.height);Qg(a,function(a,d,f){b.B[f][d]=a});return b}function Ug(a,b,c){return!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width)?m:a.B[b][c]}
function Vg(a,b,c,d){b>=0&&b<a.l.height&&c>=0&&c<a.l.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.l.height+","+a.l.width+")"));a.B[b][c]=d}r.multiply=function(a){if(a instanceof Y)return this.l.width!=a.Ab().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Wg(this,a);else if(fa(a))return Xg(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};
r.bg=function(a){Kc(this.l,a.Ab())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return Rg(this,function(b,c,d){return b-a.B[c][d]})};r.eg=n("B");function Yg(a,b,c,d){var f=new Y((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);Qg(f,function(a,c,d){f.B[c][d]=this.B[0+c][b+d]},a);return f}function Wg(a,b){var c=new Y(a.l.height,b.Ab().width);Qg(c,function(a,f,g){for(var h=a=0;h<this.l.width;h++)a+=Ug(this,f,h)*Ug(b,h,g);Vg(c,f,g,a)},a);return c}
function Xg(a,b){return Rg(a,function(a){return a*b})};function Zg(){this.pb=Pg(4)}Zg.prototype.translate=function(a,b,c){this.pb=this.pb.multiply(new Y([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function $g(a,b){var c=Math.cos(b),d=Math.sin(b);a.pb=a.pb.multiply(new Y([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}function ah(a,b){var c=Math.cos(b),d=Math.sin(b);a.pb=a.pb.multiply(new Y([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))};function bh(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=m)return c}catch(d){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.df=b||m;this.sa=f;this.cb=a.width;this.bb=a.height;f.viewport(0,0,this.cb,this.bb);this.Vd=this.ee=0;this.Ud=1;
this.Xd=this.cb/this.bb;this.fd=Pg(4);this.Zb=new Zg;this.ye=this.xe=this.fd;this.ef=this.fe=this.Af=this.pg=this.cf=0;S(t,"resize",this.De,!1,this)}function ch(a){a.ee=fc(50);a.Vd=1.0E-6;a.Ud=5;a.Xd=a.cb/a.bb;dh(a)}function dh(a){var b=1/Math.tan(a.ee/2);a.fd=new Y([[b/a.Xd,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);eh(a)}function eh(a){var b=a.Vd-a.Ud;Vg(a.fd,2,2,(a.Ud+a.Vd)/b);Vg(a.fd,2,3,2*a.Ud*a.Vd/b)}
bh.prototype.De=function(){this.cb=this.canvas.width=this.canvas.clientWidth;this.bb=this.canvas.height=this.canvas.clientHeight;this.sa.viewport(0,0,this.cb,this.bb);this.Xd=this.cb/this.bb;dh(this);fh(this.o)};bh.prototype.o=m;
function gh(a){a.xe=a.fd.multiply(a.Zb.pb);var b,c=a.xe;c.l.width!=c.l.height&&e(Error("An inverse can only be taken on a square matrix."));b=Pg(c.l.height);a:{for(var c=Sg(c,b),d=new Y(c),f=0,g=0;g<d.l.height;g++){if(f>=d.l.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.l.height&&(h=g,f++,f==d.l.width)){c=d;break a}var j=c,k=g,l=j.B[h];j.B[h]=j.B[k];j.B[k]=l;h=d.B[g][f];for(j=f;j<d.l.width;j++)d.B[g][j]/=h;for(h=0;h<d.l.height;h++)if(h!=g){k=d.B[h][f];for(j=f;j<d.l.width;j++)d.B[h][j]-=k*d.B[g][j]}f++}c=
d}b=!Yg(c,0,b.l.width-1,b.l.height-1).equals(b)?m:Yg(c,b.l.width);a.ye=b;return a.xe};function hh(a,b,c){c=a.sa.createShader(c);a.sa.shaderSource(c,b);a.sa.compileShader(c);a.sa.getShaderParameter(c,a.sa.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.sa.getShaderInfoLog(c)));return c};function ih(a,b,c){b=b.sa;this.P=a;this.Gh=b.getAttribLocation(this.P,"aVertexPosition");b.enableVertexAttribArray(this.Gh);this.Ah=b.getAttribLocation(this.P,"aTextureCoord");b.enableVertexAttribArray(this.Ah);this.Vi=Z(b,this.P,"uMVPMatrix");this.Mi=Z(b,this.P,"uMetaL0");this.Oi=Z(b,this.P,"uMetaL1");this.Pi=Z(b,this.P,"uMetaL2");this.Gi=Z(b,this.P,"uOffL");this.Sh=Z(b,this.P,"uBufferL0");this.Uh=Z(b,this.P,"uBufferL1");this.Vh=Z(b,this.P,"uBufferL2");this.Xh=Z(b,this.P,"uBufferLn");if(c)this.fi=
Z(b,this.P,"uDegradationT"),this.Li=Z(b,this.P,"uMetaL0T"),this.Ni=Z(b,this.P,"uMetaL1T"),this.Fi=Z(b,this.P,"uOffLT"),this.Rh=Z(b,this.P,"uBufferL0T"),this.Th=Z(b,this.P,"uBufferL1T"),this.Wh=Z(b,this.P,"uBufferLnT");this.Bj=Z(b,this.P,"uTileCount");this.Zi=Z(b,this.P,"uOffset")}function Z(a,b,c){a=a.getUniformLocation(b,c);w(a)&&e(Error("Invalid name "+c));return a};var jh={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0;uniform sampler2D uBufferL1;uniform sampler2D uBufferL2;uniform sampler2D uBufferLn;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLn,vTCA);}else{discard;}}",
"earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0[BUFF_SIZE];uniform float uMetaL1[BUFF_SIZE];uniform float uMetaL2[BUFF_SIZE];uniform vec2 uOffL[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffL[0],uTileCount);if(validateOffset(off)&&uMetaL0[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffL[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffL[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffL[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}"};function kh(a){return a in jh?jh[a]:hc("../we/shaders/"+a)};function lh(a){this.Lb=new Qb;this.yc=[];this.yj=512;this.tg=new Pe(2E4);S(this.tg,Re,this.ai,!1,this);this.tg.start();mh(this,a)}function mh(a,b){a.Bh=B();a.Mb=b;Kb(a.Lb,function(a){a.k()});a.Lb.clear();a.yc=[]}r=lh.prototype;r.Mb=m;r.Bh=0;r.Aj=u;
r.ai=function(){var a=tb(this.Lb.Ia(),function(a){return a.state==20||a.state==va||a.state==-10});for(Eb(a,function(a,b){return a.Fc-b.Fc});this.Lb.jb()>this.yj&&a.length>0;){var b=a.shift();b.state==va&&yb(this.yc,b);this.Lb.remove(b.zoom+"_"+b.x+"_"+b.y);b.k()}};r.Cj=function(a){a.Fc<this.Bh?(a.state=-10,this.Lb.remove(a.zoom+"_"+a.x+"_"+a.y),a.k()):this.Aj(a)};
function nh(a){Eb(a.yc,function(a,b){return a.Fc-b.Fc});for(var b=Math.min(a.yc.length,5-a.Mb.nb),c=0;c<b;c++)$b(a.Mb,a.yc.pop(),A(a.Cj,a))};function oh(a,b,c,d){this.Bb=b.sa;this.Qb=[];this.r=c;this.Mb=a;this.dg=new lh(a);this.va=d;this.Ca=1<<this.va;this.Sc=this.r>=this.Ca;this.Fb=this.Ac=0;this.buffer=m;this.ua=[];ph(this)}function ph(a){a.ua=[];for(var b=0;b<a.r;++b)a.ua.push(Array(a.r))}oh.prototype.disable=function(){this.Qb=[];ph(this);this.buffer=m};
oh.prototype.we=function(a,b){var c=!1;if(!this.Sc){var c=ec(Math.round(a-this.r/2),this.Ca),d=Math.round(b-this.r/2),f=c-this.Ac,g=d-this.Fb;Math.abs(f)>this.Ca/2&&(f=(f-(f==0?0:f<0?-1:1)*this.Ca)%this.Ca);this.Ac=c;this.Fb=d;if(Math.abs(f)>=this.r||Math.abs(g)>=this.r)ph(this),c=!0;else{c=f!=0||g!=0;if(f>0)for(d=0;d<this.r;++d)this.ua[d].splice(0,f),this.ua[d].push.apply(this.ua[d],Array(f));if(f<0)for(d=0;d<this.r;++d)this.ua[d].splice(this.r+f,-f),this.ua[d].unshift.apply(this.ua[d],Array(-f));
if(g>0)for(d=0;d<g;++d)this.ua.shift(),this.ua.push(Array(this.r));if(g<0)for(d=0;d<-g;++d)this.ua.pop(),this.ua.unshift(Array(this.r))}}qh(this);return c};oh.prototype.lc=function(a){this.Mb=a;mh(this.dg,a);this.Qb=[];ph(this)};
function qh(a){a.Qb=[];for(var b=A(function(a,b){var c=(this.Sc?this.Ca:this.r)/2;a+=c;b+=c;if(this.ua[b][a]!==1){var j=this.Ac+a,k=this.Fb+b,j=ec(j,this.Ca),k=ec(k,this.Ca),c=this.dg,l=this.va,q=d,o=l+"_"+j+"_"+k,s=c.Lb.get(o);s!=m?s.state==-10?q-s.Fc>7E3&&(s.k(),s=new ua(l,j,k,q),c.Lb.set(o,s),c.yc.push(s)):s.Fc=q:(s=new ua(l,j,k,q),c.Lb.set(o,s),c.yc.push(s));c=s;c.state==20&&this.Qb.push(c)}},a),c=A(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=B(),
a=Math.min(a.r,a.Ca)/2;a>0;--a)c(d+a,a)};function rh(a,b,c){var d;d=this.Bb=a.sa,a=d;this.ig=b;this.rf=c;this.Kb=a.createTexture();sh(this)}rh.prototype.De=function(a,b){if(!(this.ig==a&&this.rf==b))this.ig=a,this.rf=b,this.Bb.deleteTexture(this.Kb),this.Kb=this.Bb.createTexture(),sh(this)};
function sh(a){var b=a.Bb;b.bindTexture(b.TEXTURE_2D,a.Kb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.ig,a.rf,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)};function th(a,b,c){function d(b){g.isTexture(h)&&(b.af>=3||$b(a,b,f,d))}function f(a){g.isTexture(h)&&(g.bindTexture(g.TEXTURE_2D,h),g.texSubImage2D(g.TEXTURE_2D,0,a.x*k,(j-a.y-1)*k,g.RGBA,g.UNSIGNED_BYTE,wa(a)))}var g=this.Bb=b.sa,h=g.createTexture();this.Kb=h;var j=1<<c,k=a.Tb();g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,1);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,k*j,k*j,0,g.RGBA,g.UNSIGNED_BYTE,m);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.LINEAR);for(b=0;b<j;++b)for(var l=0;l<j;++l)$b(a,new ua(c,b,l),f,d)}C(th,D);th.prototype.h=function(){this.Bb.deleteTexture(this.Kb)};function uh(a,b,c,d,f,g){this.bi=b;this.r=c;this.Ua=f;this.Ji=g;this.Mb=a;var h=a.Tb();this.tb=[];for(var j=0;j<d;++j)this.tb.push(new rh(b,this.r*h,this.r*h));for(this.ba=[];f<=g;++f)this.ba.push(new oh(a,b,c,f));for(j=0;j<d;++j)this.ba[j].buffer=this.tb[j];this.La=0;this.te=new th(a,b,2)}uh.prototype.lc=function(a){this.te.k();this.te=new th(a,this.bi,2);this.Mb=a;var b=this.r*a.Tb();K(this.tb,function(a){a.De(b,b)});K(this.ba,function(b){b.lc(a)});vh(this)};
uh.prototype.we=function(a,b,c,d,f){for(var f=L(f,this.Ua,this.Ji),g=f-(this.Ua+this.La+this.tb.length-1);g>0;){var h=this.ba[this.La].buffer;this.ba[this.La].disable();this.ba[++this.La+this.tb.length-1].buffer=h;g--}for(;g<0&&this.La>0;)h=this.ba[this.La+this.tb.length-1].buffer,this.ba[this.La+this.tb.length-1].disable(),this.ba[--this.La].buffer=h,g++;h=1<<f;g=!1;b=(b/(2*Math.PI)+0.5)*h;a=(0.5-wh(a)/(Math.PI*2))*h;d=(d/(2*Math.PI)+0.5)*h;h*=0.5-wh(c)/(Math.PI*2);for(c=f-this.Ua;c>=this.La;c--){var j=
L(b,d-this.r/2,d+this.r/2),k=L(a,h-this.r/2,h+this.r/2);g|=this.ba[c].we(j,k);b/=2;a/=2;d/=2;h/=2}g&&vh(this);d=1;for(c=this.La;d>0&&c<=f-this.Ua;c++){g=d;b=this.ba[c];a=0;if(b.Qb.length>0){d=Math.min(b.Qb.length,d>=0?1:0);for(h=0;h<d;h++){j=b;k=b.Qb.pop();if(!w(j.buffer)&&k.zoom==j.va){var l=k.x-j.Ac,q=k.y-j.Fb,o=1<<j.va,l=ec(l,o),q=ec(q,o);if(!(l<0||l>=j.r||q<0||q>=j.r)){var o=j.Bb,s=j.Mb.Tb();o.bindTexture(o.TEXTURE_2D,j.buffer.Kb);o.texSubImage2D(o.TEXTURE_2D,0,ec(l+j.Ac,j.r)*s,(j.r-ec(q+j.Fb,
j.r)-1)*s,o.RGBA,o.UNSIGNED_BYTE,wa(k));j.ua[q][l]=1}}a++}}nh(b.dg);d=g-a}};function xh(a,b,c){return b-c<a.Ua?Array(a.r*a.r):Gb(a.ba[b-a.Ua-c].ua)}function yh(a,b,c){return b-c<a.Ua?m:a.ba[b-a.Ua-c].buffer.Kb}function zh(a,b,c){for(var d=[],f=b-a.Ua;f>b-a.Ua-c;--f)d.push(Math.round(a.ba[Math.max(0,f)].Ac),Math.round(a.ba[Math.max(0,f)].Fb));return d}
function vh(a){for(var b=Array(a.tb.length),c=0;c<a.tb.length;c++){var d=a.ba[a.La+c],f=Ah((0.5-d.Fb/d.Ca)*2*Math.PI),g=Ah((0.5-(d.Fb+d.r)/d.Ca)*2*Math.PI);b[c]=new bc(d.Sc?0:Ah((0.5-(d.Fb+d.r/2)/d.Ca)*2*Math.PI),d.Sc?0:((d.Ac+d.r/2)/d.Ca-0.5)*2*Math.PI,d.Sc?Math.PI/2:Math.abs(f-g),d.Sc?Math.PI:d.r/d.Ca*2*Math.PI,d.va)}a.Mb.oh(b)};function Bh(a,b){this.b=a.b;this.o=a;var c=this.b.sa;this.ia=b||new Vf;this.Fa=new uh(this.ia,this.b,8,3,1,19);this.Jc=!1;this.lc(this.ia,!0);this.Kc=1;this.ac=[0,0];this.sh=[new Mg(this.b,1,1,1),new Mg(this.b,4,4,16,!0),new Mg(this.b,6,6,8,!0),new Mg(this.b,8,8,8,!0),new Mg(this.b,10,10,8),new Mg(this.b,64,64,this.Jc?8:4)];var d=kh("earth-fs.glsl"),f=kh("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",this.Fa.r.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.Jc?"1":"0");this.Jc&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",
this.Rb.r.toFixed(1)));var d=hh(this.b,d,c.FRAGMENT_SHADER),f=hh(this.b,f,c.VERTEX_SHADER),g=c.createProgram();w(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.N=new ih(g,this.b,this.Jc)}Bh.prototype.lc=function(a,b){this.ia=a;this.Fa.lc(this.ia);this.ia.We=A(this.o.hg,this.o);b!==!0&&(fh(this.o),this.o.hg(),this.o.d.setZoom(this.o.d.getZoom()))};
Bh.prototype.draw=function(){var a=this.b.sa;this.Kc=1<<this.o.d.getZoom();var b=this.o.d.Wc(),c=this.o.d.getPosition();this.ac[0]=Math.floor(c[1]/(2*Math.PI)*this.Kc);this.ac[1]=L(Math.floor(wh(c[0])/(Math.PI*2)*this.Kc),-this.Kc/2,this.Kc/2);this.Fa.we(b[0],b[1],c[0],c[1],Math.floor(this.o.d.getZoom()));this.Jc&&this.Rb.we(b[0],b[1],c[0],c[1],Math.floor(this.o.d.getZoom())-5);b=Math.floor(this.o.d.getZoom());this.Kc=1<<b;a.useProgram(this.N.P);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,
yh(this.Fa,b,0));a.uniform1i(this.N.Sh,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,yh(this.Fa,b,1));a.uniform1i(this.N.Uh,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,yh(this.Fa,b,2));a.uniform1i(this.N.Vh,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Fa.te.Kb);a.uniform1i(this.N.Xh,3);a.uniform1fv(this.N.Mi,new Float32Array(xh(this.Fa,b,0)));a.uniform1fv(this.N.Oi,new Float32Array(xh(this.Fa,b,1)));a.uniform1fv(this.N.Pi,new Float32Array(xh(this.Fa,b,2)));
a.uniform2fv(this.N.Gi,new Float32Array(zh(this.Fa,b,3)));this.Jc&&(c=L(b-5,2,this.Ie.kb()),a.uniform1f(this.N.fi,b-c),a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,yh(this.Rb,c,0)),a.uniform1i(this.N.Rh,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,yh(this.Rb,c,1)),a.uniform1i(this.N.Th,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,this.Rb.te.Kb),a.uniform1i(this.N.Wh,6),a.uniform1fv(this.N.Li,new Float32Array(xh(this.Rb,c,0))),a.uniform1fv(this.N.Ni,new Float32Array(xh(this.Rb,
c,1))),a.uniform2fv(this.N.Fi,new Float32Array(zh(this.Rb,c,2))));c=new Float32Array(Gb(Tg(gh(this.b)).eg()));b=this.sh[Math.min(b,this.sh.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.Le);a.vertexAttribPointer(this.N.Gh,b.Le.wf,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.Je);a.vertexAttribPointer(this.N.Ah,b.Je.wf,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.N.Vi,!1,c);a.uniform1f(this.N.Bj,this.Kc);a.uniform2fv(this.N.Zi,new Float32Array(this.ac));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Pg);a.drawElements(a.TRIANGLES,
b.Yi,a.UNSIGNED_SHORT,0)};function Ch(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.D=v(c)?c:0}Ch.prototype.ea=function(){return new Ch(this.x,this.y,this.D)};Ch.prototype.eg=function(){return[this.x,this.y,this.D]};function Dh(a,b,c){this.x=a;this.y=b;this.D=c}C(Dh,Ch);r=Dh.prototype;r.ea=function(){return new Dh(this.x,this.y,this.D)};r.scale=function(a){this.x*=a;this.y*=a;this.D*=a;return this};r.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.D*this.D))};r.add=function(a){this.x+=a.x;this.y+=a.y;this.D+=a.D;return this};r.bg=function(a){this.x-=a.x;this.y-=a.y;this.D-=a.D;return this};r.equals=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.D==a.D};function Eh(a,b,c,d,f,g){if(w(d))return m;a=d.multiply(new Y([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(Ug(a,3,0)==0)return m;a=a.multiply(1/Ug(a,3,0));return new Dh(Ug(a,0,0),Ug(a,1,0),Ug(a,2,0))};function Fh(a,b,c,d,f,g){this.b=a;this.Qg=b||m;this.md=c||document.createElement("div");if(!v(c))a=this.b.canvas,a.parentNode&&a.parentNode.insertBefore(this.md,a.nextSibling);this.Qd=d||document.createElement("img");if(!v(d))d=this.md,d.parentNode&&d.parentNode.insertBefore(this.Qd,d.nextSibling);this.Mh=g||m;this.oa=new Bh(this,f);this.Nd=0;this.d=new Eg(this);fh(this);this.hg()}
Fh.prototype.hg=function(){w(this.md)||(Zc(this.md),Yc(this.md,this.Mh),this.oa.ia.qd(this.md));if(!w(this.Qd))w(this.oa.ia.ie())?this.Qd.style.visibility="hidden":(this.Qd.src=this.oa.ia.ie(),this.Qd.style.visibility="visible")};function Kg(a){return Math.max(3,a.oa.ia.xd())}function fh(a){a.Nd=0.7*a.b.canvas.height/a.oa.ia.Tb()}
Fh.prototype.draw=function(){if(!w(this.Qg)){for(var a=this.Qg,b=gc(this.d.mb).toFixed(4)+"; "+gc(this.d.Db).toFixed(4)+" @ "+this.d.na.toFixed(0)+"m -> z="+this.d.getZoom().toFixed(3)+"; ",c=this.oa.Fa,d="",f=0;f<c.ba.length;++f)d+=f+c.Ua+":"+c.ba[f].Qb.length+" ";a.innerHTML=b+("BufferQueue size: "+d+"; Loading tiles: "+this.oa.ia.nb)}a=this.d.na/6378137;b=this.b;b.Vd=0.25*a;b.Ud=1+a;eh(b);ah(this.b.Zb,-this.d.qh);$g(this.b.Zb,-this.d.tilt);ah(this.b.Zb,-this.d.heading);this.b.Zb.translate(0,0,
-1-this.d.na/6378137);$g(this.b.Zb,this.d.mb);a=this.b.Zb;c=-this.d.Db;b=Math.cos(c);c=Math.sin(c);a.pb=a.pb.multiply(new Y([[b,0,c,0],[0,1,0,0],[-c,0,b,0],[0,0,0,1]]));this.oa.draw()};function Gh(a,b){var c=a.ea();c.x=-c.x;c.y=-c.y;c.D=-c.D;var d=b.x*c.x+b.y*c.y+b.D*c.D,f=d*d-(c.x*c.x+c.y*c.y+c.D*c.D)+1;return f<0?m:(c=Math.min(d+Math.sqrt(f),d-Math.sqrt(f)),d=Math.max(d+Math.sqrt(f),d-Math.sqrt(f)),[c,d])}
function Lg(a,b,c,d){var f=Eh(b,c,0,a.b.ye,a.b.cb,a.b.bb),a=Eh(b,c,1,a.b.ye,a.b.cb,a.b.bb);if(w(f)||w(a))return m;a.bg(f);a.normalize();b=Gh(f,a);if(w(b))return m;a=a.scale(b[0]);f=new Dh(f.x+a.x,f.y+a.y,f.D+a.D);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.D<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),ic(a)]:[gc(Math.asin(f.y)),gc(ic(a))]}function wh(a){return Math.log(Math.tan(a/2+Math.PI/4))}function Ah(a){return 2*Math.atan(Math.exp(a))-Math.PI/2};function Hh(a,b,c){this.target=a;this.handle=b||a;this.Wg=c||new te(NaN,NaN,NaN,NaN);this.A=P(a);this.hb=new uf(this);S(this.handle,["touchstart","mousedown"],this.vh,!1,this)}C(Hh,U);var Ih=F||G&&I("1.9.3");r=Hh.prototype;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.xh=0;r.yh=0;r.Tc=0;r.Sb=0;r.Oa=!0;r.Ga=!1;r.Ng=0;r.Qi=0;r.Bi=!1;r.ra=n("hb");r.ec=ca("Oa");
r.h=function(){Hh.a.h.call(this);Wd(this.handle,["touchstart","mousedown"],this.vh,!1,this);this.hb.k();delete this.target;delete this.handle;delete this.hb};
r.vh=function(a){var b=a.type=="mousedown";if(this.Oa&&!this.Ga&&(!b||Ad(a))){Jh(a);if(this.Ng==0)if(Kh(this,a),this.Ga)a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!Ih;this.hb.g(b,["touchmove","mousemove"],this.vi,d);this.hb.g(b,["touchend","mouseup"],this.de,d);Ih?(c.setCapture(!1),this.hb.g(c,"losecapture",this.de)):this.hb.g(b?b.parentWindow||b.defaultView:window,"blur",this.de);F&&this.Bi&&this.hb.g(b,"dragstart",vd);this.rj&&this.hb.g(this.rj,"scroll",
this.gj,d);this.clientX=this.xh=a.clientX;this.clientY=this.yh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Tc=this.target.offsetLeft;this.Sb=this.target.offsetTop;this.Pf=jd(O(this.A));this.Qi=B()}else this.dispatchEvent("earlycancel")};function Kh(a,b){if(a.dispatchEvent(new Lh("start",a,b.clientX,b.clientY,b))!==!1)a.Ga=!0}
r.de=function(a,b){this.hb.Fd();Ih&&this.A.releaseCapture();var c=Mh(this,this.Tc),d=Nh(this,this.Sb);this.Ga?(Jh(a),this.Ga=!1,this.dispatchEvent(new Lh("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};
function Jh(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Vb(a.qa.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Vb(a.qa.changedTouches[0],a.currentTarget)}
r.vi=function(a){if(this.Oa){Jh(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ga){var d=this.xh-this.clientX,f=this.yh-this.clientY;if(d*d+f*f>this.Ng&&(Kh(this,a),!this.Ga)){this.de(a);return}}c=Oh(this,b,c);b=c.x;c=c.y;this.Ga&&this.dispatchEvent(new Lh("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Ph(this,a,b,c),a.preventDefault())}};
function Oh(a,b,c){var d=jd(O(a.A));b+=d.x-a.Pf.x;c+=d.y-a.Pf.y;a.Pf=d;a.Tc+=b;a.Sb+=c;b=Mh(a,a.Tc);a=Nh(a,a.Sb);return new N(b,a)}r.gj=function(a){var b=Oh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Ph(this,a,b.x,b.y)};function Ph(a,b,c,d){a.Ze(c,d);a.dispatchEvent(new Lh("drag",a,b.clientX,b.clientY,b,c,d))}function Mh(a,b){var c=a.Wg,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function Nh(a,b){var c=a.Wg,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}r.Ze=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function Lh(a,b,c,d,f,g,h,j){Q.call(this,a);this.clientX=c;this.clientY=d;this.Mj=f;this.left=v(g)?g:b.Tc;this.top=v(h)?h:b.Sb;this.yg=b;this.Nj=!!j}C(Lh,Q);function Rh(a){this.f=a;this.la=S(this.f,G?"DOMMouseScroll":"mousewheel",this)}C(Rh,U);
Rh.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.qa;if(a.type=="mousewheel"){c=1;if(F||H&&(Ra||I("532.0")))c=40;d=H&&Qa&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=H&&Qa&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=H&&Qa&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.$g)&&(b=L(b,-this.$g,this.$g));fa(this.ah)&&(c=L(c,-this.ah,this.ah));b=new Sh(d,a,
b,c);try{this.dispatchEvent(b)}finally{b.k()}};Rh.prototype.h=function(){Rh.a.h.call(this);T(this.la);delete this.la};function Sh(a,b,c,d){b&&this.Vb(b,i);this.type="mousewheel";this.detail=a;this.Tc=c;this.Sb=d}C(Sh,xd);function Th(){Se.call(this,[0],[0],0);this.Dc=[]}C(Th,Se);Th.prototype.Nf=function(){Uh(this,function(a){a.play(a.Da==0)});Th.a.Nf.call(this)};Th.prototype.Of=function(){Uh(this,function(a){a.stop()});Th.a.Of.call(this)};Th.prototype.Lf=function(){Vh(this);Th.a.Lf.call(this)};function Vh(a){K(a.Dc,function(a){a.k()})}function Wh(){Th.call(this)}C(Wh,Th);Wh.prototype.Wa=function(){for(var a=0;a<this.Dc.length;a++)this.Dc[a].play();Wh.a.Wa.call(this)};function Uh(a,b){K(a.Dc,b)}
Wh.prototype.add=function(a){this.Dc.push(a);this.duration=Math.max(this.duration,a.duration)};Wh.prototype.remove=function(a){if(yb(this.Dc,a)&&a.duration==this.duration)this.duration=0,K(this.Dc,function(a){this.duration=Math.max(a.duration,this.duration)},this)};function Xh(){}C(Xh,U);r=Xh.prototype;r.$a=0;r.Va=0;r.Ja=100;r.xa=0;r.ic=1;r.Aa=!1;r.zc=!1;r.T=function(a){a=Yh(this,a);if(this.$a!=a)this.$a=a+this.xa>this.Ja?this.Ja-this.xa:a<this.Va?this.Va:a,!this.Aa&&!this.zc&&this.dispatchEvent("change")};r.m=function(){return Yh(this,this.$a)};r.hd=function(a){a=Yh(this,a);if(this.xa!=a)this.xa=a<0?0:this.$a+a>this.Ja?this.Ja-this.$a:a,!this.Aa&&!this.zc&&this.dispatchEvent("change")};r.zb=function(){return this.ic==m?this.xa:Math.round(this.xa/this.ic)*this.ic};
r.Uf=function(a){if(this.Va!=a){var b=this.Aa;this.Aa=!0;this.Va=a;if(a+this.xa>this.Ja)this.xa=this.Ja-this.Va;a>this.$a&&this.T(a);if(a>this.Ja)this.xa=0,this.Ld(a),this.T(a);this.Aa=b;!this.Aa&&!this.zc&&this.dispatchEvent("change")}};r.ka=function(){return Yh(this,this.Va)};
r.Ld=function(a){a=Yh(this,a);if(this.Ja!=a){var b=this.Aa;this.Aa=!0;this.Ja=a;a<this.$a+this.xa&&this.T(a-this.xa);if(a<this.Va)this.xa=0,this.Uf(a),this.T(this.Ja);if(a<this.Va+this.xa)this.xa=this.Ja-this.Va;this.Aa=b;!this.Aa&&!this.zc&&this.dispatchEvent("change")}};r.ja=function(){return Yh(this,this.Ja)};r.Xf=function(a){if(this.ic!=a)this.ic=a,a=this.Aa,this.Aa=!0,this.Ld(this.ja()),this.hd(this.zb()),this.T(this.m()),this.Aa=a,!this.Aa&&!this.zc&&this.dispatchEvent("change")};
function Yh(a,b){return a.ic==m?b:a.Va+Math.round((b-a.Va)/a.ic)*a.ic};function Zh(a){Wf.call(this,a);this.p=new Xh;S(this.p,"change",this.xi,!1,this)}C(Zh,Wf);r=Zh.prototype;r.M="horizontal";r.oe=!1;r.Ui=!1;r.Pb=10;r.Dd=0;r.s=function(){Zh.a.s.call(this);this.gb(this.W().s("div",this.n(this.M)))};r.gb=function(a){Zh.a.gb.call(this,a);M(a,this.n(this.M));var a=this.c(),b=Qc(document,m,"goog-slider-thumb",a)[0];b||(b=this.W().s("div","goog-slider-thumb"),kf(b,"button"),a.appendChild(b));this.I=this.wa=b;kf(this.c(),"slider");$h(this)};
r.aa=function(){Zh.a.aa.call(this);this.Nb=new Hh(this.I);this.qc=new Hh(this.wa);this.Nb.Ze=this.qc.Ze=u;this.J=new Ef(this.c());this.$b=new Rh(this.c());this.ra().g(this.Nb,"beforedrag",this.Dg).g(this.qc,"beforedrag",this.Dg).g(this.Nb,["start","end"],this.Jg).g(this.qc,["start","end"],this.Jg).g(this.J,"key",this.lf).g(this.c(),"mousedown",this.le).g(this.$b,"mousewheel",this.ui);this.c().tabIndex=0;ai(this)};r.Ha=function(){Zh.a.Ha.call(this);sa(this.Nb,this.qc,this.J,this.$b)};
r.Dg=function(a){var b=a.yg==this.Nb?this.I:this.wa,c;this.M=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.ja()-this.ka())+this.ka()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.ja()-this.ka())+this.ka();c=a.yg==this.Nb?Math.min(Math.max(c,this.ka()),this.m()+this.zb()):Math.min(Math.max(c,this.m()),this.ja());bi(this,b,c)};
r.Jg=function(a){var b=a.type=="start",c=this.c();b?M(c,"goog-slider-dragging"):Ic(c,"goog-slider-dragging");a=a.target.handle;b?M(a,"goog-slider-thumb-dragging"):Ic(a,"goog-slider-thumb-dragging")};
r.lf=function(a){var b=!0;switch(a.keyCode){case 36:ci(this,this.ka());break;case 35:ci(this,this.ja());break;case 33:di(this,this.Pb);break;case 34:di(this,-this.Pb);break;case 37:case 40:di(this,a.shiftKey?-this.Pb:-this.gg);break;case 39:case 38:di(this,a.shiftKey?this.Pb:this.gg);break;default:b=!1}b&&a.preventDefault()};
r.le=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!bd(this.I,b)&&!bd(this.wa,b))if(this.Ui)ci(this,ei(this,a));else{this.Zf(a);this.Ka=fi(this,ei(this,a));this.Og=this.M=="vertical"?this.se<this.Ka.offsetTop:this.se>this.Ka.offsetLeft+this.Ka.offsetWidth;a=P(this.c());this.ra().g(a,"mouseup",this.Ig,!0).g(this.c(),"mousemove",this.Zf);if(!this.Ub)this.Ub=new Pe(200),this.ra().g(this.Ub,Re,this.Kg);this.Kg();this.Ub.start()}};r.ui=function(a){di(this,(a.detail>0?-1:1)*this.gg);a.preventDefault()};
r.Kg=function(){var a;if(this.M=="vertical"){var b=this.se,c=this.Ka.offsetTop;this.Og?b<c&&(a=gi(this,this.Ka)+this.Pb):b>c+this.Ka.offsetHeight&&(a=gi(this,this.Ka)-this.Pb)}else b=this.se,c=this.Ka.offsetLeft,this.Og?b>c+this.Ka.offsetWidth&&(a=gi(this,this.Ka)+this.Pb):b<c&&(a=gi(this,this.Ka)-this.Pb);v(a)&&bi(this,this.Ka,a)};r.Ig=function(){this.Ub&&this.Ub.stop();var a=P(this.c());this.ra().$(a,"mouseup",this.Ig,!0).$(this.c(),"mousemove",this.Zf)};
function hi(a,b){var c,d=a.c();c=Ee(b);d=Ee(d);c=new N(c.x-d.x,c.y-d.y);return a.M=="vertical"?c.y:c.x}r.Zf=function(a){this.se=hi(this,a)};function ei(a,b){var c=a.ka(),d=a.ja();if(a.M=="vertical"){var f=a.I.offsetHeight,g=a.c().clientHeight-f,f=hi(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.I.offsetWidth,g=a.c().clientWidth-f,f=hi(a,b)-f/2,(d-c)*f/g+c}
function gi(a,b){if(b==a.I)return a.p.m();else if(b==a.wa)return a.p.m()+a.p.zb();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function di(a,b){var c=gi(a,a.I)+b,d=gi(a,a.wa)+b,c=L(c,a.ka(),a.ja()-a.Dd),d=L(d,a.ka()+a.Dd,a.ja());ii(a,c,d-c)}function bi(a,b,c){var d=m;b==a.wa&&c<=a.p.ja()&&c>=a.p.m()+a.Dd&&(d=c-a.p.m());var f=d||a.p.zb();b==a.I&&c>=a.ka()&&c<=a.p.m()+f-a.Dd&&(b=f-(c-a.p.m()),Yh(a.p,c)+Yh(a.p,b)==Yh(a.p,c+b)&&(ii(a,c,b),d=m));d!=m&&a.p.hd(d)}
function ii(a,b,c){if(a.ka()<=b&&b<=a.ja()-c&&a.Dd<=c&&c<=a.ja()-b&&!(b==a.m()&&c==a.zb()))a.p.zc=!0,a.p.hd(0),a.p.T(b),a.p.hd(c),a.p.zc=!1,ai(a),a.dispatchEvent("change")}r.ka=function(){return this.p.ka()};r.Uf=function(a){this.p.Uf(a)};r.ja=function(){return this.p.ja()};r.Ld=function(a){this.p.Ld(a)};function fi(a,b){return b<=a.p.m()+a.p.zb()/2?a.I:a.wa}r.xi=function(){ai(this);$h(this);this.dispatchEvent("change")};
function ai(a){if(a.I&&!a.oe){var b=ji(a,gi(a,a.I)),c=ji(a,gi(a,a.wa));if(a.M=="vertical"){if(a.I.style.top=b.y+"px",a.wa.style.top=c.y+"px",a.Q)b=ki(c.y,b.y,a.I.offsetHeight),a.Q.style.top=b.ac+"px",a.Q.style.height=b.size+"px"}else if(a.I.style.left=b.x+"px",a.wa.style.left=c.x+"px",a.Q)b=ki(b.x,c.x,a.I.offsetWidth),a.Q.style.left=b.ac+"px",a.Q.style.width=b.size+"px"}}function ki(a,b,c){var d=Math.ceil(c/2);return{ac:a+d,size:Math.max(b-a+c-2*d,0)}}
function ji(a,b){var c=new N;if(a.I){var d=a.ka(),f=a.ja(),f=b==d&&d==f?0:(b-d)/(f-d);a.M=="vertical"?(d=a.c().clientHeight-a.I.offsetHeight,f=Math.round(f*d),c.y=d-f):(d=Math.round(f*(a.c().clientWidth-a.I.offsetWidth)),c.x=d)}return c}
function ci(a,b){b=Math.min(a.ja(),Math.max(b,a.ka()));a.oe&&a.ae.stop(!0);var c=new Wh,d=fi(a,b),f=ji(a,b);c.add(new bf(d,a.M=="vertical"?[d.offsetLeft,f.y]:[f.x,d.offsetTop],100));if(a.Q){var g=ji(a,a.p.m()),h=ji(a,a.p.m()+a.p.zb());d==a.I?g=f:h=f;a.M=="vertical"?(f=ki(h.y,g.y,a.I.offsetHeight),c.add(new bf(a.Q,[a.Q.offsetLeft,f.ac],100)),c.add(new df(a.Q,a.Q.offsetHeight,f.size,100))):(f=ki(g.x,h.x,a.I.offsetWidth),c.add(new bf(a.Q,[f.ac,a.Q.offsetTop],100)),c.add(new cf(a.Q,a.Q.offsetWidth,f.size,
100)))}a.ae=c;a.ra().g(c,"end",a.hi);a.oe=!0;bi(a,d,b);c.play(!1)}r.hi=function(){this.oe=!1};r.Ge=function(a){if(this.M!=a){var b=this.n(this.M),c=this.n(a);this.M=a;if(this.c()){for(var a=this.c(),d=Hc(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Cb(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.I.style.left=this.I.style.top="";this.wa.style.left=this.wa.style.top="";if(this.Q)this.Q.style.left=this.Q.style.top="",this.Q.style.width=this.Q.style.height="";ai(this)}}};
r.h=function(){Zh.a.h.call(this);this.Ub&&this.Ub.k();delete this.Ub;this.ae&&this.ae.k();delete this.ae;delete this.I;delete this.wa;this.Q&&delete this.Q;this.p.k();delete this.p;this.J&&(this.J.k(),delete this.J);this.$b&&(this.$b.k(),delete this.$b);this.Nb&&(this.Nb.k(),delete this.Nb);this.qc&&(this.qc.k(),delete this.qc)};r.gg=1;r.Xf=function(a){this.p.Xf(a)};r.m=function(){return this.p.m()};r.T=function(a){bi(this,this.I,a)};r.zb=function(){return this.p.zb()};
r.hd=function(a){bi(this,this.wa,this.p.m()+a)};r.setVisible=function(a){Ke(this.c(),a);a&&ai(this)};function $h(a){var b=a.c();b&&(W(b,"valuemin",a.ka()),W(b,"valuemax",a.ja()),W(b,"valuenow",a.m()))};function li(a){Zh.call(this,a);this.p.hd(0)}C(li,Zh);li.prototype.n=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function mi(a,b){this.e=a;this.hc=new li;this.hc.Ge("vertical");this.hc.Ld(1);this.hc.Xf(0.01);ni=!1;this.hc.T((this.e.d.getZoom()-Kg(this.e))/this.e.oa.ia.kb());this.la=S(this.hc,"change",function(b){ni==!1&&a.d.setZoom(b.target.m()*(a.oa.ia.kb()-Kg(a))+Kg(a));ni=!1});this.Jj=S(this.e.d,Gg,this.Ij,!1,this);this.Pe=new Dg("");tg(this.Pe,"weapp-zoomslider-add");this.ag=new Dg("");tg(this.ag,"weapp-zoomslider-substract");this.Lh=S(this.Pe,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()+1))});
this.xj=S(this.ag,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()-1))});this.Pe.Ib(b);this.hc.Ib(b);this.ag.Ib(b)}var ni;C(mi,D);mi.prototype.Ij=function(){ni=!0;this.hc.T((this.e.d.getZoom()-Kg(this.e))/this.e.oa.ia.kb())};mi.prototype.h=function(){T(this.la);T(this.Jj);T(this.Lh);T(this.xj);this.hc.k()};function oi(a){function b(){w(pi)&&(pi=new google.maps.Map(document.createElement("div")));qi?c():google.maps.event.addListenerOnce(pi,"idle",function(){qi=!0;c()})}Xb.call(this,"Google Maps - "+a);this.ob=m;this.Hi=a;this.Zd=new Ub;this.Ef=0;this.Ff=[];var c=A(function(){this.ob=pi.mapTypes[ri(a)];Yb(this)},this);if(t.Qj!=m&&google.maps&&google.maps.Map)b();else if(w(si)){si="googleMapsCallback"+Ia();t[si]=A(b,this);var d=document.createElement("script");Qc(document,"head",i,i)[0].appendChild(d);
d.type="text/javascript";d.src="http://maps.google.com/maps/api/js?v=3.5&sensor=false&callback="+si}else t[si]=ra(t[si],A(b,this))}C(oi,Xb);oi.prototype.vf=function(){return!w(this.ob)};var si=m,pi=m,qi=!1;r=oi.prototype;r.xd=function(){return w(this.ob)?0:this.ob.minZoom||0};r.kb=function(){return w(this.ob)?18:this.ob.maxZoom};r.Tb=function(){return w(this.ob)?256:this.ob.tileSize.width};
r.Ad=function(a,b,c){function d(a){return a.getElementsByTagName("img")[0]}a.wg=d;a.ug=A(function(a){this.ob.releaseTile(a)},this);var f=this.ob.getTile(new google.maps.Point(a.x,a.y),a.zoom,document),g=d(f);g.onload=A(function(){if(wa(a).src==wa(a).__src__)a.state=20,this.nb--,b(a)},this);g.onerror=A(function(){a.af++;a.state=-10;this.nb--;c&&c(a)},this);a.setData(f);a.state=10;this.nb++};
r.qd=function(a){this.Zd.jb()>0&&Yc(a,"Map Data \u00a9 "+(new Date).getFullYear()+" "+this.Zd.Ia().join(", ")+" \u2013 ");Yc(a,Uc("a",{href:"http://www.google.com/intl/en-US_US/help/terms_maps.html",target:"_blank"},"Terms of Use"))};r.ie=p("http://maps.gstatic.com/mapfiles/google_white.png");
r.oh=function(a){this.Zd=new Ub;var b=t.GAddCopyright,c=t.GVerify,d=t.GAppFeatures;t.GAddCopyright=A(function(){arguments.length>7&&arguments[7].length>0&&this.Zd.add(arguments[7])},this);t.GVerify=pa;t.GAppFeatures=A(function(){this.Ef--;if(this.Ef<=0)t.GAddCopyright=b,t.GVerify=c,t.GAppFeatures=d,K(this.Ff,function(a){a.parentNode.removeChild(a)}),this.Ff=[],this.We()},this);K(a,function(a){var b=document.createElement("script");Qc(document,"head",i,i)[0].appendChild(b);b.type="text/javascript";
this.Ff.push(b);b.src="http://maps.google.com/maps?vp="+(gc(a.Zh)+","+gc(a.$h))+"&z="+a.Kj+"&spn="+(gc(a.vj)+","+gc(a.wj))+"&t="+ti(this.Hi);this.Ef++},this)};function ri(a){switch(a){case "Terrain":return google.maps.MapTypeId.TERRAIN;case "Hybrid":return google.maps.MapTypeId.HYBRID;case "Roadmap":return google.maps.MapTypeId.ROADMAP;default:case "Satellite":return google.maps.MapTypeId.SATELLITE}}
function ti(a){switch(a){case "Terrain":return"p";case "Hybrid":return"h";case "Roadmap":return"m";default:case "Satellite":return"k"}}var ui=A(document.createElement,document);document.createElement=function(a){var b=ui(a);if(a=="img")b.crossOrigin="";return b};function vi(a,b){Xb.call(this,"Bing Maps - "+a);var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;t[c]=v(t[c])?ra(A(this.th,this),t[c]):A(this.th,this);c=document.createElement("script");c.src=d;c.type="text/javascript";Qc(document,"head",i,i)[0].appendChild(c)}C(vi,cc);r=vi.prototype;r.vf=function(){return!w(this.Ya)};r.th=function(a){this.Cd=a;if(a.resourceSets.length>0)this.Ya=a.resourceSets[0].resources[0],Yb(this);this.We()};
r.xd=function(){return w(this.Ya)?0:this.Ya.zoomMin};r.kb=function(){return w(this.Ya)?18:this.Ya.zoomMax};r.Tb=p(256);function wi(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}r.ke=function(a,b,c){return w(this.Ya)?"":this.Ya.imageUrl.replace("{subdomain}",this.Ya.imageUrlSubdomains[dc(this.Ya.imageUrlSubdomains.length)]).replace("{quadkey}",wi(a,b,c))};r.Ad=function(a,b,c){return w(this.Ya)?!1:vi.a.Ad.call(this,a,b,c)};r.qd=function(a){w(this.Cd)||Yc(a,this.Cd.copyright)};
r.ie=function(){return!w(this.Cd)?this.Cd.brandLogoUri:m};r.Cd=m;r.Ya=m;function xi(a,b){this.e=a;this.v=new Pe(20);this.kg=this.jg=0.1;this.uf=!1;this.nc=new X("");this.nc.He|=255;this.Kh=S(this.nc,"activate",this.aj,!1,this);this.di=S(this.nc,"deactivate",this.bj,!1,this);this.Pj=S(this.nc,"enter",this.cj,!1,this);this.cg=S(this.v,Re,this.cd,!1,this);this.Si=S(P(this.e.b.canvas),"mousemove",this.Mf,!1,this);this.Ri=S(P(this.e.b.canvas),"mousedown",function(){this.uf=!0},!1,this);this.Ti=S(P(this.e.b.canvas),"mouseup",function(){this.uf=!1},!1,this);this.nc.Ib(b)}
C(xi,D);r=xi.prototype;r.cj=function(){this.uf&&(this.nc.Ba(4,!0),this.v.start())};r.aj=function(){this.v.start()};r.bj=function(){this.v&&this.v.stop()};r.cd=function(){this.Ee(this.jg,this.kg)};r.Mf=function(a){this.jg=-(a.offsetX-a.target.offsetWidth/2)*2;this.kg=-(a.offsetY-a.target.offsetHeight/2)};r.h=function(){T(this.Kh);T(this.Si);T(this.Ti);T(this.Ri);T(this.di);T(this.cg);this.nc.k()};
r.Ee=function(a,b){var c=Math.PI*(1/this.e.b.canvas.height)*(this.e.Nd/Math.pow(2,this.e.d.getZoom()));Hg(this.e.d,b*c,-2*a*c)};function yi(a){return 1-Math.pow(1-a,3)};function zi(a){this.e=a;this.Ga=!1;this.Jb=i;this.Ae=this.ze=this.Hb=this.Gb=this.rh=0;this.wc=this.la=m;S(this.e.b.canvas,"mousedown",A(this.ej,this));S(P(this.e.b.canvas),"mouseup",A(this.fj,this))}r=zi.prototype;
r.ej=function(a){if(!zd(a,2)&&!a.ctrlKey&&!a.altKey){if(this.wc)this.wc.stop(!1),this.wc.k(),this.wc=m;this.Ga=!0;this.ze=this.Gb=a.screenX;this.Ae=this.Hb=a.screenY;if(zd(a,1)||zd(a,0)&&a.shiftKey)if(this.Jb=this.e.d.Wc(),this.Jb!=m){if(window.sd)window.sd.lat=gc(this.Jb[0]),window.sd.Gf=gc(this.Jb[1]),window.sd.enable(!0);this.rh=this.e.d.tilt==0?this.e.d.na:Math.sin(Math.PI-this.e.d.tilt-(Math.PI-Math.asin((1+this.e.d.na/6378137)*Math.sin(this.e.d.tilt))))/Math.sin(this.e.d.tilt)*6378137}if(!w(this.la))T(this.la),
this.la=m;this.la=S(P(this.e.b.canvas),"mousemove",A(this.Mf,this));a.preventDefault()}};
r.fj=function(a){if(this.Ga){a.preventDefault();this.Jb=i;window.sd&&window.sd.enable(!1);this.Ga=!1;if(!w(this.la))T(this.la),this.la=m;if(zd(a,0)){var b=a.screenX-this.ze,c=a.screenY-this.Ae,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.Gb==this.ze&&this.Hb==this.Ae&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.wc=new Se([this.Gb,this.Hb],[this.Gb+a*b,this.Hb+a*c],1300,yi),S(this.wc,["animate"],this.Ci,!1,this),this.wc.play(!1)}}};
r.Ee=function(a,b){if(v(this.Jb)){var c=a/this.e.b.canvas.width*Math.PI*-2,d=b/this.e.b.canvas.height*Math.PI/2;if(w(this.Jb))this.e.d.heading+=c,this.e.d.tilt+=d;else{var f=this.e.d,g=this.Jb[0],h=this.Jb[1],j=this.rh;f.heading+=c;c=Math.asin(6378137/Math.sqrt(j*j+40680631590769));f.tilt=L(f.tilt+d,-c,c);d=Math.asin(j/6378137*Math.sin(f.tilt));Math.abs(f.tilt)<1.0E-4?Ig(f,j):Ig(f,(Math.sin(Math.PI-f.tilt-d)/Math.sin(f.tilt)-1)*6378137);g-=Math.cos(f.heading)*d;f.setPosition(g,h+Math.sin(f.heading)*
d/Math.cos(g))}}else f=Math.PI*(1/this.e.b.canvas.height)*(this.e.Nd/Math.pow(2,this.e.d.getZoom())),Hg(this.e.d,b*f,-2*a*f)};r.Mf=function(a){this.Ee(a.screenX-this.Gb,a.screenY-this.Hb);this.ze=this.Gb;this.Ae=this.Hb;this.Gb=a.screenX;this.Hb=a.screenY;a.preventDefault()};r.Ci=function(a){this.Ee(a.x-this.Gb,a.y-this.Hb);this.Gb=a.x;this.Hb=a.y};function Ai(a,b,c){this.lat=a;this.Gf=b;this.element=c;this.parentElement=m;this.enabled=!0}r=Ai.prototype;r.rd=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};r.detach=function(){if(this.parentElement)$c(this.element),this.parentElement=m};r.enable=function(a){(this.enabled=a||!1)||this.show(!1)};r.isEnabled=n("enabled");r.show=function(a){this.element.style.display=a===!1?"none":"block"};function Bi(a,b){this.e=a;this.f=b;this.If=new Qb}function Ci(a,b,c){b=b||Ia();c.rd(a.f);a.If.set(b,c)}
Bi.prototype.Ej=function(a){a=this.If.get(a);if(a.isEnabled()){var b;a:{var c=this.e;b=a.lat;var d=a.Gf;b=fc(b);var d=fc(d),f=Math.cos(b),f=new Dh(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.b.xe.multiply(new Y([[f.x],[f.y],[f.D],[1]]));if(Ug(d,3,0)==0)b=m;else{d=d.multiply(1/Ug(d,3,0));b=(Ug(d,0,0)+1)/2*c.b.cb;var d=(Ug(d,1,0)-1)/-2*c.b.bb,g=1;if(b<0||b>c.b.cb||d<0||d>c.b.bb)g=0;else{c=Eh(0.5,0.5,0,c.b.ye,1,1);if(w(c)){b=m;break a}var g=f.x-c.x,h=f.y-c.y,j=f.D-c.D,g=Math.sqrt(g*g+h*h+j*j),f=f.bg(c).normalize(),
f=Gh(c,f),g=w(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=m?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function Di(a){this.e=a;this.$b=new Rh(a.b.canvas);this.la=S(this.$b,"mousewheel",function(a){this.va(-(a.Sb==0?0:a.Sb<0?-1:1));a.preventDefault()},!1,this);this.ci=S(a.b.canvas,"dblclick",A(function(a){Ig(this.d,this.d.na/2);var c=Lg(this,a.offsetX,a.offsetY,!0)||this.d.Wc(this);if(c){var d=(this.d.Db+c[1])/2;Math.abs(this.d.Db-c[1])>Math.PI&&(d+=Math.PI);this.d.setPosition((this.d.mb+c[0])/2,d)}a.preventDefault()},a));this.qj=S(a.b.canvas,"mouseup",A(function(a){if(zd(a,2)){Ig(this.d,this.d.na*
2);var c=Lg(this,a.offsetX,a.offsetY,!0)||this.d.Wc(this);c&&this.d.setPosition(2*this.d.mb-c[0],2*this.d.Db-c[1]);a.preventDefault()}},a));this.Xi=S(a.b.canvas,"contextmenu",function(a){a.preventDefault()});this.da=m;this.Ic=this.Hc=0}C(Di,D);
Di.prototype.va=function(a){var b=120;a*=-1;if(this.da)if(this.Ic>this.Hc==a>0)return;else this.da.k(),b*=(this.e.d.na-this.Hc)/(this.Ic-this.Hc),a=this.Ic,this.Ic=this.Hc,this.Hc=a;else this.Hc=this.e.d.na,this.Ic=L(this.Hc*Math.pow(2,a),250,1E7);if(!(b<=0)){var a=this.e.d.getPosition(),c=this.e.d.Wc()||a,d=this.Ic/this.e.d.na;a.push(this.e.d.na);this.da=new Se(a,[c[0]+d*(a[0]-c[0]),c[1]+d*(a[1]-c[1]),this.Ic],b);S(this.da,["animate","finish"],function(a){this.e.d.setPosition(a.x,a.y);Ig(this.e.d,
a.D)},!1,this);S(this.da,["finish"],this.ji,!1,this);this.da.play(!1)}};Di.prototype.ji=function(){if(this.da)this.da.k(),this.da=m};Di.prototype.h=function(){T(this.la);T(this.ci);T(this.qj);T(this.Xi);this.$b.k();this.da.k()};function Ei(a,b){var c=Uc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
Ai.call(this,a,b,c);this.show(!1)}C(Ei,Ai);function Fi(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var q=l.tagName=="HTML"||l.tagName=="BODY";if(!q||ve(l,"position")!="static")k=Ce(l),q||(k=Nc(k,new N(l.scrollLeft,l.scrollTop)))}l=Je(a);(q=Be(a))&&l.Rg(new te(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=O(a),o=O(c);if(q.A!=o.A){var s=q.A.body,o=o.A.parentWindow||o.A.defaultView,aa=new N(0,0),Zb=P(s)?P(s).parentWindow||P(s).defaultView:window,Cf=s;do{var Qh=Zb==o?Ce(Cf):Ee(Cf);aa.x+=Qh.x;aa.y+=Qh.y}while(Zb&&Zb!=o&&(Cf=Zb.frameElement)&&
(Zb=Zb.parent));s=Nc(aa,Ce(s));F&&!Rc(q.A)&&(s=Nc(s,jd(q)));l.left+=s.x;l.top+=s.y}a=(b&4&&De(a)?b^2:b)&-5;b=new N(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=Nc(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var E;if(h&&(E=Be(c))&&k)E.top=Math.max(0,E.top-k.y),E.right-=k.x,E.bottom-=k.y,E.left=Math.max(0,E.left-k.x);a:{k=E;f=b.ea();E=0;a=(d&4&&De(c)?d^2:d)&-5;d=He(c);j=j?j.ea():d.ea();if(g||a!=0)a&2?f.x-=j.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=j.height+(g?g.bottom:0):g&&
(f.y+=g.top);if(h){if(k){g=f;E=0;if((h&65)==65&&(g.x<k.left||g.x>=k.right))h&=-2;if((h&132)==132&&(g.y<k.top||g.y>=k.bottom))h&=-5;if(g.x<k.left&&h&1)g.x=k.left,E|=1;g.x<k.left&&g.x+j.width>k.right&&h&16&&(j.width-=g.x+j.width-k.right,E|=4);if(g.x+j.width>k.right&&h&1)g.x=Math.max(k.right-j.width,k.left),E|=1;h&2&&(E|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4)g.y=k.top,E|=2;g.y>=k.top&&g.y+j.height>k.bottom&&h&32&&(j.height-=g.y+j.height-k.bottom,E|=8);if(g.y+j.height>k.bottom&&
h&4)g.y=Math.max(k.bottom-j.height,k.top),E|=2;h&8&&(E|=(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=E}else h=256;E=h;if(E&496){c=E;break a}}we(c,f);Kc(d,j)||Ge(c,j);c=E}return c};function Gi(){}Gi.prototype.Gd=ba();function Hi(a,b){this.element=a;this.Xe=b}C(Hi,Gi);Hi.prototype.Gd=function(a,b,c){Fi(this.element,this.Xe,a,b,i,c)};function Ii(a,b,c){Hi.call(this,a,b);this.Nh=c}C(Ii,Hi);Ii.prototype.Cg=p(5);Ii.prototype.Gd=function(a,b,c,d){var f=Fi(this.element,this.Xe,a,b,m,c,10,d);if(f&496){var g=Ji(f,this.Xe),b=Ji(f,b),f=Fi(this.element,g,a,b,m,c,10,d);f&496&&(g=Ji(f,g),b=Ji(f,b),this.Nh?Fi(this.element,g,a,b,m,c,this.Cg(),d):Fi(this.element,g,a,b,m,c,0,d))}};function Ji(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Ki(a,b,c,d){Ii.call(this,a,b,c||d);this.oj=d}C(Ki,Ii);Ki.prototype.Cg=function(){return 65|(this.oj?32:132)};function Li(){}C(Li,ig);da(Li);Li.prototype.s=function(a){return a.W().s("div",this.n())};Li.prototype.fa=function(a,b){if(b.tagName=="HR"){var c=b,b=this.s(a);c.parentNode&&c.parentNode.insertBefore(b,c);$c(c)}else M(b,this.n());return b};Li.prototype.setContent=ba();Li.prototype.n=p("goog-menuseparator");function Mi(a,b){X.call(this,m,a||Li.za(),b);vg(this,1,!1);vg(this,2,!1);vg(this,4,!1);vg(this,32,!1);this.t=1}C(Mi,X);Mi.prototype.aa=function(){Mi.a.aa.call(this);kf(this.c(),"separator")};og("goog-menuseparator",function(){return new Mi});function Ni(){}da(Ni);r=Ni.prototype;r.ib=ba();function Oi(a,b){if(a)a.tabIndex=b?0:-1}r.s=function(a){return a.W().s("div",this.Vc(a).join(" "))};r.V=function(a){return a};r.Na=function(a){return a.tagName=="DIV"};r.fa=function(a,b){b.id&&$f(a,b.id);var c=this.n(),d=!1,f=Hc(b);f&&K(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.ec(!1):b==c+"-horizontal"?a.Ge(Pi):b==c+"-vertical"&&a.Ge(Qi))},this);d||M(b,c);Ri(this,a,this.V(b));return b};
function Ri(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.ff(d);if(g)g.f=d,b.isEnabled()||g.ec(!1),b.od(g),g.fa(d)}else(!d.nodeValue||ya(d.nodeValue)=="")&&c.removeChild(d);d=f}}r.ff=function(a){a:{for(var b=Hc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in pg?pg[b[c]]():m)break a;a=m}return a};r.Zc=function(a){a=a.c();Me(a,!0,G);if(F)a.hideFocus=!0;var b=this.ib();b&&kf(a,b)};r.X=function(a){return a.c()};r.n=p("goog-container");
r.Vc=function(a){var b=this.n(),c=[b,a.M==Pi?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Si(){}C(Si,Ni);da(Si);r=Si.prototype;r.ib=p("menu");r.Na=function(a){return a.tagName=="UL"||Si.a.Na.call(this,a)};r.ff=function(a){return a.tagName=="HR"?new Mi:Si.a.ff.call(this,a)};r.mc=function(a,b){return bd(a.c(),b)};r.n=p("goog-menu");r.Zc=function(a){Si.a.Zc.call(this,a);W(a.c(),"haspopup","true")};og("goog-menuseparator",function(){return new Mi});function Ti(){this.sg=[]}C(Ti,ig);da(Ti);function Ui(a,b){var c=a.sg[b];if(!c){switch(b){case 0:c=a.n()+"-highlight";break;case 1:c=a.n()+"-checkbox";break;case 2:c=a.n()+"-content"}a.sg[b]=c}return c}r=Ti.prototype;r.ib=p("menuitem");r.s=function(a){var b=a.W().s("div",this.Vc(a).join(" "),Vi(this,a.getContent(),a.W()));Wi(this,a,b,!!(a.U&8)||!!(a.U&16));return b};r.V=function(a){return a&&a.firstChild};
r.fa=function(a,b){var c=ad(b),d=Ui(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(Vi(this,b.childNodes,a.W()));xb(Hc(b),"goog-option")&&(a.Fe(!0),this.Fe(a,b,!0));return Ti.a.fa.call(this,a,b)};r.setContent=function(a,b){var c=this.V(a),d=Xi(this,a)?c.firstChild:m;Ti.a.setContent.call(this,a,b);d&&!Xi(this,a)&&c.insertBefore(d,c.firstChild||m)};function Vi(a,b,c){a=Ui(a,2);return c.s("div",a,b)}r.Fe=function(a,b,c){b&&(kf(b,c?"menuitemcheckbox":this.ib()),Wi(this,a,b,c))};
function Xi(a,b){var c=a.V(b);if(c){var c=c.firstChild,d=Ui(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function Wi(a,b,c,d){d!=Xi(a,c)&&(d?M(c,"goog-option"):Ic(c,"goog-option"),c=a.V(c),d?(a=Ui(a,1),c.insertBefore(b.W().s("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}r.vd=function(a){switch(a){case 2:return Ui(this,0);case 16:case 8:return"goog-option-selected";default:return Ti.a.vd.call(this,a)}};
r.hf=function(a){var b=Ui(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Ti.a.hf.call(this,a)}};r.n=p("goog-menuitem");function Yi(a,b,c,d){X.call(this,a,d||Ti.za(),c);this.T(b)}C(Yi,X);r=Yi.prototype;r.m=function(){var a=this.Jf;return a!=m?a:this.Uc()};r.T=ca("Jf");r.Fe=function(a){vg(this,16,a);var b=this.c();b&&this.i.Fe(this,b,a)};r.Uc=function(){var a=this.getContent();return x(a)?(a=ub(a,function(a){return xb(Hc(a),"goog-menuitem-accel")?"":gd(a)}).join(""),xa(a)):Yi.a.Uc.call(this)};
r.vc=function(a){var b=this.getParent();if(b){var c=b.ih;b.ih=m;if(b=c&&fa(a.clientX))b=new N(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}Yi.a.vc.call(this,a)};og("goog-menuitem",function(){return new Yi(m)});function Zi(a,b,c){Wf.call(this,c);this.i=b||Ni.za();this.M=a||Qi}C(Zi,Wf);var Pi="horizontal",Qi="vertical";r=Zi.prototype;r.zf=m;r.J=m;r.i=m;r.M=m;r.u=!0;r.Oa=!0;r.bf=!0;r.ga=-1;r.Y=m;r.Eb=!1;r.Oh=!1;r.hj=!0;r.ub=m;r.X=function(){return this.zf||this.i.X(this)};r.he=function(){return this.J||(this.J=new Ef(this.X()))};r.s=function(){this.f=this.i.s(this)};r.V=function(){return this.i.V(this.c())};r.Na=function(a){return this.i.Na(a)};
r.gb=function(a){this.f=this.i.fa(this,a);if(a.style.display=="none")this.u=!1};r.aa=function(){Zi.a.aa.call(this);dg(this,function(a){a.F&&$i(this,a)},this);var a=this.c();this.i.Zc(this);this.setVisible(this.u,!0);this.ra().g(this,"enter",this.jf).g(this,"highlight",this.kf).g(this,"unhighlight",this.qf).g(this,"open",this.wi).g(this,"close",this.oi).g(a,"mousedown",this.uc).g(P(a),"mouseup",this.qi).g(a,["mousedown","mouseup","mouseover","mouseout"],this.ni);this.Wb()&&aj(this,!0)};
function aj(a,b){var c=a.ra(),d=a.X();b?c.g(d,"focus",a.tc).g(d,"blur",a.Cb).g(a.he(),"key",a.Qa):c.$(d,"focus",a.tc).$(d,"blur",a.Cb).$(a.he(),"key",a.Qa)}r.Ha=function(){bj(this,-1);this.Y&&this.Y.R(!1);this.Eb=!1;Zi.a.Ha.call(this)};r.h=function(){Zi.a.h.call(this);if(this.J)this.J.k(),this.J=m;this.i=this.Y=this.ub=this.zf=m};r.jf=p(!0);
r.kf=function(a){var b=hg(this,a.target);if(b>-1&&b!=this.ga){var c=fg(this,this.ga);c&&c.rb(!1);this.ga=b;c=fg(this,this.ga);this.Eb&&c.setActive(!0);this.hj&&this.Y&&c!=this.Y&&(c.U&64?c.R(!0):this.Y.R(!1))}W(this.c(),"activedescendant",a.target.c().id)};r.qf=function(a){if(a.target==fg(this,this.ga))this.ga=-1;W(this.c(),"activedescendant","")};r.wi=function(a){if((a=a.target)&&a!=this.Y&&a.getParent()==this)this.Y&&this.Y.R(!1),this.Y=a};r.oi=function(a){if(a.target==this.Y)this.Y=m};
r.uc=function(a){if(this.Oa)this.Eb=!0;var b=this.X();b&&fd(b)?b.focus():a.preventDefault()};r.qi=function(){this.Eb=!1};r.ni=function(a){var b;a:{b=a.target;if(this.ub)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.ub){b=this.ub[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.uc(a);break;case "mouseup":b.vc(a);break;case "mouseover":b.pf(a);break;case "mouseout":b.of(a)}};r.tc=ba();r.Cb=function(){bj(this,-1);this.Eb=!1;this.Y&&this.Y.R(!1)};
r.Qa=function(a){return this.isEnabled()&&this.u&&(eg(this)!=0||this.zf)&&this.Yc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
r.Yc=function(a){var b=fg(this,this.ga);if(b&&typeof b.Qa=="function"&&b.Qa(a))return!0;if(this.Y&&this.Y!=b&&typeof this.Y.Qa=="function"&&this.Y.Qa(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Wb())this.X().blur();else return!1;break;case 36:cj(this);break;case 35:dj(this);break;case 38:if(this.M==Qi)ej(this);else return!1;break;case 37:if(this.M==Pi)gg(this)?fj(this):ej(this);else return!1;break;case 40:if(this.M==Qi)fj(this);else return!1;
break;case 39:if(this.M==Pi)gg(this)?ej(this):fj(this);else return!1;break;default:return!1}return!0};function $i(a,b){var c=b.c(),c=c.id||(c.id=Zf(b));if(!a.ub)a.ub={};a.ub[c]=b}r.od=function(a,b){Zi.a.od.call(this,a,b)};r.pd=function(a,b,c){a.He|=2;a.He|=64;(this.Wb()||!this.Oh)&&vg(a,32,!1);rg(a,!1);Zi.a.pd.call(this,a,b,c);c&&this.F&&$i(this,a);b<=this.ga&&this.ga++};
r.removeChild=function(a,b){if(a=z(a)?bg(this,a):a){var c=hg(this,a);c!=-1&&(c==this.ga?a.rb(!1):c<this.ga&&this.ga--);var d=a.c();if(d&&d.id&&this.ub)c=this.ub,d=d.id,d in c&&delete c[d]}a=Zi.a.removeChild.call(this,a,b);rg(a,!0);return a};r.Ge=function(a){this.c()&&e(Error("Component already rendered"));this.M=a};
r.setVisible=function(a,b){if(b||this.u!=a&&this.dispatchEvent(a?"show":"hide")){this.u=a;var c=this.c();c&&(Ke(c,a),this.Wb()&&Oi(this.X(),this.Oa&&this.u),b||this.dispatchEvent(this.u?"aftershow":"afterhide"));return!0}return!1};r.isEnabled=n("Oa");r.ec=function(a){if(this.Oa!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Oa=!0,dg(this,function(a){a.Ih?delete a.Ih:a.ec(!0)})):(dg(this,function(a){a.isEnabled()?a.ec(!1):a.Ih=!0}),this.Eb=this.Oa=!1),this.Wb()&&Oi(this.X(),a&&this.u)};
r.Wb=n("bf");r.fc=function(a){a!=this.bf&&this.F&&aj(this,a);this.bf=a;this.Oa&&this.u&&Oi(this.X(),a)};function bj(a,b){var c=fg(a,b);c?c.rb(!0):a.ga>-1&&fg(a,a.ga).rb(!1)}r.rb=function(a){bj(this,hg(this,a))};function cj(a){gj(a,function(a,c){return(a+1)%c},eg(a)-1)}function dj(a){gj(a,function(a,c){a--;return a<0?c-1:a},0)}function fj(a){gj(a,function(a,c){return(a+1)%c},a.ga)}function ej(a){gj(a,function(a,c){a--;return a<0?c-1:a},a.ga)}
function gj(a,b,c){for(var c=c<0?hg(a,a.Y):c,d=eg(a),c=b.call(a,c,d),f=0;f<=d;){var g=fg(a,c);if(g&&a.rg(g)){bj(a,c);break}f++;c=b.call(a,c,d)}}r.rg=function(a){return a.u&&a.isEnabled()&&!!(a.U&2)};function hj(){}C(hj,ig);da(hj);hj.prototype.n=p("goog-menuheader");function ij(a,b,c){X.call(this,a,c||hj.za(),b);vg(this,1,!1);vg(this,2,!1);vg(this,4,!1);vg(this,32,!1);this.t=1}C(ij,X);og("goog-menuheader",function(){return new ij(m)});function jj(a,b){Zi.call(this,Qi,b||Si.za(),a);this.fc(!1)}C(jj,Zi);r=jj.prototype;r.Qe=!0;r.Ph=!1;r.n=function(){return this.i.n()};r.mc=function(a){if(this.i.mc(this,a))return!0;for(var b=0,c=eg(this);b<c;b++){var d=fg(this,b);if(typeof d.mc=="function"&&d.mc(a))return!0}return!1};r.Ob=function(a){this.od(a,!0)};r.Nc=function(a,b){this.pd(a,b,!0)};r.wd=function(a){return fg(this,a)};r.ge=function(){return eg(this)};
r.setPosition=function(a,b){var c=this.u;c||Ke(this.c(),!0);Fe(this.c(),a,b);c||Ke(this.c(),!1)};r.getPosition=function(){return this.u?Ce(this.c()):m};r.setVisible=function(a,b,c){(b=jj.a.setVisible.call(this,a,b))&&a&&this.F&&this.Qe&&this.X().focus();this.ih=a&&c&&fa(c.clientX)?new N(c.clientX,c.clientY):m;return b};r.jf=function(a){this.Qe&&this.X().focus();return jj.a.jf.call(this,a)};r.rg=function(a){return(this.Ph||a.isEnabled())&&a.u&&!!(a.U&2)};
r.gb=function(a){var b=this.i,c;c=this.W();c=Qc(c.A,"div",b.n()+"-content",a);for(var d,f=0;d=c[f];f++)Ri(b,this,d);jj.a.gb.call(this,a)};function kj(){}C(kj,Bg);da(kj);if(G)kj.prototype.setContent=function(a,b){var c=kj.a.V.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,O(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};r=kj.prototype;r.V=function(a){a=kj.a.V.call(this,a&&a.firstChild);if(G&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};r.fa=function(a,b){var c=Qc(document,"*","goog-menu",b)[0];if(c){Ke(c,!1);P(c).body.appendChild(c);var d=new jj;d.fa(c);a.Md(d)}return kj.a.fa.call(this,a,b)};
r.$d=function(a,b){return kj.a.$d.call(this,[this.createCaption(a,b),b.s("div","goog-inline-block "+(this.n()+"-dropdown"),"\u00a0")],b)};r.createCaption=function(a,b){return b.s("div","goog-inline-block "+(this.n()+"-caption"),a)};r.n=p("goog-menu-button");function $(a,b,c,d){Ag.call(this,a,c||kj.za(),d);vg(this,64,!0);b&&this.Md(b);this.v=new Pe(500);if((zf||Af)&&!I("533.17.9"))this.pe=!0}C($,Ag);r=$.prototype;r.ng=!0;r.Tf=!1;r.pe=!1;r.mj=!1;r.aa=function(){$.a.aa.call(this);this.j&&lj(this,this.j,!0);W(this.c(),"haspopup","true")};r.Ha=function(){$.a.Ha.call(this);if(this.j){this.R(!1);this.j.Ha();lj(this,this.j,!1);var a=this.j.c();a&&$c(a)}};r.h=function(){$.a.h.call(this);this.j&&(this.j.k(),delete this.j);delete this.kj;this.v.k()};
r.uc=function(a){$.a.uc.call(this,a);if(this.t&4&&(this.R(!this.Ta(),a),this.j))this.j.Eb=this.Ta()};r.vc=function(a){$.a.vc.call(this,a);if(this.j&&!(this.t&4))this.j.Eb=!1};r.dd=function(){this.setActive(!1);return!0};r.pi=function(a){this.j&&this.j.u&&!this.mc(a.target)&&this.R(!1)};r.mc=function(a){return a&&bd(this.c(),a)||this.j&&this.j.mc(a)||!1};
r.Yc=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.j&&this.j.u){var b=this.j.Qa(a);return a.keyCode==27?(this.R(!1),!0):b}return a.keyCode==40||a.keyCode==38||a.keyCode==32?(this.R(!0),!0):!1};r.mf=function(){this.R(!1)};r.ti=function(){this.t&4||this.R(!1)};r.Cb=function(a){this.pe||this.R(!1);$.a.Cb.call(this,a)};function mj(a){a.j||a.Md(new jj(a.W()));return a.j||m}
r.Md=function(a){var b=this.j;if(a!=b&&(b&&(this.R(!1),this.F&&lj(this,b,!1),delete this.j),a)){this.j=a;ag(a,this);a.setVisible(!1);var c=this.pe;(a.Qe=c)&&a.fc(!0);this.F&&lj(this,a,!0)}return b};r.Ob=function(a){mj(this).od(a,!0)};r.Nc=function(a,b){mj(this).pd(a,b,!0)};r.wd=function(a){return this.j?fg(this.j,a):m};r.ge=function(){return this.j?eg(this.j):0};r.setVisible=function(a,b){var c=$.a.setVisible.call(this,a,b);c&&!this.u&&this.R(!1);return c};
r.ec=function(a){$.a.ec.call(this,a);this.isEnabled()||this.R(!1)};
r.R=function(a,b){$.a.R.call(this,a);if(this.j&&!!(this.t&64)==a){if(a)this.j.F||(this.mj?this.j.Ib(this.c().parentNode):this.j.Ib()),this.Mc=Be(this.c()),this.kc=Je(this.c()),nj(this),bj(this.j,-1);else if(this.setActive(!1),this.j.Eb=!1,this.c()&&W(this.c(),"activedescendant",""),this.Be!=m){this.Be=i;var c=this.j.c();c&&Ge(c,"","")}this.j.setVisible(a,!1,b);if(!this.ce){var c=this.ra(),d=a?c.g:c.$;d.call(c,id(this.W()),"mousedown",this.pi,!0);this.pe&&d.call(c,this.j,"blur",this.ti);d.call(c,this.v,
Re,this.cd);a?this.v.start():this.v.stop()}}};function nj(a){if(a.j.F){var b=new Ki(a.kj||a.c(),a.ng?5:7,!a.Tf,a.Tf),c=a.j.c();if(!a.j.u)c.style.visibility="hidden",Ke(c,!0);if(!a.Be&&a.Tf)a.Be=He(c);b.Gd(c,a.ng?4:6,m,a.Be);if(!a.j.u)Ke(c,!1),c.style.visibility="visible"}}
r.cd=function(){var a=Je(this.c()),b=Be(this.c());if(!(this.kc==a||(!this.kc||!a?0:this.kc.left==a.left&&this.kc.width==a.width&&this.kc.top==a.top&&this.kc.height==a.height))||!(this.Mc==b||(!this.Mc||!b?0:this.Mc.top==b.top&&this.Mc.right==b.right&&this.Mc.bottom==b.bottom&&this.Mc.left==b.left)))this.kc=a,this.Mc=b,nj(this)};function lj(a,b,c){var d=a.ra(),c=c?d.g:d.$;c.call(d,b,"action",a.mf);c.call(d,b,"highlight",a.kf);c.call(d,b,"unhighlight",a.qf)}
r.kf=function(a){W(this.c(),"activedescendant",a.target.c().id)};r.qf=function(){fg(this.j,this.j.ga)||W(this.c(),"activedescendant","")};og("goog-menu-button",function(){return new $(m)});function oj(a){this.xc=[];pj(this,a)}C(oj,U);r=oj.prototype;r.cc=m;r.dc=m;r.ge=function(){return this.xc.length};r.wd=function(a){return this.xc[a]||m};function pj(a,b){b&&(K(b,function(a){qj(this,a,!1)},a),Bb(a.xc,b))}r.Ob=function(a){this.Nc(a,this.ge())};r.Nc=function(a,b){a&&(qj(this,a,!1),Cb(this.xc,b,0,a))};r.je=n("cc");r.gc=function(a){if(a!=this.cc)qj(this,this.cc,!1),this.cc=a,qj(this,a,!0);this.dispatchEvent("select")};r.gf=function(){return this.cc?sb(this.xc,this.cc):-1};r.uh=function(a){this.gc(this.wd(a))};
r.clear=function(){var a=this.xc;if(!x(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.cc=m};r.h=function(){oj.a.h.call(this);delete this.xc;this.cc=m};function qj(a,b,c){b&&(typeof a.dc=="function"?a.dc(b,c):typeof b.Wf=="function"&&b.Wf(c))};function rj(a,b,c,d){$.call(this,a,b,c,d);this.be=a;sj(this)}C(rj,$);r=rj.prototype;r.H=m;r.be=m;r.aa=function(){rj.a.aa.call(this);sj(this);tj(this)};r.gb=function(a){rj.a.gb.call(this,a);(a=this.Uc())?(this.be=a,sj(this)):this.uh(0)};r.h=function(){rj.a.h.call(this);if(this.H)this.H.k(),this.H=m;this.be=m};r.mf=function(a){this.gc(a.target);rj.a.mf.call(this,a);a.stopPropagation();this.dispatchEvent("action")};r.yi=function(){var a=this.je();rj.a.T.call(this,a&&a.m());sj(this)};
r.Md=function(a){var b=rj.a.Md.call(this,a);a!=b&&(this.H&&this.H.clear(),a&&(this.H?dg(a,function(a){this.H.Ob(a)},this):uj(this,a)));return b};r.Ob=function(a){rj.a.Ob.call(this,a);this.H?this.H.Ob(a):uj(this,mj(this))};r.Nc=function(a,b){rj.a.Nc.call(this,a,b);this.H?this.H.Nc(a,b):uj(this,mj(this))};r.gc=function(a){this.H&&this.H.gc(a)};r.uh=function(a){this.H&&this.gc(this.H.wd(a))};
r.T=function(a){if(a!=m&&this.H)for(var b=0,c;c=this.H.wd(b);b++)if(c&&typeof c.m=="function"&&c.m()==a){this.gc(c);return}this.gc(m)};r.je=function(){return this.H?this.H.je():m};r.gf=function(){return this.H?this.H.gf():-1};function uj(a,b){a.H=new oj;b&&dg(b,function(a){this.H.Ob(a)},a);tj(a)}function tj(a){a.H&&a.ra().g(a.H,"select",a.yi)}function sj(a){var b=a.je();a.setContent(b?b.Uc():a.be)}r.R=function(a,b){rj.a.R.call(this,a,b);this.Ta()&&bj(mj(this),this.gf())};og("goog-select",function(){return new rj(m)});function vj(a,b){this.e=a;this.gd=new rj("---");this.la=S(this.gd,"action",function(b){a.oa.lc(b.target.m())});this.gd.Ib(b)}C(vj,D);vj.prototype.eb=function(a,b){var c=new Yi(a.name,a);this.gd.Ob(c);if(b||this.gd.ge()==1)this.gd.gc(c),this.e.oa.lc(a)};vj.prototype.h=function(){T(this.la);this.gd.k()};function wj(a){w(a)||function(){this.b=new bh(a,Pc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});ch(this.b);this.Yg=new Pe(15);S(this.Yg,Re,A(function(){var a=this.b,b=a.sa;if(!w(a.df)){var c=B();if(a.Af<B()-2E3)a.cf=1E3*a.fe/(B()-a.Af),a.pg=a.ef/a.fe,a.Af=B(),a.fe=0,a.ef=0,a.df.innerHTML=a.pg.toFixed(2)+" ms / fps: "+a.cf.toFixed(2);a.fe++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.Zb.pb=Pg(4);a.o.draw();!w(a.df)&&(a.ef+=B()-c);a=this.Hf;K(a.If.sc(),
a.Ej,a)},this));this.b.o=new Fh(this.b,Pc("weapp-infobox"),Pc("weapp-mapcopyright"),Pc("weapp-maplogo"));this.b.De();this.Oj=new zi(this.b.o);this.Uj=new Di(this.b.o);this.Dj=new vj(this.b.o,Pc("weapp-tileprovider"));this.Vj=new mi(this.b.o,Pc("weapp-zoomslider"));this.Rj=new xi(this.b.o,Pc("weapp-pancontrol"));var b=Pc("weapp-nominatim");this.dh=new Rf(b);this.Hf=new Bi(this.b.o,a.parentNode);var c=new Ei(0,0);c.enable(!1);Ci(this.Hf,"nominatimMarker",c);var d=A(function(a){this.b.o.d.setPosition(fc(a.lat),
fc(a.lon));this.b.o.d.tilt=0;c.enable(!0);c.lat=a.lat;c.Gf=a.lon},this);this.dh.addEventListener("update",function(a){d(a.row)});S(Pc("weapp-nominatimform"),"submit",A(function(a){a.preventDefault();this.dh.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=A(function(){function a(c){c+="=";var d=wb(b,function(a){return a.indexOf(c)===0});if(d!=m&&(d=d.substr(c.length),d.length>0))return d}var b=window.location.hash.substr(1).split(";"),c=a("zoom")||a("z");isNaN(c)||this.b.o.d.setZoom(c);
c=a("alt");isNaN(c)||Ig(this.b.o.d,c);c=a("t");if(!isNaN(c))this.b.o.d.tilt=parseFloat(c);c=a("h");if(!isNaN(c))this.b.o.d.heading=parseFloat(c);c=a("ll");if(c!=m)c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.b.o.d.setPosition(fc(c[0]),fc(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.b.o.d.setPosition(fc(c),fc(d))}},this);this.Mg=new Pe(2E3);S(this.Mg,Re,A(function(){var a=[gc(this.b.o.d.mb),gc(this.b.o.d.Db)];window.location.hash="#ll="+a[0].toFixed(5)+
","+a[1].toFixed(5)+";alt="+this.b.o.d.na.toFixed(0)+";h="+this.b.o.d.heading.toFixed(3)+";t="+this.b.o.d.tilt.toFixed(3)},this));this.Mg.start();window.addEventListener("hashchange",f,!1);f();S(this.b.canvas,"click",A(function(a){if(a.ctrlKey){var b=Lg(this.b.o,a.offsetX,a.offsetY);Ci(this.Hf,m,new Ei(b[0],b[1]));a.preventDefault()}},this))}.call(this)}wj.prototype.eb=function(a){this.Dj.eb(a)};wj.prototype.start=function(){this.Yg.start()};
function xj(){var a=new wj(Pc("weapp-canvas"));a.eb(new oi("Satellite"));a.eb(new oi("Roadmap"));a.eb(new oi("Terrain"));a.eb(new Vf);a.eb(new Uf);a.eb(new vi("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.eb(new vi("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.eb(new vi("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.start()}var yj="WEApp".split("."),zj=t;
!(yj[0]in zj)&&zj.execScript&&zj.execScript("var "+yj[0]);for(var Aj;yj.length&&(Aj=yj.shift());)!yj.length&&v(xj)?zj[Aj]=xj:zj=zj[Aj]?zj[Aj]:zj[Aj]={};
