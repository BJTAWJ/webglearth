/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var aa=void 0,i=null;function ba(){return function(){}}function n(a){return function(){return this[a]}}function o(a){return function(){return a}}var r,s=this;function t(){}function u(a){a.ia=function(){return a.tg||(a.tg=new a)}}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a===i}function w(a){return ca(a)=="array"}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function x(a){return typeof a=="string"}function ea(a){return typeof a=="number"}function fa(a){return ca(a)=="function"}function ga(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function y(a){return a[ha]||(a[ha]=++ia)}
var ha="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ia=0;function ja(a){return a.call.apply(a.bind,arguments)}function ka(a,b){var c=b||s;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}}
function z(){z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ja:ka;return z.apply(i,arguments)}function la(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var C=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a};function E(){ma&&(oa[y(this)]=this)}var ma=!1,oa={};E.prototype.yd=!1;E.prototype.u=function(){if(!this.yd){this.yd=!0;this.h();if(ma){var a=y(this);oa.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete oa[a]}}};E.prototype.h=ba();function pa(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.L=d||0;this.Nb=i;this.state=qa}D(pa,E);function ra(a){return a.zoom+"_"+a.x+"_"+a.y}pa.prototype.h=function(){delete this.Nb};var qa=0;function sa(a,b){for(var c in a)b.call(aa,a[c],c,a)}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function va(a){for(var b in a)return!1;return!0}var wa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function xa(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<wa.length;f++){b=wa[f];Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}}function ya(){var a=arguments.length;if(a==1&&w(arguments[0]))return ya.apply(i,arguments[0]);a%2&&e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function za(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Aa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Ba(a){a=String(a);if(!Aa.test(a))return encodeURIComponent(a);return a}function Ca(a){if(!Da.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ea,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Fa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ga,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ha,"&quot;"));return a}var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;
function Ia(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ja(a,b){for(var c=0,d=za(String(a)).split("."),f=za(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var m=l.exec(j)||["","",""],p=q.exec(k)||["","",""];if(m[0].length==0&&p[0].length==0)break;c=Ka(m[1].length==0?0:parseInt(m[1],10),p[1].length==0?0:parseInt(p[1],10))||Ka(m[2].length==0,p[2].length==0)||Ka(m[2],p[2])}while(c==0)}return c}
function Ka(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var F=Array.prototype,La=F.indexOf?function(a,b,c){return F.indexOf.call(a,b,c)}:function(a,b,c){c=c==i?0:c<0?Math.max(0,a.length+c):c;if(x(a)){if(!x(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=F.forEach?function(a,b,c){F.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=x(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Na=F.filter?function(a,b,c){return F.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],
g=0,h=x(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},Oa=F.map?function(a,b,c){return F.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=x(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Pa=F.every?function(a,b,c){return F.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=x(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function Qa(a,b){var c;a:{c=a.length;for(var d=x(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(aa,d[f],f,a)){c=f;break a}c=-1}return c<0?i:x(a)?a.charAt(c):a[c]}function Ra(a,b){var c=Sa(a,b,aa);return c<0?i:x(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=x(a)?a.split(""):a,f=a.length-1;f>=0;f--)if(f in d&&b.call(c,d[f],f,a))return f;return-1}function Ta(a,b){return La(a,b)>=0}function Ua(a,b){var c=La(a,b);c>=0&&F.splice.call(a,c,1)}function Va(){return F.concat.apply(F,arguments)}
function Wa(a){if(w(a))return Va(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Xa(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(w(c)||(d=da(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Ya(a){F.splice.apply(a,Za(arguments,1))}function Za(a,b,c){return arguments.length<=2?F.slice.call(a,b):F.slice.call(a,b,c)}function $a(a,b){F.sort.call(a,b||ab)}
function ab(a,b){return a>b?1:a<b?-1:0}function bb(a,b,c){var d;c=c||ab;for(var f=0,g=a.length;f<g;){var h=f+g>>1,j;j=c(b,a[h]);if(j>0)f=h+1;else{g=h;d=!j}}d=d?f:~f;d<0&&Ya(a,-(d+1),0,b)}function cb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];w(c)?a.push.apply(a,cb.apply(i,c)):a.push(c)}return a};var db="StopIteration"in s?s.StopIteration:Error("StopIteration");function eb(){}eb.prototype.next=function(){e(db)};eb.prototype.nd=function(){return this};function fb(a){if(a instanceof eb)return a;if(typeof a.nd=="function")return a.nd(!1);if(da(a)){var b=0,c=new eb;c.next=function(){for(;;){b>=a.length&&e(db);if(b in a)return a[b++];else b++}};return c}e(Error("Not implemented"))}
function gb(a,b,c){if(da(a))try{Ma(a,b,c)}catch(d){d!==db&&e(d)}else{a=fb(a);try{for(;;)b.call(c,a.next(),undefined,a)}catch(f){f!==db&&e(f)}}};function hb(a){if(typeof a.Ya=="function")return a.Ya();if(x(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ta(a)}function ib(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(da(a)||x(a))Ma(a,b,c);else{var d;if(typeof a.qb=="function")d=a.qb();else if(typeof a.Ya!="function")if(da(a)||x(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=ua(a);else d=aa;f=hb(a);g=f.length;for(var h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function jb(a){this.sa={};this.n=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.ua(arguments[c],arguments[c+1])}else if(a){if(a instanceof jb){b=a.qb();c=a.Ya()}else{b=ua(a);c=ta(a)}for(var d=0;d<b.length;d++)this.ua(b[d],c[d])}}r=jb.prototype;r.m=0;r.Ic=0;r.Gd=n("m");r.Ya=function(){kb(this);for(var a=[],b=0;b<this.n.length;b++)a.push(this.sa[this.n[b]]);return a};r.qb=function(){kb(this);return this.n.concat()};
r.Wa=function(a){return lb(this.sa,a)};r.Bd=function(a,b){if(this===a)return!0;if(this.m!=a.Gd())return!1;var c=b||mb;kb(this);for(var d,f=0;d=this.n[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function mb(a,b){return a===b}r.clear=function(){this.sa={};this.Ic=this.m=this.n.length=0};r.remove=function(a){if(lb(this.sa,a)){delete this.sa[a];this.m--;this.Ic++;this.n.length>2*this.m&&kb(this);return!0}return!1};
function kb(a){if(a.m!=a.n.length){for(var b=0,c=0;b<a.n.length;){var d=a.n[b];lb(a.sa,d)&&(a.n[c++]=d);b++}a.n.length=c}if(a.m!=a.n.length){var f={};for(c=b=0;b<a.n.length;){d=a.n[b];if(!lb(f,d)){a.n[c++]=d;f[d]=1}b++}a.n.length=c}}r.get=function(a,b){if(lb(this.sa,a))return this.sa[a];return b};r.ua=function(a,b){if(!lb(this.sa,a)){this.m++;this.n.push(a);this.Ic++}this.sa[a]=b};r.Z=function(){return new jb(this)};
r.nd=function(a){kb(this);var b=0,c=this.n,d=this.sa,f=this.Ic,g=this,h=new eb;h.next=function(){for(;;){f!=g.Ic&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(db);var j=c[b++];return a?j:d[j]}};return h};function lb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nb(a){this.name=a}r=nb.prototype;r.Vc=o(0);r.Gf=t;r.mc=0;r.ae=function(a){a.Nb=new Image;a.Nb.onload=function(b){return function(){a.state=20;b.mc--;b.Gf(a)}}(this);a.Nb.onerror=function(b){return function(){a.state=-10;b.mc--}}(this);a.state=10;a.Nb.src=this.Kd(a.zoom,a.x,a.y);this.mc++;return!0};r.Nc=ba();r.Id=o(i);r.Ge=t;function ob(a,b,c){return Math.min(Math.max(a,b),c)}function pb(a,b){var c=a%b;return c*b<0?c+b:c};var qb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function rb(a,b){var c;if(a instanceof rb){this.Zb(b==i?a.Ba:b);sb(this,a.fb);tb(this,a.Hc);ub(this,a.Ib);wb(this,a.Vb);xb(this,a.Tb);yb(this,a.Ga.Z());zb(this,a.jc)}else if(a&&(c=String(a).match(qb))){this.Zb(!!b);sb(this,c[1]||"",!0);tb(this,c[2]||"",!0);ub(this,c[3]||"",!0);wb(this,c[4]);xb(this,c[5]||"",!0);yb(this,c[6]||"",!0);zb(this,c[7]||"",!0)}else{this.Zb(!!b);this.Ga=new Ab(i,this,this.Ba)}}r=rb.prototype;r.fb="";r.Hc="";r.Ib="";r.Vb=i;r.Tb="";r.jc="";r.ug=!1;r.Ba=!1;
r.toString=function(){if(this.pa)return this.pa;var a=[];this.fb&&a.push(Bb(this.fb,Cb),":");if(this.Ib){a.push("//");this.Hc&&a.push(Bb(this.Hc,Cb),"@");var b;b=this.Ib;b=x(b)?encodeURIComponent(b):i;a.push(b);this.Vb!=i&&a.push(":",String(this.Vb))}if(this.Tb){this.Ib&&this.Tb.charAt(0)!="/"&&a.push("/");a.push(Bb(this.Tb,Db))}(b=String(this.Ga))&&a.push("?",b);this.jc&&a.push("#",Bb(this.jc,Eb));return this.pa=a.join("")};
r.Z=function(){var a=this.fb,b=this.Hc,c=this.Ib,d=this.Vb,f=this.Tb,g=this.Ga.Z(),h=this.jc,j=new rb(i,this.Ba);a&&sb(j,a);b&&tb(j,b);c&&ub(j,c);d&&wb(j,d);f&&xb(j,f);g&&yb(j,g);h&&zb(j,h);return j};function sb(a,b,c){Fb(a);delete a.pa;a.fb=c?b?decodeURIComponent(b):"":b;if(a.fb)a.fb=a.fb.replace(/:$/,"")}function tb(a,b,c){Fb(a);delete a.pa;a.Hc=c?b?decodeURIComponent(b):"":b}function ub(a,b,c){Fb(a);delete a.pa;a.Ib=c?b?decodeURIComponent(b):"":b}
function wb(a,b){Fb(a);delete a.pa;if(b){b=Number(b);(isNaN(b)||b<0)&&e(Error("Bad port number "+b));a.Vb=b}else a.Vb=i}function xb(a,b,c){Fb(a);delete a.pa;a.Tb=c?b?decodeURIComponent(b):"":b}function yb(a,b,c){Fb(a);delete a.pa;if(b instanceof Ab){a.Ga=b;a.Ga.Gc=a;a.Ga.Zb(a.Ba)}else{c||(b=Bb(b,Gb));a.Ga=new Ab(b,a,a.Ba)}return a}
function Hb(a,b,c){Fb(a);delete a.pa;w(c)||(c=[String(c)]);a=a.Ga;Ib(a);Jb(a);b=Kb(a,b);if(a.Wa(b)){var d=a.v.get(b);if(w(d))a.m-=d.length;else a.m--}if(c.length>0){a.v.ua(b,c);a.m+=c.length}}function zb(a,b,c){Fb(a);delete a.pa;a.jc=c?b?decodeURIComponent(b):"":b}function Fb(a){a.ug&&e(Error("Tried to modify a read-only Uri"))}r.Zb=function(a){this.Ba=a;this.Ga&&this.Ga.Zb(a);return this};var Lb=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;
function Bb(a,b){var c=i;if(x(a)){c=a;Lb.test(c)||(c=encodeURI(a));c.search(b)>=0&&(c=c.replace(b,Mb))}return c}function Mb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Cb=/[#\/\?@]/g,Db=/[\#\?]/g,Gb=/[\#\?@]/g,Eb=/#/g;function Ab(a,b,c){this.Oa=a||i;this.Gc=b||i;this.Ba=!!c}
function Ib(a){if(!a.v){a.v=new jb;if(a.Oa)for(var b=a.Oa.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=i,g=i;if(d>=0){f=b[c].substring(0,d);g=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Kb(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}r=Ab.prototype;r.v=i;r.m=i;r.Gd=function(){Ib(this);return this.m};
r.add=function(a,b){Ib(this);Jb(this);a=Kb(this,a);if(this.Wa(a)){var c=this.v.get(a);w(c)?c.push(b):this.v.ua(a,[c,b])}else this.v.ua(a,b);this.m++;return this};r.remove=function(a){Ib(this);a=Kb(this,a);if(this.v.Wa(a)){Jb(this);var b=this.v.get(a);if(w(b))this.m-=b.length;else this.m--;return this.v.remove(a)}return!1};r.clear=function(){Jb(this);this.v&&this.v.clear();this.m=0};r.Wa=function(a){Ib(this);a=Kb(this,a);return this.v.Wa(a)};
r.qb=function(){Ib(this);for(var a=this.v.Ya(),b=this.v.qb(),c=[],d=0;d<b.length;d++){var f=a[d];if(w(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};r.Ya=function(a){Ib(this);if(a){a=Kb(this,a);if(this.Wa(a)){var b=this.v.get(a);if(w(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.v.Ya();a=[];for(var c=0;c<b.length;c++){var d=b[c];w(d)?Xa(a,d):a.push(d)}}return a};
r.ua=function(a,b){Ib(this);Jb(this);a=Kb(this,a);if(this.Wa(a)){var c=this.v.get(a);if(w(c))this.m-=c.length;else this.m--}this.v.ua(a,b);this.m++;return this};r.get=function(a,b){Ib(this);a=Kb(this,a);if(this.Wa(a)){var c=this.v.get(a);return w(c)?c[0]:c}else return b};
r.toString=function(){if(this.Oa)return this.Oa;if(!this.v)return"";for(var a=[],b=0,c=this.v.qb(),d=0;d<c.length;d++){var f=c[d],g=Ba(f);f=this.v.get(f);if(w(f))for(var h=0;h<f.length;h++){b>0&&a.push("&");a.push(g);f[h]!==""&&a.push("=",Ba(f[h]));b++}else{b>0&&a.push("&");a.push(g);f!==""&&a.push("=",Ba(f));b++}}return this.Oa=a.join("")};function Jb(a){delete a.wd;delete a.Oa;a.Gc&&delete a.Gc.pa}
r.Z=function(){var a=new Ab;if(this.wd)a.wd=this.wd;if(this.Oa)a.Oa=this.Oa;if(this.v)a.v=this.v.Z();return a};function Kb(a,b){var c=String(b);a.Ba&&(c=c.toLowerCase());return c}r.Zb=function(a){if(a&&!this.Ba){Ib(this);Jb(this);ib(this.v,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.Ba=a};var Nb;function Ob(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Pb(a){var b=Ob(a),c;c=Za(arguments,1);for(var d=0,f=0;f<c.length;f++)if(!Ta(b,c[f])){b.push(c[f]);d++}c=d==c.length;a.className=b.join(" ");return c}function Qb(a){var b=Ob(a),c;c=Za(arguments,1);for(var d=0,f=0;f<b.length;f++)if(Ta(c,b[f])){Ya(b,f--,1);d++}c=d==c.length;a.className=b.join(" ");return c};var Rb,Sb,Tb,Ub,Vb,G,Wb;function Xb(){return s.navigator?s.navigator.userAgent:i}function Yb(){return s.navigator}Rb=!1;Sb=!1;Tb=!1;Ub=!1;Vb=!1;var Zb;if(Zb=Xb()){var $b=Yb();Rb=Zb.indexOf("Opera")==0;Sb=!Rb&&Zb.indexOf("MSIE")!=-1;Ub=(Tb=!Rb&&Zb.indexOf("WebKit")!=-1)&&Zb.indexOf("Mobile")!=-1;Vb=!Rb&&!Tb&&$b.product=="Gecko"}var ac=Rb,H=Sb,I=Vb,K=Tb,bc=Ub,cc,dc=Yb();cc=dc&&dc.platform||"";G=cc.indexOf("Mac")!=-1;Wb=cc.indexOf("Win")!=-1;var ec=!!Yb()&&(Yb().appVersion||"").indexOf("X11")!=-1,fc;
a:{var gc="",hc;if(ac&&s.opera){var ic=s.opera.version;gc=typeof ic=="function"?ic():ic}else{if(I)hc=/rv\:([^\);]+)(\)|;)/;else if(H)hc=/MSIE\s+([^\);]+)(\)|;)/;else K&&(hc=/WebKit\/(\S+)/);if(hc){var jc=hc.exec(Xb());gc=jc?jc[1]:""}}if(H){var kc,lc=s.document;kc=lc?lc.documentMode:undefined;if(kc>parseFloat(gc)){fc=String(kc);break a}}fc=gc}var mc={};function L(a){return mc[a]||(mc[a]=Ja(fc,a)>=0)};function nc(a,b){this.width=a;this.height=b}function oc(a,b){if(a==b)return!0;if(!a||!b)return!1;return a.width==b.width&&a.height==b.height}r=nc.prototype;r.Z=function(){return new nc(this.width,this.height)};r.Oc=function(){return this.width/this.height};r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};r.scale=function(a){this.width*=a;this.height*=a;return this};var pc=!H||L("9");!I&&!H||H&&L("9")||I&&L("3.5");var qc=H&&!L("9");function M(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}M.prototype.Z=function(){return new M(this.x,this.y)};function rc(a,b){return new M(a.x-b.x,a.y-b.y)};function sc(a){return a?new tc(N(a)):Nb||(Nb=new tc)}function uc(a){return x(a)?document.getElementById(a):a}function vc(a,b){sa(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in wc)a.setAttribute(wc[d],c);else a[d]=c})}var wc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function xc(){return yc(document,arguments)}function yc(a,b){var c=b[0],d=b[1];if(!pc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ca(d.name),'"');if(d.type){c.push(' type="',Ca(d.type),'"');var f={};xa(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(x(d))c.className=d;else w(d)?Pb.apply(i,[c].concat(d)):vc(c,d);b.length>2&&zc(a,c,b,2);return c}
function zc(a,b,c,d){function f(h){h&&b.appendChild(x(h)?a.createTextNode(h):h)}for(;d<c.length;d++){var g=c[d];da(g)&&!(ga(g)&&g.nodeType>0)?Ma(Ac(g)?Wa(g):g,f):f(g)}}function Bc(a){return a.compatMode=="CSS1Compat"}function Cc(a){zc(N(a),a,arguments,1)}function Dc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ec(a){return a&&a.parentNode?a.parentNode.removeChild(a):i}
function Hc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function N(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Ic(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Dc(a);a.appendChild(N(a).createTextNode(b))}}var Jc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Kc={IMG:" ",BR:"\n"};function Lc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ea(a)&&a>=0}return!1}
function Mc(a){if(qc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Nc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");H||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""));return a}
function Nc(a,b,c){if(!(a.nodeName in Jc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Kc)b.push(Kc[a.nodeName]);else for(a=a.firstChild;a;){Nc(a,b,c);a=a.nextSibling}}function Ac(a){if(a&&typeof a.length=="number")if(ga(a))return typeof a.item=="function"||typeof a.item=="string";else if(fa(a))return typeof a.item=="function";return!1}function tc(a){this.A=a||s.document||document}r=tc.prototype;r.na=sc;
function Oc(a){return a.A}r.e=function(a){return x(a)?this.A.getElementById(a):a};r.r=function(){return yc(this.A,arguments)};r.createElement=function(a){return this.A.createElement(a)};r.createTextNode=function(a){return this.A.createTextNode(a)};function Pc(a){a=!K&&Bc(a.A)?a.A.documentElement:a.A.body;return new M(a.scrollLeft,a.scrollTop)}r.appendChild=function(a,b){a.appendChild(b)};r.append=Cc;r.xf=Dc;r.removeNode=Ec;r.contains=Hc;function Qc(a,b){this.Gc=new rb(a);this.Zf=b?b:"callback";this.Cc=5E3}var Rc=0;
Qc.prototype.send=function(a,b,c,d){a=a||i;if(!document.documentElement.firstChild){c&&c(a);return i}d=d||"_"+(Rc++).toString(36)+C().toString(36);s._callbacks_||(s._callbacks_={});var f=document.createElement("script"),g=i;this.Cc>0&&(g=s.setTimeout(Sc(d,f,a,c),this.Cc));c=this.Gc.Z();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Hb(c,h,a[h]);if(b){s._callbacks_[d]=Tc(d,f,b,g);Hb(c,this.Zf,"_callbacks_."+d)}vc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Ra:d,Cc:g}};Qc.prototype.cancel=function(a){if(a&&a.Ra){var b=uc(a.Ra);if(b&&b.tagName=="SCRIPT"&&typeof s._callbacks_[a.Ra]=="function"){a.Cc&&s.clearTimeout(a.Cc);Uc(a.Ra,b,!1)}}};function Sc(a,b,c,d){return function(){Uc(a,b,!1);d&&d(c)}}function Tc(a,b,c,d){return function(){s.clearTimeout(d);Uc(a,b,!0);c.apply(undefined,arguments)}}function Uc(a,b,c){s.setTimeout(function(){Ec(b)},0);if(s._callbacks_[a])if(c)delete s._callbacks_[a];else s._callbacks_[a]=t};function Vc(a,b){this.fh=a||"http://open.mapquestapi.com/nominatim/v1/search";this.rc=b||{};this.af=new Qc(this.fh,"json_callback")}
function Wc(a,b,c,d){a.rc.q=b;a.rc.format="json";a.rc.addressdetails=1;a.rc.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.Cg=b;if(!(c>1&&b===a.Cg)){a.zf!==i&&a.af.cancel(a.zf);a.zf=a.af.send(a.rc,function(f){var g=Na(f,function(h){return h["class"]=="place"});if(g.length>0){Ma(g,function(h){var j=h.address.country_code=="us"?h.address.state:h.address.country;h.type=="suburb"&&(j=h.address.city+", "+j);h.display_name=h.address[h.type]?h.address[h.type]+", "+j:h.display_name});d(b,g)}else d(b,f)})}}}
;var Xc;var Yc=!H||L("9"),Zc=H&&!L("8");function $c(a,b){E.call(this);this.type=a;this.currentTarget=this.target=b}D($c,E);r=$c.prototype;r.h=function(){delete this.type;delete this.target;delete this.currentTarget};r.xb=!1;r.tc=!0;r.stopPropagation=function(){this.xb=!0};r.preventDefault=function(){this.tc=!1};var ad=new Function("a","return a");function bd(a,b){a&&this.Ob(a,b)}D(bd,$c);var cd=[1,4,2];r=bd.prototype;r.target=i;r.relatedTarget=i;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=!1;r.altKey=!1;r.shiftKey=!1;r.metaKey=!1;r.Jg=!1;r.ha=i;
r.Ob=function(a,b){var c=this.type=a.type;$c.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I)try{ad(d.nodeName)}catch(f){d=i}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Jg=G?a.metaKey:a.ctrlKey;this.state=a.state;this.ha=a;delete this.tc;delete this.xb};function dd(a,b){return Yc?a.ha.button==b:a.type=="click"?b==0:!!(a.ha.button&cd[b])}
r.stopPropagation=function(){bd.d.stopPropagation.call(this);if(this.ha.stopPropagation)this.ha.stopPropagation();else this.ha.cancelBubble=!0};r.preventDefault=function(){bd.d.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else{a.returnValue=!1;if(Zc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};r.fg=n("ha");r.h=function(){bd.d.h.call(this);this.relatedTarget=this.currentTarget=this.target=this.ha=i};function ed(){}var fd=0;r=ed.prototype;r.key=0;r.Wb=!1;r.Be=!1;r.Ob=function(a,b,c,d,f,g){if(fa(a))this.Ze=!0;else if(a&&a.handleEvent&&fa(a.handleEvent))this.Ze=!1;else e(Error("Invalid listener argument"));this.Qb=a;this.vf=b;this.src=c;this.type=d;this.capture=!!f;this.Yc=g;this.Be=!1;this.key=++fd;this.Wb=!1};r.handleEvent=function(a){if(this.Ze)return this.Qb.call(this.Yc||this.src,a);return this.Qb.handleEvent.call(this.Qb,a)};var gd;var hd=(gd="ScriptEngine"in s&&s.ScriptEngine()=="JScript")?s.ScriptEngineMajorVersion()+"."+s.ScriptEngineMinorVersion()+"."+s.ScriptEngineBuildVersion():"0";function O(a,b){E.call(this);this.jf=b;this.pb=[];a>this.jf&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.pb.push(this.Ma?this.Ma():{})}D(O,E);O.prototype.Ma=i;O.prototype.Je=i;O.prototype.getObject=function(){if(this.pb.length)return this.pb.pop();return this.Ma?this.Ma():{}};function id(a,b){a.pb.length<a.jf?a.pb.push(b):jd(a,b)}function jd(a,b){if(a.Je)a.Je(b);else if(ga(b))if(fa(b.u))b.u();else for(var c in b)delete b[c]}
O.prototype.h=function(){O.d.h.call(this);for(var a=this.pb;a.length;)jd(this,a.pop());delete this.pb};var kd,ld,md,nd,od,pd,qd,rd,sd,td,ud;
(function(){function a(){return{m:0,ta:0}}function b(){return[]}function c(){function p(B){return h.call(p.src,p.key,B)}return p}function d(){return new ed}function f(){return new bd}var g=gd&&!(Ja(hd,"5.7")>=0),h;pd=function(p){h=p};if(g){kd=function(){return j.getObject()};ld=function(p){id(j,p)};md=function(){return k.getObject()};nd=function(p){id(k,p)};od=function(){return l.getObject()};qd=function(){id(l,c())};rd=function(){return q.getObject()};sd=function(p){id(q,p)};td=function(){return m.getObject()};
ud=function(p){id(m,p)};var j=new O(0,600);j.Ma=a;var k=new O(0,600);k.Ma=b;var l=new O(0,600);l.Ma=c;var q=new O(0,600);q.Ma=d;var m=new O(0,600);m.Ma=f}else{kd=a;ld=t;md=b;nd=t;od=c;qd=t;rd=d;sd=t;td=f;ud=t}})();var vd={},P={},wd={},xd={};
function Q(a,b,c,d,f){if(b)if(w(b)){for(var g=0;g<b.length;g++)Q(a,b[g],c,d,f);return i}else{d=!!d;var h=P;b in h||(h[b]=kd());h=h[b];if(!(d in h)){h[d]=kd();h.m++}h=h[d];var j=y(a),k;h.ta++;if(h[j]){k=h[j];for(g=0;g<k.length;g++){h=k[g];if(h.Qb==c&&h.Yc==f){if(h.Wb)break;return k[g].key}}}else{k=h[j]=md();h.m++}g=od();g.src=a;h=rd();h.Ob(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);vd[c]=h;wd[j]||(wd[j]=md());wd[j].push(h);if(a.addEventListener)(a==s||!a.He)&&a.addEventListener(b,g,d);else a.attachEvent(yd(b),
g);return c}else e(Error("Invalid event type"))}function zd(a,b,c,d,f){if(w(b))for(var g=0;g<b.length;g++)zd(a,b[g],c,d,f);else{d=!!d;if(a=Ad(a,b,d))for(g=0;g<a.length;g++)if(a[g].Qb==c&&a[g].capture==d&&a[g].Yc==f){R(a[g].key);break}}}
function R(a){if(vd[a]){var b=vd[a];if(!b.Wb){var c=b.src,d=b.type,f=b.vf,g=b.capture;if(c.removeEventListener)(c==s||!c.He)&&c.removeEventListener(d,f,g);else c.detachEvent&&c.detachEvent(yd(d),f);c=y(c);f=P[d][g][c];if(wd[c]){var h=wd[c];Ua(h,b);h.length==0&&delete wd[c]}b.Wb=!0;f.nf=!0;Bd(d,g,c,f);delete vd[a]}}}
function Bd(a,b,c,d){if(!d.cd&&d.nf){for(var f=0,g=0;f<d.length;f++)if(d[f].Wb){var h=d[f].vf;h.src=i;qd(h);sd(d[f])}else{f!=g&&(d[g]=d[f]);g++}d.length=g;d.nf=!1;if(g==0){nd(d);delete P[a][b][c];P[a][b].m--;if(P[a][b].m==0){ld(P[a][b]);delete P[a][b];P[a].m--}if(P[a].m==0){ld(P[a]);delete P[a]}}}}
function Cd(a){var b,c=0,d=b==i;b=!!b;if(a==i)sa(wd,function(h){for(var j=h.length-1;j>=0;j--){var k=h[j];if(d||b==k.capture){R(k.key);c++}}});else{a=y(a);if(wd[a]){a=wd[a];for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture){R(g.key);c++}}}}}function Ad(a,b,c){var d=P;if(b in d){d=d[b];if(c in d){d=d[c];a=y(a);if(d[a])return d[a]}}return i}function yd(a){if(a in xd)return xd[a];return xd[a]="on"+a}
function Dd(a,b,c,d,f){var g=1;b=y(b);if(a[b]){a.ta--;a=a[b];if(a.cd)a.cd++;else a.cd=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Wb&&(g&=Ed(k,f)!==!1)}}finally{a.cd--;Bd(c,d,b,a)}}return Boolean(g)}function Ed(a,b){var c=a.handleEvent(b);a.Be&&R(a.key);return c}
pd(function(a,b){if(!vd[a])return!0;var c=vd[a],d=c.type,f=P;if(!(d in f))return!0;f=f[d];var g,h;Xc===undefined&&(Xc=H&&!s.addEventListener);if(Xc){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=s;g=j.shift();)if(k[g]!=i)k=k[g];else{j=i;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=undefined)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(q){l=!0}if(l||g.returnValue==undefined)g.returnValue=!0}}l=td();l.Ob(g,this);g=!0;try{if(j){for(var m=
md(),p=l.currentTarget;p;p=p.parentNode)m.push(p);h=f[!0];h.ta=h.m;for(var B=m.length-1;!l.xb&&B>=0&&h.ta;B--){l.currentTarget=m[B];g&=Dd(h,m[B],d,!0,l)}if(k){h=f[!1];h.ta=h.m;for(B=0;!l.xb&&B<m.length&&h.ta;B++){l.currentTarget=m[B];g&=Dd(h,m[B],d,!1,l)}}}else g=Ed(c,l)}finally{if(m){m.length=0;nd(m)}l.u();ud(l)}return g}d=new bd(b,this);try{g=Ed(c,d)}finally{d.u()}return g});function S(){E.call(this)}D(S,E);r=S.prototype;r.He=!0;r.hd=i;r.le=function(a){this.hd=a};r.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){zd(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=P;if(b in c){if(x(a))a=new $c(a,this);else if(a instanceof $c)a.target=a.target||this;else{var d=a;a=new $c(b,this);xa(a,d)}d=1;var f;c=c[b];b=!0 in c;var g;if(b){f=[];for(g=this;g;g=g.hd)f.push(g);g=c[!0];g.ta=g.m;for(var h=f.length-1;!a.xb&&h>=0&&g.ta;h--){a.currentTarget=f[h];d&=Dd(g,f[h],a.type,!0,a)&&a.tc!=!1}}if(!1 in c){g=c[!1];g.ta=g.m;if(b)for(h=0;!a.xb&&h<f.length&&g.ta;h++){a.currentTarget=f[h];d&=Dd(g,f[h],a.type,!1,a)&&a.tc!=!1}else for(f=
this;!a.xb&&f&&g.ta;f=f.hd){a.currentTarget=f;d&=Dd(g,f,a.type,!1,a)&&a.tc!=!1}}a=Boolean(d)}else a=!0;return a};r.h=function(){S.d.h.call(this);Cd(this);this.hd=i};function Fd(a,b,c){E.call(this);this.nc=a;this.zb=c;this.k=b;Q(b,[Gd,Hd,Id,Jd],this);this.Ka=i;this.X=[];this.ba=-1;this.ca=0;this.ob=this.Y=i}D(Fd,S);r=Fd.prototype;r.wg=10;r.Yf=!0;r.ve=!1;r.Tf=!1;r.bh=!1;var Gd="hilite",Hd="select",Jd="dismiss",Id="canceldismiss";r=Fd.prototype;r.handleEvent=function(a){if(a.target==this.k)switch(a.type){case Gd:this.ra(a.Yb);break;case Hd:Kd(this);break;case Id:Ld(this);break;case Jd:Md(this)}};r.Pe=n("Y");r.Ca=function(){return this.k.s};
function Nd(a){var b=a.ca+a.X.length-1;if(a.ba>=a.ca&&a.ba<b){a.ra(a.ba+1);return!0}else if(a.ba==-1){a.ra(a.ca);return!0}else if(a.ba==b)if(a.ve)a.ra(-1);else if(a.Tf){a.ra(a.ca);return!0}return!1}function Od(a){if(a.ba>a.ca){a.ra(a.ba-1);return!0}else if(a.ve&&a.ba==a.ca)a.ra(-1);else if(a.Tf&&(a.ba==-1||a.ba==a.ca)){a.ra(a.ca+a.X.length-1);return!0}return!1}r.ra=function(a){this.ba=a;this.k.ra(a);return Pd(this,a)!=-1};
function Kd(a){var b=Pd(a,a.ba);if(b!=-1){b=a.X[b];var c=a.zb,d=b.toString();if(c.Rb){var f=Qd(c,c.N(),Rd(c.G)),g=Sd(c,c.N());c.Sg.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.bg);if(c.ih){f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d);f==g.length-1&&(d+=" ")}if(d!=g[f]){g[f]=d;d=c.G;I&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.G;d=f;if(Td(g))g.selectionStart=d;else if(H){h=Ud(g);j=h[0];if(j.inRange(h[1])){d=Vd(g,d);j.collapse(!0);j.move("character",d);j.select()}}g=
c.G;if(Td(g))g.selectionEnd=f;else if(H){h=Ud(g);d=h[1];if(h[0].inRange(d)){f=Vd(g,f);g=Vd(g,Rd(g));d.collapse(!0);d.moveEnd("character",f-g);d.select()}}}}else c.Ja(d);c.je=!0;a.Na();a.dispatchEvent({type:"update",Yb:b});a.bh&&a.zb.update(!0);return!0}else{a.Na();a.dispatchEvent({type:"update",Yb:i});return!1}}r.Na=function(){this.ba=-1;this.Ka=i;this.ca+=this.X.length;this.X=[];window.clearTimeout(this.ob);this.ob=i;this.k.Na()};function Md(a){if(!a.ob)a.ob=window.setTimeout(z(a.Na,a),100)}
function Ld(a){window.setTimeout(z(function(){if(this.ob){window.clearTimeout(this.ob);this.ob=i}},a),10)}r.h=function(){Fd.d.h.call(this);this.k.u();this.zb.u();this.nc=i};r.vg=function(a,b,c){this.Ka==a&&this.fe(b,c)};r.fe=function(a,b){var c=b?Pd(this,this.ba):i;this.ca+=this.X.length;this.X=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ca+f,data:a[f]});this.k.fe(d,this.Ka,this.Y);if(this.Yf&&d.length!=0&&this.Ka)this.ra(c!=i?this.ca+c:this.ca);else this.ba=-1};
function Pd(a,b){var c=b-a.ca;if(c<0||c>=a.X.length)return-1;return c}r.rd=function(){var a=this.zb;a.rd.apply(a,arguments)};function Wd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Wd.prototype.Z=function(){return new Wd(this.top,this.right,this.bottom,this.left)};Wd.prototype.contains=function(a){a=!this||!a?!1:a instanceof Wd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function Xd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Xd.prototype.Z=function(){return new Xd(this.left,this.top,this.width,this.height)};Xd.prototype.contains=function(a){return a instanceof Xd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Xd.prototype.Pa=function(){return new nc(this.width,this.height)};function Yd(a,b){var c=N(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,i))return c[b]||c.getPropertyValue(b);return""}function Zd(a,b){return Yd(a,b)||(a.currentStyle?a.currentStyle[b]:i)||a.style[b]}function $d(a,b,c){var d,f=I&&(G||ec)&&L("1.9");if(b instanceof M){d=b.x;b=b.y}else{d=b;b=c}a.style.left=ae(d,f);a.style.top=ae(b,f)}
function be(a){a=a?a.nodeType==9?a:N(a):document;var b;if(b=H){b=sc(a);b=!Bc(b.A)}if(b)return a.body;return a.documentElement}function ce(a){var b=a.getBoundingClientRect();if(H){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function de(a){if(H)return a.offsetParent;var b=N(a),c=Zd(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Zd(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return i}
function ee(a){for(var b=new Wd(0,Infinity,Infinity,0),c=sc(a),d=c.A.body,f=!K&&Bc(c.A)?c.A.documentElement:c.A.body,g;a=de(a);)if((!H||a.clientWidth!=0)&&(!K||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Zd(a,"overflow")!="visible"){var h=fe(a),j;j=a;if(I&&!L("1.9")){var k=parseFloat(Yd(j,"borderLeftWidth"));if(ge(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(Yd(j,"borderRightWidth"));k+=l}j=new M(k,parseFloat(Yd(j,"borderTopWidth")))}else j=new M(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;if(K){b.left+=d;b.top+=f}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,f)}if(!g||K){b.right+=d;b.bottom+=f}c=c.A.parentWindow||c.A.defaultView||window;g=c.document;if(K&&!L("500")&&!bc){typeof c.innerHeight=="undefined"&&(c=window);g=c.innerHeight;a=c.document.documentElement.scrollHeight;
c==c.top&&a<g&&(g-=15);c=new nc(c.innerWidth,g)}else{c=Bc(g)?g.documentElement:g.body;c=new nc(c.clientWidth,c.clientHeight)}b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:i}
function fe(a){var b,c=N(a),d=Zd(a,"position"),f=I&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new M(0,0),h=be(c);if(a==h)return g;if(a.getBoundingClientRect){b=ce(a);a=Pc(sc(c));g.x=b.left+a.x;g.y=b.top+a.y}else if(c.getBoxObjectFor&&!f){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);g.x=b.screenX-a.screenX;g.y=b.screenY-a.screenY}else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;if(b!=a){g.x+=b.clientLeft||0;g.y+=b.clientTop||0}if(K&&
Zd(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(ac||K&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=de(b))&&b!=c.body&&b!=h;){g.x-=b.scrollLeft;if(!ac||b.tagName!="TR")g.y-=b.scrollTop}}return g}function he(a,b,c){var d=fe(a);if(b instanceof M){c=b.y;b=b.x}$d(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function ie(a,b,c){if(b instanceof nc){c=b.height;b=b.width}else c==undefined&&e(Error("missing height argument"));a.style.width=ae(b,!0);a.style.height=ae(c,!0)}function ae(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function je(a){if(Zd(a,"display")!="none")return new nc(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=f;b.visibility=d;return new nc(g,a)}function ke(a){var b=fe(a);a=je(a);return new Xd(b.x,b.y,a.width,a.height)}function le(a,b){a.style.display=b?"":"none"}function ge(a){return"rtl"==Zd(a,"direction")}
var me=I?"MozUserSelect":K?"WebkitUserSelect":i;function ne(a,b,c){c=!c?a.getElementsByTagName("*"):i;if(me){b=b?"none":"";a.style[me]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[me]=b}}else if(H||ac){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}}var oe={thin:2,medium:4,thick:6};
function pe(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:i)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:i;if(c in oe)return oe[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};function qe(){}u(qe);qe.prototype.zg=0;function se(a){return":"+(a.zg++).toString(36)}qe.ia();function te(a,b){a.setAttribute("role",b);a.nh=b}function T(a,b,c){a.setAttribute("aria-"+b,c)};function ue(a,b,c,d){this.da=a||document.body;this.P=sc(this.da);this.Ng=!a;this.f=i;this.Ka="";this.X=[];this.Df=this.$c=-1;this.s=!1;this.className="ac-renderer";this.ie="ac-row";this.ef="active";this.te="ac-active";this.qg="ac-highlighted";this.Hb=b||i;this.gh=d!=i?d:!0;this.Sd=!1;this.Pg=c!=i?c:!1;this.Vd=i;this.md=!1}D(ue,S);r=ue.prototype;r.e=n("f");r.fe=function(a,b,c){this.Ka=b;this.X=a;this.$c=-1;this.Df=C();this.Y=c;this.vc=[];ve(this)};
r.Na=function(){this.Y&&T(this.Y,"activedescendant","");if(this.s){this.s=!1;le(this.f,!1)}};r.show=function(){if(!this.s){this.s=!0;le(this.f,!0)}};
function we(a,b){a.$c>=0&&Qb(a.vc[a.$c],a.te,a.ef);a.$c=b;if(b>=0&&b<a.f.childNodes.length){var c=a.vc[b];Pb(c,a.te,a.ef);a.Y&&T(a.Y,"activedescendant",c?c.id:"");var d=a.f,f=fe(c),g=fe(d),h;if(H){var j=pe(d,"borderLeft");h=pe(d,"borderRight");var k=pe(d,"borderTop"),l=pe(d,"borderBottom");h=new Wd(k,h,l,j)}else{j=Yd(d,"borderLeftWidth");h=Yd(d,"borderRightWidth");k=Yd(d,"borderTopWidth");l=Yd(d,"borderBottomWidth");h=new Wd(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j))}j=f.x-g.x-h.left;
f=f.y-g.y-h.top;g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}r.ra=function(a){if(a==-1)we(this,-1);else for(var b=0;b<this.X.length;b++)if(this.X[b].id==a){we(this,b);break}};
function xe(a){if(!a.f){var b=a.P.r("div",{style:"display:none"});a.f=b;Pb(b,a.className);te(b,"listbox");b.id=se(qe.ia());if(a.Y){te(a.Y,"combobox");T(a.Y,"autocomplete","list");T(a.Y,"haspopup",!0)}a.P.appendChild(a.da,b);Q(b,"click",a.Re,!1,a);Q(b,"mousedown",a.Ue,!1,a);Q(a.P.A,"mousedown",a.Te,!1,a);Q(b,"mouseover",a.Ve,!1,a)}}
function ve(a){xe(a);if(a.md)a.f.style.visibility="hidden";a.vc.length=0;a.P.xf(a.f);if(a.Hb&&a.Hb.Xb)a.Hb.Xb(a);else{var b=i;gb(a.X,function(c){var d=this.Ka,f=this.P.r("div",{className:this.ie,id:se(qe.ia())});te(f,"option");if(this.Hb&&this.Hb.yf)this.Hb.yf(c,0,f);else f.innerHTML=Ca(c.data.toString());d&&this.gh&&ye(this,f,d);Pb(f,this.ie);this.vc.push(f);c=f;this.md?this.f.insertBefore(c,b):this.P.appendChild(this.f,c);b=c},a)}if(a.X.length==0)a.Na();else{a.show();ze(a.f);a.yb();ne(a.f,!0)}}
r.yb=function(){if(this.Y&&this.Ng){var a=fe(this.Y),b=je(this.Y),c=je(be(this.Y)),d=je(this.f);a.y=this.md?a.y-d.height:a.y+b.height;if((this.Pg||a.x+d.width>c.width)&&this.Vd!="LEFT"){a.x=a.x+b.width-d.width;this.Vd="RIGHT"}else this.Vd="LEFT";he(this.f,a);if(this.md)this.f.style.visibility="visible"}};
r.h=function(){ue.d.h.call(this);if(this.f){zd(this.f,"click",this.Re,!1,this);zd(this.f,"mousedown",this.Ue,!1,this);zd(this.P.A,"mousedown",this.Te,!1,this);zd(this.f,"mouseover",this.Ve,!1,this);this.P.removeNode(this.f);this.f=i;this.s=!1}delete this.da};function ze(a){if(I&&G){a.style.width="";a.style.overflow="visible";a.style.width=a.offsetWidth;a.style.overflow="auto"}}
function ye(a,b,c){if(b.nodeType==3){var d=i;w(c)&&c.length>1&&!a.Sd&&(d=Za(c,1));c=Ae(a,c);if(c.length!=0){var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi");c=[];for(var h=0,j=g.exec(f),k=0;j;){k++;c.push(j[1]);c.push(j[2]);c.push(j[3]);h=g.lastIndex;j=g.exec(f)}c.push(f.substring(h));if(c.length>1){d=!a.Sd?1:k;for(f=0;f<d;f++){g=3*f;b.nodeValue=c[g]+c[g+1];h=a.P.createElement("b");h.className=a.qg;a.P.appendChild(h,a.P.createTextNode(c[g+2]));h=b.parentNode.insertBefore(h,b.nextSibling);b.parentNode.insertBefore(a.P.createTextNode(""),
h.nextSibling);b=h.nextSibling}a=Za(c,d*3);b.nodeValue=a.join("")}else d&&ye(a,b,d)}}else for(b=b.firstChild;b;){d=b.nextSibling;ye(a,b,c);b=d}}function Ae(a,b){var c="";if(!b)return c;if(a.Sd)if(w(b)){c=Na(b,function(d){return!/^[\s\xa0]*$/.test(d==i?"":String(d))});c=Oa(c,Ia);c=c.join("|")}else{c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");c=Ia(c);c=c.replace(/ /g,"|")}else c=w(b)?b.length>0?Ia(b[0]):"":Ia(b);return c}
function Be(a,b){for(;b&&b!=a.f&&!Ta(Ob(b),a.ie);)b=b.parentNode;return b?La(a.vc,b):-1}r.Re=function(a){var b=Be(this,a.target);b>=0&&this.dispatchEvent({type:Hd,Yb:this.X[b].id});a.stopPropagation()};r.Ue=function(a){this.dispatchEvent(Id);a.stopPropagation();a.preventDefault()};r.Te=function(){this.dispatchEvent(Jd)};r.Ve=function(a){a=Be(this,a.target);a>=0&&!(C()-this.Df<300)&&this.dispatchEvent({type:Gd,Yb:this.X[a].id})};function U(a,b){E.call(this);this.lc=a||1;this.Dc=b||Ce;this.sd=z(this.Wg,this);this.$d=C()}D(U,S);U.prototype.enabled=!1;var Ce=s.window;r=U.prototype;r.w=i;r.setInterval=function(a){this.lc=a;if(this.w&&this.enabled){this.stop();this.start()}else this.w&&this.stop()};r.Wg=function(){if(this.enabled){var a=C()-this.$d;if(a>0&&a<this.lc*0.8)this.w=this.Dc.setTimeout(this.sd,this.lc-a);else{this.dispatchEvent(De);if(this.enabled){this.w=this.Dc.setTimeout(this.sd,this.lc);this.$d=C()}}}};
r.start=function(){this.enabled=!0;if(!this.w){this.w=this.Dc.setTimeout(this.sd,this.lc);this.$d=C()}};r.stop=function(){this.enabled=!1;if(this.w){this.Dc.clearTimeout(this.w);this.w=i}};r.h=function(){U.d.h.call(this);this.stop();delete this.Dc};var De="tick";function Ee(a){E.call(this);this.We=a}D(Ee,E);var Fe=new O(0,100),Ge=[];Ee.prototype.l=function(a,b,c,d,f){if(!w(b)){Ge[0]=b;b=Ge}for(var g=0;g<b.length;g++){var h=Q(a,b[g],c||this,d||!1,f||this.We||this);if(this.n)this.n[h]=!0;else if(this.$a){this.n=Fe.getObject();this.n[this.$a]=!0;this.$a=i;this.n[h]=!0}else this.$a=h}return this};
Ee.prototype.U=function(a,b,c,d,f){if(this.$a||this.n)if(w(b))for(var g=0;g<b.length;g++)this.U(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.We||this;d=!!d;if(a=Ad(a,b,d))for(b=0;b<a.length;b++)if(a[b].Qb==c&&a[b].capture==d&&a[b].Yc==f){a=a[b];break a}a=i}if(a){a=a.key;R(a);if(this.n){b=this.n;a in b&&delete b[a]}else if(this.$a==a)this.$a=i}}return this};function He(a){if(a.n){for(var b in a.n){R(b);delete a.n[b]}id(Fe,a.n);a.n=i}else a.$a&&R(a.$a)}Ee.prototype.h=function(){Ee.d.h.call(this);He(this)};
Ee.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Rd(a){var b;a:{var c=0,d=0;if(Td(a)){c=a.selectionStart;d=-1}else if(H){var f=Ud(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)if(b.compareEndPoints("StartToEnd",b)==0)d=!0;else{b.moveEnd("character",-1);if(b.text==a)c+="\r\n";else d=!0}b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Ud(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();if(a.type=="textarea"){b=b.body.createTextRange();b.moveToElementText(a)}else b=a.createTextRange();return[b,c]}function Vd(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function Td(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};function Ie(a,b,c,d,f){if(!H&&!(K&&L("525")))return!0;if(G&&f)return Je(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(H&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!K}return Je(a)}
function Je(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(K&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Ke(a,b){E.call(this);a&&this.fc(a,b)}D(Ke,S);r=Ke.prototype;r.f=i;r.ad=i;r.Wd=i;r.bd=i;r.ab=-1;r.Za=-1;
var Le={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Me={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ne={61:187,
59:186},Oe=H||K&&L("525");r=Ke.prototype;r.kg=function(a){if(K&&(this.ab==17&&!a.ctrlKey||this.ab==18&&!a.altKey))this.Za=this.ab=-1;if(Oe&&!Ie(a.keyCode,this.ab,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Za=I&&a.keyCode in Ne?Ne[a.keyCode]:a.keyCode};r.mg=function(){this.Za=this.ab=-1};
r.handleEvent=function(a){var b=a.ha,c,d;if(H&&a.type=="keypress"){c=this.Za;d=c!=13&&c!=27?b.keyCode:0}else if(K&&a.type=="keypress"){c=this.Za;d=b.charCode>=0&&b.charCode<63232&&Je(c)?b.charCode:0}else if(ac){c=this.Za;d=Je(c)?b.keyCode:0}else{c=b.keyCode||this.Za;d=b.charCode||0;G&&d==63&&!c&&(c=191)}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in Le)f=Le[c];else c==25&&a.shiftKey&&(f=9);else g&&g in Me&&(f=Me[g]);a=f==this.ab;this.ab=f;b=new Pe(f,d,a,b);try{this.dispatchEvent(b)}finally{b.u()}};
r.e=n("f");r.fc=function(a,b){this.bd&&this.detach();this.f=a;this.ad=Q(this.f,"keypress",this,b);this.Wd=Q(this.f,"keydown",this.kg,b,this);this.bd=Q(this.f,"keyup",this.mg,b,this)};r.detach=function(){if(this.ad){R(this.ad);R(this.Wd);R(this.bd);this.bd=this.Wd=this.ad=i}this.f=i;this.Za=this.ab=-1};r.h=function(){Ke.d.h.call(this);this.detach()};function Pe(a,b,c,d){d&&this.Ob(d,aa);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(Pe,bd);function Qe(a,b,c,d){E.call(this);d=d||150;this.wc=a!=i?a:Re;this.bg=this.wc.substring(0,1);a=this.Rb?"[\\s"+this.wc+"]+":"[\\s]+";this.Lf=RegExp("^"+a+"|"+a+"$","g");this.Sg=RegExp("\\s*["+this.wc+"]$");this.ff=b||"";this.Lg=this.Rb=c!=i?c:!0;this.w=d>0?new U(d):i;this.$=new Ee(this);this.od=new Ee(this);this.O=new Ke;this.cf=-1}D(Qe,E);var Re=",;";r=Qe.prototype;r.ih=!0;r.eg=!0;r.Pf=!1;r.Ug=!0;r.Tg=!0;r.G=i;r.Zd="";r.kb=!1;r.je=!1;r.Nf=!0;r.N=function(){return this.G.value};
r.Ja=function(a){this.G.value=a};r.rd=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];T(b,"haspopup",!0);this.$.l(b,"focus",this.rb);this.$.l(b,"blur",this.Qa);this.G||this.od.l(b,"keydown",this.Eg)}};r.h=function(){Qe.d.h.call(this);this.$.u();delete this.$;this.od.u();this.O.u()};function Se(a){if(a.w)a.w.setInterval(300);else a.w=new U(300)}
r.qa=function(a){switch(a.keyCode){case 40:if(this.C.Ca()){this.Pf?Od(this.C):Nd(this.C);a.preventDefault();return!0}else if(!this.Rb){this.update(!0);a.preventDefault();return!0}break;case 38:if(this.C.Ca()){this.Pf?Nd(this.C):Od(this.C);a.preventDefault();return!0}break;case 9:if(this.C.Ca()&&!a.shiftKey){this.update();if(Kd(this.C)&&this.Lg){a.preventDefault();return!0}}else this.C.Na();break;case 13:if(this.C.Ca()){this.update();if(Kd(this.C)){a.preventDefault();a.stopPropagation();return!0}}else this.C.Na();
break;case 27:if(this.C.Ca()){this.C.Na();a.preventDefault();a.stopPropagation();return!0}break;case 229:if(!this.kb){if(!this.kb){this.$.l(this.G,"keyup",this.sf);this.$.l(this.G,"keypress",this.rf);this.kb=!0}return!0}break;default:if(this.w&&!this.Nf){this.w.stop();this.w.start()}}return Te(this,a)};function Te(a,b){var c=a.Rb&&b.charCode&&a.wc.indexOf(String.fromCharCode(b.charCode))!=-1;a.Ug&&c&&a.update();if(a.Tg&&c&&Kd(a.C)){b.preventDefault();return!0}return!1}r.lg=o(!1);
r.rb=function(a){He(this.od);this.C&&Ld(this.C);if(a.target!=this.G){this.G=a.target||i;if(this.w){this.w.start();this.$.l(this.w,De,this.fd)}this.Zd=this.N();this.O.fc(this.G);this.$.l(this.O,"key",this.tf);H&&this.$.l(this.G,"keypress",this.qf)}};r.Qa=function(){if(this.G){this.$.U(this.O,"key",this.tf);this.O.detach();this.$.U(this.G,"keyup",this.lg);H&&this.$.U(this.G,"keypress",this.qf);this.kb&&Ue(this);this.G=i;if(this.w){this.w.stop();this.$.U(this.w,De,this.fd)}this.C&&Md(this.C)}};
r.fd=function(){this.update()};r.Eg=function(a){this.rb(a)};r.tf=function(a){this.cf=a.keyCode;this.C&&this.qa(a)};r.rf=function(){this.kb&&this.cf!=229&&Ue(this)};r.sf=function(a){this.kb&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Ue(this)};function Ue(a){if(a.kb){a.kb=!1;a.$.U(a.G,"keypress",a.rf);a.$.U(a.G,"keyup",a.sf)}}r.qf=function(a){Te(this,a)};
r.update=function(a){if(a||this.G&&this.N()!=this.Zd){if(a||!this.je){a=Rd(this.G);var b=this.N();a=Sd(this,b)[Qd(this,b,a)];a=this.Lf?String(a).replace(this.Lf,""):a;if(this.C){this.C.Y=this.G;b=this.C;this.N();if(b.Ka!=a){b.Ka=a;Wc(b.nc,b.Ka,b.wg,z(b.vg,b));Ld(b)}}}this.Zd=this.N()}this.je=!1};function Qd(a,b,c){a=Sd(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++){f+=a[d].length;b=d}return b}
function Sd(a,b){if(!a.Rb)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.ff&&a.ff.indexOf(c[g])!=-1){if(a.eg&&!h){d.push(f.join(""));f.length=0}f.push(c[g]);h=!h}else if(!h&&a.wc.indexOf(c[g])!=-1){f.push(c[g]);d.push(f.join(""));f.length=0}else f.push(c[g]);d.push(f.join(""));return d};function Ve(a,b,c){var d={};d.yf=function(f,g,h){h.innerHTML=f.data.display_name+" ("+f.data.type+")"};d=new ue(i,d);this.nc=new Vc(b,c);b=new Qe(i,i,!1);Se(b);b.Nf=!1;b.C=this;b.rd(a);Fd.call(this,this.nc,d,b);this.addEventListener("update",function(f){a.value=f.Yb.display_name})}D(Ve,Fd);Ve.prototype.search=function(a,b,c){Wc(this.nc,a,b,c)};function We(){this.wf=C()}new We;We.prototype.ua=function(a){this.wf=a};We.prototype.get=n("wf");function Xe(a){this.ya=gd?[]:"";a!=i&&this.append.apply(this,arguments)}Xe.prototype.ua=function(a){this.clear();this.append(a)};if(gd){Xe.prototype.ud=0;Xe.prototype.append=function(a,b){if(b==i)this.ya[this.ud++]=a;else{this.ya.push.apply(this.ya,arguments);this.ud=this.ya.length}return this}}else Xe.prototype.append=function(a,b){this.ya+=a;if(b!=i)for(var c=1;c<arguments.length;c++)this.ya+=arguments[c];return this};Xe.prototype.clear=function(){if(gd)this.ud=this.ya.length=0;else this.ya=""};
Xe.prototype.toString=function(){if(gd){var a=this.ya.join("");this.clear();a&&this.append(a);return a}else return this.ya};function Ye(a){this.name=a||"OpenStreetMaps"}D(Ye,nb);Ye.prototype.Uc=o(18);Ye.prototype.Kd=function(a,b,c){var d=["a","b","c"];return(new Xe("http://",d[Math.floor(Math.random()*d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Ye.prototype.Nc=function(a){Cc(a,"\u00a9 ",xc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function Ze(){Ye.call(this,"MapQuest OSM")}D(Ze,Ye);Ze.prototype.Kd=function(a,b,c){return(new Xe("http://otile",1+Math.floor(Math.random()*3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};
Ze.prototype.Nc=function(a){Cc(a,"Map data \u00a9 ",xc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",xc("br"));Cc(a,"Tiles Courtesy of ",xc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",xc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function $e(a){E.call(this);this.P=a||sc();this.uc=af}D($e,S);$e.prototype.rg=qe.ia();var af=i;function bf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}r=$e.prototype;r.Ra=i;r.B=!1;r.f=i;r.uc=i;r.ee=i;r.da=i;r.W=i;r.Va=i;r.hh=!1;
function cf(a){return a.Ra||(a.Ra=se(a.rg))}r.e=n("f");function df(a){return a.Lb||(a.Lb=new Ee(a))}function ef(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.da&&a.Ra&&ff(a.da,a.Ra)&&a.da!=b&&e(Error("Unable to set parent component"));a.da=b;$e.d.le.call(a,b)}r.getParent=n("da");r.le=function(a){this.da&&this.da!=a&&e(Error("Method not supported"));$e.d.le.call(this,a)};r.na=n("P");r.r=function(){this.f=this.P.createElement("div")};r.Xb=function(a){gf(this,a)};
function gf(a,b,c){a.B&&e(Error("Component already rendered"));a.f||a.r();b?b.insertBefore(a.f,c||i):a.P.A.body.appendChild(a.f);(!a.da||a.da.B)&&a.aa()}r.aa=function(){this.B=!0;hf(this,function(a){!a.B&&a.e()&&a.aa()})};r.za=function(){hf(this,function(a){a.B&&a.za()});this.Lb&&He(this.Lb);this.B=!1};r.h=function(){$e.d.h.call(this);this.B&&this.za();if(this.Lb){this.Lb.u();delete this.Lb}hf(this,function(a){a.u()});!this.hh&&this.f&&Ec(this.f);this.da=this.ee=this.f=this.Va=this.W=i};
r.Lc=function(a,b){this.ec(a,jf(this),b)};
r.ec=function(a,b,c){a.B&&(c||!this.B)&&e(Error("Component already rendered"));(b<0||b>jf(this))&&e(Error("Child component index out of bounds"));if(!this.Va||!this.W){this.Va={};this.W=[]}if(a.getParent()==this){this.Va[cf(a)]=a;Ua(this.W,a)}else{var d=this.Va,f=cf(a);f in d&&e(Error('The object already contains the key "'+f+'"'));d[f]=a}ef(a,this);Ya(this.W,b,0,a);if(a.B&&this.B&&a.getParent()==this){c=this.Q();c.insertBefore(a.e(),c.childNodes[b]||i)}else if(c){this.f||this.r();b=V(this,b+1);gf(a,
this.Q(),b?b.f:i)}else this.B&&!a.B&&a.f&&a.aa()};r.Q=n("f");function kf(a){if(a.uc==i)a.uc=ge(a.B?a.f:a.P.A.body);return a.uc}r.$b=function(a){this.B&&e(Error("Component already rendered"));this.uc=a};function jf(a){return a.W?a.W.length:0}function ff(a,b){var c;if(a.Va&&b){c=a.Va;c=b in c?c[b]:aa;c=c||i}else c=i;return c}function V(a,b){return a.W?a.W[b]||i:i}function hf(a,b,c){a.W&&Ma(a.W,b,c)}function lf(a,b){return a.W&&b?La(a.W,b):-1}
r.removeChild=function(a,b){if(a){var c=x(a)?a:cf(a);a=ff(this,c);if(c&&a){var d=this.Va;c in d&&delete d[c];Ua(this.W,a);if(b){a.za();a.f&&Ec(a.f)}ef(a,i)}}a||e(Error("Child is not in parent component"));return a};r.xf=function(a){for(;this.W&&this.W.length!=0;)this.removeChild(V(this,0),a)};function mf(a){this.ib=new jb;this.Da=[];this.Vg=1024;this.Fe=new U(2E4);Q(this.Fe,De,this.$f,!1,this);this.Fe.start();nf(this,a)}function nf(a,b){a.Hf=C();a.jb=b;a.jb.Gf=z(a.Zg,a);a.ib.clear();a.Da=[]}r=mf.prototype;r.jb=i;r.Hf=0;r.Ff=t;r.$f=function(){var a=Na(this.ib.Ya(),function(c){return c.state==20||c.state==qa||c.state==-10});for($a(a,function(c,d){return c.L-d.L});this.ib.Gd()>this.Vg&&a.length>0;){var b=a.shift();b.state==qa&&Ua(this.Da,b);this.ib.remove(ra(b));b.u()}};
r.Zg=function(a){if(a.L<this.Hf)a.state=-10;else this.Ff(a)};function of(a,b){$a(a.Da,function(g,h){return g.L-h.L});for(var c=Math.min(a.Da.length,b-a.jb.mc),d=0;d<c;d++){var f=a.Da.pop();a.jb.ae(f)||a.Da.push(f)}};function pf(a,b,c,d){this.Qe=b.z;this.ma=[];this.gc=c;this.td=d;this.jb=a;this.Ac=256;this.ac=new mf(a);this.ac.Ff=z(this.ge,this);qf(this)}r=pf.prototype;r.hc=function(a){this.jb=a;nf(this.ac,a);this.Ac=256;this.ma=[];qf(this)};
function qf(a){var b=a.Qe;a.Fb&&b.deleteTexture(a.Fb);a.Fb=b.createTexture();b.bindTexture(b.TEXTURE_2D,a.Fb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.gc*a.Ac,a.td*a.Ac,0,b.RGBA,b.UNSIGNED_BYTE,i);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);a.oc=[];a.xc=[];for(b=
0;b<a.gc;++b)for(var c=0;c<a.td;++c){a.oc.push([-1,0,0,c*a.gc+b]);a.xc.push(new rf(b,c))}}r.Fb=i;r.oc=i;r.xc=i;function sf(a,b){return Ra(a.xc,function(c){return!v(c.la)&&ra(c.la)==b})}function tf(a,b){return Sa(a.ma,function(c){return ra(c)==b})}
function uf(a,b,c,d,f,g){if(!(b<a.jb.Vc()||b>a.jb.Uc())){var h=1<<b;c=pb(c,h);d=pb(d,h);h=b+"_"+c+"_"+d;var j=sf(a,h);if(v(j)){j=tf(a,h);if(j>=0){b=a.ma[j];F.splice.call(a.ma,j,1);b.L=f;a.ge(b)}else if(g){a=a.ac.ib.get(h);if(a!=i)a.L=f}else{g=a.ac;h=b+"_"+c+"_"+d;j=g.ib.get(h);if(j!=i)j.L=f;else{j=new pa(b,c,d,f);g.ib.ua(h,j);g.Da.push(j)}f=j;f.state==20&&a.ge(f)}}else j.la.L=f}}
r.ge=function(a){a.state=30;bb(this.ma,a,function(b,c){return b.L==c.L?b.zoom==c.zoom?b.x==c.x?b.y-c.y:b.x-c.x:b.zoom-c.zoom:b.L-c.L})};function vf(a){for(var b=C()-500;a.ma.length>0&&a.ma[0].L<b;)a.ma.shift().state=20;a=a.ac;for(b=C()-500;a.Da.length>0&&a.Da[0].L<b;){var c=a.Da.shift();a.ib.remove(ra(c));c.u()}}
function wf(a){if(a.ma.length>0)for(var b=Math.min(a.ma.length,2),c=0;c<b;c++)xf(a,a.ma.pop());$a(a.oc,function(d,f){return d[0]==f[0]?d[1]==f[1]?d[2]-f[2]:d[1]-f[1]:d[0]-f[0]});of(a.ac,12)}
function xf(a,b){var c=a.Qe;$a(a.xc,function(g,h){return(v(g.la)?0:g.la.L)-(v(h.la)?0:h.la.L)});var d=a.xc[0];if(!v(d.la)&&d.la.L>b.L)b.state=20;else{c.bindTexture(c.TEXTURE_2D,a.Fb);c.texSubImage2D(c.TEXTURE_2D,0,d.x*a.Ac,d.y*a.Ac,c.RGBA,c.UNSIGNED_BYTE,b.Nb);var f=d.y*a.gc+d.x;c=Qa(a.oc,function(g){return g[3]==f});c[0]=b.zoom;c[1]=b.x;c[2]=b.y;if(!v(d.la))d.la.state=20;d.la=b;d.la.state=40}}function rf(a,b){this.x=a;this.y=b}rf.prototype.la=i;function yf(a,b,c,d){this.z=a.z;d=d?d:1;b*=d;c*=d;this.dc=this.z.createBuffer();this.zc=this.z.createBuffer();this.z.bindBuffer(this.z.ARRAY_BUFFER,this.dc);a=b*c*12;for(var f=new Float32Array(a*2),g=new Float32Array(a*2),h=0;h<c;++h)for(var j=0;j<b;++j){var k=function(l,q,m){l=(j*b+h)*6+l;f[l*2+0]=(j-b/2+q)/d;f[l*2+1]=(h-c/2+m)/d;g[l*2+0]=j%d/d+q/d;g[l*2+1]=h%d/d+m/d};k(0,1,1);k(1,0,1);k(2,1,0);k(3,0,1);k(4,0,0);k(5,1,0)}this.z.bufferData(this.z.ARRAY_BUFFER,f,this.z.STATIC_DRAW);this.dc.Ud=2;this.dc.pf=
a;this.z.bindBuffer(this.z.ARRAY_BUFFER,this.zc);this.z.bufferData(this.z.ARRAY_BUFFER,g,this.z.STATIC_DRAW);this.zc.Ud=2;this.zc.pf=a};function W(a,b){if(a instanceof W)this.p=a.qe();else{var c;if(c=da(a))a:{for(var d=c=0;d<a.length;d++){if(!da(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!ea(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}if(c)this.p=Wa(a);else if(a instanceof nc)this.p=zf(a.height,a.width);else if(ea(a)&&ea(b)&&a>0&&b>0)this.p=zf(a,b);else e(Error("Invalid argument(s) for Matrix contructor"))}this.i=new nc(this.p[0].length,this.p.length)}
function Af(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new W(b)}function Bf(a,b,c){for(var d=0;d<a.Pa().height;d++)for(var f=0;f<a.Pa().width;f++)b.call(c,a.p[d][f],d,f,a)}function Cf(a,b){var c=new W(a.Pa());Bf(a,function(d,f,g){c.p[f][g]=b.call(aa,d,f,g,a)});return c}function zf(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}r=W.prototype;
r.add=function(a){oc(this.i,a.Pa())||e(Error("Matrix summation is only supported on arrays of equal size"));return Cf(this,function(b,c,d){return b+a.p[c][d]})};function Df(a,b){a.i.height!=b.Pa().height&&e(Error("The given matrix has height "+b.i.height+", but  needs to have height "+a.i.height+"."));var c=new W(a.i.height,a.i.width+b.i.width);Bf(a,function(d,f,g){c.p[f][g]=d});Bf(b,function(d,f,g){c.p[f][this.i.width+g]=d},a);return c}
r.Bd=function(a,b){if(this.i.width!=a.i.width)return!1;if(this.i.height!=a.i.height)return!1;for(var c=b||0,d=0;d<this.i.height;d++)for(var f=0;f<this.i.width;f++)if(!(Math.abs(this.p[d][f]-a.p[d][f])<=(c||1.0E-6)))return!1;return!0};r.Pa=n("i");function Ef(a){var b=new W(a.i.width,a.i.height);Bf(a,function(c,d,f){b.p[f][d]=c});return b}function Ff(a,b,c){if(!(b>=0&&b<a.i.height&&c>=0&&c<a.i.width))return i;return a.p[b][c]}
r.multiply=function(a){if(a instanceof W){this.i.width!=a.Pa().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns."));return Gf(this,a)}else if(ea(a))return Hf(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};r.pe=function(a){oc(this.i,a.Pa())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return Cf(this,function(b,c,d){return b-a.p[c][d]})};r.qe=n("p");
function If(a,b,c,d){var f=new W((c?c:a.i.height-1)-0+1,(d?d:a.i.width-1)-b+1);Bf(f,function(g,h,j){f.p[h][j]=this.p[0+h][b+j]},a);return f}function Gf(a,b){var c=new W(a.i.height,b.Pa().width);Bf(c,function(d,f,g){for(var h=d=0;h<this.i.width;h++)d+=Ff(this,f,h)*Ff(b,h,g);f>=0&&f<c.i.height&&g>=0&&g<c.i.width||e(Error("Index out of bounds when setting matrix value, ("+f+","+g+") in size ("+c.i.height+","+c.i.width+")"));c.p[f][g]=d},a);return c}
function Hf(a,b){return Cf(a,function(c){return c*b})};function Jf(a,b,c){function d(j,k){try{var l=j.getContext(k);if(l!=i)return l}catch(q){}return i}for(var f=i,g=["webgl","experimental-webgl"],h=0;v(f)&&h<g.length;++h)f=f||d(a,g[h]);v(f)&&(c!==undefined?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.Ed=b||i;this.z=f;this.xa=a.width;this.wa=a.height;f.viewport(0,0,this.xa,this.wa);this.Kc=this.Jb=0;this.Jc=
1;this.Oc=this.xa/this.wa;this.ed=this.dd=this.Ea=this.sc=Af(4);this.Fd=this.Qc=this.Xd=this.xe=this.Dd=0;Q(s,"resize",this.Af,!1,this)}function Kf(a){a.Jb=50*Math.PI/180;a.Kc=1.0E-6;a.Jc=5;a.Oc=a.xa/a.wa;Lf(a)}function Lf(a){var b=1/Math.tan(a.Jb/2);a.sc=new W([[b/a.Oc,0,0,0],[0,b,0,0],[0,0,(a.Jc+a.Kc)/(a.Kc-a.Jc),2*a.Jc*a.Kc/(a.Kc-a.Jc)],[0,0,-1,0]])}
Jf.prototype.Af=function(){this.xa=this.canvas.width=this.canvas.clientWidth;this.wa=this.canvas.height=this.canvas.clientHeight;this.z.viewport(0,0,this.xa,this.wa);this.Oc=this.xa/this.wa;Lf(this);Mf(this.b)};Jf.prototype.translate=function(a,b,c){this.Ea=this.Ea.multiply(new W([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function Nf(a,b){var c=Math.cos(b),d=Math.sin(b);a.Ea=a.Ea.multiply(new W([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function Of(a,b){var c=Math.cos(b),d=Math.sin(b);a.Ea=a.Ea.multiply(new W([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))}Jf.prototype.b=i;
function Pf(a){a.dd=a.sc.multiply(a.Ea);var b;var c=a.dd;c.i.width!=c.i.height&&e(Error("An inverse can only be taken on a square matrix."));b=Af(c.i.height);b:{c=Df(c,b);for(var d=new W(c),f=0,g=0;g<d.i.height;g++){if(f>=d.i.width)break;for(var h=g;d.p[h][f]==0;){h++;if(h==d.i.height){h=g;f++;if(f==d.i.width){c=d;break b}}}var j=c,k=g,l=j.p[h];j.p[h]=j.p[k];j.p[k]=l;h=d.p[g][f];for(j=f;j<d.i.width;j++)d.p[g][j]/=h;for(h=0;h<d.i.height;h++)if(h!=g){k=d.p[h][f];for(j=f;j<d.i.width;j++)d.p[h][j]-=k*
d.p[g][j]}f++}c=d}b=If(c,0,b.i.width-1,b.i.height-1).Bd(b)?If(c,b.i.width):i;a.ed=b;return a.dd};function Qf(a,b,c){c=a.z.createShader(c);a.z.shaderSource(c,b);a.z.compileShader(c);a.z.getShaderParameter(c,a.z.COMPILE_STATUS)||e(Error("Shader err: "+a.z.getShaderInfoLog(c)));return c};function Rf(a,b){var c=b.z;this.Fa=a;this.Rf=c.getAttribLocation(this.Fa,"aVertexPosition");c.enableVertexAttribArray(this.Rf);this.Ef=c.getAttribLocation(this.Fa,"aTextureCoord");c.enableVertexAttribArray(this.Ef);this.yg=Sf(c,this.Fa,"uMVPMatrix");this.Xg=Sf(c,this.Fa,"uTileBuffer");this.xg=Sf(c,this.Fa,"uMetaBuffer");this.$g=Sf(c,this.Fa,"uTileSize");this.jh=Sf(c,this.Fa,"uZoomLevel");this.Yg=Sf(c,this.Fa,"uTileCount");this.Bg=Sf(c,this.Fa,"uOffset")}
function Sf(a,b,c){a=a.getUniformLocation(b,c);if(v(a))e(Error("Invalid name"));else return a};var Tf={};Tf["fs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\nprecision mediump float;varying vec2 vTile;varying vec2 vTC;uniform sampler2D uTileBuffer;uniform float uTileSize;void main(){vec2 TC=clamp(vTC*uTileSize,0.5,uTileSize-0.5);vec2 BC=(vTile+(TC/uTileSize));gl_FragColor=texture2D(uTileBuffer,vec2(BC.s/BUFF_W,BC.t/BUFF_H));}";Tf["vs.glsl"]="#define BUFF_W %BUFFER_WIDTH_FLOAT%\n#define BUFF_H %BUFFER_HEIGHT_FLOAT%\n#define BUFF_SIZE %BUFFER_SIZE_INT%\n#define BINARY_SEARCH_CYCLES %BINARY_SEARCH_CYCLES_INT%\n#define LOOKUP_LEVELS %LOOKUP_LEVELS_INT%\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float MAX_PHI=1.4844222;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uZoomLevel;uniform float uTileCount;uniform vec2 uOffset;uniform vec4 uMetaBuffer[BUFF_SIZE];varying vec2 vTile;varying vec2 vTC;float compareMeta(vec3 a,vec3 b){vec3 c=a-b;return bool(c.x)?c.x:(bool(c.y)?c.y:c.z);}int findInBuffer(vec3 key) {int mid;float min=0.0,max=float(BUFF_SIZE)-1.0;for (int _i=0;_i<BINARY_SEARCH_CYCLES;++_i) {if (min>max) break;mid=int((min+max)*0.5);float res=compareMeta(uMetaBuffer[mid].xyz,key);if (res>0.0){max=float(mid)-1.0;} else if (res<0.0){min=float(mid)+1.0;} else {return mid;}}return -1;}int lookup(inout vec3 key,out vec2 off) {off=vec2(0.0,0.0);float lastZoomLevel=max(0.0,uZoomLevel-float(LOOKUP_LEVELS)+1.0);int mid=-1;for (int _i=0;_i<LOOKUP_LEVELS;++_i) {mid=findInBuffer(key);if (mid<0 && key.r>lastZoomLevel) {key.r--;off.x=off.x*0.5+mod(key.g,2.0);off.y=off.y*0.5+1.0-mod(key.b,2.0);key.gb=floor(key.gb/2.0);} else {break;}}return mid;}void main(){vec2 phi=PI2*vec2(aVertexPosition.x+uOffset.x,aVertexPosition.y+uOffset.y)/uTileCount;float tilex=mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount);float tiley=aTextureCoord.y-1.0-aVertexPosition.y-uOffset.y+uTileCount*0.5;%VERTEX_TRANSFORM%vec2 off=vec2(0.0,0.0);vec3 key=vec3(uZoomLevel,tilex,tiley);int tile=lookup(key,off);if (tile>=0) {float i=uMetaBuffer[tile].a;float reduction=exp2(uZoomLevel-key.r);vTile.x=mod(i,BUFF_W);vTile.y=floor(i/BUFF_W);vTC.x=off.x*0.5+(aTextureCoord.x)/reduction;vTC.y=off.y*0.5+(aTextureCoord.y)/reduction;return;}vTile=vec2(0.0,0.0);vTC=vec2(0.0,0.0);if ((abs(phi.y)-MAX_PHI)>0.01)vTC=vec2(0.5,0.5);}";function Uf(a){if(a in Tf)a=Tf[a];else{var b=new XMLHttpRequest;b.open("GET","../we/shaders/"+a,!1);b.send(i);a=b.responseText}return a};function Vf(a){this.b=a;this.be=i;var b={width:this.b.ea.gc,height:this.b.ea.td};a=this.b.a.z;var c=Uf("fs.glsl");c=c.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));c=c.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));var d=Uf("vs.glsl");d=d.replace("%VERTEX_TRANSFORM%",this.re);d=d.replace("%BUFFER_WIDTH_FLOAT%",b.width.toFixed(1));d=d.replace("%BUFFER_HEIGHT_FLOAT%",b.height.toFixed(1));d=d.replace("%BUFFER_SIZE_INT%",(b.width*b.height).toFixed(0));d=d.replace("%BINARY_SEARCH_CYCLES_INT%",
(Math.log(b.width*b.height)/Math.LN2).toFixed(0));d=d.replace("%LOOKUP_LEVELS_INT%",(Wf+1).toFixed(0));b=Qf(this.b.a,c,a.FRAGMENT_SHADER);d=Qf(this.b.a,d,a.VERTEX_SHADER);c=a.createProgram();a.attachShader(c,d);a.attachShader(c,b);a.bindAttribLocation(c,0,"aVertexPosition");a.linkProgram(c);a.getProgramParameter(c,a.LINK_STATUS)||e(Error("Shader program err: "+a.getProgramInfoLog(c)));this.be=new Rf(c,this.b.a)}Vf.prototype.re="";function Xf(a,b,c){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0;this.t=c!==undefined?c:0}Xf.prototype.Z=function(){return new Xf(this.x,this.y,this.t)};Xf.prototype.qe=function(){return[this.x,this.y,this.t]};function Yf(a,b,c){this.x=a;this.y=b;this.t=c}D(Yf,Xf);r=Yf.prototype;r.Z=function(){return new Yf(this.x,this.y,this.t)};r.scale=function(a){this.x*=a;this.y*=a;this.t*=a;return this};r.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.t*this.t))};r.add=function(a){this.x+=a.x;this.y+=a.y;this.t+=a.t;return this};r.pe=function(a){this.x-=a.x;this.y-=a.y;this.t-=a.t;return this};r.Bd=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.t==a.t};
function Zf(a,b){return new Yf(a.x+b.x,a.y+b.y,a.t+b.t)};function $f(a){Vf.call(this,a)}D($f,Vf);r=$f.prototype;r.re="float exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);gl_Position=uMVPMatrix*vec4(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy,1.0);";r.ze=function(){return 1/Math.tan(this.b.a.Jb/2)*(Math.cos(Math.abs(this.b.c.latitude))*2*Math.PI/Math.pow(2,this.b.V)*this.b.bc/2)*ag};
r.Ae=function(){return Math.log(Math.cos(Math.abs(this.b.c.latitude))*2*Math.PI/(2*(this.b.c.altitude/ag)*Math.tan(this.b.a.Jb/2)/this.b.bc))/Math.LN2};r.Kf=function(){Of(this.b.a,-this.b.c.he);Nf(this.b.a,-this.b.c.Bc);Of(this.b.a,-this.b.c.Zc);this.b.a.translate(0,0,-1-this.b.c.altitude/ag);Nf(this.b.a,this.b.c.latitude);var a=this.b.a,b=-this.b.c.longitude,c=Math.cos(b);b=Math.sin(b);a.Ea=a.Ea.multiply(new W([[c,0,b,0],[0,1,0,0],[-b,0,c,0],[0,0,0,1]]))};
function bg(a,b){var c=a.Z();c.x=-c.x;c.y=-c.y;c.t=-c.t;var d=b.x*c.x+b.y*c.y+b.t*c.t;c=d*d-(c.x*c.x+c.y*c.y+c.t*c.t)+1;return c<0?i:[Math.min(d+Math.sqrt(c),d-Math.sqrt(c)),Math.max(d+Math.sqrt(c),d-Math.sqrt(c))]}r.Jf=function(a,b){var c=bg(a,b);if(v(c))return i;else{c=Zf(a,b.scale(c[0]));var d=Math.asin(c.x/Math.sqrt(1-c.y*c.y));c.t<0&&(d=Math.PI-d);d=pb(d,2*Math.PI);return[Math.asin(c.y),d>Math.PI?d-2*Math.PI:d]}};
r.Oe=function(a,b){var c=Math.cos(a);return new Yf(Math.sin(b)*c,Math.sin(a),Math.cos(b)*c)};r.$e=function(a,b){var c;c=a.x-b.x;var d=a.y-b.y,f=a.t-b.t;c=Math.sqrt(c*c+d*d+f*f);d=a.pe(b).normalize();d=bg(b,d);return v(d)?!1:Math.abs(c-d[0])<Math.abs(c-d[1])};function cg(a){this.j=a||i;this.longitude=this.latitude=0;this.altitude=1E7;this.he=this.Bc=this.Zc=0;this.H=!0}cg.prototype.ld=function(a,b){this.latitude=ob(a,-89,89)*Math.PI/180;this.longitude=b*Math.PI/180};function dg(a,b){a.altitude=ob(b,250,1E7);a.H=!0}cg.prototype.Pe=function(a){return eg(a,a.a.xa/2,a.a.wa/2,!0)};function fg(a,b,c,d,f,g){if(v(d))return i;a=d.multiply(new W([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(Ff(a,3,0)==0)return i;a=a.multiply(1/Ff(a,3,0));return new Yf(Ff(a,0,0),Ff(a,1,0),Ff(a,2,0))};var Wf=5,ag=6371009;
function gg(a,b,c,d,f,g,h){this.a=a;this.Ye=b||i;this.cc=c||document.createElement("div");if(c===undefined){b=this.a.canvas;b.parentNode&&b.parentNode.insertBefore(this.cc,b.nextSibling)}this.Ec=d||document.createElement("img");if(d===undefined){d=this.cc;d.parentNode&&d.parentNode.insertBefore(this.Ec,d.nextSibling)}this.Uf=h||i;this.ga=f||new Ze;this.ea=new pf(this.ga,a,8,8);this.hc(this.ga);this.Of=new U(150);Q(this.Of,De,z(this.eh,this));this.Of.start();this.bc=0;Mf(this);this.V=3;this.hb=1;this.c=
new cg(this);this.qc=[0,0];this.Ha=g||new $f(this);this.Bf=[new yf(a,1,1,1),new yf(a,4,4,16),new yf(a,6,6,8),new yf(a,8,8,8),new yf(a,10,10,8),new yf(a,16,16,2)]}gg.prototype.Mf=function(){if(!v(this.cc)){Dc(this.cc);Cc(this.cc,this.Uf);this.ga.Nc(this.cc)}if(!v(this.Ec))if(v(this.ga.Id()))this.Ec.style.visibility="hidden";else{this.Ec.src=this.ga.Id();this.Ec.style.visibility="visible"}};gg.prototype.hc=function(a){this.ga=a;this.ea.hc(this.ga);this.ga.Ge=z(this.Mf,this);Mf(this);this.Mf()};
function Mf(a){a.bc=0.9*a.a.canvas.height/256}function hg(a,b){a.V=ob(b,Math.max(3,a.ga.Vc()),a.ga.Uc());a.hb=1<<Math.floor(a.V);a.c.H=!1}
gg.prototype.eh=function(){function a(g,h,j,k,l,q){for(var m=-j;m<=j;m++){var p=Math.abs(m);uf(q.ea,k,g+m,h-j,l-p);uf(q.ea,k,g+m,h+j,l-p);if(p!=j){uf(q.ea,k,g-j,h+m,l-p);uf(q.ea,k,g+j,h+m,l-p)}}}var b=this.c.Pe(this);v(b)&&(b=[this.c.latitude,this.c.longitude]);this.qc[0]=Math.floor(b[1]/(2*Math.PI)*this.hb);this.qc[1]=Math.floor(ig(b[0])/(Math.PI*2)*this.hb);b={x:this.qc[0]+this.hb/2,y:this.hb-1-(this.qc[1]+this.hb/2)};for(var c=Math.floor(this.V),d=C(),f=1;f<=Wf;f++)uf(this.ea,c-f,b.x>>f,b.y>>f,
d+f,f>4);a(b.x>>1,b.y>>1,1,c-1,d,this);uf(this.ea,c,b.x,b.y,d+3);a(b.x,b.y,1,c,d+2,this);a(b.x,b.y,2,c,d-5,this);vf(this.ea);wf(this.ea)};function eg(a,b,c,d){var f=fg(b,c,0,a.a.ed,a.a.xa,a.a.wa);b=fg(b,c,1,a.a.ed,a.a.xa,a.a.wa);if(v(f)||v(b))return i;b.pe(f);b.normalize();a=a.Ha.Jf(f,b);return a!=i?d==!0?[a[0],a[1]]:[a[0]*180/Math.PI,a[1]*180/Math.PI]:i}function ig(a){return Math.log(Math.tan(a/2+Math.PI/4))};function jg(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var q=l.tagName=="HTML"||l.tagName=="BODY";if(!q||Zd(l,"position")!="static"){k=fe(l);q||(k=rc(k,new M(l.scrollLeft,l.scrollTop)))}}l=ke(a);if(q=ee(a)){var m=new Xd(q.left,q.top,q.right-q.left,q.bottom-q.top);q=Math.max(l.left,m.left);var p=Math.min(l.left+l.width,m.left+m.width);if(q<=p){var B=Math.max(l.top,m.top);m=Math.min(l.top+l.height,m.top+m.height);if(B<=m){l.left=q;l.top=B;l.width=p-q;l.height=m-B}}}q=sc(a);B=sc(c);if(q.A!=B.A){p=
q.A.body;B=B.A.parentWindow||B.A.defaultView;m=new M(0,0);var vb=N(p)?N(p).parentWindow||N(p).defaultView:window,re=p;do{var na;if(vb==B)na=fe(re);else{var J=re;na=new M;if(J.nodeType==1)if(J.getBoundingClientRect){J=ce(J);na.x=J.left;na.y=J.top}else{var Fc=Pc(sc(J));J=fe(J);na.x=J.x-Fc.x;na.y=J.y-Fc.y}else{Fc=fa(J.fg);var Gc=J;if(J.targetTouches)Gc=J.targetTouches[0];else Fc&&J.ha.targetTouches&&(Gc=J.ha.targetTouches[0]);na.x=Gc.clientX;na.y=Gc.clientY}}m.x+=na.x;m.y+=na.y}while(vb&&vb!=B&&(re=
vb.frameElement)&&(vb=vb.parent));p=rc(m,fe(p));H&&!Bc(q.A)&&(p=rc(p,Pc(q)));l.left+=p.x;l.top+=p.y}a=(b&4&&ge(a)?b^2:b)&-5;b=new M(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=rc(b,k));if(f){b.x+=(a&2?-1:1)*f.x;b.y+=(a&1?-1:1)*f.y}var A;if(h)if((A=ee(c))&&k){A.top=Math.max(0,A.top-k.y);A.right-=k.x;A.bottom-=k.y;A.left=Math.max(0,A.left-k.x)}a:{k=A;f=b.Z();A=0;a=(d&4&&ge(c)?d^2:d)&-5;d=je(c);j=j?j.Z():d;if(g||a!=0){if(a&2)f.x-=j.width+(g?g.right:0);else g&&(f.x+=g.left);if(a&1)f.y-=
j.height+(g?g.bottom:0);else g&&(f.y+=g.top)}if(h){if(k){g=f;A=0;if(g.x<k.left&&h&1){g.x=k.left;A|=1}if(g.x<k.left&&g.x+j.width>k.right&&h&16){j.width-=g.x+j.width-k.right;A|=4}if(g.x+j.width>k.right&&h&1){g.x=Math.max(k.right-j.width,k.left);A|=1}h&2&&(A|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4){g.y=k.top;A|=2}if(g.y>=k.top&&g.y+j.height>k.bottom&&h&32){j.height-=g.y+j.height-k.bottom;A|=8}if(g.y+j.height>k.bottom&&h&4){g.y=Math.max(k.bottom-j.height,k.top);A|=2}h&8&&(A|=
(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=A}else h=256;A=h;if(A&496){c=A;break a}}$d(c,f);oc(d,j)||ie(c,j);c=A}return c};function kg(){}kg.prototype.yb=ba();function lg(a,b){this.element=a;this.Gb=b}D(lg,kg);lg.prototype.yb=function(a,b,c){jg(this.element,this.Gb,a,b,undefined,c)};function mg(a,b,c){lg.call(this,a,b);this.Vf=c}D(mg,lg);mg.prototype.yb=function(a,b,c,d){var f=jg(this.element,this.Gb,a,b,i,c,10,d);if(f&496){var g=this.Gb,h=b;if(f&48){g^=2;h^=2}if(f&192){g^=1;h^=1}f=jg(this.element,g,a,h,i,c,10,d);f&496&&(this.Vf?jg(this.element,this.Gb,a,b,i,c,5,d):jg(this.element,this.Gb,a,b,i,c,0,d))}};function ng(a,b,c,d){mg.call(this,a,b,c);this.Og=d}D(ng,mg);ng.prototype.yb=function(a,b,c,d){this.Og?jg(this.element,this.Gb,a,b,i,c,33,d):ng.d.yb.call(this,a,b,c,d)};function og(){}var pg;u(og);r=og.prototype;r.Xa=ba();r.r=function(a){return a.na().r("div",this.Kb(a).join(" "),a.nb)};r.Q=function(a){return a};r.ic=function(a,b,c){if(a=a.e?a.e():a)if(H&&!L("7")){var d=qg(this,Ob(a),b);d.push(b);la(c?Pb:Qb,a).apply(i,d)}else c?Pb(a,b):Qb(a,b)};r.Pb=function(a){kf(a)&&this.$b(a.e(),!0);a.S()&&this.Bb(a,a.s)};r.jd=function(a,b){ne(a,!b,!H&&!ac)};r.$b=function(a,b){this.ic(a,this.D()+"-rtl",b)};r.vb=function(a){var b;if(a.T&32&&(b=a.M()))return Lc(b);return!1};
r.Bb=function(a,b){var c;if(a.T&32&&(c=a.M())){if(!b&&a.o&32){try{c.blur()}catch(d){}a.o&32&&a.Qa(i)}if(Lc(c)!=b)if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}};r.va=function(a,b){le(a,b)};r.oa=function(a,b,c){var d=a.e();if(d){var f=this.Sc(b);f&&this.ic(a,f,c);this.Fc(d,b,c)}};r.Fc=function(a,b,c){pg||(pg=ya(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=pg[b])&&T(a,b,c)};
r.Ab=function(a,b){var c=this.Q(a);if(c){Dc(c);if(b)if(x(b))Ic(c,b);else{var d=function(f){if(f){var g=N(c);c.appendChild(x(f)?g.createTextNode(f):f)}};if(w(b))Ma(b,d);else da(b)&&!("nodeType"in b)?Ma(Wa(b),d):d(b)}}};r.M=function(a){return a.e()};r.D=o("goog-control");r.Kb=function(a){var b=this.D(),c=[b],d=this.D();d!=b&&c.push(d);b=a.o;for(d=[];b;){var f=b&-b;d.push(this.Sc(f));b&=~f}c.push.apply(c,d);(a=a.Aa)&&c.push.apply(c,a);H&&!L("7")&&c.push.apply(c,qg(this,c));return c};
function qg(a,b,c){var d=[];c&&(b=b.concat([c]));Ma([],function(f){Pa(f,la(Ta,b))&&(!c||Ta(f,c))&&d.push(f.join("_"))});return d}r.Sc=function(a){if(!this.De){var b=this.D();this.De=ya(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.De[a]};function rg(a,b){a||e(Error("Invalid class name "+a));fa(b)||e(Error("Invalid decorator function "+b))}var sg={};function X(a,b,c){$e.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=y(b);if(d=sg[d])break;b=b.d?b.d.constructor:i}b=d?fa(d.ia)?d.ia():new d:i}this.k=b;this.nb=a}D(X,$e);r=X.prototype;r.nb=i;r.o=0;r.T=39;r.we=255;r.oe=0;r.s=!0;r.Aa=i;r.Od=!0;r.qd=!1;function tg(a,b){a.B&&b!=a.Od&&ug(a,b);a.Od=b}r.M=function(){return this.k.M(this)};r.Tc=function(){return this.O||(this.O=new Ke)};
r.ic=function(a,b){if(b){if(a){if(this.Aa)Ta(this.Aa,a)||this.Aa.push(a);else this.Aa=[a];this.k.ic(this,a,!0)}}else if(a&&this.Aa){Ua(this.Aa,a);if(this.Aa.length==0)this.Aa=i;this.k.ic(this,a,!1)}};r.r=function(){var a=this.k.r(this);this.f=a;var b=this.k.Xa();b&&te(a,b);this.qd||this.k.jd(a,!1);this.s||this.k.va(a,!1)};r.Q=function(){return this.k.Q(this.e())};
r.aa=function(){X.d.aa.call(this);this.k.Pb(this);if(this.T&-2){this.Od&&ug(this,!0);if(this.T&32){var a=this.M();if(a){var b=this.Tc();b.fc(a);df(this).l(b,"key",this.qa).l(a,"focus",this.rb).l(a,"blur",this.Qa)}}}};function ug(a,b){var c=df(a),d=a.e();if(b){c.l(d,"mouseover",a.Qd).l(d,"mousedown",a.sb).l(d,"mouseup",a.tb).l(d,"mouseout",a.Pd);H&&c.l(d,"dblclick",a.Se)}else{c.U(d,"mouseover",a.Qd).U(d,"mousedown",a.sb).U(d,"mouseup",a.tb).U(d,"mouseout",a.Pd);H&&c.U(d,"dblclick",a.Se)}}
r.za=function(){X.d.za.call(this);this.O&&this.O.detach();this.s&&this.S()&&this.k.Bb(this,!1)};r.h=function(){X.d.h.call(this);if(this.O){this.O.u();delete this.O}delete this.k;this.Aa=this.nb=i};r.Ab=function(a){this.k.Ab(this.e(),a);this.nb=a};function vg(a,b){var c=a.nb;if(!c||x(c))return c;return(c=w(c)?Oa(c,b).join(""):Mc(c))&&za(c)}r.Rc=function(){return vg(this,Mc)};r.$b=function(a){X.d.$b.call(this,a);var b=this.e();b&&this.k.$b(b,a)};
r.jd=function(a){this.qd=a;var b=this.e();b&&this.k.jd(b,a)};r.va=function(a,b){if(b||this.s!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.e();c&&this.k.va(c,a);this.S()&&this.k.Bb(this,a);this.s=a;return!0}return!1};r.S=function(){return!(this.o&1)};r.Sa=function(a){wg(this,2,a)&&this.oa(2,a)};r.setActive=function(a){wg(this,4,a)&&this.oa(4,a)};r.me=function(a){wg(this,8,a)&&this.oa(8,a)};r.Ca=function(){return!!(this.o&64)};r.I=function(a){wg(this,64,a)&&this.oa(64,a)};
r.oa=function(a,b){if(this.T&a&&b!=!!(this.o&a)){this.k.oa(this,a,b);this.o=b?this.o|a:this.o&~a}};function xg(a,b,c){a.B&&a.o&b&&!c&&e(Error("Component already rendered"));!c&&a.o&b&&a.oa(b,!1);a.T=c?a.T|b:a.T&~b}function Y(a,b){return!!(a.we&b)&&!!(a.T&b)}function wg(a,b,c){return!!(a.T&b)&&!!(a.o&b)!=c&&(!(a.oe&b)||a.dispatchEvent(bf(b,c)))&&!a.yd}r.Qd=function(a){!(a.relatedTarget&&Hc(this.e(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.S()&&Y(this,2)&&this.Sa(!0)};
r.Pd=function(a){if(!(a.relatedTarget&&Hc(this.e(),a.relatedTarget))&&this.dispatchEvent("leave")){Y(this,4)&&this.setActive(!1);Y(this,2)&&this.Sa(!1)}};r.sb=function(a){if(this.S()){Y(this,2)&&this.Sa(!0);if(dd(a,0)&&!(K&&G&&a.ctrlKey)){Y(this,4)&&this.setActive(!0);this.k.vb(this)&&this.M().focus()}}!this.qd&&dd(a,0)&&!(K&&G&&a.ctrlKey)&&a.preventDefault()};r.tb=function(a){if(this.S()){Y(this,2)&&this.Sa(!0);this.o&4&&this.Ub(a)&&Y(this,4)&&this.setActive(!1)}};r.Se=function(a){this.S()&&this.Ub(a)};
r.Ub=function(a){if(Y(this,16)){var b=!(this.o&16);wg(this,16,b)&&this.oa(16,b)}Y(this,8)&&this.me(!0);Y(this,64)&&this.I(!this.Ca());b=new $c("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};r.rb=function(){Y(this,32)&&wg(this,32,!0)&&this.oa(32,!0)};r.Qa=function(){Y(this,4)&&this.setActive(!1);Y(this,32)&&wg(this,32,!1)&&this.oa(32,!1)};
r.qa=function(a){if(this.s&&this.S()&&this.Mb(a)){a.preventDefault();a.stopPropagation();return!0}return!1};r.Mb=function(a){return a.keyCode==13&&this.Ub(a)};fa(X)||e(Error("Invalid component class "+X));fa(og)||e(Error("Invalid renderer class "+og));var yg=y(X);sg[yg]=og;rg("goog-control",function(){return new X(i)});function zg(){}D(zg,og);u(zg);r=zg.prototype;r.Xa=o("button");r.Fc=function(a,b,c){b==16?T(a,"pressed",c):zg.d.Fc.call(this,a,b,c)};r.r=function(a){var b=zg.d.r.call(this,a),c=a.Xc();c&&this.ne(b,c);(c=a.N())&&this.Ja(b,c);a.T&16&&this.Fc(b,16,!1);return b};r.N=t;r.Ja=t;r.Xc=function(a){return a.title};r.ne=function(a,b){if(a)a.title=b||""};r.D=o("goog-button");function Ag(){}D(Ag,zg);u(Ag);r=Ag.prototype;r.Xa=ba();r.r=function(a){tg(a,!1);a.we&=-256;xg(a,32,!1);return a.na().r("button",{"class":this.Kb(a).join(" "),disabled:!a.S(),title:a.Xc()||"",value:a.N()||""},a.Rc()||"")};r.Pb=function(a){df(a).l(a.e(),"click",a.Ub)};r.jd=t;r.$b=t;r.vb=function(a){return a.S()};r.Bb=t;r.oa=function(a,b,c){Ag.d.oa.call(this,a,b,c);if((a=a.e())&&b==1)a.disabled=c};r.N=function(a){return a.value};r.Ja=function(a,b){if(a)a.value=b};r.Fc=t;function Bg(a,b,c){X.call(this,a,b||Ag.ia(),c)}D(Bg,X);r=Bg.prototype;r.N=n("Qf");r.Ja=function(a){this.Qf=a;this.k.Ja(this.e(),a)};r.Xc=n("If");r.ne=function(a){this.If=a;this.k.ne(this.e(),a)};r.h=function(){Bg.d.h.call(this);delete this.Qf;delete this.If};r.aa=function(){Bg.d.aa.call(this);if(this.T&32){var a=this.M();a&&df(this).l(a,"keyup",this.Mb)}};r.Mb=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Ub(a);return a.keyCode==32};rg("goog-button",function(){return new Bg(i)});function Cg(){}D(Cg,og);u(Cg);Cg.prototype.r=function(a){return a.na().r("div",this.D())};Cg.prototype.Ab=ba();Cg.prototype.D=o("goog-menuseparator");function Dg(a,b){X.call(this,i,a||Cg.ia(),b);xg(this,1,!1);xg(this,2,!1);xg(this,4,!1);xg(this,32,!1);this.o=1}D(Dg,X);Dg.prototype.aa=function(){Dg.d.aa.call(this);te(this.e(),"separator")};rg("goog-menuseparator",function(){return new Dg});function Eg(){}u(Eg);r=Eg.prototype;r.Xa=ba();r.r=function(a){return a.na().r("div",this.Kb(a).join(" "))};r.Q=function(a){return a};r.Pb=function(a){a=a.e();ne(a,!0,I);if(H)a.hideFocus=!0;var b=this.Xa();b&&te(a,b)};r.M=function(a){return a.e()};r.D=o("goog-container");r.Kb=function(a){var b=this.D(),c=[b,a.Sb==Fg?b+"-horizontal":b+"-vertical"];a.S()||c.push(b+"-disabled");return c};function Gg(){}D(Gg,Eg);u(Gg);Gg.prototype.Xa=o("menu");Gg.prototype.mb=function(a,b){return Hc(a.e(),b)};Gg.prototype.D=o("goog-menu");Gg.prototype.Pb=function(a){Gg.d.Pb.call(this,a);T(a.e(),"haspopup","true")};rg("goog-menuseparator",function(){return new Dg});function Hg(){this.Ee=[]}D(Hg,og);u(Hg);function Ig(a,b){var c=a.Ee[b];if(!c){switch(b){case 0:c=a.D()+"-highlight";break;case 1:c=a.D()+"-checkbox";break;case 2:c=a.D()+"-content"}a.Ee[b]=c}return c}r=Hg.prototype;r.Xa=o("menuitem");r.r=function(a){var b=a.na().r("div",this.Kb(a).join(" "),Jg(this,a.nb,a.na())),c=!!(a.T&8)||!!(a.T&16);if(c!=Kg(this,b)){c?Pb(b,"goog-option"):Qb(b,"goog-option");var d=this.Q(b);if(c){c=Ig(this,1);d.insertBefore(a.na().r("div",c),d.firstChild||i)}else d.removeChild(d.firstChild)}return b};
r.Q=function(a){return a&&a.firstChild};r.Ab=function(a,b){var c=this.Q(a),d=Kg(this,a)?c.firstChild:i;Hg.d.Ab.call(this,a,b);d&&!Kg(this,a)&&c.insertBefore(d,c.firstChild||i)};function Jg(a,b,c){a=Ig(a,2);return c.r("div",a,b)}function Kg(a,b){var c=a.Q(b);if(c){c=c.firstChild;var d=Ig(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}r.Sc=function(a){switch(a){case 2:return Ig(this,0);case 16:case 8:return"goog-option-selected";default:return Hg.d.Sc.call(this,a)}};r.D=o("goog-menuitem");function Lg(a,b,c,d){X.call(this,a,d||Hg.ia(),c);this.Ja(b)}D(Lg,X);Lg.prototype.N=function(){var a=this.ee;return a!=i?a:this.Rc()};Lg.prototype.Ja=function(a){this.ee=a};Lg.prototype.Rc=function(){return vg(this,function(a){return Ta(Ob(a),"goog-menuitem-accel")?"":Mc(a)})};Lg.prototype.tb=function(a){var b=this.getParent();if(b){var c=b.uf;b.uf=i;if(b=c&&ea(a.clientX)){b=new M(a.clientX,a.clientY);b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y}if(b)return}Lg.d.tb.call(this,a)};rg("goog-menuitem",function(){return new Lg(i)});function Mg(a,b,c){$e.call(this,c);this.k=b||Eg.ia();this.Sb=a||Ng}D(Mg,$e);var Fg="horizontal",Ng="vertical";r=Mg.prototype;r.bf=i;r.O=i;r.k=i;r.Sb=i;r.s=!0;r.Pc=!0;r.Cd=!0;r.R=-1;r.K=i;r.bb=!1;r.Wf=!1;r.Ig=!0;r.Ua=i;r.M=function(){return this.bf||this.k.M(this)};r.Tc=function(){return this.O||(this.O=new Ke(this.M()))};r.r=function(){this.f=this.k.r(this)};r.Q=function(){return this.k.Q(this.e())};
r.aa=function(){Mg.d.aa.call(this);hf(this,function(b){b.B&&Og(this,b)},this);var a=this.e();this.k.Pb(this);this.va(this.s,!0);df(this).l(this,"enter",this.Ld).l(this,"highlight",this.Md).l(this,"unhighlight",this.Rd).l(this,"open",this.og).l(this,"close",this.hg).l(a,"mousedown",this.sb).l(N(a),"mouseup",this.jg).l(a,["mousedown","mouseup","mouseover","mouseout"],this.gg);this.vb()&&Pg(this,!0)};
function Pg(a,b){var c=df(a),d=a.M();b?c.l(d,"focus",a.rb).l(d,"blur",a.Qa).l(a.Tc(),"key",a.qa):c.U(d,"focus",a.rb).U(d,"blur",a.Qa).U(a.Tc(),"key",a.qa)}r.za=function(){Qg(this,-1);this.K&&this.K.I(!1);this.bb=!1;Mg.d.za.call(this)};r.h=function(){Mg.d.h.call(this);if(this.O){this.O.u();this.O=i}this.k=this.K=this.Ua=i};r.Ld=o(!0);
r.Md=function(a){var b=lf(this,a.target);if(b>-1&&b!=this.R){var c=V(this,this.R);c&&c.Sa(!1);this.R=b;c=V(this,this.R);this.bb&&c.setActive(!0);this.Ig&&this.K&&c!=this.K&&(c.T&64?c.I(!0):this.K.I(!1))}T(this.e(),"activedescendant",a.target.e().id)};r.Rd=function(a){if(a.target==V(this,this.R))this.R=-1;T(this.e(),"activedescendant","")};r.og=function(a){if((a=a.target)&&a!=this.K&&a.getParent()==this){this.K&&this.K.I(!1);this.K=a}};r.hg=function(a){if(a.target==this.K)this.K=i};
r.sb=function(a){if(this.Pc)this.bb=!0;var b=this.M();b&&Lc(b)?b.focus():a.preventDefault()};r.jg=function(){this.bb=!1};r.gg=function(a){var b;a:{b=a.target;if(this.Ua)for(var c=this.e();b&&b!==c;){var d=b.id;if(d in this.Ua){b=this.Ua[d];break a}b=b.parentNode}b=i}if(b)switch(a.type){case "mousedown":b.sb(a);break;case "mouseup":b.tb(a);break;case "mouseover":b.Qd(a);break;case "mouseout":b.Pd(a)}};r.rb=ba();r.Qa=function(){Qg(this,-1);this.bb=!1;this.K&&this.K.I(!1)};
r.qa=function(a){if(this.S()&&this.s&&(jf(this)!=0||this.bf)&&this.Mb(a)){a.preventDefault();a.stopPropagation();return!0}return!1};
r.Mb=function(a){var b=V(this,this.R);if(b&&typeof b.qa=="function"&&b.qa(a))return!0;if(this.K&&this.K!=b&&typeof this.K.qa=="function"&&this.K.qa(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.vb())this.M().blur();else return!1;break;case 36:Rg(this);break;case 35:Sg(this);break;case 38:if(this.Sb==Ng)Tg(this);else return!1;break;case 37:if(this.Sb==Fg)kf(this)?Ug(this):Tg(this);else return!1;break;case 40:if(this.Sb==Ng)Ug(this);else return!1;
break;case 39:if(this.Sb==Fg)kf(this)?Tg(this):Ug(this);else return!1;break;default:return!1}return!0};function Og(a,b){var c=b.e();c=c.id||(c.id=cf(b));if(!a.Ua)a.Ua={};a.Ua[c]=b}r.Lc=function(a,b){Mg.d.Lc.call(this,a,b)};r.ec=function(a,b,c){a.oe|=2;a.oe|=64;(this.vb()||!this.Wf)&&xg(a,32,!1);tg(a,!1);Mg.d.ec.call(this,a,b,c);c&&this.B&&Og(this,a);b<=this.R&&this.R++};
r.removeChild=function(a,b){if(a=x(a)?ff(this,a):a){var c=lf(this,a);if(c!=-1)if(c==this.R)a.Sa(!1);else c<this.R&&this.R--;var d=a.e();if(d&&d.id){c=this.Ua;d=d.id;d in c&&delete c[d]}}a=Mg.d.removeChild.call(this,a,b);tg(a,!0);return a};r.va=function(a,b){if(b||this.s!=a&&this.dispatchEvent(a?"show":"hide")){this.s=a;var c=this.e();if(c){le(c,a);if(this.vb())if(c=this.M())c.tabIndex=this.Pc&&this.s?0:-1;b||this.dispatchEvent(this.s?"aftershow":"afterhide")}return!0}return!1};r.S=n("Pc");r.vb=n("Cd");
r.Bb=function(a){a!=this.Cd&&this.B&&Pg(this,a);this.Cd=a;if(this.Pc&&this.s){var b=this.M();if(b)b.tabIndex=a?0:-1}};function Qg(a,b){var c=V(a,b);if(c)c.Sa(!0);else a.R>-1&&V(a,a.R).Sa(!1)}r.Sa=function(a){Qg(this,lf(this,a))};function Rg(a){Vg(a,function(b,c){return(b+1)%c},jf(a)-1)}function Sg(a){Vg(a,function(b,c){b--;return b<0?c-1:b},0)}function Ug(a){Vg(a,function(b,c){return(b+1)%c},a.R)}function Tg(a){Vg(a,function(b,c){b--;return b<0?c-1:b},a.R)}
function Vg(a,b,c){c=c<0?lf(a,a.K):c;var d=jf(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=V(a,c);if(g&&a.Ce(g)){Qg(a,c);break}f++;c=b.call(a,c,d)}}r.Ce=function(a){return a.s&&a.S()&&!!(a.T&2)};function Wg(){}D(Wg,og);u(Wg);Wg.prototype.D=o("goog-menuheader");function Xg(a,b,c){X.call(this,a,c||Wg.ia(),b);xg(this,1,!1);xg(this,2,!1);xg(this,4,!1);xg(this,32,!1);this.o=1}D(Xg,X);rg("goog-menuheader",function(){return new Xg(i)});function Yg(a,b){Mg.call(this,Ng,b||Gg.ia(),a);this.Bb(!1)}D(Yg,Mg);r=Yg.prototype;r.pd=!0;r.Xf=!1;r.D=function(){return this.k.D()};r.mb=function(a){if(this.k.mb(this,a))return!0;for(var b=0,c=jf(this);b<c;b++){var d=V(this,b);if(typeof d.mb=="function"&&d.mb(a))return!0}return!1};r.La=function(a){this.Lc(a,!0)};r.Eb=function(a,b){this.ec(a,b,!0)};r.Hd=function(a){return V(this,a)};r.kc=function(){return jf(this)};
r.ld=function(a,b){var c=this.s;c||le(this.e(),!0);he(this.e(),a,b);c||le(this.e(),!1)};r.va=function(a,b,c){(b=Yg.d.va.call(this,a,b))&&a&&this.B&&this.pd&&this.M().focus();this.uf=a&&c&&ea(c.clientX)?new M(c.clientX,c.clientY):i;return b};r.Ld=function(a){this.pd&&this.M().focus();return Yg.d.Ld.call(this,a)};r.Ce=function(a){return(this.Xf||a.S())&&a.s&&!!(a.T&2)};function Zg(){}D(Zg,zg);u(Zg);r=Zg.prototype;r.r=function(a){var b={"class":"goog-inline-block "+this.Kb(a).join(" "),title:a.Xc()||""};return a.na().r("div",b,this.vd(a.nb,a.na()))};r.Xa=o("button");r.Q=function(a){return a&&a.firstChild.firstChild};r.vd=function(a,b){return b.r("div","goog-inline-block "+(this.D()+"-outer-box"),b.r("div","goog-inline-block "+(this.D()+"-inner-box"),a))};r.D=o("goog-custom-button");function $g(){}D($g,Zg);u($g);if(I)$g.prototype.Ab=function(a,b){var c=$g.d.Q.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,sc(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};$g.prototype.Q=function(a){a=$g.d.Q.call(this,a&&a.firstChild);if(I&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};$g.prototype.vd=function(a,b){return $g.d.vd.call(this,[this.createCaption(a,b),b.r("div","goog-inline-block "+(this.D()+"-dropdown"),"\u00a0")],b)};
$g.prototype.createCaption=function(a,b){return b.r("div","goog-inline-block "+(this.D()+"-caption"),a)};$g.prototype.D=o("goog-menu-button");function Z(a,b,c,d){Bg.call(this,a,c||$g.ia(),d);xg(this,64,!0);b&&this.kd(b);this.w=new U(500)}D(Z,Bg);r=Z.prototype;r.ue=!0;r.ke=!1;r.Td=!1;r.Mg=!1;r.aa=function(){Z.d.aa.call(this);this.g&&ah(this,this.g,!0);T(this.e(),"haspopup","true")};r.za=function(){Z.d.za.call(this);if(this.g){this.I(!1);this.g.za();ah(this,this.g,!1);var a=this.g.e();a&&Ec(a)}};r.h=function(){Z.d.h.call(this);if(this.g){this.g.u();delete this.g}delete this.Kg;this.w.u()};
r.sb=function(a){Z.d.sb.call(this,a);if(this.o&4){this.I(!this.Ca(),a);if(this.g)this.g.bb=this.Ca()}};r.tb=function(a){Z.d.tb.call(this,a);if(this.g&&!(this.o&4))this.g.bb=!1};r.Ub=function(){this.setActive(!1);return!0};r.ig=function(a){this.g&&this.g.s&&!this.mb(a.target)&&this.I(!1)};r.mb=function(a){return a&&Hc(this.e(),a)||this.g&&this.g.mb(a)||!1};
r.Mb=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.g&&this.g.s){var b=this.g.qa(a);if(a.keyCode==27){this.I(!1);return!0}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.I(!0);return!0}return!1};r.Nd=function(){this.I(!1)};r.ng=function(){this.o&4||this.I(!1)};r.Qa=function(a){this.Td||this.I(!1);Z.d.Qa.call(this,a)};function bh(a){a.g||a.kd(new Yg(a.na()));return a.g||i}
r.kd=function(a){var b=this.g;if(a!=b){if(b){this.I(!1);this.B&&ah(this,b,!1);delete this.g}if(a){this.g=a;ef(a,this);a.va(!1);var c=this.Td;(a.pd=c)&&a.Bb(!0);this.B&&ah(this,a,!0)}}return b};r.La=function(a){bh(this).Lc(a,!0)};r.Eb=function(a,b){bh(this).ec(a,b,!0)};r.Hd=function(a){return this.g?V(this.g,a):i};r.kc=function(){return this.g?jf(this.g):0};r.va=function(a,b){var c=Z.d.va.call(this,a,b);c&&!this.s&&this.I(!1);return c};
r.I=function(a,b){Z.d.I.call(this,a);if(this.g&&!!(this.o&64)==a){if(a){this.g.B||(this.Mg?this.g.Xb(this.e().parentNode):this.g.Xb());this.Sf=ee(this.e());this.ye=ke(this.e());ch(this);Qg(this.g,-1)}else{this.setActive(!1);this.g.bb=!1;this.e()&&T(this.e(),"activedescendant","");if(this.gd!=i){this.gd=undefined;var c=this.g.e();c&&ie(c,"","")}}this.g.va(a,!1,b);c=df(this);var d=a?c.l:c.U;d.call(c,Oc(this.na()),"mousedown",this.ig,!0);this.Td&&d.call(c,this.g,"blur",this.ng);d.call(c,this.w,De,this.fd);
a?this.w.start():this.w.stop()}};function ch(a){if(a.g.B){var b=new ng(a.Kg||a.e(),a.ue?5:7,!a.ke,a.ke),c=a.g.e();if(!a.g.s){c.style.visibility="hidden";le(c,!0)}if(!a.gd&&a.ke)a.gd=je(c);b.yb(c,a.ue?4:6,i,a.gd);if(!a.g.s){le(c,!1);c.style.visibility="visible"}}}
r.fd=function(){var a=ke(this.e()),b=ee(this.e()),c;c=this.ye;c=c==a?!0:!c||!a?!1:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.Sf;c=c==b?!0:!c||!b?!1:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.ye=a;this.Sf=b;ch(this)}};function ah(a,b,c){var d=df(a);c=c?d.l:d.U;c.call(d,b,"action",a.Nd);c.call(d,b,"highlight",a.Md);c.call(d,b,"unhighlight",a.Rd)}r.Md=function(a){T(this.e(),"activedescendant",a.target.e().id)};
r.Rd=function(){V(this.g,this.g.R)||T(this.e(),"activedescendant","")};rg("goog-menu-button",function(){return new Z(i)});function dh(a){E.call(this);this.wb=[];eh(this,a)}D(dh,S);r=dh.prototype;r.gb=i;r.zb=i;r.kc=function(){return this.wb.length};r.Hd=function(a){return this.wb[a]||i};function eh(a,b){if(b){Ma(b,function(c){fh(this,c,!1)},a);Xa(a.wb,b)}}r.La=function(a){this.Eb(a,this.kc())};r.Eb=function(a,b){if(a){fh(this,a,!1);Ya(this.wb,b,0,a)}};r.Wc=n("gb");r.Cb=function(a){if(a!=this.gb){fh(this,this.gb,!1);this.gb=a;fh(this,a,!0)}this.dispatchEvent("select")};
r.Jd=function(){return this.gb?La(this.wb,this.gb):-1};r.clear=function(){var a=this.wb;if(!w(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.gb=i};r.h=function(){dh.d.h.call(this);delete this.wb;this.gb=i};function fh(a,b,c){if(b)if(typeof a.zb=="function")a.zb(b,c);else typeof b.me=="function"&&b.me(c)};function $(a,b,c,d){Z.call(this,a,b,c,d);this.xd=a;gh(this)}D($,Z);r=$.prototype;r.F=i;r.xd=i;r.aa=function(){$.d.aa.call(this);gh(this);hh(this)};r.h=function(){$.d.h.call(this);if(this.F){this.F.u();this.F=i}this.xd=i};r.Nd=function(a){this.Cb(a.target);$.d.Nd.call(this,a);a.stopPropagation();this.dispatchEvent("action")};r.pg=function(){var a=this.Wc();$.d.Ja.call(this,a&&a.N());gh(this)};
r.kd=function(a){var b=$.d.kd.call(this,a);if(a!=b){this.F&&this.F.clear();a&&(this.F?hf(a,function(c){this.F.La(c)},this):ih(this,a))}return b};r.La=function(a){$.d.La.call(this,a);this.F?this.F.La(a):ih(this,bh(this))};r.Eb=function(a,b){$.d.Eb.call(this,a,b);this.F?this.F.Eb(a,b):ih(this,bh(this))};r.Cb=function(a){this.F&&this.F.Cb(a)};r.Ja=function(a){if(a!=i&&this.F)for(var b=0,c;c=this.F.Hd(b);b++)if(c&&typeof c.N=="function"&&c.N()==a){this.Cb(c);return}this.Cb(i)};
r.Wc=function(){return this.F?this.F.Wc():i};r.Jd=function(){return this.F?this.F.Jd():-1};function ih(a,b){a.F=new dh;b&&hf(b,function(c){this.F.La(c)},a);hh(a)}function hh(a){a.F&&df(a).l(a.F,"select",a.pg)}function gh(a){var b=a.Wc();a.Ab(b?b.Rc():a.xd)}r.I=function(a,b){$.d.I.call(this,a,b);this.Ca()&&Qg(bh(this),this.Jd())};rg("goog-select",function(){return new $(i)});function jh(a,b){this.j=a;this.ka=new $("---");this.J=Q(this.ka,"action",function(c){c=c.target.N();a.Ha=c});this.ka.Xb(b)}D(jh,E);jh.prototype.Mc=function(a,b,c){a=new Lg(a,b);this.ka.La(a);if(c||this.ka.kc()==1){this.ka.Cb(a);this.j.Ha=b}};jh.prototype.h=function(){R(this.J);this.ka.u()};function kh(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function lh(a,b){var c;this.name="Bing Maps - "+a;var d="bingsCallback_"+a;c="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+d;s[d]=s[d]!==undefined?kh(z(this.Cf,this),s[d]):z(this.Cf,this);d=document.createElement("script");d.src=c;d.type="text/javascript";c=document;var f="head".toUpperCase();c=c.querySelectorAll&&c.querySelector&&(!K||Bc(document)||L("528"))&&f?c.querySelectorAll(f+""):c.getElementsByTagName(f||"*");c[0].appendChild(d)}D(lh,nb);r=lh.prototype;
r.Cf=function(a){this.pc=a;if(a.resourceSets.length>0)this.Ia=a.resourceSets[0].resources[0];this.Ge()};r.Vc=function(){return v(this.Ia)?0:this.Ia.zoomMin};r.Uc=function(){return v(this.Ia)?18:this.Ia.zoomMax};function mh(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}r.Kd=function(a,b,c){return v(this.Ia)?"":this.Ia.imageUrl.replace("{subdomain}",this.Ia.imageUrlSubdomains[Math.floor(Math.random()*this.Ia.imageUrlSubdomains.length)]).replace("{quadkey}",mh(a,b,c))};
r.ae=function(a){return v(this.Ia)?!1:lh.d.ae.call(this,a)};r.Nc=function(a){v(this.pc)||Cc(a,this.pc.copyright)};r.Id=function(){if(!v(this.pc))return this.pc.brandLogoUri;return i};r.pc=i;r.Ia=i;function nh(a){Vf.call(this,a)}D(nh,Vf);r=nh.prototype;r.re="gl_Position=uMVPMatrix*vec4(phi.x/PI,phi.y/PI,0.0,1.0);";r.ze=function(){return 1/Math.tan(this.b.a.Jb/2)*(2*this.b.bc/Math.pow(2,this.b.V)/2)*ag};r.Ae=function(){return Math.log(Math.cos(Math.abs(this.b.c.latitude))*2*Math.PI/(2*(this.b.c.altitude/ag)*Math.tan(this.b.a.Jb/2)/this.b.bc))/Math.LN2};
r.Kf=function(){Of(this.b.a,-this.b.c.he);Nf(this.b.a,-this.b.c.Bc);Of(this.b.a,-this.b.c.Zc);this.b.a.translate(-this.b.c.longitude/Math.PI,-ig(this.b.c.latitude)/Math.PI,-this.b.c.altitude/ag/2)};r.Jf=function(a,b){if(b.t==0)return i;else{var c=Zf(a,b.scale(-a.t/b.t));return[2*Math.atan(Math.exp(c.y*Math.PI))-Math.PI/2,c.x*Math.PI]}};r.Oe=function(a,b){return new Yf(b/Math.PI,ig(a)/Math.PI,0)};r.$e=o(!0);function oh(a,b,c,d){E.call(this);(!w(a)||!w(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.yc=a;this.cg=b;this.duration=c;this.se=d;this.coords=[]}D(oh,S);var ph={},qh=i;function rh(){Ce.clearTimeout(qh);var a=C(),b;for(b in ph)sh(ph[b],a);qh=va(ph)?i:Ce.setTimeout(rh,20)}function th(a){a=y(a);delete ph[a];if(qh&&va(ph)){Ce.clearTimeout(qh);qh=i}}r=oh.prototype;r.o=0;r.Ne=0;r.ja=0;r.startTime=i;r.Me=i;
r.Yd=i;r.play=function(a){if(a||this.o==0){this.ja=0;this.coords=this.yc}else if(this.o==1)return!1;th(this);this.startTime=C();this.o==-1&&(this.startTime-=this.duration*this.ja);this.Me=this.startTime+this.duration;this.Yd=this.startTime;this.ja||uh(this,"begin");uh(this,"play");this.o==-1&&uh(this,"resume");this.o=1;a=y(this);a in ph||(ph[a]=this);qh||(qh=Ce.setTimeout(rh,20));sh(this,this.startTime);return!0};
r.stop=function(a){th(this);this.o=0;if(a)this.ja=1;vh(this,this.ja);uh(this,"stop");uh(this,"end")};r.h=function(){this.o!=0&&this.stop(!1);uh(this,"destroy");oh.d.h.call(this)};function sh(a,b){a.ja=(b-a.startTime)/(a.Me-a.startTime);if(a.ja>=1)a.ja=1;a.Ne=1E3/(b-a.Yd);a.Yd=b;fa(a.se)?vh(a,a.se(a.ja)):vh(a,a.ja);if(a.ja==1){a.o=0;th(a);uh(a,"finish");uh(a,"end")}else a.o==1&&uh(a,"animate")}
function vh(a,b){a.coords=Array(a.yc.length);for(var c=0;c<a.yc.length;c++)a.coords[c]=(a.cg[c]-a.yc[c])*b+a.yc[c]}function uh(a,b){a.dispatchEvent(new wh(b,a))}function wh(a,b){$c.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.t=b.coords[2];this.duration=b.duration;this.ja=b.ja;this.Dd=b.Ne;this.state=b.o;this.kh=b}D(wh,$c);function xh(a){return 1-Math.pow(1-a,3)};function yh(a){this.j=a;this.Ad=!1;this.Le=this.Ke=this.eb=this.cb=0;this.J=i;this.zd=new U(20);this.ub=i;Q(this.j.a.canvas,"mousedown",z(this.Fg,this));Q(N(this.j.a.canvas),"mouseup",z(this.Hg,this));Q(this.zd,De,this.Dg,!1,this)}r=yh.prototype;r.Fg=function(a){if(!dd(a,2)&&!a.ctrlKey&&!a.altKey){if(this.ub){this.ub.stop(!1);this.ub.u();this.ub=i}this.Ad=!0;this.cb=a.screenX;this.eb=a.screenY;if(!v(this.J)){R(this.J);this.J=i}this.J=Q(N(this.j.a.canvas),"mousemove",z(this.Gg,this));a.preventDefault()}};
r.Hg=function(a){if(this.Ad&&a.type!="mousedown"){this.Ke=a.screenX;this.Le=a.screenY;a.preventDefault();if(dd(a,0))this.zd.start();else if(!v(this.J)){R(this.J);this.J=i}}};
function zh(a,b,c,d){if(d){a.j.c.Bc+=c/a.j.a.canvas.height*Math.PI/2;a.j.c.Zc+=b/a.j.a.canvas.width*Math.PI}else{d=Math.PI*(1/a.j.a.canvas.height)*(a.j.bc/Math.pow(2,a.j.V));var f=function(g){var h=b;b=h*Math.cos(g)-c*Math.sin(g);c=h*Math.sin(g)+c*Math.cos(g)};f(a.j.c.he);c/=Math.max(Math.abs(Math.cos(a.j.c.Bc)),0.1);f(-a.j.c.Zc);a.j.c.longitude-=b*2*d;a.j.c.latitude+=c*d;if(Math.abs(a.j.c.latitude)>Math.PI/2.1)a.j.c.latitude=(a.j.c.latitude==0?0:a.j.c.latitude<0?-1:1)*(Math.PI/2.1);a.j.c.longitude>
Math.PI&&(a.j.c.longitude-=2*Math.PI);a.j.c.longitude<-Math.PI&&(a.j.c.longitude+=2*Math.PI)}}r.Gg=function(a){zh(this,a.screenX-this.cb,a.screenY-this.eb,dd(a,1)||dd(a,0)&&a.shiftKey);this.cb=a.screenX;this.eb=a.screenY;a.preventDefault()};
r.Dg=function(){this.zd.stop();this.Ad=!1;if(!v(this.J)){R(this.J);this.J=i}var a=this.cb-this.Ke,b=this.eb-this.Le,c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));if(c>6){var d=Math.max(15,c)*8;this.ub=new oh([this.cb,this.eb],[this.cb+d*(a/c),this.eb+d*(b/c)],1300,xh);Q(this.ub,["animate"],this.sg,!1,this);this.ub.play(!1)}};r.sg=function(a){zh(this,a.x-this.cb,a.y-this.eb,!1);this.cb=a.x;this.eb=a.y};function Ah(a,b,c){this.df=a;this.gf=b;this.element=c;this.parentElement=i;this.enabled=!0}r=Ah.prototype;r.fc=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};r.detach=function(){if(this.parentElement){Ec(this.element);this.parentElement=i}};r.enable=function(a){(this.enabled=a||!1)||this.show(!1)};r.S=n("enabled");r.show=function(a){this.element.style.display=a===!1?"none":"block"};function Bh(a,b){this.j=a;this.f=b;this.de=new jb}function Ch(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^C()).toString(36);c.fc(a.f);a.de.ua(b,c)}
Bh.prototype.dh=function(a){a=this.de.get(a);if(a.S()){var b;a:{b=this.j;var c=b.Ha.Oe(a.df*Math.PI/180,a.gf*Math.PI/180),d=b.a.dd.multiply(new W([[c.x],[c.y],[c.t],[1]]));if(Ff(d,3,0)==0)b=i;else{d=d.multiply(1/Ff(d,3,0));var f=(Ff(d,0,0)+1)/2*b.a.xa;d=(Ff(d,1,0)-1)/-2*b.a.wa;var g=1;if(f<0||f>b.a.xa||d<0||d>b.a.wa)g=0;else{g=fg(0.5,0.5,0,b.a.ed,1,1);if(v(g)){b=i;break a}g=b.Ha.$e(c,g)?1:0}b=[f,d,g]}}if(b!=i){c=b[1];a.element.style.left=b[0].toFixed()+"px";a.element.style.top=c.toFixed()+"px";a.enabled&&
a.show(!0);a.show(b[2]>0)}else a.show(!1)}};function Dh(a){E.call(this);this.f=a;this.J=Q(this.f,I?"DOMMouseScroll":"mousewheel",this)}D(Dh,S);
Dh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.ha;if(a.type=="mousewheel"){c=1;if(H||K&&(Wb||L("532.0")))c=40;d=K&&G&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;if(a.wheelDeltaX!==undefined){b=K&&G&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c;c=K&&G&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c}else c=d}else{d=a.detail;if(d>100)d=3;else d<-100&&(d=-3);if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)b=d;else c=d}ea(this.kf)&&(b=ob(b,-this.kf,this.kf));ea(this.lf)&&
(c=ob(c,-this.lf,this.lf));b=new Eh(d,a,b,c);try{this.dispatchEvent(b)}finally{b.u()}};Dh.prototype.h=function(){Dh.d.h.call(this);R(this.J);delete this.J};function Eh(a,b,c,d){b&&this.Ob(b,aa);this.type="mousewheel";this.detail=a;this.lh=c;this.Ie=d}D(Eh,bd);function Fh(a){this.j=a;this.mf=new Dh(a.a.canvas);this.J=Q(this.mf,"mousewheel",function(b){Gh(this,-(b.Ie==0?0:b.Ie<0?-1:1));b.preventDefault()},!1,this);this.ag=Q(a.a.canvas,"dblclick",z(function(b){this.c.H?dg(this.c,this.c.altitude/2):hg(this,Math.floor(this.V+1));b.preventDefault()},a));this.Qg=Q(a.a.canvas,"mouseup",z(function(b){if(dd(b,2)){this.c.H?dg(this.c,this.c.altitude*2):hg(this,Math.ceil(this.V-1));b.preventDefault()}},a));this.Ag=Q(a.a.canvas,"contextmenu",function(b){b.preventDefault()});
this.fa=i;this.Db=this.Ta=0;this.H=a.c.H}D(Fh,E);
function Gh(a,b){var c=120;if(a.fa&&a.H!=a.j.c.H){a.fa.u();a.fa=i}a.H=a.j.c.H;a.H&&(b*=-1);if(a.fa)if(a.Db>a.Ta==b>0)return;else{a.fa.u();c*=((a.H?a.j.c.altitude:a.j.V)-a.Ta)/(a.Db-a.Ta);var d=a.Db;a.Db=a.Ta;a.Ta=d}else if(a.H){a.Ta=a.j.c.altitude;a.Db=a.Ta*Math.pow(2,b)}else{a.Ta=a.j.V;a.Db=a.Ta+b*0.5}if(!(c<=0)){a.fa=new oh([a.H?a.j.c.altitude:a.j.V],[a.Db],c);Q(a.fa,["animate","finish"],function(f){this.H?dg(this.j.c,f.x):hg(this.j,f.x)},!1,a);Q(a.fa,["finish"],a.dg,!1,a);a.fa.play(!1)}}
Fh.prototype.dg=function(){if(this.fa){this.fa.u();this.fa=i}};Fh.prototype.h=function(){R(this.J);R(this.ag);R(this.Qg);R(this.Ag);this.mf.u();this.fa.u()};function Hh(a,b){var c=xc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
Ah.call(this,a,b,c);this.show(!1)}D(Hh,Ah);function Ih(a,b){this.j=a;this.ka=new $("---");this.J=Q(this.ka,"action",function(c){a.hc(c.target.N())});this.ka.Xb(b)}D(Ih,E);Ih.prototype.lb=function(a,b){var c=new Lg(a.name,a);this.ka.La(c);if(b||this.ka.kc()==1){this.ka.Cb(c);this.j.hc(a)}};Ih.prototype.h=function(){R(this.J);this.ka.u()};function Jh(a){v(a)||function(){this.a=new Jf(a,uc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});Kf(this.a);this.hf=new U(15);Q(this.hf,De,z(function(){var g=this.a,h=g.z;if(!v(g.Ed)){var j=C();if(g.Xd<C()-2E3){g.Dd=1E3*g.Qc/(C()-g.Xd);g.xe=g.Fd/g.Qc;g.Xd=C();g.Qc=0;g.Fd=0;g.Ed.innerHTML=g.xe.toFixed(2)+" ms / fps: "+g.Dd.toFixed(2)}g.Qc++}h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT);g.Ea=Af(4);h=g.b;var k=h.a.z;if(h.c.H){h.V=ob(h.Ha.Ae(),Math.max(3,
h.ga.Vc()),h.ga.Uc());h.hb=1<<Math.floor(h.V)}else h.c.altitude=h.Ha.ze();if(!v(h.Ye))h.Ye.innerHTML=(h.c.latitude*180/Math.PI).toFixed(4)+"; "+(h.c.longitude*180/Math.PI).toFixed(4)+" @ "+h.c.altitude.toFixed(0)+"m "+(h.c.H?"->":"<-")+" z="+h.V.toFixed(3)+"; BufferQueue size: "+h.ea.ma.length+"; Currently loading tiles: "+h.ga.mc;h.Ha.Kf();k.useProgram(h.Ha.be.Fa);var l=h.Ha.be;k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,h.ea.Fb);k.uniform1i(l.Xg,0);var q=cb(h.ea.oc);k.uniform4fv(l.xg,
new Float32Array(q));q=new Float32Array(cb(Ef(Pf(h.a)).qe()));var m=h.Bf[Math.min(Math.floor(h.V),h.Bf.length-1)];k.bindBuffer(k.ARRAY_BUFFER,m.dc);k.vertexAttribPointer(l.Rf,m.dc.Ud,k.FLOAT,!1,0,0);k.bindBuffer(k.ARRAY_BUFFER,m.zc);k.vertexAttribPointer(l.Ef,m.zc.Ud,k.FLOAT,!1,0,0);k.uniformMatrix4fv(l.yg,!1,q);k.uniform1f(l.$g,256);k.uniform1f(l.jh,Math.floor(h.V));k.uniform1f(l.Yg,h.hb);k.uniform2fv(l.Bg,h.qc);k.drawArrays(k.TRIANGLES,0,m.dc.pf);!v(g.Ed)&&(g.Fd+=C()-j);g=this.ce;Ma(g.de.qb(),g.dh,
g)},this));this.a.b=new gg(this.a,uc("weapp-infobox"),uc("weapp-mapcopyright"),uc("weapp-maplogo"));this.mh=new yh(this.a.b);this.oh=new Fh(this.a.b);this.ah=new Ih(this.a.b,uc("weapp-tileprovider"));this.Rg=new jh(this.a.b,uc("weapp-rendershape"));var b=uc("weapp-nominatim");this.of=new Ve(b);this.ce=new Bh(this.a.b,a.parentNode);var c=new Hh(0,0);c.enable(!1);Ch(this.ce,"nominatimMarker",c);var d=z(function(g){this.a.b.c.ld(g.lat,g.lon);this.a.b.c.Bc=0;c.enable(!0);c.df=g.lat;c.gf=g.lon},this);
this.of.addEventListener("update",function(g){d(g.Yb)});Q(uc("weapp-nominatimform"),"submit",z(function(g){g.preventDefault();this.of.search(b.value,1,function(h,j){j.length>0&&d(j[0])})},this));var f=z(function(){function g(l){var q=h.indexOf(l+"=");if(!(q<0)){q+=l.length+1;l=h.indexOf(";",q);return h.substring(q,l>0?l:h.length)}}var h=window.location.hash,j=g("zoom")||g("z");isNaN(j)||hg(this.a.b,j);j=g("alt");isNaN(j)||dg(this.a.b.c,j);j=g("ll");if(j!=i){j=j.split(",");j.length>1&&!isNaN(j[0])&&
!isNaN(j[1])&&this.a.b.c.ld(j[0],j[1])}else{j=g("lat");var k=g("lon")||g("long");!isNaN(j)&&!isNaN(k)&&this.a.b.c.ld(j,k)}},this);this.Xe=new U(2E3);Q(this.Xe,De,z(function(){window.location.hash="#ll="+(this.a.b.c.latitude*180/Math.PI).toFixed(5)+","+(this.a.b.c.longitude*180/Math.PI).toFixed(5)+(this.a.b.c.H?";alt="+this.a.b.c.altitude.toFixed(0):";z="+this.a.b.V.toFixed(2))},this));this.Xe.start();window.addEventListener("hashchange",f,!1);f();Q(this.a.canvas,"click",z(function(g){if(g.ctrlKey){var h=
eg(this.a.b,g.offsetX,g.offsetY);Ch(this.ce,i,new Hh(h[0],h[1]));g.preventDefault()}},this));Q(window.document,"keydown",function(g){if(g.keyCode==70&&g.ctrlKey){this.H=!this.H;g.preventDefault()}},!1,this.a.b.c)}.call(this)}Jh.prototype.lb=function(a){this.ah.lb(a)};Jh.prototype.Mc=function(a,b){this.Rg.Mc(a,b)};Jh.prototype.start=function(){this.a.Af();this.hf.start()};
function Kh(){var a=new Jh(uc("weapp-canvas"));a.lb(new Ze);a.lb(new Ye);a.lb(new lh("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.lb(new lh("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.lb(new lh("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Mc("Globe",new $f(a.a.b));a.Mc("Mercator",new nh(a.a.b));a.start()}var Lh="WEApp".split("."),Mh=s;
!(Lh[0]in Mh)&&Mh.execScript&&Mh.execScript("var "+Lh[0]);for(var Nh;Lh.length&&(Nh=Lh.shift());)if(!Lh.length&&Kh!==undefined)Mh[Nh]=Kh;else Mh=Mh[Nh]?Mh[Nh]:Mh[Nh]={};