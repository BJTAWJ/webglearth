/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,m=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function r(a){return function(){return a}}var s,t=this;function u(){}function ca(a){a.ua=function(){return a.cj||(a.cj=new a)}}
function da(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===m}function x(a){return da(a)=="array"}function ea(a){var b=da(a);return b=="array"||b=="object"&&typeof a.length=="number"}function y(a){return typeof a=="string"}function fa(a){return typeof a=="number"}function ga(a){return da(a)=="function"}function ha(a){a=da(a);return a=="object"||a=="array"||a=="function"}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ka=0;function la(a){return a.call.apply(a.bind,arguments)}function ma(a,b){var c=b||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}else return function(){return a.apply(c,arguments)}}
function z(){z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma;return z.apply(m,arguments)}function na(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var C=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function E(){oa&&(pa[ia(this)]=this)}var oa=!1,pa={};E.prototype.wf=!1;E.prototype.m=function(){if(!this.wf&&(this.wf=!0,this.g(),oa)){var a=ia(this);pa.hasOwnProperty(a)||e(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete pa[a]}};E.prototype.g=aa();function qa(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.nc=d||0;this.Ea=m;this.state=ra}D(qa,E);qa.prototype.g=function(){delete this.Ea};var ra=0;function sa(a,b){for(var c in a)b.call(i,a[c],c,a)}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function va(a){for(var b in a)return!1;return!0}function wa(a,b){b in a&&delete a[b]}function xa(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var ya=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function za(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<ya.length;f++)b=ya[f],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}}function Aa(){var a=arguments.length;if(a==1&&x(arguments[0]))return Aa.apply(m,arguments[0]);a%2&&e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function Ba(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ca=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Da(a){a=String(a);if(!Ca.test(a))return encodeURIComponent(a);return a}function Ea(a){if(!Fa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ga,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ha,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ia,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ja,"&quot;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/\"/g,Fa=/[&<>\"]/;
function Ka(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function La(a,b){for(var c=0,d=Ba(String(a)).split("."),f=Ba(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var o=l.exec(j)||["","",""],q=p.exec(k)||["","",""];if(o[0].length==0&&q[0].length==0)break;c=Ma(o[1].length==0?0:parseInt(o[1],10),q[1].length==0?0:parseInt(q[1],10))||Ma(o[2].length==0,q[2].length==0)||Ma(o[2],q[2])}while(c==0)}return c}
function Ma(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var F=Array.prototype,Na=F.indexOf?function(a,b,c){return F.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(y(a)){if(!y(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},G=F.forEach?function(a,b,c){F.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Oa=F.filter?function(a,b,c){return F.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=
0,h=y(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},Pa=F.map?function(a,b,c){return F.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=y(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Qa=F.every?function(a,b,c){return F.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};function Ra(a,b){return Na(a,b)>=0}
function Sa(a,b){var c=Na(a,b);c>=0&&F.splice.call(a,c,1)}function Ta(){return F.concat.apply(F,arguments)}function Ua(a){if(x(a))return Ta(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Va(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(x(c)||(d=ea(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Wa(a){F.splice.apply(a,Xa(arguments,1))}
function Xa(a,b,c){return arguments.length<=2?F.slice.call(a,b):F.slice.call(a,b,c)}function Ya(a,b){F.sort.call(a,b||Za)}function Za(a,b){return a>b?1:a<b?-1:0}function $a(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];x(c)?a.push.apply(a,$a.apply(m,c)):a.push(c)}return a};var ab="StopIteration"in t?t.StopIteration:Error("StopIteration");function bb(){}bb.prototype.next=function(){e(ab)};bb.prototype.Nf=function(){return this};function cb(a){if(a instanceof bb)return a;if(typeof a.Nf=="function")return a.Nf(!1);if(ea(a)){var b=0,c=new bb;c.next=function(){for(;;)if(b>=a.length&&e(ab),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function db(a,b,c){if(ea(a))try{G(a,b,c)}catch(d){d!==ab&&e(d)}else{a=cb(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==ab&&e(f)}}};function eb(a){if(typeof a.Lb=="function")return a.Lb();if(y(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ta(a)}function fb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ea(a)||y(a))G(a,b,c);else{var d;if(typeof a.$b=="function")d=a.$b();else if(typeof a.Lb!="function")if(ea(a)||y(a))for(var d=[],f=a.length,g=0;g<f;g++)d.push(g);else d=ua(a);else d=i;for(var f=eb(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function gb(a){this.Ta={};this.z=[];var b=arguments.length;if(b>1){b%2&&e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){a instanceof gb?(b=a.$b(),c=a.Lb()):(b=ua(a),c=ta(a));for(var d=0;d<b.length;d++)this.set(b[d],c[d])}}s=gb.prototype;s.w=0;s.Bd=0;s.qf=n("w");s.Lb=function(){hb(this);for(var a=[],b=0;b<this.z.length;b++)a.push(this.Ta[this.z[b]]);return a};s.$b=function(){hb(this);return this.z.concat()};
s.Rb=function(a){return ib(this.Ta,a)};s.xf=function(a,b){if(this===a)return!0;if(this.w!=a.qf())return!1;var c=b||jb;hb(this);for(var d,f=0;d=this.z[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function jb(a,b){return a===b}s.clear=function(){this.Ta={};this.Bd=this.w=this.z.length=0};s.remove=function(a){if(ib(this.Ta,a))return delete this.Ta[a],this.w--,this.Bd++,this.z.length>2*this.w&&hb(this),!0;return!1};
function hb(a){if(a.w!=a.z.length){for(var b=0,c=0;b<a.z.length;){var d=a.z[b];ib(a.Ta,d)&&(a.z[c++]=d);b++}a.z.length=c}if(a.w!=a.z.length){for(var f={},c=b=0;b<a.z.length;)d=a.z[b],ib(f,d)||(a.z[c++]=d,f[d]=1),b++;a.z.length=c}}s.get=function(a,b){if(ib(this.Ta,a))return this.Ta[a];return b};s.set=function(a,b){ib(this.Ta,a)||(this.w++,this.z.push(a),this.Bd++);this.Ta[a]=b};s.sa=function(){return new gb(this)};
s.Nf=function(a){hb(this);var b=0,c=this.z,d=this.Ta,f=this.Bd,g=this,h=new bb;h.next=function(){for(;;){f!=g.Bd&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(ab);var h=c[b++];return a?h:d[h]}};return h};function ib(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function kb(a){this.name=a}s=kb.prototype;s.Kf=r(0);s.$g=u;s.dd=0;s.tf=function(a){a.Ea=new Image;a.Ea.onload=function(b){return function(){a.state=20;b.dd--;b.$g(a)}}(this);a.Ea.onerror=function(b){return function(){a.state=-10;b.dd--}}(this);a.state=10;a.Ea.src=this.Wc(a.zoom,a.x,a.y);this.dd++;return!0};s.se=aa();s.Ff=r(m);s.Pg=u;function lb(a){return Math.floor(Math.random()*a)}function mb(a,b,c){return Math.min(Math.max(a,b),c)}function nb(a,b){var c=a%b;return c*b<0?c+b:c}function ob(a){return a==0?0:a<0?-1:1};function pb(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(m);return b?"":c.responseText}function qb(a){a=nb(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function rb(a,b,c,d,f,g,h){this.name=a;this.url=b;this.gj=c;this.fj=d;this.hj=f;this.dj=g===!0;this.Mf=h||[]}D(rb,kb);rb.prototype.Kf=n("gj");rb.prototype.wb=n("fj");rb.prototype.bc=n("hj");rb.prototype.Wc=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.dj?(1<<a)-c-1:c).toFixed(0));this.Mf.length>0&&(d=d.replace("{sub}",this.Mf[lb(this.Mf.length)]));return d};var sb,tb,ub,vb,wb,xb,yb;function zb(){return t.navigator?t.navigator.userAgent:m}function Ab(){return t.navigator}var wb=vb=ub=tb=sb=!1,Bb;if(Bb=zb())var Cb=Ab(),sb=Bb.indexOf("Opera")==0,tb=!sb&&Bb.indexOf("MSIE")!=-1,vb=(ub=!sb&&Bb.indexOf("WebKit")!=-1)&&Bb.indexOf("Mobile")!=-1,wb=!sb&&!ub&&Cb.product=="Gecko";var Db=sb,H=tb,I=wb,J=ub,Fb=vb,Gb,Hb=Ab(),Gb=Hb&&Hb.platform||"",xb=Gb.indexOf("Mac")!=-1,yb=Gb.indexOf("Win")!=-1,Ib=!!Ab()&&(Ab().appVersion||"").indexOf("X11")!=-1,Jb;
a:{var Kb="",Lb;if(Db&&t.opera)var Mb=t.opera.version,Kb=typeof Mb=="function"?Mb():Mb;else if(I?Lb=/rv\:([^\);]+)(\)|;)/:H?Lb=/MSIE\s+([^\);]+)(\)|;)/:J&&(Lb=/WebKit\/(\S+)/),Lb)var Nb=Lb.exec(zb()),Kb=Nb?Nb[1]:"";if(H){var Ob,Pb=t.document,Ob=Pb?Pb.documentMode:i;if(Ob>parseFloat(Kb)){Jb=String(Ob);break a}}Jb=Kb}var Qb={};function K(a){return Qb[a]||(Qb[a]=La(Jb,a)>=0)};function L(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}L.prototype.sa=function(){return new L(this.x,this.y)};function Rb(a,b){return new L(a.x-b.x,a.y-b.y)};function Sb(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Sb.prototype.sa=function(){return new Sb(this.top,this.right,this.bottom,this.left)};Sb.prototype.contains=function(a){a=!this||!a?!1:a instanceof Sb?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};function Tb(a,b){this.width=a;this.height=b}function Ub(a,b){if(a==b)return!0;if(!a||!b)return!1;return a.width==b.width&&a.height==b.height}s=Tb.prototype;s.sa=function(){return new Tb(this.width,this.height)};s.je=function(){return this.width/this.height};s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};s.scale=function(a){this.width*=a;this.height*=a;return this};function Vb(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Vb.prototype.sa=function(){return new Vb(this.left,this.top,this.width,this.height)};Vb.prototype.contains=function(a){return a instanceof Vb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Vb.prototype.ub=function(){return new Tb(this.width,this.height)};var Wb;function Xb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Yb(a){for(var b=Xb(a),c=Xa(arguments,1),d,d=b,f=0,g=0;g<c.length;g++)Ra(d,c[g])||(d.push(c[g]),f++);d=f==c.length;a.className=b.join(" ");return d}function Zb(a){for(var b=Xb(a),c=Xa(arguments,1),d,d=b,f=0,g=0;g<d.length;g++)Ra(c,d[g])&&(Wa(d,g--,1),f++);d=f==c.length;a.className=b.join(" ");return d};var $b=!H||K("9");!I&&!H||H&&K("9")||I&&K("1.9.1");var ac=H&&!K("9");function M(a){return a?new bc(N(a)):Wb||(Wb=new bc)}function O(a){return y(a)?document.getElementById(a):a}
function cc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!J||dc(document)||K("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&Ra(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function ec(a,b){sa(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in fc?a.setAttribute(fc[d],b):a[d]=b})}var fc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function gc(){return hc(document,arguments)}
function hc(a,b){var c=b[0],d=b[1];if(!$b&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var f={};za(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)y(d)?c.className=d:x(d)?Yb.apply(m,[c].concat(d)):ec(c,d);b.length>2&&ic(a,c,b,2);return c}
function ic(a,b,c,d){function f(c){c&&b.appendChild(y(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ea(g)&&!(ha(g)&&g.nodeType>0)?G(jc(g)?Ua(g):g,f):f(g)}}function dc(a){return a.compatMode=="CSS1Compat"}function kc(a){ic(N(a),a,arguments,1)}function lc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function mc(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function nc(a){if(a.firstElementChild!=i)return a.firstElementChild;for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function oc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function N(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function pc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else lc(a),a.appendChild(N(a).createTextNode(b))}var qc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},rc={IMG:" ",BR:"\n"};function sc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified)return a=a.tabIndex,fa(a)&&a>=0;return!1}
function tc(a){if(ac&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];uc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");H||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""));return a}
function uc(a,b,c){if(!(a.nodeName in qc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in rc)b.push(rc[a.nodeName]);else for(a=a.firstChild;a;)uc(a,b,c),a=a.nextSibling}function jc(a){if(a&&typeof a.length=="number")if(ha(a))return typeof a.item=="function"||typeof a.item=="string";else if(ga(a))return typeof a.item=="function";return!1}function bc(a){this.A=a||t.document||document}s=bc.prototype;s.T=M;
function vc(a){return a.A}s.c=function(a){return y(a)?this.A.getElementById(a):a};s.p=function(){return hc(this.A,arguments)};s.createElement=function(a){return this.A.createElement(a)};s.createTextNode=function(a){return this.A.createTextNode(a)};function wc(a){var b=a.A,a=!J&&dc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new L(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=kc;s.zg=lc;s.removeNode=mc;s.Ig=nc;
s.contains=oc;function xc(a,b){var c=N(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m)))return c[b]||c.getPropertyValue(b);return""}function yc(a,b){return xc(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function zc(a,b,c){var d,f=I&&(xb||Ib)&&K("1.9");b instanceof L?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ac(d,f);a.style.top=Ac(b,f)}
function Bc(a){var a=a?a.nodeType==9?a:N(a):document,b;if(b=H)if(b=!K(9))b=M(a),b=!dc(b.A);if(b)return a.body;return a.documentElement}function Cc(a){var b=a.getBoundingClientRect();if(H)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Dc(a){if(H)return a.offsetParent;for(var b=N(a),c=yc(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=yc(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return m}
function Ec(a){for(var b=new Sb(0,Infinity,Infinity,0),c=M(a),d=c.A.body,f=!J&&dc(c.A)?c.A.documentElement:c.A.body,g;a=Dc(a);)if((!H||a.clientWidth!=0)&&(!J||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&yc(a,"overflow")!="visible"){var h=Fc(a),j;j=a;if(I&&!K("1.9")){var k=parseFloat(xc(j,"borderLeftWidth"));if(Gc(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(xc(j,"borderRightWidth"));k+=l}j=new L(k,parseFloat(xc(j,"borderTopWidth")))}else j=new L(j.clientLeft,
j.clientTop);h.x+=j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);g=g||a!=f}d=f.scrollLeft;f=f.scrollTop;J?(b.left+=d,b.top+=f):(b.left=Math.max(b.left,d),b.top=Math.max(b.top,f));if(!g||J)b.right+=d,b.bottom+=f;c=c.A.parentWindow||c.A.defaultView||window;g=c.document;J&&!K("500")&&!Fb?(typeof c.innerHeight=="undefined"&&(c=window),g=c.innerHeight,a=c.document.documentElement.scrollHeight,
c==c.top&&a<g&&(g-=15),c=new Tb(c.innerWidth,g)):(c=dc(g)?g.documentElement:g.body,c=new Tb(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:m}
function Fc(a){var b,c=N(a),d=yc(a,"position"),f=I&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new L(0,0),h=Bc(c);if(a==h)return g;if(a.getBoundingClientRect)b=Cc(a),a=wc(M(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(J&&
yc(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Db||J&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Dc(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Db||b.tagName!="TR")g.y-=b.scrollTop}return g}
function Hc(a){var b=new L;if(a.nodeType==1)if(a.getBoundingClientRect)a=Cc(a),b.x=a.left,b.y=a.top;else{var c=wc(M(a)),a=Fc(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ga(a.bj),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.ra.targetTouches&&(d=a.ra.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Ic(a,b,c){var d=Fc(a);if(b instanceof L)c=b.y,b=b.x;zc(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Jc(a,b,c){b instanceof Tb?(c=b.height,b=b.width):c==i&&e(Error("missing height argument"));a.style.width=Ac(b,!0);a.style.height=Ac(c,!0)}function Ac(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function Kc(a){if(yc(a,"display")!="none")return new Tb(a.offsetWidth,a.offsetHeight);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var g=a.offsetWidth,a=a.offsetHeight;b.display=c;b.position=f;b.visibility=d;return new Tb(g,a)}function Lc(a){var b=Fc(a),a=Kc(a);return new Vb(b.x,b.y,a.width,a.height)}function Mc(a,b){a.style.display=b?"":"none"}function Gc(a){return"rtl"==yc(a,"direction")}
var Nc=I?"MozUserSelect":J?"WebkitUserSelect":m;function Oc(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(Nc){if(b=b?"none":"",a.style[Nc]=b,c)for(var a=0,d;d=c[a];a++)d.style[Nc]=b}else if(H||Db)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var Pc={thin:2,medium:4,thick:6};
function Qc(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:m)=="none")return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;if(c in Pc)return Pc[c];var d;if(/^\d+px?$/.test(c))d=parseInt(c,10);else{var d=a.style.left,f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;d=c}return d};var Rc;var Sc=!H||K("9"),Tc=H&&!K("8");function P(a,b){E.call(this);this.type=a;this.currentTarget=this.target=b}D(P,E);s=P.prototype;s.g=function(){delete this.type;delete this.target;delete this.currentTarget};s.rc=!1;s.Cd=!0;s.stopPropagation=function(){this.rc=!0};s.preventDefault=function(){this.Cd=!1};function Uc(a){a.preventDefault()};var Vc=new Function("a","return a");function Wc(a,b){a&&this.Mb(a,b)}D(Wc,P);var Xc=[1,4,2],s=Wc.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=!1;s.altKey=!1;s.shiftKey=!1;s.metaKey=!1;s.Zi=!1;s.ra=m;
s.Mb=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I)try{Vc(d.nodeName)}catch(f){d=m}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Zi=xb?a.metaKey:a.ctrlKey;this.state=a.state;this.ra=a;delete this.Cd;delete this.rc};function Yc(a,b){return Sc?a.ra.button==b:a.type=="click"?b==0:!!(a.ra.button&Xc[b])}function Zc(a){return Yc(a,0)&&!(J&&xb&&a.ctrlKey)}
s.stopPropagation=function(){Wc.a.stopPropagation.call(this);this.ra.stopPropagation?this.ra.stopPropagation():this.ra.cancelBubble=!0};s.preventDefault=function(){Wc.a.preventDefault.call(this);var a=this.ra;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Tc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};s.bj=n("ra");s.g=function(){Wc.a.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.ra=m};function $c(){}var ad=0,s=$c.prototype;s.key=0;s.Tc=!1;s.ih=!1;s.Mb=function(a,b,c,d,f,g){ga(a)?this.hh=!0:a&&a.handleEvent&&ga(a.handleEvent)?this.hh=!1:e(Error("Invalid listener argument"));this.Mc=a;this.Wg=b;this.src=c;this.type=d;this.capture=!!f;this.me=g;this.ih=!1;this.key=++ad;this.Tc=!1};s.handleEvent=function(a){if(this.hh)return this.Mc.call(this.me||this.src,a);return this.Mc.handleEvent.call(this.Mc,a)};var bd,cd=(bd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";function dd(a,b){E.call(this);this.lh=b;this.pc=[];a>this.lh&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.pc.push(this.vb?this.vb():{})}D(dd,E);dd.prototype.vb=m;dd.prototype.fh=m;dd.prototype.getObject=function(){if(this.pc.length)return this.pc.pop();return this.vb?this.vb():{}};function ed(a,b){a.pc.length<a.lh?a.pc.push(b):fd(a,b)}function fd(a,b){if(a.fh)a.fh(b);else if(ha(b))if(ga(b.m))b.m();else for(var c in b)delete b[c]}
dd.prototype.g=function(){dd.a.g.call(this);for(var a=this.pc;a.length;)fd(this,a.pop());delete this.pc};var gd,hd,id,jd,kd,ld,md,nd,od,pd,qd;
(function(){function a(){return{w:0,Ra:0}}function b(){return[]}function c(){function a(b){return h.call(a.src,a.key,b)}return a}function d(){return new $c}function f(){return new Wc}var g=bd&&!(La(cd,"5.7")>=0),h;ld=function(a){h=a};if(g){gd=function(){return j.getObject()};hd=function(a){ed(j,a)};id=function(){return k.getObject()};jd=function(a){ed(k,a)};kd=function(){return l.getObject()};md=function(){ed(l,c())};nd=function(){return p.getObject()};od=function(a){ed(p,a)};pd=function(){return o.getObject()};
qd=function(a){ed(o,a)};var j=new dd(0,600);j.vb=a;var k=new dd(0,600);k.vb=b;var l=new dd(0,600);l.vb=c;var p=new dd(0,600);p.vb=d;var o=new dd(0,600);o.vb=f}else gd=a,hd=u,id=b,jd=u,kd=c,md=u,nd=d,od=u,pd=f,qd=u})();var rd={},Q={},sd={},td={};
function R(a,b,c,d,f){if(b)if(x(b)){for(var g=0;g<b.length;g++)R(a,b[g],c,d,f);return m}else{var d=!!d,h=Q;b in h||(h[b]=gd());h=h[b];d in h||(h[d]=gd(),h.w++);var h=h[d],j=ia(a),k;h.Ra++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.Mc==c&&h.me==f){if(h.Tc)break;return k[g].key}}else k=h[j]=id(),h.w++;g=kd();g.src=a;h=nd();h.Mb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);rd[c]=h;sd[j]||(sd[j]=id());sd[j].push(h);a.addEventListener?(a==t||!a.Tg)&&a.addEventListener(b,g,d):a.attachEvent(ud(b),g);return c}else e(Error("Invalid event type"))}
function vd(a,b,c,d,f){if(x(b))for(var g=0;g<b.length;g++)vd(a,b[g],c,d,f);else if(d=!!d,a=wd(a,b,d))for(g=0;g<a.length;g++)if(a[g].Mc==c&&a[g].capture==d&&a[g].me==f){S(a[g].key);break}}function S(a){if(rd[a]){var b=rd[a];if(!b.Tc){var c=b.src,d=b.type,f=b.Wg,g=b.capture;c.removeEventListener?(c==t||!c.Tg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(ud(d),f);c=ia(c);f=Q[d][g][c];if(sd[c]){var h=sd[c];Sa(h,b);h.length==0&&delete sd[c]}b.Tc=!0;f.dh=!0;xd(d,g,c,f);delete rd[a]}}}
function xd(a,b,c,d){if(!d.re&&d.dh){for(var f=0,g=0;f<d.length;f++)if(d[f].Tc){var h=d[f].Wg;h.src=m;md(h);od(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.dh=!1;g==0&&(jd(d),delete Q[a][b][c],Q[a][b].w--,Q[a][b].w==0&&(hd(Q[a][b]),delete Q[a][b],Q[a].w--),Q[a].w==0&&(hd(Q[a]),delete Q[a]))}}
function yd(a){var b,c=0,d=b==m,b=!!b;if(a==m)sa(sd,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}});else if(a=ia(a),sd[a])for(var a=sd[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)S(g.key),c++}}function wd(a,b,c){var d=Q;if(b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a])))return d[a];return m}function ud(a){if(a in td)return td[a];return td[a]="on"+a}
function zd(a,b,c,d,f){var g=1,b=ia(b);if(a[b]){a.Ra--;a=a[b];a.re?a.re++:a.re=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Tc&&(g&=Ad(k,f)!==!1)}}finally{a.re--,xd(c,d,b,a)}}return Boolean(g)}function Ad(a,b){var c=a.handleEvent(b);a.ih&&S(a.key);return c}
ld(function(a,b){if(!rd[a])return!0;var c=rd[a],d=c.type,f=Q;if(!(d in f))return!0;var f=f[d],g,h;Rc===i&&(Rc=H&&!t.addEventListener);if(Rc){var j;if(!(j=b))a:{for(var j="window.event".split("."),k=t;g=j.shift();)if(k[g]!=m)k=k[g];else{j=m;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(p){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=pd();l.Mb(g,this);g=!0;try{if(j){for(var o=id(),q=l.currentTarget;q;q=
q.parentNode)o.push(q);h=f[!0];h.Ra=h.w;for(var A=o.length-1;!l.rc&&A>=0&&h.Ra;A--)l.currentTarget=o[A],g&=zd(h,o[A],d,!0,l);if(k){h=f[!1];h.Ra=h.w;for(A=0;!l.rc&&A<o.length&&h.Ra;A++)l.currentTarget=o[A],g&=zd(h,o[A],d,!1,l)}}else g=Ad(c,l)}finally{if(o)o.length=0,jd(o);l.m();qd(l)}return g}d=new Wc(b,this);try{g=Ad(c,d)}finally{d.m()}return g});function Bd(a){E.call(this);this.Vg=a}D(Bd,E);var Cd=new dd(0,100),Dd=[];Bd.prototype.h=function(a,b,c,d,f){x(b)||(Dd[0]=b,b=Dd);for(var g=0;g<b.length;g++){var h=R(a,b[g],c||this,d||!1,f||this.Vg||this);this.z?this.z[h]=!0:this.Tb?(this.z=Cd.getObject(),this.z[this.Tb]=!0,this.Tb=m,this.z[h]=!0):this.Tb=h}return this};
Bd.prototype.W=function(a,b,c,d,f){if(this.Tb||this.z)if(x(b))for(var g=0;g<b.length;g++)this.W(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Vg||this;d=!!d;if(a=wd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Mc==c&&a[b].capture==d&&a[b].me==f){a=a[b];break a}a=m}if(a)if(a=a.key,S(a),this.z)wa(this.z,a);else if(this.Tb==a)this.Tb=m}return this};function Ed(a){if(a.z){for(var b in a.z)S(b),delete a.z[b];ed(Cd,a.z);a.z=m}else a.Tb&&S(a.Tb)}Bd.prototype.g=function(){Bd.a.g.call(this);Ed(this)};
Bd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Fd(){}ca(Fd);Fd.prototype.nj=0;function Gd(a){return":"+(a.nj++).toString(36)}Fd.ua();function T(){E.call(this)}D(T,E);s=T.prototype;s.Tg=!0;s.he=m;s.vf=ba("he");s.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){vd(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(y(a))a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var d=a,a=new P(b,this);za(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.he)f.push(g);g=c[!0];g.Ra=g.w;for(var h=f.length-1;!a.rc&&h>=0&&g.Ra;h--)a.currentTarget=f[h],d&=zd(g,f[h],a.type,!0,a)&&a.Cd!=!1}if(!1 in c)if(g=c[!1],g.Ra=g.w,b)for(h=0;!a.rc&&h<f.length&&g.Ra;h++)a.currentTarget=f[h],d&=zd(g,f[h],a.type,!1,a)&&a.Cd!=!1;else for(f=this;!a.rc&&
f&&g.Ra;f=f.he)a.currentTarget=f,d&=zd(g,f,a.type,!1,a)&&a.Cd!=!1;a=Boolean(d)}else a=!0;return a};s.g=function(){T.a.g.call(this);yd(this);this.he=m};function Hd(a){E.call(this);this.S=a||M();this.vd=Id}D(Hd,T);Hd.prototype.jj=Fd.ua();var Id=m;function Jd(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}s=Hd.prototype;s.Qa=m;s.F=!1;s.f=m;s.vd=m;s.Qe=m;s.ba=m;s.ja=m;s.Ha=m;s.Yf=!1;
function Kd(a){return a.Qa||(a.Qa=Gd(a.jj))}function Ld(a,b){a.ba&&a.ba.Ha&&(wa(a.ba.Ha,a.Qa),xa(a.ba.Ha,b,a));a.Qa=b}s.c=n("f");s.la=function(){return this.zc||(this.zc=new Bd(this))};function Md(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.ba&&a.Qa&&Nd(a.ba,a.Qa)&&a.ba!=b&&e(Error("Unable to set parent component"));a.ba=b;Hd.a.vf.call(a,b)}s.getParent=n("ba");s.vf=function(a){this.ba&&this.ba!=a&&e(Error("Method not supported"));Hd.a.vf.call(this,a)};s.T=n("S");
s.p=function(){this.f=this.S.createElement("div")};s.kb=function(a){Od(this,a)};function Od(a,b,c){a.F&&e(Error("Component already rendered"));a.f||a.p();b?b.insertBefore(a.f,c||m):a.S.A.body.appendChild(a.f);(!a.ba||a.ba.F)&&a.$()}s.ea=function(a){if(this.F)e(Error("Component already rendered"));else if(a&&this.Na(a)){this.Yf=!0;if(!this.S||this.S.A!=N(a))this.S=M(a);this.Za(a);this.$()}else e(Error("Invalid element to decorate"))};s.Na=r(!0);s.Za=ba("f");
s.$=function(){this.F=!0;Pd(this,function(a){!a.F&&a.c()&&a.$()})};s.Wa=function(){Pd(this,function(a){a.F&&a.Wa()});this.zc&&Ed(this.zc);this.F=!1};s.g=function(){Hd.a.g.call(this);this.F&&this.Wa();this.zc&&(this.zc.m(),delete this.zc);Pd(this,function(a){a.m()});!this.Yf&&this.f&&mc(this.f);this.ba=this.Qe=this.f=this.Ha=this.ja=m};s.qd=function(a,b){this.td(a,Qd(this),b)};
s.td=function(a,b,c){a.F&&(c||!this.F)&&e(Error("Component already rendered"));(b<0||b>Qd(this))&&e(Error("Child component index out of bounds"));if(!this.Ha||!this.ja)this.Ha={},this.ja=[];a.getParent()==this?(this.Ha[Kd(a)]=a,Sa(this.ja,a)):xa(this.Ha,Kd(a),a);Md(a,this);Wa(this.ja,b,0,a);a.F&&this.F&&a.getParent()==this?(c=this.Y(),c.insertBefore(a.c(),c.childNodes[b]||m)):c?(this.f||this.p(),b=U(this,b+1),Od(a,this.Y(),b?b.f:m)):this.F&&!a.F&&a.f&&a.$()};s.Y=n("f");
function Rd(a){if(a.vd==m)a.vd=Gc(a.F?a.f:a.S.A.body);return a.vd}s.Ec=function(a){this.F&&e(Error("Component already rendered"));this.vd=a};function Qd(a){return a.ja?a.ja.length:0}function Nd(a,b){var c;a.Ha&&b?(c=a.Ha,c=b in c?c[b]:i,c=c||m):c=m;return c}function U(a,b){return a.ja?a.ja[b]||m:m}function Pd(a,b,c){a.ja&&G(a.ja,b,c)}function Sd(a,b){return a.ja&&b?Na(a.ja,b):-1}
s.removeChild=function(a,b){if(a){var c=y(a)?a:Kd(a),a=Nd(this,c);c&&a&&(wa(this.Ha,c),Sa(this.ja,a),b&&(a.Wa(),a.f&&mc(a.f)),Md(a,m))}a||e(Error("Child is not in parent component"));return a};s.zg=function(a){for(;this.ja&&this.ja.length!=0;)this.removeChild(U(this,0),a)};function V(a,b){E.call(this);this.Ed=a||1;this.md=b||Td;this.Df=z(this.Se,this);this.Ef=C()}D(V,T);V.prototype.enabled=!1;var Td=t.window,s=V.prototype;s.s=m;s.setInterval=function(a){this.Ed=a;this.s&&this.enabled?(this.stop(),this.start()):this.s&&this.stop()};s.Se=function(){if(this.enabled){var a=C()-this.Ef;if(a>0&&a<this.Ed*0.8)this.s=this.md.setTimeout(this.Df,this.Ed-a);else if(this.dispatchEvent(Ud),this.enabled)this.s=this.md.setTimeout(this.Df,this.Ed),this.Ef=C()}};
s.start=function(){this.enabled=!0;if(!this.s)this.s=this.md.setTimeout(this.Df,this.Ed),this.Ef=C()};s.stop=function(){this.enabled=!1;if(this.s)this.md.clearTimeout(this.s),this.s=m};s.g=function(){V.a.g.call(this);this.stop();delete this.md};var Ud="tick";function Vd(a,b,c,d){E.call(this);(!x(a)||!x(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Nc=a;this.ij=b;this.duration=c;this.Ug=d;this.coords=[]}D(Vd,T);var Wd={},Xd=m;function Yd(){Td.clearTimeout(Xd);var a=C(),b;for(b in Wd)Zd(Wd[b],a);Xd=va(Wd)?m:Td.setTimeout(Yd,20)}function $d(a){a=ia(a);delete Wd[a];Xd&&va(Wd)&&(Td.clearTimeout(Xd),Xd=m)}s=Vd.prototype;s.t=0;s.Og=0;s.ya=0;s.startTime=m;s.Rg=m;
s.Bf=m;s.play=function(a){if(a||this.t==0)this.ya=0,this.coords=this.Nc;else if(this.t==1)return!1;$d(this);this.startTime=C();this.t==-1&&(this.startTime-=this.duration*this.ya);this.Rg=this.startTime+this.duration;this.Bf=this.startTime;this.ya||this.sd();ae(this,"play");this.t==-1&&ae(this,"resume");this.t=1;a=ia(this);a in Wd||(Wd[a]=this);Xd||(Xd=Td.setTimeout(Yd,20));Zd(this,this.startTime);return!0};s.stop=function(a){$d(this);this.t=0;if(a)this.ya=1;be(this,this.ya);ae(this,"stop");this.le()};
s.g=function(){this.t!=0&&this.stop(!1);ae(this,"destroy");Vd.a.g.call(this)};function Zd(a,b){a.ya=(b-a.startTime)/(a.Rg-a.startTime);if(a.ya>=1)a.ya=1;a.Og=1E3/(b-a.Bf);a.Bf=b;ga(a.Ug)?be(a,a.Ug(a.ya)):be(a,a.ya);a.ya==1?(a.t=0,$d(a),ae(a,"finish"),a.le()):a.t==1&&a.pf()}function be(a,b){a.coords=Array(a.Nc.length);for(var c=0;c<a.Nc.length;c++)a.coords[c]=(a.ij[c]-a.Nc[c])*b+a.Nc[c]}s.pf=function(){ae(this,"animate")};s.sd=function(){ae(this,"begin")};s.le=function(){ae(this,"end")};
function ae(a,b){a.dispatchEvent(new ce(b,a))}function ce(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.G=b.coords[2];this.duration=b.duration;this.ya=b.ya;this.Ae=b.Og;this.state=b.t;this.tj=b}D(ce,P);function de(a){this.e=a||m;this.longitude=this.latitude=0;this.altitude=1E7;this.ve=this.Yc=this.Md=0;this.R=!0}de.prototype.Wd=function(a,b){this.latitude=mb(a,-89,89)*Math.PI/180;this.longitude=b*Math.PI/180};function ee(a,b){a.altitude=mb(b,250,1E7);a.R=!0}de.prototype.Id=function(a){return fe(a,a.b.La/2,a.b.Ka/2,!0)};function ge(a,b,c,d,f){function g(a,b,c,d){return a?b:Math.max(1,Math.pow(2,Math.ceil(Math.log(b/Math.max(1,Math.sqrt(c*c+d*d)))/Math.LN2)))}a=a.ca;this.Ua=[];this.Vc=[];this.u=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j);he(this,h,j,k,[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k])}this.Pd=a.createBuffer();this.Od=a.createBuffer();this.Qf=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Pd);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.Ua),a.STATIC_DRAW);this.Pd.ze=2;a.bindBuffer(a.ARRAY_BUFFER,this.Od);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.Vc),a.STATIC_DRAW);this.Od.ze=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Qf);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.u),a.STATIC_DRAW);this.rh=this.u.length}
function he(a,b,c,d,f){for(var g=a.Ua.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.Ua.push(b+j/d,c+h/d),a.Vc.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.Ua.length/2;for(j=0;j<d;++j)a.Ua.push(b+(j+0.5)/d,c+1),a.Vc.push((j+0.5)/d,0)}if(f[1]){k[1]=a.Ua.length/2;for(h=0;h<d;++h)a.Ua.push(b+1,c+(h+0.5)/d),a.Vc.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.Ua.length/2;for(j=0;j<d;++j)a.Ua.push(b+(j+0.5)/d,c),a.Vc.push((j+0.5)/d,1)}if(f[3]){k[3]=a.Ua.length/2;for(h=0;h<d;++h)a.Ua.push(b,c+(h+0.5)/d),a.Vc.push(0,
1-(h+0.5)/d)}b=z(aa(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.u.push(l);var p=h==0&&f[2],o=j==0&&f[3];p&&!o?(a.u.push(k[2]+j),a.u.push(l+c),b(),a.u.push(k[2]+j)):o&&!p?(a.u.push(l+1),a.u.push(k[3]+h),b(),a.u.push(k[3]+h)):o&&p&&(a.u.push(k[2]+j),a.u.push(k[3]+h),b(),a.u.push(k[3]+h),a.u.push(k[2]+j),a.u.push(l+c),b(),a.u.push(k[2]+j));a.u.push(l+1);a.u.push(l+c);b();a.u.push(l+c+1);p=h==d-1&&f[0];o=j==d-1&&f[1];p&&!o?(a.u.push(k[0]+j),a.u.push(l+1),b(),a.u.push(k[0]+j)):o&&!p?(a.u.push(l+
c),a.u.push(k[1]+h),b(),a.u.push(k[1]+h)):p&&o&&(a.u.push(k[0]+j),a.u.push(k[1]+h),b(),a.u.push(k[1]+h),a.u.push(k[0]+j),a.u.push(l+1),b(),a.u.push(k[0]+j));a.u.push(l+c);a.u.push(l+1);b()}};function W(a,b){if(a instanceof W)this.B=a.xe();else{var c;if(c=ea(a))a:{for(var d=c=0;d<a.length;d++){if(!ea(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!fa(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Ua(a):a instanceof Tb?this.B=ie(a.height,a.width):fa(a)&&fa(b)&&a>0&&b>0?this.B=ie(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.k=new Tb(this.B[0].length,this.B.length)}
function je(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new W(b)}function ke(a,b,c){for(var d=0;d<a.ub().height;d++)for(var f=0;f<a.ub().width;f++)b.call(c,a.B[d][f],d,f,a)}function le(a,b){var c=new W(a.ub());ke(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function ie(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}s=W.prototype;
s.add=function(a){Ub(this.k,a.ub())||e(Error("Matrix summation is only supported on arrays of equal size"));return le(this,function(b,c,d){return b+a.B[c][d]})};function me(a,b){a.k.height!=b.ub().height&&e(Error("The given matrix has height "+b.k.height+", but  needs to have height "+a.k.height+"."));var c=new W(a.k.height,a.k.width+b.k.width);ke(a,function(a,b,g){c.B[b][g]=a});ke(b,function(a,b,g){c.B[b][this.k.width+g]=a},a);return c}
s.xf=function(a,b){if(this.k.width!=a.k.width)return!1;if(this.k.height!=a.k.height)return!1;for(var c=b||0,d=0;d<this.k.height;d++)for(var f=0;f<this.k.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return!1;return!0};s.ub=n("k");function ne(a){var b=new W(a.k.width,a.k.height);ke(a,function(a,d,f){b.B[f][d]=a});return b}function oe(a,b,c){if(!(b>=0&&b<a.k.height&&c>=0&&c<a.k.width))return m;return a.B[b][c]}
s.multiply=function(a){if(a instanceof W)return this.k.width!=a.ub().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),pe(this,a);else if(fa(a))return qe(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};s.ff=function(a){Ub(this.k,a.ub())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return le(this,function(b,c,d){return b-a.B[c][d]})};s.xe=n("B");
function re(a,b,c,d){var f=new W((c?c:a.k.height-1)-0+1,(d?d:a.k.width-1)-b+1);ke(f,function(a,c,d){f.B[c][d]=this.B[0+c][b+d]},a);return f}function pe(a,b){var c=new W(a.k.height,b.ub().width);ke(c,function(a,f,g){for(var h=a=0;h<this.k.width;h++)a+=oe(this,f,h)*oe(b,h,g);f>=0&&f<c.k.height&&g>=0&&g<c.k.width||e(Error("Index out of bounds when setting matrix value, ("+f+","+g+") in size ("+c.k.height+","+c.k.width+")"));c.B[f][g]=a},a);return c}
function qe(a,b){return le(a,function(a){return a*b})};function se(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=m)return c}catch(d){}return m}for(var f=m,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.Ee=b||m;this.ca=f;this.La=a.width;this.Ka=a.height;f.viewport(0,0,this.La,this.Ka);this.xd=this.Rd=0;this.wd=1;
this.je=this.La/this.Ka;this.Ud=this.Vd=this.Va=this.ld=je(4);this.Fe=this.Sd=this.Ge=this.Xf=this.Ae=0;R(t,"resize",this.$d,!1,this)}function te(a){a.Rd=50*Math.PI/180;a.xd=1.0E-6;a.wd=5;a.je=a.La/a.Ka;ue(a)}function ue(a){var b=1/Math.tan(a.Rd/2);a.ld=new W([[b/a.je,0,0,0],[0,b,0,0],[0,0,(a.wd+a.xd)/(a.xd-a.wd),2*a.wd*a.xd/(a.xd-a.wd)],[0,0,-1,0]])}
se.prototype.$d=function(){this.La=this.canvas.width=this.canvas.clientWidth;this.Ka=this.canvas.height=this.canvas.clientHeight;this.ca.viewport(0,0,this.La,this.Ka);this.je=this.La/this.Ka;ue(this);ve(this.l)};se.prototype.translate=function(a,b,c){this.Va=this.Va.multiply(new W([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function we(a,b){var c=Math.cos(b),d=Math.sin(b);a.Va=a.Va.multiply(new W([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function xe(a,b){var c=Math.cos(b),d=Math.sin(b);a.Va=a.Va.multiply(new W([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))}se.prototype.l=m;
function ye(a){a.Vd=a.ld.multiply(a.Va);var b;var c=a.Vd;c.k.width!=c.k.height&&e(Error("An inverse can only be taken on a square matrix."));b=je(c.k.height);b:{for(var c=me(c,b),d=new W(c),f=0,g=0;g<d.k.height;g++){if(f>=d.k.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.k.height&&(h=g,f++,f==d.k.width)){c=d;break b}var j=c,k=g,l=j.B[h];j.B[h]=j.B[k];j.B[k]=l;h=d.B[g][f];for(j=f;j<d.k.width;j++)d.B[g][j]/=h;for(h=0;h<d.k.height;h++)if(h!=g){k=d.B[h][f];for(j=f;j<d.k.width;j++)d.B[h][j]-=k*d.B[g][j]}f++}c=
d}b=re(c,0,b.k.width-1,b.k.height-1).xf(b)?re(c,b.k.width):m;a.Ud=b;return a.Vd};function ze(a,b,c){c=a.ca.createShader(c);a.ca.shaderSource(c,b);a.ca.compileShader(c);a.ca.getShaderParameter(c,a.ca.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.ca.getShaderInfoLog(c)));return c};function Ae(a,b,c){b=b.ca;this.O=a;this.Uf=b.getAttribLocation(this.O,"aVertexPosition");b.enableVertexAttribArray(this.Uf);this.Tf=b.getAttribLocation(this.O,"aTextureCoord");b.enableVertexAttribArray(this.Tf);this.Hh=X(b,this.O,"uMVPMatrix");this.Dh=X(b,this.O,"uMetaL0");this.Fh=X(b,this.O,"uMetaL1");this.Gh=X(b,this.O,"uMetaL2");this.Bh=X(b,this.O,"uOffL");this.th=X(b,this.O,"uBufferL0");this.vh=X(b,this.O,"uBufferL1");this.wh=X(b,this.O,"uBufferL2");this.yh=X(b,this.O,"uBufferLn");if(c)this.zh=
X(b,this.O,"uDegradationT"),this.Ch=X(b,this.O,"uMetaL0T"),this.Eh=X(b,this.O,"uMetaL1T"),this.Ah=X(b,this.O,"uOffLT"),this.sh=X(b,this.O,"uBufferL0T"),this.uh=X(b,this.O,"uBufferL1T"),this.xh=X(b,this.O,"uBufferLnT");this.Jh=X(b,this.O,"uTileCount");this.Ih=X(b,this.O,"uOffset")}function X(a,b,c){a=a.getUniformLocation(b,c);w(a)&&e(Error("Invalid name "+c));return a};function Be(a){this.jb=bd?[]:"";a!=m&&this.append.apply(this,arguments)}Be.prototype.set=function(a){this.clear();this.append(a)};bd?(Be.prototype.Lf=0,Be.prototype.append=function(a,b){b==m?this.jb[this.Lf++]=a:(this.jb.push.apply(this.jb,arguments),this.Lf=this.jb.length);return this}):Be.prototype.append=function(a,b){this.jb+=a;if(b!=m)for(var c=1;c<arguments.length;c++)this.jb+=arguments[c];return this};Be.prototype.clear=function(){bd?this.Lf=this.jb.length=0:this.jb=""};
Be.prototype.toString=function(){if(bd){var a=this.jb.join("");this.clear();a&&this.append(a);return a}else return this.jb};function Ce(a){this.name=a||"OpenStreetMaps"}D(Ce,kb);Ce.prototype.wb=r(18);Ce.prototype.bc=r(256);Ce.prototype.Wc=function(a,b,c){var d=["a","b","c"];return(new Be("http://",d[lb(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Ce.prototype.se=function(a){kc(a,"\u00a9 ",gc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function De(){Ce.call(this,"MapQuest OSM")}D(De,Ce);De.prototype.Wc=function(a,b,c){return(new Be("http://otile",1+lb(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};De.prototype.se=function(a){kc(a,"Map data \u00a9 ",gc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",gc("br"));kc(a,"Tiles Courtesy of ",gc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",gc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};var Ee={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0;uniform sampler2D uBufferL1;uniform sampler2D uBufferL2;uniform sampler2D uBufferLn;varying float vFallbackA;varying vec2 vTCA;void main(){if (vFallbackA == 0.0) {gl_FragColor=texture2D(uBufferL0,vTCA);} else if (vFallbackA == 1.0) {gl_FragColor=texture2D(uBufferL1,vTCA);} else if (vFallbackA == 2.0) {gl_FragColor=texture2D(uBufferL2,vTCA);} else {gl_FragColor=texture2D(uBufferLn,vTCA);}}","earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6371009.0; attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0[BUFF_SIZE];uniform float uMetaL1[BUFF_SIZE];uniform float uMetaL2[BUFF_SIZE];uniform vec2 uOffL[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off) {return off.x>= 0.0 && off.y >= 0.0 && off.x < BUFF_SIDE_T && off.y < BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off) {return off.x >= 0.0 && off.y >= 0.0 && off.x < BUFF_SIDE && off.y < BUFF_SIDE;}vec2 modFirst(vec2 x, float y) {return vec2(x.x-y*floor(x.x/y), x.y);}void main(){vec2 phi=PI2*vec2(aVertexPosition.x+uOffset.x,aVertexPosition.y+uOffset.y)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT = -1.0;float degradationModifier = exp2(uDegradationT);vec2 offT = modFirst(tileCoords/degradationModifier - uOffLT[0],uTileCount/degradationModifier);float rawElev = 0.0;if (validateOffsetT(offT) && uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)] == 1.0) {fallbackT = 0.0;} else {offT = modFirst((tileCoords/(2.0*degradationModifier)) - uOffLT[1],uTileCount/(2.0*degradationModifier));if (validateOffsetT(offT) && uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)] == 1.0) {fallbackT = 1.0;} else {TCT=(tileCoords + aTextureCoord)/uTileCount;}}if (fallbackT >= 0.0) {TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y = 1.0-TCT.y; if (fallbackT == 0.0) {rawElev=texture2D(uBufferL0T,TCT).r;} else if (fallbackT == 1.0) {rawElev=texture2D(uBufferL1T,TCT).r;} else {rawElev=texture2D(uBufferLnT,TCT).r;}elev = rawElev * 8248.0 / EARTH_RADIUS; \n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);vFallbackA = -1.0;vec2 off = modFirst(tileCoords - uOffL[0],uTileCount);if (validateOffset(off) && uMetaL0[int(floor(off.y)*BUFF_SIDE+off.x)] == 1.0) {vFallbackA = 0.0;} else {off = modFirst((tileCoords / 2.0) - uOffL[1],uTileCount/2.0);if (validateOffset(off) && uMetaL1[int(floor(off.y)*BUFF_SIDE+off.x)] == 1.0) {vFallbackA = 1.0;} else {off = modFirst((tileCoords / 4.0) - uOffL[2],uTileCount/4.0);if (validateOffset(off) && uMetaL2[int(floor(off.y)*BUFF_SIDE+off.x)] == 1.0) {vFallbackA = 2.0;}}}if (vFallbackA >= 0.0) {vTCA = (off+aTextureCoord/exp2(vFallbackA)+mod(uOffL[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;} else {vTCA = (tileCoords + aTextureCoord)/uTileCount;}vTCA.y = 1.0-vTCA.y; }"};function Fe(a){return a in Ee?Ee[a]:pb("../we/shaders/"+a)};function Ge(a){this.Kb=new gb;this.Jb=[];this.Pi=512;this.jh=new V(2E4);R(this.jh,Ud,this.$i,!1,this);this.jh.start();Ie(this,a)}function Ie(a,b){a.Sg=C();a.jc=b;a.jc.$g=z(a.Xi,a);a.Kb.clear();a.Jb=[]}s=Ge.prototype;s.jc=m;s.Sg=0;s.Si=u;s.$i=function(){var a=Oa(this.Kb.Lb(),function(a){return a.state==20||a.state==ra||a.state==-10});for(Ya(a,function(a,b){return a.nc-b.nc});this.Kb.qf()>this.Pi&&a.length>0;){var b=a.shift();b.state==ra&&Sa(this.Jb,b);this.Kb.remove(b.zoom+"_"+b.x+"_"+b.y);b.m()}};
s.Xi=function(a){a.nc<this.Sg?(a.state=-10,this.Kb.remove(a.zoom+"_"+a.x+"_"+a.y),a.m()):this.Si(a)};function Je(a){Ya(a.Jb,function(a,b){return a.nc-b.nc});for(var b=Math.min(a.Jb.length,5-a.jc.dd),c=0;c<b;c++){var d=a.Jb.pop();a.jc.tf(d)||a.Jb.push(d)}};function Ke(a,b,c,d){this.qb=b.ca;this.xb=[];this.C=c;this.jc=a;this.Ve=new Ge(a);this.tc=d;this.rb=1<<this.tc;this.Bg=this.C>=this.rb;this.Cc=this.Bc=0;this.buffer=m;this.qa=[];Le(this)}function Le(a){a.qa=[];for(var b=0;b<a.C;++b)a.qa.push(Array(a.C))}Ke.prototype.disable=function(){this.xb=[];Le(this);this.buffer=m};
Ke.prototype.Jd=function(a,b){if(!this.Bg){var c=nb(Math.round(a-this.C/2),this.rb),d=Math.round(b-this.C/2),f=c-this.Bc,g=d-this.Cc;Math.abs(f)>this.rb/2&&(f=(f-ob(f)*this.rb)%this.rb);this.Bc=c;this.Cc=d;if(Math.abs(f)>=this.C||Math.abs(g)>=this.C)Le(this);else{if(f>0)for(c=0;c<this.C;++c)this.qa[c].splice(0,f),this.qa[c].push.apply(this.qa[c],Array(f));if(f<0)for(c=0;c<this.C;++c)this.qa[c].splice(this.C+f,-f),this.qa[c].unshift.apply(this.qa[c],Array(-f));if(g>0)for(c=0;c<g;++c)this.qa.shift(),
this.qa.push(Array(this.C));if(g<0)for(c=0;c<-g;++c)this.qa.pop(),this.qa.unshift(Array(this.C))}}Me(this)};Ke.prototype.Xb=function(a){this.jc=a;Ie(this.Ve,a);this.xb=[];Le(this)};
function Me(a){a.xb=[];for(var b=z(function(a,b){var c=(this.Bg?this.rb:this.C)/2;a+=c;b+=c;if(this.qa[b][a]!==1){var j=this.Bc+a,k=this.Cc+b,j=nb(j,this.rb),k=nb(k,this.rb),c=this.Ve,l=this.tc,p=d,o=l+"_"+j+"_"+k,q=c.Kb.get(o);q!=m?q.state==-10?p-q.nc>7E3&&(q.m(),q=new qa(l,j,k,p),c.Kb.set(o,q),c.Jb.push(q)):q.nc=p:(q=new qa(l,j,k,p),c.Kb.set(o,q),c.Jb.push(q));c=q;c.state==20&&this.xb.push(c)}},a),c=z(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=C(),
a=Math.min(a.C,a.rb)/2;a>0;--a)c(d+a,a)};function Ne(a,b,c){a=this.qb=a.ca;this.If=b;this.Hf=c;this.mb=a.createTexture();Oe(this)}Ne.prototype.$d=function(a,b){if(!(this.If==a&&this.Hf==b))this.If=a,this.Hf=b,this.qb.deleteTexture(this.mb),this.mb=this.qb.createTexture(),Oe(this)};
function Oe(a){var b=a.qb;b.bindTexture(b.TEXTURE_2D,a.mb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.If,a.Hf,0,b.RGBA,b.UNSIGNED_BYTE,m);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)};function Pe(a,b,c){function d(b,d){var k={x:b,y:d,Ea:new Image,Zg:0};k.Ea.onload=function(){f.isTexture(g)&&(f.bindTexture(f.TEXTURE_2D,g),f.texSubImage2D(f.TEXTURE_2D,0,k.x*j,(h-k.y-1)*j,f.RGBA,f.UNSIGNED_BYTE,k.Ea))};k.Ea.onerror=function(){if(f.isTexture(g))k.Zg++,k.Zg>=3||(k.Ea.src=a.Wc(c,b,d))};k.Ea.src=a.Wc(c,b,d)}var f=this.qb=b.ca,g=f.createTexture();this.mb=g;var h=1<<c,j=a.bc();f.bindTexture(f.TEXTURE_2D,g);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,1);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,j*h,j*
h,0,f.RGBA,f.UNSIGNED_BYTE,m);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR);for(b=0;b<h;++b)for(var k=0;k<h;++k)d(b,k)}D(Pe,E);Pe.prototype.g=function(){this.qb.deleteTexture(this.mb)};function Qe(a,b,c,d,f,g){this.Gi=b;this.C=c;this.$a=f;this.wi=g;var h=a.bc();this.lc=[];for(var j=0;j<d;++j)this.lc.push(new Ne(b,this.C*h,this.C*h));for(this.da=[];f<=g;++f)this.da.push(new Ke(a,b,c,f));for(j=0;j<d;++j)this.da[j].buffer=this.lc[j];this.sb=0;this.Ld=new Pe(a,b,2)}Qe.prototype.Xb=function(a){this.Ld.m();this.Ld=new Pe(a,this.Gi,2);var b=this.C*a.bc();G(this.lc,function(a){a.$d(b,b)});G(this.da,function(b){b.Xb(a)})};
Qe.prototype.Jd=function(a,b,c){for(var c=mb(c,this.$a,this.wi),d=c-(this.$a+this.sb+this.lc.length-1);d>0;){var f=this.da[this.sb].buffer;this.da[this.sb].disable();this.da[++this.sb+this.lc.length-1].buffer=f;d--}for(;d<0&&this.sb>0;)f=this.da[this.sb+this.lc.length-1].buffer,this.da[this.sb+this.lc.length-1].disable(),this.da[--this.sb].buffer=f,d++;var d=1<<c,g=1,b=(b/(2*Math.PI)+0.5)*d,a=(0.5-Math.log(Math.tan(a/2+Math.PI/4))/(Math.PI*2))*d;for(c-=this.$a;c>=this.sb;c--){this.da[c].Jd(b,a);b/=
2;a/=2;var d=g,f=this.da[c],h=0;if(f.xb.length>0)for(var g=Math.min(f.xb.length,g>=0?1:0),j=0;j<g;j++){var k=f,l=f.xb.pop();if(!w(k.buffer)&&l.zoom==k.tc){var p=l.x-k.Bc,o=l.y-k.Cc,q=1<<k.tc,p=nb(p,q),o=nb(o,q);if(!(p<0||p>=k.C||o<0||o>=k.C)){var q=k.qb,A=k.jc.bc();q.bindTexture(q.TEXTURE_2D,k.buffer.mb);q.texSubImage2D(q.TEXTURE_2D,0,nb(p+k.Bc,k.C)*A,(k.C-nb(o+k.Cc,k.C)-1)*A,q.RGBA,q.UNSIGNED_BYTE,l.Ea);k.qa[o][p]=1}}h++}Je(f.Ve);g=d-h}};
function Re(a,b,c){if(b-c<a.$a)return Array(a.C*a.C);return $a(a.da[b-a.$a-c].qa)}function Se(a,b,c){if(b-c<a.$a)return m;return a.da[b-a.$a-c].buffer.mb}function Te(a,b,c){for(var d=[],f=b-a.$a;f>b-a.$a-c;--f)d.push(Math.round(a.da[Math.max(0,f)].Bc),Math.round(a.da[Math.max(0,f)].Cc));return d};function Ue(a,b){this.b=a.b;this.l=a;var c=this.b.ca;this.ga=b||new De;this.Ba=new Qe(this.ga,this.b,8,3,1,19);if(this.vc=this.b.ca.getParameter(this.b.ca.MAX_VERTEX_TEXTURE_IMAGE_UNITS)!==0)this.Pf=new rb("CleanTOPO2","http://webglearth.googlecode.com/svn/resources/terrain/CleanTOPO2/{z}/{x}/{y}.png",3,5,256),this.zb=new Qe(this.Pf,this.b,2,3,2,5);this.Xb(this.ga,!0);this.Zc=1;this.ye=[0,0];this.Of=[new ge(this.b,1,1,1),new ge(this.b,4,4,16,!0),new ge(this.b,6,6,8,!0),new ge(this.b,8,8,8,!0),new ge(this.b,
10,10,8),new ge(this.b,32,32,8)];var d=Fe("earth-fs.glsl"),f=Fe("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",this.Ba.C.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.vc?"1":"0");this.vc&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",this.zb.C.toFixed(1)));var d=ze(this.b,d,c.FRAGMENT_SHADER),f=ze(this.b,f,c.VERTEX_SHADER),g=c.createProgram();w(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||
e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.N=new Ae(g,this.b,this.vc)}Ue.prototype.Xb=function(a,b){this.ga=a;this.Ba.Xb(this.ga);this.ga.Pg=z(this.l.Ue,this);b!==!0&&(ve(this.l),this.l.Ue())};
Ue.prototype.Ce=function(){var a=this.b.ca;this.Zc=1<<this.l.P;var b=this.l.d.Id(this.l);w(b)&&(b=[this.l.d.latitude,this.l.d.longitude]);this.ye[0]=Math.floor(b[1]/(2*Math.PI)*this.Zc);this.ye[1]=Math.floor(Math.log(Math.tan(b[0]/2+Math.PI/4))/(Math.PI*2)*this.Zc);this.Ba.Jd(b[0],b[1],Math.floor(this.l.P));this.vc&&this.zb.Jd(b[0],b[1],Math.floor(this.l.P)-3);b=Math.floor(this.l.P);this.Zc=1<<b;xe(this.b,-this.l.d.ve);we(this.b,-this.l.d.Yc);xe(this.b,-this.l.d.Md);this.b.translate(0,0,-1-this.l.d.altitude/
6371009);we(this.b,this.l.d.latitude);var c=this.b,d=-this.l.d.longitude,f=Math.cos(d),d=Math.sin(d);c.Va=c.Va.multiply(new W([[f,0,d,0],[0,1,0,0],[-d,0,f,0],[0,0,0,1]]));a.useProgram(this.N.O);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,Se(this.Ba,b,0));a.uniform1i(this.N.th,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Se(this.Ba,b,1));a.uniform1i(this.N.vh,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Se(this.Ba,b,2));a.uniform1i(this.N.wh,2);a.activeTexture(a.TEXTURE3);
a.bindTexture(a.TEXTURE_2D,this.Ba.Ld.mb);a.uniform1i(this.N.yh,3);a.uniform1fv(this.N.Dh,new Float32Array(Re(this.Ba,b,0)));a.uniform1fv(this.N.Fh,new Float32Array(Re(this.Ba,b,1)));a.uniform1fv(this.N.Gh,new Float32Array(Re(this.Ba,b,2)));a.uniform2fv(this.N.Bh,new Float32Array(Te(this.Ba,b,3)));this.vc&&(c=mb(b-3,2,this.Pf.wb()),a.uniform1f(this.N.zh,b-c),a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,Se(this.zb,c,0)),a.uniform1i(this.N.sh,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,
Se(this.zb,c,1)),a.uniform1i(this.N.uh,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,this.zb.Ld.mb),a.uniform1i(this.N.xh,6),a.uniform1fv(this.N.Ch,new Float32Array(Re(this.zb,c,0))),a.uniform1fv(this.N.Eh,new Float32Array(Re(this.zb,c,1))),a.uniform2fv(this.N.Ah,new Float32Array(Te(this.zb,c,2))));c=new Float32Array($a(ne(ye(this.b)).xe()));b=this.Of[Math.min(b,this.Of.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.Pd);a.vertexAttribPointer(this.N.Uf,b.Pd.ze,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,
b.Od);a.vertexAttribPointer(this.N.Tf,b.Od.ze,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.N.Hh,!1,c);a.uniform1f(this.N.Jh,this.Zc);a.uniform2fv(this.N.Ih,new Float32Array(this.ye));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Qf);a.drawElements(a.TRIANGLES,b.rh,a.UNSIGNED_SHORT,0)};function Ve(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.G=v(c)?c:0}Ve.prototype.sa=function(){return new Ve(this.x,this.y,this.G)};Ve.prototype.xe=function(){return[this.x,this.y,this.G]};function We(a,b,c){this.x=a;this.y=b;this.G=c}D(We,Ve);s=We.prototype;s.sa=function(){return new We(this.x,this.y,this.G)};s.scale=function(a){this.x*=a;this.y*=a;this.G*=a;return this};s.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.G*this.G))};s.add=function(a){this.x+=a.x;this.y+=a.y;this.G+=a.G;return this};s.ff=function(a){this.x-=a.x;this.y-=a.y;this.G-=a.G;return this};s.xf=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.G==a.G};function Xe(a,b,c,d,f,g){if(w(d))return m;a=d.multiply(new W([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(oe(a,3,0)==0)return m;a=a.multiply(1/oe(a,3,0));return new We(oe(a,0,0),oe(a,1,0),oe(a,2,0))};function Ye(a,b,c,d,f,g){this.b=a;this.eg=b||m;this.Dc=c||document.createElement("div");if(!v(c))a=this.b.canvas,a.parentNode&&a.parentNode.insertBefore(this.Dc,a.nextSibling);this.jd=d||document.createElement("img");if(!v(d))d=this.Dc,d.parentNode&&d.parentNode.insertBefore(this.jd,d.nextSibling);this.ii=g||m;this.ma=new Ue(this,f);this.P=3;this.ad=0;this.d=new de(this);ve(this);this.Ue()}D(Ye,T);function Ze(a){P.call(this,a)}D(Ze,P);
Ye.prototype.Ue=function(){w(this.Dc)||(lc(this.Dc),kc(this.Dc,this.ii),this.ma.ga.se(this.Dc));if(!w(this.jd))w(this.ma.ga.Ff())?this.jd.style.visibility="hidden":(this.jd.src=this.ma.ga.Ff(),this.jd.style.visibility="visible")};function $e(a,b){a.P=mb(b,af(a),a.ma.ga.wb());a.d.R=!1;a.dispatchEvent(new Ze("zoomchanged"))}function af(a){return Math.max(3,a.ma.ga.Kf())}function ve(a){a.ad=0.9*a.b.canvas.height/a.ma.ga.bc()}
Ye.prototype.Ce=function(){if(this.d.R){var a=Math.cos(Math.abs(this.d.latitude))*2*Math.PI;this.P=mb(Math.log(a/(2*(this.d.altitude/6371009)*Math.tan(this.b.Rd/2)/this.ad))/Math.LN2,af(this),this.ma.ga.wb())}else a=Math.cos(Math.abs(this.d.latitude))*2*Math.PI,this.d.altitude=1/Math.tan(this.b.Rd/2)*(a/Math.pow(2,this.P)*this.ad/2)*6371009;if(!w(this.eg)){for(var a=this.ma.Ba,b="",c=0;c<a.da.length;++c)b+=c+a.$a+":"+a.da[c].xb.length+" ";this.eg.innerHTML=(this.d.latitude*180/Math.PI).toFixed(4)+
"; "+(this.d.longitude*180/Math.PI).toFixed(4)+" @ "+this.d.altitude.toFixed(0)+"m "+(this.d.R?"->":"<-")+" z="+this.P.toFixed(3)+"; "+("BufferQueue size: "+b+"; Loading tiles: "+this.ma.ga.dd)}this.ma.Ce()};function bf(a,b){var c=a.sa();c.x=-c.x;c.y=-c.y;c.G=-c.G;var d=b.x*c.x+b.y*c.y+b.G*c.G,c=d*d-(c.x*c.x+c.y*c.y+c.G*c.G)+1;return c<0?m:[Math.min(d+Math.sqrt(c),d-Math.sqrt(c)),Math.max(d+Math.sqrt(c),d-Math.sqrt(c))]}
function fe(a,b,c,d){var f=Xe(b,c,0,a.b.Ud,a.b.La,a.b.Ka),a=Xe(b,c,1,a.b.Ud,a.b.La,a.b.Ka);if(w(f)||w(a))return m;a.ff(f);a.normalize();b=bf(f,a);if(w(b))return m;a=a.scale(b[0]);f=new We(f.x+a.x,f.y+a.y,f.G+a.G);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.G<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),qb(a)]:[Math.asin(f.y)*180/Math.PI,qb(a)*180/Math.PI]};function cf(a){return 1-Math.pow(1-a,3)};function df(a){this.e=a;this.Ca=!1;this.vg=this.ug=this.Fb=this.Eb=0;this.U=m;this.bf=new V(20);this.ic=m;R(this.e.b.canvas,"mousedown",z(this.ti,this));R(N(this.e.b.canvas),"mouseup",z(this.ui,this));R(this.bf,Ud,this.si,!1,this)}s=df.prototype;s.ti=function(a){if(!Yc(a,2)&&!a.ctrlKey&&!a.altKey){if(this.ic)this.ic.stop(!1),this.ic.m(),this.ic=m;this.Ca=!0;this.Eb=a.screenX;this.Fb=a.screenY;if(!w(this.U))S(this.U),this.U=m;this.U=R(N(this.e.b.canvas),"mousemove",z(this.Ne,this));a.preventDefault()}};
s.ui=function(a){if(this.Ca&&a.type!="mousedown")if(this.ug=a.screenX,this.vg=a.screenY,a.preventDefault(),Yc(a,0))this.bf.start();else if(!w(this.U))S(this.U),this.U=m};
s.ue=function(a,b,c){if(c)this.e.d.Yc+=b/this.e.b.canvas.height*Math.PI/2,this.e.d.Md+=a/this.e.b.canvas.width*Math.PI;else{var c=Math.PI*(1/this.e.b.canvas.height)*(this.e.ad/Math.pow(2,this.e.P)),d=function(c){var d=a;a=d*Math.cos(c)-b*Math.sin(c);b=d*Math.sin(c)+b*Math.cos(c)};d(this.e.d.ve);b/=Math.max(Math.abs(Math.cos(this.e.d.Yc)),0.1);d(-this.e.d.Md);this.e.d.longitude-=a*2*c;this.e.d.latitude+=b*c;if(Math.abs(this.e.d.latitude)>Math.PI/2.1)this.e.d.latitude=ob(this.e.d.latitude)*(Math.PI/
2.1);this.e.d.longitude>Math.PI&&(this.e.d.longitude-=2*Math.PI);this.e.d.longitude<-Math.PI&&(this.e.d.longitude+=2*Math.PI)}};s.Ne=function(a){this.ue(a.screenX-this.Eb,a.screenY-this.Fb,Yc(a,1)||Yc(a,0)&&a.shiftKey);this.Eb=a.screenX;this.Fb=a.screenY;a.preventDefault()};
s.si=function(){this.bf.stop();this.Ca=!1;if(!w(this.U))S(this.U),this.U=m;var a=this.Eb-this.ug,b=this.Fb-this.vg,c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));if(c>6){var d=Math.max(15,c)*8;this.ic=new Vd([this.Eb,this.Fb],[this.Eb+d*(a/c),this.Fb+d*(b/c)],1300,cf);R(this.ic,["animate"],this.Ri,!1,this);this.ic.play(!1)}};s.Ri=function(a){this.ue(a.x-this.Eb,a.y-this.Fb,!1);this.Eb=a.x;this.Fb=a.y};function ef(a,b,c){E.call(this);this.bd=a;this.ac=c;this.i=b;R(b,[ff,gf,hf,jf],this);this.Xa=m;this.ha=[];this.pa=-1;this.wa=0;this.oc=this.ia=m}D(ef,T);s=ef.prototype;s.Ki=10;s.Ii=!0;s.Xg=!1;s.Yg=!1;s.Ei=!1;var ff="hilite",gf="select",jf="dismiss",hf="canceldismiss",s=ef.prototype;s.handleEvent=function(a){if(a.target==this.i)switch(a.type){case ff:this.Pa(a.uc);break;case gf:kf(this);break;case hf:lf(this);break;case jf:mf(this)}};s.Id=n("ia");s.bb=function(){return this.i.r};
function nf(a){var b=a.wa+a.ha.length-1;a.pa>=a.wa&&a.pa<b?a.Pa(a.pa+1):a.pa==-1?a.Pa(a.wa):a.pa==b&&(a.Xg?a.Pa(-1):a.Yg&&a.Pa(a.wa))}function of(a){a.pa>a.wa?a.Pa(a.pa-1):a.Xg&&a.pa==a.wa?a.Pa(-1):a.Yg&&(a.pa==-1||a.pa==a.wa)&&a.Pa(a.wa+a.ha.length-1)}s.Pa=function(a){this.pa=a;this.i.Pa(a);return pf(this,a)!=-1};
function kf(a){var b=pf(a,a.pa);if(b!=-1){var b=a.ha[b],c=a.ac,d=b.toString();if(v(i)?0:c.xc){var f=qf(c,c.o(),rf(c.K)),g=sf(c,c.o());c.hi.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.gi);c.Fi&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.K;I&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.K;d=f;tf(g)?g.selectionStart=d:H&&(h=uf(g),j=h[0],j.inRange(h[1])&&(d=vf(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.K;tf(g)?g.selectionEnd=f:H&&(h=uf(g),d=h[1],h[0].inRange(d)&&(f=vf(g,f),g=vf(g,rf(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.V(d);c.df=!0;a.nb();a.dispatchEvent({type:"update",uc:b});a.Ei&&a.ac.update(!0);return!0}else return a.nb(),a.dispatchEvent({type:"update",uc:m}),!1}s.nb=function(){this.pa=-1;this.Xa=m;this.wa+=this.ha.length;this.ha=[];window.clearTimeout(this.oc);this.oc=m;this.i.nb()};function mf(a){if(!a.oc)a.oc=window.setTimeout(z(a.nb,a),100)}
function lf(a){window.setTimeout(z(function(){if(this.oc)window.clearTimeout(this.oc),this.oc=m},a),10)}s.g=function(){ef.a.g.call(this);this.i.m();this.ac.m();this.bd=m};s.Ji=function(a,b,c){this.Xa==a&&this.sf(b,c)};s.sf=function(a,b){var c=b?pf(this,this.pa):m;this.wa+=this.ha.length;this.ha=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.wa+f,data:a[f]});this.i.sf(d,this.Xa,this.ia);this.Ii&&d.length!=0&&this.Xa?this.Pa(c!=m?this.wa+c:this.wa):this.pa=-1;this.dispatchEvent("suggestionsupdate")};
function pf(a,b){var c=b-a.wa;if(c<0||c>=a.ha.length)return-1;return c}s.Gf=function(){var a=this.ac;a.Gf.apply(a,arguments)};function wf(a,b,c){this.Rf=a;this.Sf=b;this.element=c;this.parentElement=m;this.enabled=!0}s=wf.prototype;s.$c=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};s.detach=function(){if(this.parentElement)mc(this.element),this.parentElement=m};s.enable=function(a){(this.enabled=a||!1)||this.show(!1)};s.isEnabled=n("enabled");s.show=function(a){this.element.style.display=a===!1?"none":"block"};function xf(a,b){this.e=a;this.f=b;this.we=new gb}function yf(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^C()).toString(36);c.$c(a.f);a.we.set(b,c)}
xf.prototype.Wh=function(a){a=this.we.get(a);if(a.isEnabled()){var b;a:{var c=this.e,b=a.Rf,d=a.Sf,b=b*Math.PI/180,d=d*Math.PI/180,f=Math.cos(b),f=new We(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.b.Vd.multiply(new W([[f.x],[f.y],[f.G],[1]]));if(oe(d,3,0)==0)b=m;else{var d=d.multiply(1/oe(d,3,0)),b=(oe(d,0,0)+1)/2*c.b.La,d=(oe(d,1,0)-1)/-2*c.b.Ka,g=1;if(b<0||b>c.b.La||d<0||d>c.b.Ka)g=0;else{c=Xe(0.5,0.5,0,c.b.Ud,1,1);if(w(c)){b=m;break a}var g=f.x-c.x,h=f.y-c.y,j=f.G-c.G,g=Math.sqrt(g*g+h*h+j*j),
f=f.ff(c).normalize(),f=bf(c,f),g=w(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=m?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function zf(){this.ph=C()}new zf;zf.prototype.set=ba("ph");zf.prototype.get=n("ph");function Af(a,b){a.setAttribute("role",b);a.wj=b}function Y(a,b,c){a.setAttribute("aria-"+b,c)};function Bf(){}var Cf;ca(Bf);s=Bf.prototype;s.eb=aa();s.p=function(a){return a.T().p("div",this.Lc(a).join(" "),a.Ya)};s.Y=function(a){return a};s.nd=function(a,b,c){if(a=a.c?a.c():a)if(H&&!K("7")){var d=Df(Xb(a),b);d.push(b);na(c?Yb:Zb,a).apply(m,d)}else c?Yb(a,b):Zb(a,b)};s.Na=r(!0);
s.ea=function(a,b){b.id&&Ld(a,b.id);var c=this.Y(b);c&&c.firstChild?Ef(a,c.firstChild.nextSibling?Ua(c.childNodes):c.firstChild):a.Ya=m;var d=0,f=this.n(),g=this.n(),h=!1,j=!1,c=!1,k=Xb(b);G(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.lf(a)},this);a.t=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Ma;l&&k.push.apply(k,l);if(H&&!K("7")){var p=Df(k);p.length>0&&(k.push.apply(k,p),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");return b};
s.wc=function(a){Rd(a)&&this.Ec(a.c(),!0);a.isEnabled()&&this.Bb(a,a.r)};s.fd=function(a,b){Oc(a,!b,!H&&!Db)};s.Ec=function(a,b){this.nd(a,this.n()+"-rtl",b)};s.yb=function(a){var b;if(a.aa&32&&(b=a.X()))return sc(b);return!1};s.Bb=function(a,b){var c;if(a.aa&32&&(c=a.X())){if(!b&&a.t&32){try{c.blur()}catch(d){}a.t&32&&a.ob(m)}if(sc(c)!=b)b?c.tabIndex=0:c.removeAttribute("tabIndex")}};s.Aa=function(a,b){Mc(a,b)};
s.va=function(a,b,c){var d=a.c();if(d){var f=this.gd(b);f&&this.nd(a,f,c);this.yc(d,b,c)}};s.yc=function(a,b,c){Cf||(Cf=Aa(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Cf[b])&&Y(a,b,c)};s.kc=function(a,b){var c=this.Y(a);if(c&&(lc(c),b))if(y(b))pc(c,b);else{var d=function(a){if(a){var b=N(c);c.appendChild(y(a)?b.createTextNode(a):a)}};x(b)?G(b,d):ea(b)&&!("nodeType"in b)?G(Ua(b),d):d(b)}};s.X=function(a){return a.c()};s.n=r("goog-control");
s.Lc=function(a){var b=this.n(),c=[b],d=this.n();d!=b&&c.push(d);b=a.t;for(d=[];b;){var f=b&-b;d.push(this.gd(f));b&=~f}c.push.apply(c,d);(a=a.Ma)&&c.push.apply(c,a);H&&!K("7")&&c.push.apply(c,Df(c));return c};function Df(a,b){var c=[];b&&(a=a.concat([b]));G([],function(d){Qa(d,na(Ra,a))&&(!b||Ra(d,b))&&c.push(d.join("_"))});return c}s.gd=function(a){this.te||Ff(this);return this.te[a]};
s.lf=function(a){if(!this.oh){this.te||Ff(this);var b=this.te,c={},d;for(d in b)c[b[d]]=d;this.oh=c}a=parseInt(this.oh[a],10);return isNaN(a)?0:a};function Ff(a){var b=a.n();a.te=Aa(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")};function Gf(a,b){a||e(Error("Invalid class name "+a));ga(b)||e(Error("Invalid decorator function "+b));Hf[a]=b}var If={},Hf={};function Jf(a,b,c,d,f){if(!H&&(!J||!K("525")))return!0;if(xb&&f)return Kf(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(H&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!J}return Kf(a)}
function Kf(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(J&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Lf(a,b){E.call(this);a&&this.$c(a,b)}D(Lf,T);s=Lf.prototype;s.f=m;s.pe=m;s.yf=m;s.qe=m;s.Pb=-1;s.Ob=-1;
var Mf={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Nf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Of={61:187,
59:186},Pf=H||J&&K("525"),s=Lf.prototype;s.Ke=function(a){if(J&&(this.Pb==17&&!a.ctrlKey||this.Pb==18&&!a.altKey))this.Ob=this.Pb=-1;Pf&&!Jf(a.keyCode,this.Pb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Ob=I&&a.keyCode in Of?Of[a.keyCode]:a.keyCode};s.Qi=function(){this.Ob=this.Pb=-1};
s.handleEvent=function(a){var b=a.ra,c,d;H&&a.type=="keypress"?(c=this.Ob,d=c!=13&&c!=27?b.keyCode:0):J&&a.type=="keypress"?(c=this.Ob,d=b.charCode>=0&&b.charCode<63232&&Kf(c)?b.charCode:0):Db?(c=this.Ob,d=Kf(c)?b.keyCode:0):(c=b.keyCode||this.Ob,d=b.charCode||0,xb&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in Mf?f=Mf[c]:c==25&&a.shiftKey&&(f=9):g&&g in Nf&&(f=Nf[g]);a=f==this.Pb;this.Pb=f;b=new Qf(f,d,a,b);try{this.dispatchEvent(b)}finally{b.m()}};s.c=n("f");
s.$c=function(a,b){this.qe&&this.detach();this.f=a;this.pe=R(this.f,"keypress",this,b);this.yf=R(this.f,"keydown",this.Ke,b,this);this.qe=R(this.f,"keyup",this.Qi,b,this)};s.detach=function(){if(this.pe)S(this.pe),S(this.yf),S(this.qe),this.qe=this.yf=this.pe=m;this.f=m;this.Ob=this.Pb=-1};s.g=function(){Lf.a.g.call(this);this.detach()};function Qf(a,b,c,d){d&&this.Mb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(Qf,Wc);function Z(a,b,c){Hd.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ia(b);if(d=If[d])break;b=b.a?b.a.constructor:m}b=d?ga(d.ua)?d.ua():new d:m}this.i=b;this.Ya=a}D(Z,Hd);s=Z.prototype;s.Ya=m;s.t=0;s.aa=39;s.af=255;s.Qd=0;s.r=!0;s.Ma=m;s.Re=!0;s.Yd=!1;function Rf(a,b){a.F&&b!=a.Re&&Sf(a,b);a.Re=b}s.X=function(){return this.i.X(this)};s.ae=function(){return this.I||(this.I=new Lf)};function Tf(a,b){if(b)a.Ma?Ra(a.Ma,b)||a.Ma.push(b):a.Ma=[b],a.i.nd(a,b,!0)}
s.nd=function(a,b){if(b)Tf(this,a);else if(a&&this.Ma){Sa(this.Ma,a);if(this.Ma.length==0)this.Ma=m;this.i.nd(this,a,!1)}};s.p=function(){var a=this.i.p(this);this.f=a;var b=this.i.eb();b&&Af(a,b);this.Yd||this.i.fd(a,!1);this.r||this.i.Aa(a,!1)};s.Y=function(){return this.i.Y(this.c())};s.Na=function(a){return this.i.Na(a)};s.Za=function(a){this.f=a=this.i.ea(this,a);var b=this.i.eb();b&&Af(a,b);this.Yd||this.i.fd(a,!1);this.r=a.style.display!="none"};
s.$=function(){Z.a.$.call(this);this.i.wc(this);if(this.aa&-2&&(this.Re&&Sf(this,!0),this.aa&32)){var a=this.X();if(a){var b=this.ae();b.$c(a);this.la().h(b,"key",this.Ga).h(a,"focus",this.dc).h(a,"blur",this.ob)}}};function Sf(a,b){var c=a.la(),d=a.c();b?(c.h(d,"mouseover",a.kf).h(d,"mousedown",a.Wb).h(d,"mouseup",a.ec).h(d,"mouseout",a.jf),H&&c.h(d,"dblclick",a.Eg)):(c.W(d,"mouseover",a.kf).W(d,"mousedown",a.Wb).W(d,"mouseup",a.ec).W(d,"mouseout",a.jf),H&&c.W(d,"dblclick",a.Eg))}
s.Wa=function(){Z.a.Wa.call(this);this.I&&this.I.detach();this.r&&this.isEnabled()&&this.i.Bb(this,!1)};s.g=function(){Z.a.g.call(this);this.I&&(this.I.m(),delete this.I);delete this.i;this.Ma=this.Ya=m};s.kc=function(a){this.i.kc(this.c(),a);this.Ya=a};function Ef(a,b){a.Ya=b}s.Fc=function(){var a=this.Ya;if(!a)return"";if(y(a))return a;a=x(a)?Pa(a,tc).join(""):tc(a);return Ba(a)};s.Ec=function(a){Z.a.Ec.call(this,a);var b=this.c();b&&this.i.Ec(b,a)};
s.fd=function(a){this.Yd=a;var b=this.c();b&&this.i.fd(b,a)};s.Aa=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.i.Aa(c,a);this.isEnabled()&&this.i.Bb(this,a);this.r=a;return!0}return!1};s.isEnabled=function(){return!(this.t&1)};s.Db=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&Uf(this,1,!a))a||(this.setActive(!1),this.ab(!1)),this.r&&this.i.Bb(this,a),this.va(1,!a)};
s.ab=function(a){Uf(this,2,a)&&this.va(2,a)};s.setActive=function(a){Uf(this,4,a)&&this.va(4,a)};s.Af=function(a){Uf(this,8,a)&&this.va(8,a)};s.bb=function(){return!!(this.t&64)};s.L=function(a){Uf(this,64,a)&&this.va(64,a)};s.va=function(a,b){if(this.aa&a&&b!=!!(this.t&a))this.i.va(this,a,b),this.t=b?this.t|a:this.t&~a};function Vf(a,b,c){a.F&&a.t&b&&!c&&e(Error("Component already rendered"));!c&&a.t&b&&a.va(b,!1);a.aa=c?a.aa|b:a.aa&~b}function Wf(a,b){return!!(a.af&b)&&!!(a.aa&b)}
function Uf(a,b,c){return!!(a.aa&b)&&!!(a.t&b)!=c&&(!(a.Qd&b)||a.dispatchEvent(Jd(b,c)))&&!a.wf}s.kf=function(a){(!a.relatedTarget||!oc(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Wf(this,2)&&this.ab(!0)};s.jf=function(a){if((!a.relatedTarget||!oc(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))Wf(this,4)&&this.setActive(!1),Wf(this,2)&&this.ab(!1)};
s.Wb=function(a){this.isEnabled()&&(Wf(this,2)&&this.ab(!0),Zc(a)&&(Wf(this,4)&&this.setActive(!0),this.i.yb(this)&&this.X().focus()));!this.Yd&&Zc(a)&&a.preventDefault()};s.ec=function(a){this.isEnabled()&&(Wf(this,2)&&this.ab(!0),this.t&4&&this.Kc(a)&&Wf(this,4)&&this.setActive(!1))};s.Eg=function(a){this.isEnabled()&&this.Kc(a)};
s.Kc=function(a){if(Wf(this,16)){var b=!(this.t&16);Uf(this,16,b)&&this.va(16,b)}Wf(this,8)&&this.Af(!0);Wf(this,64)&&this.L(!this.bb());b=new P("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};s.dc=function(){Wf(this,32)&&Uf(this,32,!0)&&this.va(32,!0)};s.ob=function(){Wf(this,4)&&this.setActive(!1);Wf(this,32)&&Uf(this,32,!1)&&this.va(32,!1)};
s.Ga=function(a){if(this.r&&this.isEnabled()&&this.Gc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};s.Gc=function(a){return a.keyCode==13&&this.Kc(a)};ga(Z)||e(Error("Invalid component class "+Z));ga(Bf)||e(Error("Invalid renderer class "+Bf));var Xf=ia(Z);If[Xf]=Bf;Gf("goog-control",function(){return new Z(m)});function Yf(a,b){this.e=a;this.s=new V(20);this.mg=this.lg=0.1;this.Xe=!1;this.fc=new Z("");this.fc.Qd|=255;this.Zh=R(this.fc,"activate",this.ji,!1,this);this.$h=R(this.fc,"deactivate",this.ki,!1,this);this.sj=R(this.fc,"enter",this.li,!1,this);this.Se=R(this.s,Ud,this.sc,!1,this);this.bi=R(N(this.e.b.canvas),"mousemove",this.Ne,!1,this);this.ai=R(N(this.e.b.canvas),"mousedown",function(){this.Xe=!0},!1,this);this.ci=R(N(this.e.b.canvas),"mouseup",function(){this.Xe=!1},!1,this);this.fc.kb(b)}
D(Yf,E);s=Yf.prototype;s.li=function(){this.Xe&&(this.fc.va(4,!0),this.s.start())};s.ji=function(){this.s.start()};s.ki=function(){this.s&&this.s.stop()};s.sc=function(){this.ue(this.lg,this.mg)};s.Ne=function(a){this.lg=-(a.offsetX-a.target.offsetWidth/2)*2;this.mg=-(a.offsetY-a.target.offsetHeight/2)};s.g=function(){S(this.Zh);S(this.bi);S(this.ci);S(this.ai);S(this.$h);S(this.Se);this.fc.m()};
s.ue=function(a,b){function c(c){var d=a;a=d*Math.cos(c)-b*Math.sin(c);b=d*Math.sin(c)+b*Math.cos(c)}var d=Math.PI*(1/this.e.b.canvas.height)*(this.e.ad/Math.pow(2,this.e.P));c(this.e.d.ve);b/=Math.max(Math.abs(Math.cos(this.e.d.Yc)),0.1);c(-this.e.d.Md);this.e.d.longitude-=a*2*d;this.e.d.latitude+=b*d;if(Math.abs(this.e.d.latitude)>Math.PI/2.1)this.e.d.latitude=ob(this.e.d.latitude)*(Math.PI/2.1);this.e.d.longitude>Math.PI&&(this.e.d.longitude-=2*Math.PI);this.e.d.longitude<-Math.PI&&(this.e.d.longitude+=
2*Math.PI)};function Zf(a){E.call(this);this.f=a;this.U=R(this.f,I?"DOMMouseScroll":"mousewheel",this)}D(Zf,T);
Zf.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.ra;if(a.type=="mousewheel"){c=1;if(H||J&&(yb||K("532.0")))c=40;d=J&&xb&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=J&&xb&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=J&&xb&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.ah)&&(b=mb(b,-this.ah,this.ah));fa(this.bh)&&(c=mb(c,-this.bh,this.bh));b=new $f(d,
a,b,c);try{this.dispatchEvent(b)}finally{b.m()}};Zf.prototype.g=function(){Zf.a.g.call(this);S(this.U);delete this.U};function $f(a,b,c,d){b&&this.Mb(b,i);this.type="mousewheel";this.detail=a;this.Jc=c;this.Yb=d}D($f,Wc);function ag(a){this.e=a;this.Vb=new Zf(a.b.canvas);this.U=R(this.Vb,"mousewheel",function(a){this.tc(-ob(a.Yb));a.preventDefault()},!1,this);this.Sh=R(a.b.canvas,"dblclick",z(function(a){this.d.R?ee(this.d,this.d.altitude/2):$e(this,Math.floor(this.P+1));var c=fe(this,a.offsetX,a.offsetY,!0)||this.d.Id(this);if(c)this.d.latitude=(this.d.latitude+c[0])/2,this.d.longitude=(this.d.longitude+c[1])/2;a.preventDefault()},a));this.Uh=R(a.b.canvas,"mouseup",z(function(a){if(Yc(a,2)){this.d.R?ee(this.d,this.d.altitude*
2):$e(this,Math.ceil(this.P-1));var c=fe(this,a.offsetX,a.offsetY,!0)||this.d.Id(this);c&&(this.d.latitude-=c[0]-this.d.latitude,this.d.longitude-=c[1]-this.d.longitude);a.preventDefault()}},a));this.Th=R(a.b.canvas,"contextmenu",function(a){a.preventDefault()});this.xa=m;this.cc=this.pb=0;this.R=a.d.R}D(ag,E);
ag.prototype.tc=function(a){var b=120;if(this.xa&&this.R!=this.e.d.R)this.xa.m(),this.xa=m;(this.R=this.e.d.R)&&(a*=-1);if(this.xa)if(this.cc>this.pb==a>0)return;else this.xa.m(),b*=((this.R?this.e.d.altitude:this.e.P)-this.pb)/(this.cc-this.pb),a=this.cc,this.cc=this.pb,this.pb=a;else this.R?(this.pb=this.e.d.altitude,this.cc=this.pb*Math.pow(2,a)):(this.pb=this.e.P,this.cc=this.pb+a*0.5);if(!(b<=0))this.xa=new Vd([this.R?this.e.d.altitude:this.e.P],[this.cc],b),R(this.xa,["animate","finish"],function(a){this.R?
ee(this.e.d,a.x):$e(this.e,a.x)},!1,this),R(this.xa,["finish"],this.mi,!1,this),this.xa.play(!1)};ag.prototype.mi=function(){if(this.xa)this.xa.m(),this.xa=m};ag.prototype.g=function(){S(this.U);S(this.Sh);S(this.Uh);S(this.Th);this.Vb.m();this.xa.m()};function bg(a,b){var c=gc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
wf.call(this,a,b,c);this.show(!1)}D(bg,wf);function cg(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var p=l.tagName=="HTML"||l.tagName=="BODY";if(!p||yc(l,"position")!="static")k=Fc(l),p||(k=Rb(k,new L(l.scrollLeft,l.scrollTop)))}l=Lc(a);if(p=Ec(a)){var o=new Vb(p.left,p.top,p.right-p.left,p.bottom-p.top),p=Math.max(l.left,o.left),q=Math.min(l.left+l.width,o.left+o.width);if(p<=q){var A=Math.max(l.top,o.top),o=Math.min(l.top+l.height,o.top+o.height);if(A<=o)l.left=p,l.top=A,l.width=q-p,l.height=o-A}}p=M(a);A=M(c);if(p.A!=A.A){var q=p.A.body,
A=A.A.parentWindow||A.A.defaultView,o=new L(0,0),Eb=N(q)?N(q).parentWindow||N(q).defaultView:window,He=q;do{var Gg=Eb==A?Fc(He):Hc(He);o.x+=Gg.x;o.y+=Gg.y}while(Eb&&Eb!=A&&(He=Eb.frameElement)&&(Eb=Eb.parent));q=Rb(o,Fc(q));H&&!dc(p.A)&&(q=Rb(q,wc(p)));l.left+=q.x;l.top+=q.y}a=(b&4&&Gc(a)?b^2:b)&-5;b=new L(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=Rb(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var B;if(h&&(B=Ec(c))&&k)B.top=Math.max(0,B.top-k.y),B.right-=k.x,B.bottom-=k.y,B.left=
Math.max(0,B.left-k.x);a:{k=B;f=b.sa();B=0;a=(d&4&&Gc(c)?d^2:d)&-5;d=Kc(c);j=j?j.sa():d;if(g||a!=0)a&2?f.x-=j.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=j.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h){if(k){g=f;B=0;if(g.x<k.left&&h&1)g.x=k.left,B|=1;g.x<k.left&&g.x+j.width>k.right&&h&16&&(j.width-=g.x+j.width-k.right,B|=4);if(g.x+j.width>k.right&&h&1)g.x=Math.max(k.right-j.width,k.left),B|=1;h&2&&(B|=(g.x<k.left?16:0)|(g.x+j.width>k.right?32:0));if(g.y<k.top&&h&4)g.y=k.top,B|=2;g.y>=k.top&&g.y+j.height>
k.bottom&&h&32&&(j.height-=g.y+j.height-k.bottom,B|=8);if(g.y+j.height>k.bottom&&h&4)g.y=Math.max(k.bottom-j.height,k.top),B|=2;h&8&&(B|=(g.y<k.top?64:0)|(g.y+j.height>k.bottom?128:0));h=B}else h=256;B=h;if(B&496){c=B;break a}}zc(c,f);Ub(d,j)||Jc(c,j);c=B}return c};function dg(){}dg.prototype.Zb=aa();function eg(a,b){this.element=a;this.Uc=b}D(eg,dg);eg.prototype.Zb=function(a,b,c){cg(this.element,this.Uc,a,b,i,c)};function fg(a,b,c){eg.call(this,a,b);this.lj=c}D(fg,eg);fg.prototype.Zb=function(a,b,c,d){var f=cg(this.element,this.Uc,a,b,m,c,10,d);if(f&496){var g=this.Uc,h=b;f&48&&(g^=2,h^=2);f&192&&(g^=1,h^=1);f=cg(this.element,g,a,h,m,c,10,d);f&496&&(this.lj?cg(this.element,this.Uc,a,b,m,c,5,d):cg(this.element,this.Uc,a,b,m,c,0,d))}};function gg(a,b,c,d){fg.call(this,a,b,c);this.Ni=d}D(gg,fg);gg.prototype.Zb=function(a,b,c,d){this.Ni?cg(this.element,this.Uc,a,b,m,c,33,d):gg.a.Zb.call(this,a,b,c,d)};function hg(){}D(hg,Bf);ca(hg);s=hg.prototype;s.eb=r("button");s.yc=function(a,b,c){b==16?Y(a,"pressed",c):hg.a.yc.call(this,a,b,c)};s.p=function(a){var b=hg.a.p.call(this,a),c=a.ed();c&&this.Pe(b,c);(c=a.o())&&this.V(b,c);a.aa&16&&this.yc(b,16,!1);return b};s.ea=function(a,b){var b=hg.a.ea.call(this,a,b),c=this.o(b);a.Ia=c;a.Me=this.ed(b);a.aa&16&&this.yc(b,16,!1);return b};s.o=u;s.V=u;s.ed=function(a){return a.title};s.Pe=function(a,b){if(a)a.title=b||""};s.n=r("goog-button");function ig(){}D(ig,hg);ca(ig);s=ig.prototype;s.eb=aa();s.p=function(a){Rf(a,!1);a.af&=-256;Vf(a,32,!1);return a.T().p("button",{"class":this.Lc(a).join(" "),disabled:!a.isEnabled(),title:a.ed()||"",value:a.o()||""},a.Fc()||"")};s.Na=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};s.ea=function(a,b){Rf(a,!1);a.af&=-256;Vf(a,32,!1);b.disabled&&Yb(b,this.gd(1));return ig.a.ea.call(this,a,b)};s.wc=function(a){a.la().h(a.c(),"click",a.Kc)};
s.fd=u;s.Ec=u;s.yb=function(a){return a.isEnabled()};s.Bb=u;s.va=function(a,b,c){ig.a.va.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};s.o=function(a){return a.value};s.V=function(a,b){if(a)a.value=b};s.yc=u;function jg(a,b,c){Z.call(this,a,b||ig.ua(),c)}D(jg,Z);s=jg.prototype;s.o=n("Ia");s.V=function(a){this.Ia=a;this.i.V(this.c(),a)};s.ed=n("Me");s.Pe=function(a){this.Me=a;this.i.Pe(this.c(),a)};s.g=function(){jg.a.g.call(this);delete this.Ia;delete this.Me};s.$=function(){jg.a.$.call(this);if(this.aa&32){var a=this.X();a&&this.la().h(a,"keyup",this.Gc)}};s.Gc=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Kc(a);return a.keyCode==32};Gf("goog-button",function(){return new jg(m)});function kg(){}D(kg,Bf);ca(kg);kg.prototype.p=function(a){return a.T().p("div",this.n())};kg.prototype.ea=function(a,b){if(b.tagName=="HR"){var c=b,b=this.p(a);c.parentNode&&c.parentNode.insertBefore(b,c);mc(c)}else Yb(b,this.n());return b};kg.prototype.kc=aa();kg.prototype.n=r("goog-menuseparator");function lg(a,b){Z.call(this,m,a||kg.ua(),b);Vf(this,1,!1);Vf(this,2,!1);Vf(this,4,!1);Vf(this,32,!1);this.t=1}D(lg,Z);lg.prototype.$=function(){lg.a.$.call(this);Af(this.c(),"separator")};Gf("goog-menuseparator",function(){return new lg});function mg(){}ca(mg);s=mg.prototype;s.eb=aa();function ng(a,b){if(a)a.tabIndex=b?0:-1}s.p=function(a){return a.T().p("div",this.Lc(a).join(" "))};s.Y=function(a){return a};s.Na=function(a){return a.tagName=="DIV"};s.ea=function(a,b){b.id&&Ld(a,b.id);var c=this.n(),d=!1,f=Xb(b);f&&G(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Db(!1):b==c+"-horizontal"?a.be(og):b==c+"-vertical"&&a.be(pg))},this);d||Yb(b,c);qg(this,a,this.Y(b));return b};
function qg(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.nf(d);if(g)g.f=d,b.isEnabled()||g.Db(!1),b.qd(g),g.ea(d)}else(!d.nodeValue||Ba(d.nodeValue)=="")&&c.removeChild(d);d=f}}s.nf=function(a){a:{for(var b=Xb(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Hf?Hf[b[c]]():m)break a;a=m}return a};s.wc=function(a){a=a.c();Oc(a,!0,I);if(H)a.hideFocus=!0;var b=this.eb();b&&Af(a,b)};s.X=function(a){return a.c()};s.n=r("goog-container");
s.Lc=function(a){var b=this.n(),c=[b,a.M==og?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function rg(){}D(rg,mg);ca(rg);s=rg.prototype;s.eb=r("menu");s.Na=function(a){return a.tagName=="UL"||rg.a.Na.call(this,a)};s.nf=function(a){return a.tagName=="HR"?new lg:rg.a.nf.call(this,a)};s.mc=function(a,b){return oc(a.c(),b)};s.n=r("goog-menu");s.wc=function(a){rg.a.wc.call(this,a);Y(a.c(),"haspopup","true")};Gf("goog-menuseparator",function(){return new lg});function sg(){this.gh=[]}D(sg,Bf);ca(sg);function tg(a,b){var c=a.gh[b];if(!c){switch(b){case 0:c=a.n()+"-highlight";break;case 1:c=a.n()+"-checkbox";break;case 2:c=a.n()+"-content"}a.gh[b]=c}return c}s=sg.prototype;s.eb=r("menuitem");s.p=function(a){var b=a.T().p("div",this.Lc(a).join(" "),ug(this,a.Ya,a.T()));vg(this,a,b,!!(a.aa&8)||!!(a.aa&16));return b};s.Y=function(a){return a&&a.firstChild};
s.ea=function(a,b){var c=nc(b),d=tg(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(ug(this,b.childNodes,a.T()));Ra(Xb(b),"goog-option")&&(a.de(!0),this.de(a,b,!0));return sg.a.ea.call(this,a,b)};s.kc=function(a,b){var c=this.Y(a),d=wg(this,a)?c.firstChild:m;sg.a.kc.call(this,a,b);d&&!wg(this,a)&&c.insertBefore(d,c.firstChild||m)};function ug(a,b,c){a=tg(a,2);return c.p("div",a,b)}s.de=function(a,b,c){b&&(Af(b,c?"menuitemcheckbox":this.eb()),vg(this,a,b,c))};
function wg(a,b){var c=a.Y(b);if(c){var c=c.firstChild,d=tg(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function vg(a,b,c,d){d!=wg(a,c)&&(d?Yb(c,"goog-option"):Zb(c,"goog-option"),c=a.Y(c),d?(a=tg(a,1),c.insertBefore(b.T().p("div",a),c.firstChild||m)):c.removeChild(c.firstChild))}s.gd=function(a){switch(a){case 2:return tg(this,0);case 16:case 8:return"goog-option-selected";default:return sg.a.gd.call(this,a)}};
s.lf=function(a){var b=tg(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return sg.a.lf.call(this,a)}};s.n=r("goog-menuitem");function xg(a,b,c,d){Z.call(this,a,d||sg.ua(),c);this.V(b)}D(xg,Z);s=xg.prototype;s.o=function(){var a=this.Qe;return a!=m?a:this.Fc()};s.V=ba("Qe");s.de=function(a){Vf(this,16,a);var b=this.c();b&&this.i.de(this,b,a)};s.Fc=function(){var a=this.Ya;if(x(a))return Pa(a,function(a){return Ra(Xb(a),"goog-menuitem-accel")?"":tc(a)}).join("");return xg.a.Fc.call(this)};
s.ec=function(a){var b=this.getParent();if(b){var c=b.Jg;b.Jg=m;if(b=c&&fa(a.clientX))b=new L(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}xg.a.ec.call(this,a)};Gf("goog-menuitem",function(){return new xg(m)});function yg(a,b,c){Hd.call(this,c);this.i=b||mg.ua();this.M=a||pg}D(yg,Hd);var og="horizontal",pg="vertical",s=yg.prototype;s.Mg=m;s.I=m;s.i=m;s.M=m;s.r=!0;s.Ja=!0;s.zf=!0;s.fa=-1;s.Z=m;s.lb=!1;s.Hi=!1;s.xi=!0;s.Cb=m;s.X=function(){return this.Mg||this.i.X(this)};s.ae=function(){return this.I||(this.I=new Lf(this.X()))};s.p=function(){this.f=this.i.p(this)};s.Y=function(){return this.i.Y(this.c())};s.Na=function(a){return this.i.Na(a)};
s.Za=function(a){this.f=this.i.ea(this,a);if(a.style.display=="none")this.r=!1};s.$=function(){yg.a.$.call(this);Pd(this,function(a){a.F&&zg(this,a)},this);var a=this.c();this.i.wc(this);this.Aa(this.r,!0);this.la().h(this,"enter",this.Je).h(this,"highlight",this.He).h(this,"unhighlight",this.Ie).h(this,"open",this.Qh).h(this,"close",this.Oh).h(a,"mousedown",this.Wb).h(N(a),"mouseup",this.Ph).h(a,["mousedown","mouseup","mouseover","mouseout"],this.Nh);this.yb()&&Ag(this,!0)};
function Ag(a,b){var c=a.la(),d=a.X();b?c.h(d,"focus",a.dc).h(d,"blur",a.ob).h(a.ae(),"key",a.Ga):c.W(d,"focus",a.dc).W(d,"blur",a.ob).W(a.ae(),"key",a.Ga)}s.Wa=function(){Bg(this,-1);this.Z&&this.Z.L(!1);this.lb=!1;yg.a.Wa.call(this)};s.g=function(){yg.a.g.call(this);if(this.I)this.I.m(),this.I=m;this.i=this.Z=this.Cb=m};s.Je=r(!0);
s.He=function(a){var b=Sd(this,a.target);if(b>-1&&b!=this.fa){var c=U(this,this.fa);c&&c.ab(!1);this.fa=b;c=U(this,this.fa);this.lb&&c.setActive(!0);this.xi&&this.Z&&c!=this.Z&&(c.aa&64?c.L(!0):this.Z.L(!1))}Y(this.c(),"activedescendant",a.target.c().id)};s.Ie=function(a){if(a.target==U(this,this.fa))this.fa=-1;Y(this.c(),"activedescendant","")};s.Qh=function(a){if((a=a.target)&&a!=this.Z&&a.getParent()==this)this.Z&&this.Z.L(!1),this.Z=a};s.Oh=function(a){if(a.target==this.Z)this.Z=m};
s.Wb=function(a){if(this.Ja)this.lb=!0;var b=this.X();b&&sc(b)?b.focus():a.preventDefault()};s.Ph=function(){this.lb=!1};s.Nh=function(a){var b;a:{b=a.target;if(this.Cb)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Cb){b=this.Cb[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.Wb(a);break;case "mouseup":b.ec(a);break;case "mouseover":b.kf(a);break;case "mouseout":b.jf(a)}};s.dc=aa();s.ob=function(){Bg(this,-1);this.lb=!1;this.Z&&this.Z.L(!1)};
s.Ga=function(a){if(this.isEnabled()&&this.r&&(Qd(this)!=0||this.Mg)&&this.Gc(a))return a.preventDefault(),a.stopPropagation(),!0;return!1};
s.Gc=function(a){var b=U(this,this.fa);if(b&&typeof b.Ga=="function"&&b.Ga(a))return!0;if(this.Z&&this.Z!=b&&typeof this.Z.Ga=="function"&&this.Z.Ga(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.yb())this.X().blur();else return!1;break;case 36:Cg(this);break;case 35:Dg(this);break;case 38:if(this.M==pg)Eg(this);else return!1;break;case 37:if(this.M==og)Rd(this)?Fg(this):Eg(this);else return!1;break;case 40:if(this.M==pg)Fg(this);else return!1;
break;case 39:if(this.M==og)Rd(this)?Eg(this):Fg(this);else return!1;break;default:return!1}return!0};function zg(a,b){var c=b.c(),c=c.id||(c.id=Kd(b));if(!a.Cb)a.Cb={};a.Cb[c]=b}s.qd=function(a,b){yg.a.qd.call(this,a,b)};s.td=function(a,b,c){a.Qd|=2;a.Qd|=64;(this.yb()||!this.Hi)&&Vf(a,32,!1);Rf(a,!1);yg.a.td.call(this,a,b,c);c&&this.F&&zg(this,a);b<=this.fa&&this.fa++};
s.removeChild=function(a,b){if(a=y(a)?Nd(this,a):a){var c=Sd(this,a);c!=-1&&(c==this.fa?a.ab(!1):c<this.fa&&this.fa--);(c=a.c())&&c.id&&wa(this.Cb,c.id)}a=yg.a.removeChild.call(this,a,b);Rf(a,!0);return a};s.be=function(a){this.c()&&e(Error("Component already rendered"));this.M=a};s.Aa=function(a,b){if(b||this.r!=a&&this.dispatchEvent(a?"show":"hide")){this.r=a;var c=this.c();c&&(Mc(c,a),this.yb()&&ng(this.X(),this.Ja&&this.r),b||this.dispatchEvent(this.r?"aftershow":"afterhide"));return!0}return!1};
s.isEnabled=n("Ja");s.Db=function(a){if(this.Ja!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Ja=!0,Pd(this,function(a){a.Qg?delete a.Qg:a.Db(!0)})):(Pd(this,function(a){a.isEnabled()?a.Db(!1):a.Qg=!0}),this.lb=this.Ja=!1),this.yb()&&ng(this.X(),a&&this.r)};s.yb=n("zf");s.Bb=function(a){a!=this.zf&&this.F&&Ag(this,a);this.zf=a;this.Ja&&this.r&&ng(this.X(),a)};function Bg(a,b){var c=U(a,b);c?c.ab(!0):a.fa>-1&&U(a,a.fa).ab(!1)}s.ab=function(a){Bg(this,Sd(this,a))};
function Cg(a){Hg(a,function(a,c){return(a+1)%c},Qd(a)-1)}function Dg(a){Hg(a,function(a,c){a--;return a<0?c-1:a},0)}function Fg(a){Hg(a,function(a,c){return(a+1)%c},a.fa)}function Eg(a){Hg(a,function(a,c){a--;return a<0?c-1:a},a.fa)}function Hg(a,b,c){for(var c=c<0?Sd(a,a.Z):c,d=Qd(a),c=b.call(a,c,d),f=0;f<=d;){var g=U(a,c);if(g&&a.kh(g)){Bg(a,c);break}f++;c=b.call(a,c,d)}}s.kh=function(a){return a.r&&a.isEnabled()&&!!(a.aa&2)};function Ig(){}D(Ig,Bf);ca(Ig);Ig.prototype.n=r("goog-menuheader");function Jg(a,b,c){Z.call(this,a,c||Ig.ua(),b);Vf(this,1,!1);Vf(this,2,!1);Vf(this,4,!1);Vf(this,32,!1);this.t=1}D(Jg,Z);Gf("goog-menuheader",function(){return new Jg(m)});function Kg(a,b){yg.call(this,pg,b||rg.ua(),a);this.Bb(!1)}D(Kg,yg);s=Kg.prototype;s.cf=!0;s.Ti=!1;s.n=function(){return this.i.n()};s.mc=function(a){if(this.i.mc(this,a))return!0;for(var b=0,c=Qd(this);b<c;b++){var d=U(this,b);if(typeof d.mc=="function"&&d.mc(a))return!0}return!1};s.Ib=function(a){this.qd(a,!0)};s.Oc=function(a,b){this.td(a,b,!0)};s.Dd=function(a){return U(this,a)};s.ne=function(){return Qd(this)};
s.Wd=function(a,b){var c=this.r;c||Mc(this.c(),!0);Ic(this.c(),a,b);c||Mc(this.c(),!1)};s.Aa=function(a,b,c){(b=Kg.a.Aa.call(this,a,b))&&a&&this.F&&this.cf&&this.X().focus();this.Jg=a&&c&&fa(c.clientX)?new L(c.clientX,c.clientY):m;return b};s.Je=function(a){this.cf&&this.X().focus();return Kg.a.Je.call(this,a)};s.kh=function(a){return(this.Ti||a.isEnabled())&&a.r&&!!(a.aa&2)};
s.Za=function(a){for(var b=this.i,c,c=this.T(),c=cc(c.A,"div",b.n()+"-content",a),d,f=0;d=c[f];f++)qg(b,this,d);Kg.a.Za.call(this,a)};function Lg(){}D(Lg,hg);ca(Lg);s=Lg.prototype;s.p=function(a){var b={"class":"goog-inline-block "+this.Lc(a).join(" "),title:a.ed()||""};return a.T().p("div",b,this.ge(a.Ya,a.T()))};s.eb=r("button");s.Y=function(a){return a&&a.firstChild.firstChild};s.ge=function(a,b){return b.p("div","goog-inline-block "+(this.n()+"-outer-box"),b.p("div","goog-inline-block "+(this.n()+"-inner-box"),a))};s.Na=function(a){return a.tagName=="DIV"};
s.ea=function(a,b){Mg(b,!0);Mg(b,!1);var c;a:{if((c=a.T().Ig(b))&&c.className.indexOf(this.n()+"-outer-box")!=-1)if((c=a.T().Ig(c))&&c.className.indexOf(this.n()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.ge(b.childNodes,a.T()));Yb(b,"goog-inline-block",this.n());return Lg.a.ea.call(this,a,b)};s.n=r("goog-custom-button");
function Mg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(Ba(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Ng(){}D(Ng,Lg);ca(Ng);if(I)Ng.prototype.kc=function(a,b){var c=Ng.a.Y.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,M(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};s=Ng.prototype;s.Y=function(a){a=Ng.a.Y.call(this,a&&a.firstChild);if(I&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};s.ea=function(a,b){var c=cc(document,"*","goog-menu",b)[0];if(c){Mc(c,!1);N(c).body.appendChild(c);var d=new Kg;d.ea(c);a.kd(d)}return Ng.a.ea.call(this,a,b)};
s.ge=function(a,b){return Ng.a.ge.call(this,[this.createCaption(a,b),b.p("div","goog-inline-block "+(this.n()+"-dropdown"),"\u00a0")],b)};s.createCaption=function(a,b){return b.p("div","goog-inline-block "+(this.n()+"-caption"),a)};s.n=r("goog-menu-button");function $(a,b,c,d){jg.call(this,a,c||Ng.ua(),d);Vf(this,64,!0);b&&this.kd(b);this.s=new V(500)}D($,jg);s=$.prototype;s.Cg=!0;s.hf=!1;s.Be=!1;s.Mh=!1;s.$=function(){$.a.$.call(this);this.j&&Og(this,this.j,!0);Y(this.c(),"haspopup","true")};s.Wa=function(){$.a.Wa.call(this);if(this.j){this.L(!1);this.j.Wa();Og(this,this.j,!1);var a=this.j.c();a&&mc(a)}};s.g=function(){$.a.g.call(this);this.j&&(this.j.m(),delete this.j);delete this.Rh;this.s.m()};
s.Wb=function(a){$.a.Wb.call(this,a);if(this.t&4&&(this.L(!this.bb(),a),this.j))this.j.lb=this.bb()};s.ec=function(a){$.a.ec.call(this,a);if(this.j&&!(this.t&4))this.j.lb=!1};s.Kc=function(){this.setActive(!1);return!0};s.Kh=function(a){this.j&&this.j.r&&!this.mc(a.target)&&this.L(!1)};s.mc=function(a){return a&&oc(this.c(),a)||this.j&&this.j.mc(a)||!1};
s.Gc=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.j&&this.j.r){var b=this.j.Ga(a);if(a.keyCode==27)return this.L(!1),!0;return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32)return this.L(!0),!0;return!1};s.mf=function(){this.L(!1)};s.Lh=function(){this.t&4||this.L(!1)};s.ob=function(a){this.Be||this.L(!1);$.a.ob.call(this,a)};function Pg(a){a.j||a.kd(new Kg(a.T()));return a.j||m}
s.kd=function(a){var b=this.j;if(a!=b&&(b&&(this.L(!1),this.F&&Og(this,b,!1),delete this.j),a)){this.j=a;Md(a,this);a.Aa(!1);var c=this.Be;(a.cf=c)&&a.Bb(!0);this.F&&Og(this,a,!0)}return b};s.Ib=function(a){Pg(this).qd(a,!0)};s.Oc=function(a,b){Pg(this).td(a,b,!0)};s.Dd=function(a){return this.j?U(this.j,a):m};s.ne=function(){return this.j?Qd(this.j):0};s.Aa=function(a,b){var c=$.a.Aa.call(this,a,b);c&&!this.r&&this.L(!1);return c};s.Db=function(a){$.a.Db.call(this,a);this.isEnabled()||this.L(!1)};
s.L=function(a,b){$.a.L.call(this,a);if(this.j&&!!(this.t&64)==a){if(a)this.j.F||(this.Mh?this.j.kb(this.c().parentNode):this.j.kb()),this.Wf=Ec(this.c()),this.Vf=Lc(this.c()),Qg(this),Bg(this.j,-1);else if(this.setActive(!1),this.j.lb=!1,this.c()&&Y(this.c(),"activedescendant",""),this.Nd!=m){this.Nd=i;var c=this.j.c();c&&Jc(c,"","")}this.j.Aa(a,!1,b);var c=this.la(),d=a?c.h:c.W;d.call(c,vc(this.T()),"mousedown",this.Kh,!0);this.Be&&d.call(c,this.j,"blur",this.Lh);d.call(c,this.s,Ud,this.sc);a?this.s.start():
this.s.stop()}};function Qg(a){if(a.j.F){var b=new gg(a.Rh||a.c(),a.Cg?5:7,!a.hf,a.hf),c=a.j.c();if(!a.j.r)c.style.visibility="hidden",Mc(c,!0);if(!a.Nd&&a.hf)a.Nd=Kc(c);b.Zb(c,a.Cg?4:6,m,a.Nd);if(!a.j.r)Mc(c,!1),c.style.visibility="visible"}}
s.sc=function(){var a=Lc(this.c()),b=Ec(this.c()),c;c=this.Vf;c=c==a?!0:!c||!a?!1:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c))c=this.Wf,c=c==b?!0:!c||!b?!1:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left,c=!c;if(c)this.Vf=a,this.Wf=b,Qg(this)};function Og(a,b,c){var d=a.la(),c=c?d.h:d.W;c.call(d,b,"action",a.mf);c.call(d,b,"highlight",a.He);c.call(d,b,"unhighlight",a.Ie)}s.He=function(a){Y(this.c(),"activedescendant",a.target.c().id)};
s.Ie=function(){U(this.j,this.j.fa)||Y(this.c(),"activedescendant","")};Gf("goog-menu-button",function(){return new $(m)});function Rg(a){E.call(this);this.qc=[];Sg(this,a)}D(Rg,T);s=Rg.prototype;s.Nb=m;s.ac=m;s.ne=function(){return this.qc.length};s.Dd=function(a){return this.qc[a]||m};function Sg(a,b){b&&(G(b,function(a){Tg(this,a,!1)},a),Va(a.qc,b))}s.Ib=function(a){this.Oc(a,this.ne())};s.Oc=function(a,b){a&&(Tg(this,a,!1),Wa(this.qc,b,0,a))};s.ie=n("Nb");s.Gb=function(a){if(a!=this.Nb)Tg(this,this.Nb,!1),this.Nb=a,Tg(this,a,!0);this.dispatchEvent("select")};s.rf=function(){return this.Nb?Na(this.qc,this.Nb):-1};
s.Ng=function(a){this.Gb(this.Dd(a))};s.clear=function(){var a=this.qc;if(!x(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Nb=m};s.g=function(){Rg.a.g.call(this);delete this.qc;this.Nb=m};function Tg(a,b,c){b&&(typeof a.ac=="function"?a.ac(b,c):typeof b.Af=="function"&&b.Af(c))};function Ug(a,b,c,d){$.call(this,a,b,c,d);this.fe=a;Vg(this)}D(Ug,$);s=Ug.prototype;s.H=m;s.fe=m;s.$=function(){Ug.a.$.call(this);Vg(this);Wg(this)};s.Za=function(a){Ug.a.Za.call(this,a);(a=this.Fc())?(this.fe=a,Vg(this)):this.Ng(0)};s.g=function(){Ug.a.g.call(this);if(this.H)this.H.m(),this.H=m;this.fe=m};s.mf=function(a){this.Gb(a.target);Ug.a.mf.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.Oi=function(){var a=this.ie();Ug.a.V.call(this,a&&a.o());Vg(this)};
s.kd=function(a){var b=Ug.a.kd.call(this,a);a!=b&&(this.H&&this.H.clear(),a&&(this.H?Pd(a,function(a){this.H.Ib(a)},this):Xg(this,a)));return b};s.Ib=function(a){Ug.a.Ib.call(this,a);this.H?this.H.Ib(a):Xg(this,Pg(this))};s.Oc=function(a,b){Ug.a.Oc.call(this,a,b);this.H?this.H.Oc(a,b):Xg(this,Pg(this))};s.Gb=function(a){this.H&&this.H.Gb(a)};s.Ng=function(a){this.H&&this.Gb(this.H.Dd(a))};
s.V=function(a){if(a!=m&&this.H)for(var b=0,c;c=this.H.Dd(b);b++)if(c&&typeof c.o=="function"&&c.o()==a){this.Gb(c);return}this.Gb(m)};s.ie=function(){return this.H?this.H.ie():m};s.rf=function(){return this.H?this.H.rf():-1};function Xg(a,b){a.H=new Rg;b&&Pd(b,function(a){this.H.Ib(a)},a);Wg(a)}function Wg(a){a.H&&a.la().h(a.H,"select",a.Oi)}function Vg(a){var b=a.ie();a.kc(b?b.Fc():a.fe)}s.L=function(a,b){Ug.a.L.call(this,a,b);this.bb()&&Bg(Pg(this),this.rf())};Gf("goog-select",function(){return new Ug(m)});function Yg(a,b){this.e=a;this.Ic=new Ug("---");this.U=R(this.Ic,"action",function(b){a.ma.Xb(b.target.o())});this.Ic.kb(b)}D(Yg,E);Yg.prototype.Ub=function(a,b){var c=new xg(a.name,a);this.Ic.Ib(c);if(b||this.Ic.ne()==1)this.Ic.Gb(c),this.e.ma.Xb(a)};Yg.prototype.g=function(){S(this.U);this.Ic.m()};function Zg(a,b,c){jg.call(this,a,b||Lg.ua(),c)}D(Zg,jg);Gf("goog-custom-button",function(){return new Zg(m)});function $g(a,b,c){E.call(this);this.target=a;this.handle=b||a;this.eh=c||new Vb(NaN,NaN,NaN,NaN);this.A=N(a);this.cb=new Bd(this);R(this.handle,["touchstart","mousedown"],this.Ag,!1,this)}D($g,T);var ah=H||I&&K("1.9.3"),s=$g.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.Gg=0;s.Hg=0;s.Jc=0;s.Yb=0;s.Ja=!0;s.Ca=!1;s.Fg=0;s.Ai=0;s.zi=!1;s.la=n("cb");s.Db=ba("Ja");
s.g=function(){$g.a.g.call(this);vd(this.handle,["touchstart","mousedown"],this.Ag,!1,this);this.cb.m();delete this.target;delete this.handle;delete this.cb};
s.Ag=function(a){var b=a.type=="mousedown";if(this.Ja&&!this.Ca&&(!b||Zc(a))){bh(a);if(this.Fg==0)if(ch(this,a),this.Ca)a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!ah;this.cb.h(b,["touchmove","mousemove"],this.yi,d);this.cb.h(b,["touchend","mouseup"],this.ke,d);ah?(c.setCapture(!1),this.cb.h(c,"losecapture",this.ke)):this.cb.h(b?b.parentWindow||b.defaultView:window,"blur",this.ke);H&&this.zi&&this.cb.h(b,"dragstart",Uc);this.Ci&&this.cb.h(this.Ci,"scroll",
this.Bi,d);this.clientX=this.Gg=a.clientX;this.clientY=this.Hg=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Jc=this.target.offsetLeft;this.Yb=this.target.offsetTop;this.rd=wc(M(this.A));this.Ai=C()}};function ch(a,b){if(a.dispatchEvent(new dh("start",a,b.clientX,b.clientY,b))!==!1)a.Ca=!0}
s.ke=function(a,b){Ed(this.cb);ah&&this.A.releaseCapture();if(this.Ca)bh(a),this.Ca=!1,this.dispatchEvent(new dh("end",this,a.clientX,a.clientY,a,eh(this,this.Jc),fh(this,this.Yb),b||a.type=="touchcancel"));(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function bh(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Mb(a.ra.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Mb(a.ra.changedTouches[0],a.currentTarget)}
s.yi=function(a){if(this.Ja){bh(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ca){var d=this.Gg-this.clientX,f=this.Hg-this.clientY;if(d*d+f*f>this.Fg&&(ch(this,a),!this.Ca)){this.ke(a);return}}c=gh(this,b,c);b=c.x;c=c.y;this.Ca&&this.dispatchEvent(new dh("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(hh(this,a,b,c),a.preventDefault())}};
function gh(a,b,c){var d=wc(M(a.A));b+=d.x-a.rd.x;c+=d.y-a.rd.y;a.rd=d;a.Jc+=b;a.Yb+=c;return new L(eh(a,a.Jc),fh(a,a.Yb))}s.Bi=function(a){var b=gh(this,0,0);a.clientX=this.rd.x-this.clientX;a.clientY=this.rd.y-this.clientY;hh(this,a,b.x,b.y)};function hh(a,b,c,d){a.Oe(c,d);a.dispatchEvent(new dh("drag",a,b.clientX,b.clientY,b,c,d))}function eh(a,b){var c=a.eh,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}
function fh(a,b){var c=a.eh,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.Oe=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function dh(a,b,c,d,f,g,h,j){P.call(this,a);this.clientX=c;this.clientY=d;this.uj=f;this.left=v(g)?g:b.Jc;this.top=v(h)?h:b.Yb;this.rg=b;this.vj=!!j}D(dh,P);function ih(a,b,c,d,f){Vd.call(this,b,c,d,f);this.element=a}D(ih,Vd);ih.prototype.oe=u;ih.prototype.pf=function(){this.oe();ih.a.pf.call(this)};ih.prototype.le=function(){this.oe();ih.a.le.call(this)};ih.prototype.sd=function(){this.oe();ih.a.sd.call(this)};function jh(a,b,c){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));ih.apply(this,arguments)}D(jh,ih);
jh.prototype.oe=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function kh(a,b,c,d){jh.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}D(kh,jh);kh.prototype.sd=function(){this.Nc=[this.element.offsetLeft,this.element.offsetTop];kh.a.sd.call(this)};function lh(){E.call(this)}D(lh,T);s=lh.prototype;s.Ia=0;s.Sa=0;s.Fa=100;s.za=0;s.Xc=1;s.hb=!1;s.Hc=!1;s.V=function(a){a=mh(this,a);if(this.Ia!=a)this.Ia=a+this.za>this.Fa?this.Fa-this.za:a<this.Sa?this.Sa:a,!this.hb&&!this.Hc&&this.dispatchEvent("change")};s.o=function(){return mh(this,this.Ia)};s.pd=function(a){a=mh(this,a);if(this.za!=a)this.za=a<0?0:this.Ia+a>this.Fa?this.Fa-this.Ia:a,!this.hb&&!this.Hc&&this.dispatchEvent("change")};
s.gc=function(){var a;a=this.za;a=this.Xc==m?a:Math.round(a/this.Xc)*this.Xc;return a};s.uf=function(a){if(this.Sa!=a){var b=this.hb;this.hb=!0;this.Sa=a;if(a+this.za>this.Fa)this.za=this.Fa-this.Sa;a>this.Ia&&this.V(a);if(a>this.Fa)this.za=0,this.Xd(a),this.V(a);this.hb=b;!this.hb&&!this.Hc&&this.dispatchEvent("change")}};s.ka=function(){return mh(this,this.Sa)};
s.Xd=function(a){a=mh(this,a);if(this.Fa!=a){var b=this.hb;this.hb=!0;this.Fa=a;a<this.Ia+this.za&&this.V(a-this.za);if(a<this.Sa)this.za=0,this.uf(a),this.V(this.Fa);if(a<this.Sa+this.za)this.za=this.Fa-this.Sa;this.hb=b;!this.hb&&!this.Hc&&this.dispatchEvent("change")}};s.oa=function(){return mh(this,this.Fa)};function mh(a,b){if(a.Xc==m)return b;return a.Sa+Math.round((b-a.Sa)/a.Xc)*a.Xc};function nh(a){Hd.call(this,a);this.v=new lh;R(this.v,"change",this.Yi,!1,this)}D(nh,Hd);s=nh.prototype;s.M="horizontal";s.of=!1;s.pi=!1;s.Sb=10;s.od=0;s.p=function(){nh.a.p.call(this);this.Za(this.T().p("div",this.n(this.M)))};s.Za=function(a){nh.a.Za.call(this,a);Yb(a,this.n(this.M));var a=this.c(),b=cc(document,m,"goog-slider-thumb",a)[0];b||(b=this.T().p("div","goog-slider-thumb"),Af(b,"button"),a.appendChild(b));this.Q=this.ta=b;Af(this.c(),"slider");oh(this)};
s.$=function(){nh.a.$.call(this);this.Td=new $g(this.Q);this.fg=new $g(this.ta);this.Td.Oe=this.fg.Oe=u;this.I=new Lf(this.c());this.Vb=new Zf(this.c());this.la().h(this.Td,"beforedrag",this.gg).h(this.fg,"beforedrag",this.gg).h(this.I,"key",this.Ke).h(this.c(),"mousedown",this.Kd).h(this.Vb,"mousewheel",this.Xh);this.c().tabIndex=0;ph(this)};
s.gg=function(a){var b=a.rg==this.Td?this.Q:this.ta,c;this.M=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.oa()-this.ka())+this.ka()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.oa()-this.ka())+this.ka();c=a.rg==this.Td?Math.min(Math.max(c,this.ka()),this.o()+this.gc()):Math.min(Math.max(c,this.o()),this.oa());qh(this,b,c)};
s.Ke=function(a){var b=!0;switch(a.keyCode){case 36:rh(this,this.ka());break;case 35:rh(this,this.oa());break;case 33:sh(this,this.Sb);break;case 34:sh(this,-this.Sb);break;case 37:case 40:sh(this,a.shiftKey?-this.Sb:-this.Jf);break;case 39:case 38:sh(this,a.shiftKey?this.Sb:this.Jf);break;default:b=!1}b&&a.preventDefault()};
s.Kd=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!oc(this.Q,b)&&!oc(this.ta,b))if(this.pi)rh(this,th(this,a));else{this.Ye(a);this.Da=uh(this,th(this,a));this.ng=this.M=="vertical"?this.ce<this.Da.offsetTop:this.ce>this.Da.offsetLeft+this.Da.offsetWidth;a=N(this.c());this.la().h(a,"mouseup",this.jg,!0).h(this.c(),"mousemove",this.Ye);if(!this.Ab)this.Ab=new V(200),this.la().h(this.Ab,Ud,this.pg);this.pg();this.Ab.start()}};s.Xh=function(a){sh(this,(a.detail>0?-1:1)*this.Jf);a.preventDefault()};
s.pg=function(){var a;if(this.M=="vertical"){var b=this.ce,c=this.Da.offsetTop;this.ng?b<c&&(a=vh(this,this.Da)+this.Sb):b>c+this.Da.offsetHeight&&(a=vh(this,this.Da)-this.Sb)}else b=this.ce,c=this.Da.offsetLeft,this.ng?b>c+this.Da.offsetWidth&&(a=vh(this,this.Da)+this.Sb):b<c&&(a=vh(this,this.Da)-this.Sb);v(a)&&qh(this,this.Da,a)};s.jg=function(){this.Ab&&this.Ab.stop();var a=N(this.c());this.la().W(a,"mouseup",this.jg,!0).W(this.c(),"mousemove",this.Ye)};
function wh(a,b){var c,d=a.c(),c=Hc(b),d=Hc(d),c=new L(c.x-d.x,c.y-d.y);return a.M=="vertical"?c.y:c.x}s.Ye=function(a){this.ce=wh(this,a)};function th(a,b){var c=a.ka(),d=a.oa();if(a.M=="vertical"){var f=a.Q.offsetHeight,g=a.c().clientHeight-f,f=wh(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.Q.offsetWidth,g=a.c().clientWidth-f,f=wh(a,b)-f/2,(d-c)*f/g+c}
function vh(a,b){if(b==a.Q)return a.v.o();else if(b==a.ta)return a.v.o()+a.v.gc();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function sh(a,b){var c=vh(a,a.Q)+b,d=vh(a,a.ta)+b,c=mb(c,a.ka(),a.oa()-a.od),d=mb(d,a.ka()+a.od,a.oa());xh(a,c,d-c)}function qh(a,b,c){var d=m;b==a.ta&&c<=a.v.oa()&&c>=a.v.o()+a.od&&(d=c-a.v.o());var f=d||a.v.gc();b==a.Q&&c>=a.ka()&&c<=a.v.o()+f-a.od&&(b=f-(c-a.v.o()),mh(a.v,c)+mh(a.v,b)==mh(a.v,c+b)&&(xh(a,c,b),d=m));d!=m&&a.v.pd(d)}
function xh(a,b,c){if(a.ka()<=b&&b<=a.oa()-c&&a.od<=c&&c<=a.oa()-b&&!(b==a.o()&&c==a.gc()))a.v.Hc=!0,a.v.pd(0),a.v.V(b),a.v.pd(c),a.v.Hc=!1,ph(a),a.dispatchEvent("change")}s.ka=function(){return this.v.ka()};s.uf=function(a){this.v.uf(a)};s.oa=function(){return this.v.oa()};s.Xd=function(a){this.v.Xd(a)};function uh(a,b){return b<=a.v.o()+a.v.gc()/2?a.Q:a.ta}s.Yi=function(){ph(this);oh(this);this.dispatchEvent("change")};
function ph(a){if(a.Q&&!a.of){var b=yh(a,vh(a,a.Q)),c=yh(a,vh(a,a.ta));a.M=="vertical"?(a.Q.style.top=b.y+"px",a.ta.style.top=c.y+"px"):(a.Q.style.left=b.x+"px",a.ta.style.left=c.x+"px")}}function yh(a,b){var c=new L;if(a.Q){var d=a.ka(),f=a.oa(),d=b==d&&d==f?0:(b-d)/(f-d);a.M=="vertical"?(f=a.c().clientHeight-a.Q.offsetHeight,c.y=f-Math.round(d*f)):c.x=Math.round(d*(a.c().clientWidth-a.Q.offsetWidth))}return c}
function rh(a,b){b=Math.min(a.oa(),Math.max(b,a.ka()));a.cd&&a.cd.stop(!0);var c=uh(a,b),d=yh(a,b),d=new kh(c,a.M=="vertical"?[c.offsetLeft,d.y]:[d.x,c.offsetTop],100);a.cd=d;a.la().h(d,"end",a.Li);a.of=!0;qh(a,c,b);d.play(!1)}s.Li=function(){this.of=!1};
s.be=function(a){if(this.M!=a){var b=this.n(this.M),c=this.n(a);this.M=a;if(this.c()){for(var a=this.c(),d=Xb(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Wa(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.Q.style.left=this.Q.style.top="";this.ta.style.left=this.ta.style.top="";ph(this)}}};
s.g=function(){nh.a.g.call(this);this.Ab&&this.Ab.m();delete this.Ab;this.cd&&this.cd.m();delete this.cd;delete this.Q;delete this.ta;this.v.m();delete this.v;this.I&&(this.I.m(),delete this.I);this.Vb&&(this.Vb.m(),delete this.Vb)};s.Jf=1;s.o=function(){return this.v.o()};s.V=function(a){qh(this,this.Q,a)};s.gc=function(){return this.v.gc()};s.pd=function(a){qh(this,this.ta,this.v.o()+a)};s.Aa=function(a){Mc(this.c(),a);a&&ph(this)};
function oh(a){var b=a.c();b&&(Y(b,"valuemin",a.ka()),Y(b,"valuemax",a.oa()),Y(b,"valuenow",a.o()))};function zh(a){nh.call(this,a);this.v.pd(0)}D(zh,nh);zh.prototype.n=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function Ah(a,b){this.e=a;this.hc=new zh;this.hc.be("vertical");this.hc.Xd(400);Bh=!1;this.hc.V((this.e.P-af(this.e))*400/this.e.ma.ga.wb());this.U=R(this.hc,"change",function(b){Bh==!1&&$e(a,b.target.o()*(a.ma.ga.wb()-af(a))/400+af(a));Bh=!1});this.fi=R(this.e,"zoomchanged",this.oi,!1,this);this.Ze=new Zg("");Tf(this.Ze,"addzoom");this.$e=new Zg("");Tf(this.$e,"substractzoom");this.di=R(this.Ze,"action",function(){$e(a,Math.floor(a.P+1))});this.ei=R(this.$e,"action",function(){$e(a,Math.floor(a.P-
1))});this.Ze.kb(O("addzoom"));this.$e.kb(O("substractzoom"));this.hc.kb(b)}var Bh;D(Ah,E);Ah.prototype.oi=function(){Bh=!0;this.hc.V((this.e.P-af(this.e))*400/this.e.ma.ga.wb())};Ah.prototype.g=function(){S(this.U);S(this.fi);S(this.di);S(this.ei);this.hc.m()};function Ch(){var a=arguments,b=a.length;return function(){for(var c,d=0;d<b;d++)c=a[d].apply(this,arguments);return c}};function Dh(a,b){this.name="Bing Maps - "+a;var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;t[c]=v(t[c])?Ch(z(this.qh,this),t[c]):z(this.qh,this);c=document.createElement("script");c.src=d;c.type="text/javascript";cc(document,"head",i,i)[0].appendChild(c)}D(Dh,kb);s=Dh.prototype;s.qh=function(a){this.Gd=a;a.resourceSets.length>0&&(this.ib=a.resourceSets[0].resources[0]);this.Pg()};s.Kf=function(){return w(this.ib)?0:this.ib.zoomMin};
s.wb=function(){return w(this.ib)?18:this.ib.zoomMax};s.bc=r(256);function Eh(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}s.Wc=function(a,b,c){return w(this.ib)?"":this.ib.imageUrl.replace("{subdomain}",this.ib.imageUrlSubdomains[lb(this.ib.imageUrlSubdomains.length)]).replace("{quadkey}",Eh(a,b,c))};s.tf=function(a){return w(this.ib)?!1:Dh.a.tf.call(this,a)};s.se=function(a){w(this.Gd)||kc(a,this.Gd.copyright)};s.Ff=function(){if(!w(this.Gd))return this.Gd.brandLogoUri;return m};
s.Gd=m;s.ib=m;var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Gh(a,b){var c;a instanceof Gh?(this.Sc(b==m?a.gb:b),Hh(this,a.Qb),Ih(this,a.zd),Jh(this,a.Pc),Kh(this,a.Rc),Lh(this,a.Qc),Mh(this,a.fb.sa()),Nh(this,a.yd)):a&&(c=String(a).match(Fh))?(this.Sc(!!b),Hh(this,c[1]||"",!0),Ih(this,c[2]||"",!0),Jh(this,c[3]||"",!0),Kh(this,c[4]),Lh(this,c[5]||"",!0),Mh(this,c[6]||"",!0),Nh(this,c[7]||"",!0)):(this.Sc(!!b),this.fb=new Oh(m,this,this.gb))}s=Gh.prototype;s.Qb="";s.zd="";s.Pc="";s.Rc=m;s.Qc="";s.yd="";s.mj=!1;s.gb=!1;
s.toString=function(){if(this.Oa)return this.Oa;var a=[];this.Qb&&a.push(Ph(this.Qb,Qh),":");if(this.Pc){a.push("//");this.zd&&a.push(Ph(this.zd,Qh),"@");var b;b=this.Pc;b=y(b)?encodeURIComponent(b):m;a.push(b);this.Rc!=m&&a.push(":",String(this.Rc))}this.Qc&&(this.Pc&&this.Qc.charAt(0)!="/"&&a.push("/"),a.push(Ph(this.Qc,Rh)));(b=String(this.fb))&&a.push("?",b);this.yd&&a.push("#",Ph(this.yd,Sh));return this.Oa=a.join("")};
s.sa=function(){var a=this.Qb,b=this.zd,c=this.Pc,d=this.Rc,f=this.Qc,g=this.fb.sa(),h=this.yd,j=new Gh(m,this.gb);a&&Hh(j,a);b&&Ih(j,b);c&&Jh(j,c);d&&Kh(j,d);f&&Lh(j,f);g&&Mh(j,g);h&&Nh(j,h);return j};function Hh(a,b,c){Th(a);delete a.Oa;a.Qb=c?b?decodeURIComponent(b):"":b;if(a.Qb)a.Qb=a.Qb.replace(/:$/,"")}function Ih(a,b,c){Th(a);delete a.Oa;a.zd=c?b?decodeURIComponent(b):"":b}function Jh(a,b,c){Th(a);delete a.Oa;a.Pc=c?b?decodeURIComponent(b):"":b}
function Kh(a,b){Th(a);delete a.Oa;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.Rc=b):a.Rc=m}function Lh(a,b,c){Th(a);delete a.Oa;a.Qc=c?b?decodeURIComponent(b):"":b}function Mh(a,b,c){Th(a);delete a.Oa;b instanceof Oh?(a.fb=b,a.fb.Ad=a,a.fb.Sc(a.gb)):(c||(b=Ph(b,Uh)),a.fb=new Oh(b,a,a.gb))}function Vh(a,b,c){Th(a);delete a.Oa;x(c)||(c=[String(c)]);a=a.fb;Wh(a);Xh(a);b=Yh(a,b);if(a.Rb(b)){var d=a.D.get(b);x(d)?a.w-=d.length:a.w--}c.length>0&&(a.D.set(b,c),a.w+=c.length)}
function Nh(a,b,c){Th(a);delete a.Oa;a.yd=c?b?decodeURIComponent(b):"":b}function Th(a){a.mj&&e(Error("Tried to modify a read-only Uri"))}s.Sc=function(a){this.gb=a;this.fb&&this.fb.Sc(a);return this};var Zh=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Ph(a,b){var c=m;y(a)&&(c=a,Zh.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,$h)));return c}function $h(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qh=/[#\/\?@]/g,Rh=/[\#\?]/g,Uh=/[\#\?@]/g,Sh=/#/g;
function Oh(a,b,c){this.tb=a||m;this.Ad=b||m;this.gb=!!c}function Wh(a){if(!a.D&&(a.D=new gb,a.tb))for(var b=a.tb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=m,g=m;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Yh(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}s=Oh.prototype;s.D=m;s.w=m;s.qf=function(){Wh(this);return this.w};
s.add=function(a,b){Wh(this);Xh(this);a=Yh(this,a);if(this.Rb(a)){var c=this.D.get(a);x(c)?c.push(b):this.D.set(a,[c,b])}else this.D.set(a,b);this.w++;return this};s.remove=function(a){Wh(this);a=Yh(this,a);if(this.D.Rb(a)){Xh(this);var b=this.D.get(a);x(b)?this.w-=b.length:this.w--;return this.D.remove(a)}return!1};s.clear=function(){Xh(this);this.D&&this.D.clear();this.w=0};s.Rb=function(a){Wh(this);a=Yh(this,a);return this.D.Rb(a)};
s.$b=function(){Wh(this);for(var a=this.D.Lb(),b=this.D.$b(),c=[],d=0;d<b.length;d++){var f=a[d];if(x(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};s.Lb=function(a){Wh(this);if(a)if(a=Yh(this,a),this.Rb(a)){var b=this.D.get(a);if(x(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.D.Lb(),a=[],c=0;c<b.length;c++){var d=b[c];x(d)?Va(a,d):a.push(d)}return a};
s.set=function(a,b){Wh(this);Xh(this);a=Yh(this,a);if(this.Rb(a)){var c=this.D.get(a);x(c)?this.w-=c.length:this.w--}this.D.set(a,b);this.w++;return this};s.get=function(a,b){Wh(this);a=Yh(this,a);if(this.Rb(a)){var c=this.D.get(a);return x(c)?c[0]:c}else return b};
s.toString=function(){if(this.tb)return this.tb;if(!this.D)return"";for(var a=[],b=0,c=this.D.$b(),d=0;d<c.length;d++){var f=c[d],g=Da(f),f=this.D.get(f);if(x(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Da(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Da(f)),b++}return this.tb=a.join("")};function Xh(a){delete a.Cf;delete a.tb;a.Ad&&delete a.Ad.Oa}
s.sa=function(){var a=new Oh;if(this.Cf)a.Cf=this.Cf;if(this.tb)a.tb=this.tb;if(this.D)a.D=this.D.sa();return a};function Yh(a,b){var c=String(b);a.gb&&(c=c.toLowerCase());return c}s.Sc=function(a){a&&!this.gb&&(Wh(this),Xh(this),fb(this.D,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.gb=a};function ai(a,b){this.Ad=new Gh(a);this.Ui=b?b:"callback";this.Fd=5E3}var bi=0;
ai.prototype.send=function(a,b,c,d){a=a||m;if(!document.documentElement.firstChild)return c&&c(a),m;d=d||"_"+(bi++).toString(36)+C().toString(36);t._callbacks_||(t._callbacks_={});var f=document.createElement("script"),g=m;this.Fd>0&&(g=t.setTimeout(ci(d,f,a,c),this.Fd));c=this.Ad.sa();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Vh(c,h,a[h]);b&&(t._callbacks_[d]=di(d,f,b,g),Vh(c,this.Ui,"_callbacks_."+d));ec(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{Qa:d,Fd:g}};ai.prototype.cancel=function(a){if(a&&a.Qa){var b=O(a.Qa);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.Qa]=="function"&&(a.Fd&&t.clearTimeout(a.Fd),ei(a.Qa,b,!1))}};function ci(a,b,c,d){return function(){ei(a,b,!1);d&&d(c)}}function di(a,b,c,d){return function(){t.clearTimeout(d);ei(a,b,!0);c.apply(i,arguments)}}function ei(a,b,c){t.setTimeout(function(){mc(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function fi(a,b){this.kj=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Hd=b||{};this.mh=new ai(this.kj,"json_callback")}
function gi(a,b,c,d){a.Hd.q=b;a.Hd.format="json";a.Hd.addressdetails=1;a.Hd.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.ej=b;if(!(c>1&&b===a.ej))a.nh!==m&&a.mh.cancel(a.nh),a.nh=a.mh.send(a.Hd,function(a){var c=Oa(a,function(a){return a["class"]=="place"});c.length>0?(G(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};function hi(a,b,c,d){this.ba=a||document.body;this.S=M(this.ba);this.qi=!a;this.f=m;this.Xa="";this.ha=[];this.og=this.ee=-1;this.r=!1;this.className="ac-renderer";this.Te="ac-row";this.tg="active";this.sg="ac-active";this.vi="ac-highlighted";this.Ac=b||m;this.Yh=d!=m?d:!0;this.gf=!1;this.ri=c!=m?c:!1;this.ef=m;this.Zd=!1}D(hi,T);s=hi.prototype;s.c=n("f");s.sf=function(a,b,c){this.Xa=b;this.ha=a;this.ee=-1;this.og=C();this.ia=c;this.hd=[];ii(this)};
s.nb=function(){this.ia&&Y(this.ia,"activedescendant","");if(this.r)this.r=!1,Mc(this.f,!1)};s.show=function(){if(!this.r)this.r=!0,Mc(this.f,!0)};
function ji(a,b){a.ee>=0&&Zb(a.hd[a.ee],a.sg,a.tg);a.ee=b;if(b>=0&&b<a.f.childNodes.length){var c=a.hd[b];Yb(c,a.sg,a.tg);a.ia&&Y(a.ia,"activedescendant",c?c.id:"");var d=a.f,f=Fc(c),g=Fc(d),h;if(H)var j=Qc(d,"borderLeft"),h=Qc(d,"borderRight"),k=Qc(d,"borderTop"),l=Qc(d,"borderBottom"),h=new Sb(k,h,l,j);else j=xc(d,"borderLeftWidth"),h=xc(d,"borderRightWidth"),k=xc(d,"borderTopWidth"),l=xc(d,"borderBottomWidth"),h=new Sb(parseFloat(k),parseFloat(h),parseFloat(l),parseFloat(j));j=f.x-g.x-h.left;f=
f.y-g.y-h.top;g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}s.Pa=function(a){if(a==-1)ji(this,-1);else for(var b=0;b<this.ha.length;b++)if(this.ha[b].id==a){ji(this,b);break}};
function ki(a){if(!a.f){var b=a.S.p("div",{style:"display:none"});a.f=b;Yb(b,a.className);Af(b,"listbox");b.id=Gd(Fd.ua());a.ia&&(Af(a.ia,"combobox"),Y(a.ia,"autocomplete","list"),Y(a.ia,"haspopup",!0));a.S.appendChild(a.ba,b);R(b,"click",a.Zf,!1,a);R(b,"mousedown",a.Kd,!1,a);R(a.S.A,"mousedown",a.$f,!1,a);R(b,"mouseover",a.ag,!1,a)}}
function ii(a){ki(a);if(a.Zd)a.f.style.visibility="hidden";a.hd.length=0;a.S.zg(a.f);if(a.Ac&&a.Ac.kb)a.Ac.kb(a);else{var b=m;db(a.ha,function(a){var d=this.Xa,f=this.S.p("div",{className:this.Te,id:Gd(Fd.ua())});Af(f,"option");this.Ac&&this.Ac.kg?this.Ac.kg(a,d,f):f.innerHTML=Ea(a.data.toString());d&&this.Yh&&li(this,f,d);Yb(f,this.Te);this.hd.push(f);a=f;this.Zd?this.f.insertBefore(a,b):this.S.appendChild(this.f,a);b=a},a)}a.ha.length==0?a.nb():(a.show(),mi(a.f),a.Zb(),Oc(a.f,!0))}
s.Zb=function(){if(this.ia&&this.qi){var a=Fc(this.ia),b=Kc(this.ia),c=Kc(Bc(this.ia)),d=Kc(this.f);a.y=this.Zd?a.y-d.height:a.y+b.height;(this.ri||a.x+d.width>c.width)&&this.ef!="LEFT"?(a.x=a.x+b.width-d.width,this.ef="RIGHT"):this.ef="LEFT";Ic(this.f,a);if(this.Zd)this.f.style.visibility="visible"}};
s.g=function(){hi.a.g.call(this);if(this.f)vd(this.f,"click",this.Zf,!1,this),vd(this.f,"mousedown",this.Kd,!1,this),vd(this.S.A,"mousedown",this.$f,!1,this),vd(this.f,"mouseover",this.ag,!1,this),this.S.removeNode(this.f),this.f=m,this.r=!1;delete this.ba};function mi(a){if(I&&xb)a.style.width="",a.style.overflow="visible",a.style.width=a.offsetWidth,a.style.overflow="auto"}
function li(a,b,c){if(b.nodeType==3){var d=m;x(c)&&c.length>1&&!a.gf&&(d=Xa(c,1));c=ni(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.gf?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.S.createElement("b"),h.className=a.vi,a.S.appendChild(h,a.S.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.S.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=Xa(c,d*3);b.nodeValue=a.join("")}else d&&li(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,li(a,b,c),b=d}function ni(a,b){var c="";if(!b)return c;a.gf?x(b)?(c=Oa(b,function(a){return!/^[\s\xa0]*$/.test(a==m?"":String(a))}),c=Pa(c,Ka),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ka(c),c=c.replace(/ /g,"|")):c=x(b)?b.length>0?Ka(b[0]):"":Ka(b);return c}
function oi(a,b){for(;b&&b!=a.f&&!Ra(Xb(b),a.Te);)b=b.parentNode;return b?Na(a.hd,b):-1}s.Zf=function(a){var b=oi(this,a.target);b>=0&&this.dispatchEvent({type:gf,uc:this.ha[b].id});a.stopPropagation()};s.Kd=function(a){this.dispatchEvent(hf);a.stopPropagation();a.preventDefault()};s.$f=function(){this.dispatchEvent(jf)};s.ag=function(a){a=oi(this,a.target);a>=0&&!(C()-this.og<300)&&this.dispatchEvent({type:ff,uc:this.ha[a].id})};function rf(a){var b;a:{var c=0,d=0;if(tf(a))c=a.selectionStart,d=-1;else if(H){var f=uf(a),b=f[0],f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function uf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function vf(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function tf(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};function pi(a,b,c,d){E.call(this);d=d||150;this.ud=a!=m?a:qi;this.gi=this.ud.substring(0,1);a=this.xc?"[\\s"+this.ud+"]+":"[\\s]+";this.qg=RegExp("^"+a+"|"+a+"$","g");this.hi=RegExp("\\s*["+this.ud+"]$");this.Lg=b||"";this.ni=this.xc=c!=m?c:!0;this.s=d>0?new V(d):m;this.na=new Bd(this);this.De=new Bd(this);this.I=new Lf;this.Kg=-1}D(pi,E);var qi=",;",s=pi.prototype;s.Fi=!0;s.aj=!0;s.Dg=!1;s.Wi=!0;s.Vi=!0;s.K=m;s.We="";s.Hb=!1;s.df=!1;s.yg=!0;s.o=function(){return this.K.value};
s.V=function(a){this.K.value=a};s.Gf=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];Y(b,"haspopup",!0);this.na.h(b,"focus",this.dc);this.na.h(b,"blur",this.ob);this.K||this.De.h(b,"keydown",this.Mi)}};s.g=function(){pi.a.g.call(this);this.na.m();delete this.na;this.De.m();this.I.m()};function ri(a){a.s?a.s.setInterval(300):a.s=new V(300)}
s.Ga=function(a){switch(a.keyCode){case 40:if(this.J.bb())return this.Dg?of(this.J):nf(this.J),a.preventDefault(),!0;else if(!this.xc)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.J.bb())return this.Dg?nf(this.J):of(this.J),a.preventDefault(),!0;break;case 9:if(this.J.bb()&&!a.shiftKey){if(this.update(),kf(this.J)&&this.ni)return a.preventDefault(),!0}else this.J.nb();break;case 13:if(this.J.bb()){if(this.update(),kf(this.J))return a.preventDefault(),a.stopPropagation(),!0}else this.J.nb();
break;case 27:if(this.J.bb())return this.J.nb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.Hb){if(!this.Hb)this.na.h(this.K,"keyup",this.xg),this.na.h(this.K,"keypress",this.wg),this.Hb=!0;return!0}break;default:this.s&&!this.yg&&(this.s.stop(),this.s.start())}return si(this,a)};function si(a,b){var c=a.xc&&b.charCode&&a.ud.indexOf(String.fromCharCode(b.charCode))!=-1;a.Wi&&c&&a.update();if(a.Vi&&c&&kf(a.J))return b.preventDefault(),!0;return!1}s.Di=r(!1);
s.dc=function(a){Ed(this.De);this.J&&lf(this.J);if(a.target!=this.K)this.K=a.target||m,this.s&&(this.s.start(),this.na.h(this.s,Ud,this.sc)),this.We=this.o(),this.I.$c(this.K),this.na.h(this.I,"key",this.ig),H&&this.na.h(this.K,"keypress",this.hg)};s.ob=function(){if(this.K)this.na.W(this.I,"key",this.ig),this.I.detach(),this.na.W(this.K,"keyup",this.Di),H&&this.na.W(this.K,"keypress",this.hg),this.Hb&&ti(this),this.K=m,this.s&&(this.s.stop(),this.na.W(this.s,Ud,this.sc)),this.J&&mf(this.J)};
s.sc=function(){this.update()};s.Mi=function(a){this.dc(a)};s.ig=function(a){this.Kg=a.keyCode;this.J&&this.Ga(a)};s.wg=function(){this.Hb&&this.Kg!=229&&ti(this)};s.xg=function(a){this.Hb&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&ti(this)};function ti(a){if(a.Hb)a.Hb=!1,a.na.W(a.K,"keypress",a.wg),a.na.W(a.K,"keyup",a.xg)}s.hg=function(a){si(this,a)};
s.update=function(a){if(a||this.K&&this.o()!=this.We){if(a||!this.df){var a=rf(this.K),b=this.o(),a=sf(this,b)[qf(this,b,a)],a=this.qg?String(a).replace(this.qg,""):a;if(this.J&&(this.J.ia=this.K,b=this.J,this.o(),b.Xa!=a))b.Xa=a,gi(b.bd,b.Xa,b.Ki,z(b.Ji,b)),lf(b)}this.We=this.o()}this.df=!1};function qf(a,b,c){a=sf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<c;d++)f+=a[d].length,b=d;return b}
function sf(a,b){if(!a.xc)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.Lg&&a.Lg.indexOf(c[g])!=-1){if(a.aj&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.ud.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function ui(a,b,c){var d=new hi(m,{kg:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.bd=new fi(b,c);b=new pi(m,m,!1);ri(b);b.yg=!1;b.J=this;b.Gf(a);ef.call(this,this.bd,d,b);this.addEventListener("update",function(b){a.value=b.uc.display_name})}D(ui,ef);ui.prototype.search=function(a,b,c){gi(this.bd,a,b,c)};function vi(a){w(a)||function(){this.b=new se(a,O("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});te(this.b);this.bg=new V(15);R(this.bg,Ud,z(function(){var a=this.b,b=a.ca;if(!w(a.Ee)){var c=C();if(a.Ge<C()-2E3)a.Ae=1E3*a.Sd/(C()-a.Ge),a.Xf=a.Fe/a.Sd,a.Ge=C(),a.Sd=0,a.Fe=0,a.Ee.innerHTML=a.Xf.toFixed(2)+" ms / fps: "+a.Ae.toFixed(2);a.Sd++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.Va=je(4);a.l.Ce();!w(a.Ee)&&(a.Fe+=C()-c);a=this.Le;G(a.we.$b(),
a.Wh,a)},this));this.b.l=new Ye(this.b,O("weapp-infobox"),O("weapp-mapcopyright"),O("weapp-maplogo"));this.oj=new df(this.b.l);this.qj=new ag(this.b.l);this.Vh=new Yg(this.b.l,O("weapp-tileprovider"));this.rj=new Ah(this.b.l,O("weapp-zoomslider"));this.pj=new Yf(this.b.l,O("weapp-pancontrol"));var b=O("weapp-nominatim");this.dg=new ui(b);this.Le=new xf(this.b.l,a.parentNode);var c=new bg(0,0);c.enable(!1);yf(this.Le,"nominatimMarker",c);var d=z(function(a){this.b.l.d.Wd(a.lat,a.lon);this.b.l.d.Yc=
0;c.enable(!0);c.Rf=a.lat;c.Sf=a.lon},this);this.dg.addEventListener("update",function(a){d(a.uc)});R(O("weapp-nominatimform"),"submit",z(function(a){a.preventDefault();this.dg.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=z(function(){function a(c){var d=b.indexOf(c+"=");if(!(d<0))return d+=c.length+1,c=b.indexOf(";",d),b.substring(d,c>0?c:b.length)}var b=window.location.hash,c=a("zoom")||a("z");isNaN(c)||$e(this.b.l,c);c=a("alt");isNaN(c)||ee(this.b.l.d,c);c=a("ll");if(c!=m)c=
c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.b.l.d.Wd(c[0],c[1]);else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.b.l.d.Wd(c,d)}},this);this.cg=new V(2E3);R(this.cg,Ud,z(function(){window.location.hash="#ll="+(this.b.l.d.latitude*180/Math.PI).toFixed(5)+","+(this.b.l.d.longitude*180/Math.PI).toFixed(5)+(this.b.l.d.R?";alt="+this.b.l.d.altitude.toFixed(0):";z="+this.b.l.P.toFixed(2))},this));this.cg.start();window.addEventListener("hashchange",f,!1);f();R(this.b.canvas,
"click",z(function(a){if(a.ctrlKey){var b=fe(this.b.l,a.offsetX,a.offsetY);yf(this.Le,m,new bg(b[0],b[1]));a.preventDefault()}},this));R(window.document,"keydown",function(a){if(a.keyCode==70&&a.ctrlKey)this.R=!this.R,a.preventDefault()},!1,this.b.l.d)}.call(this)}vi.prototype.Ub=function(a){this.Vh.Ub(a)};vi.prototype.start=function(){this.b.$d();this.bg.start()};
function wi(){var a=new vi(O("weapp-canvas"));a.Ub(new De);a.Ub(new Ce);a.Ub(new Dh("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Ub(new Dh("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Ub(new Dh("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.Ub(new rb("CleanTOPO2","../../resources/terrain/CleanTOPO2/{z}/{x}/{y}.png",0,5,256));a.start()}var xi="WEApp".split("."),yi=t;
!(xi[0]in yi)&&yi.execScript&&yi.execScript("var "+xi[0]);for(var zi;xi.length&&(zi=xi.shift());)!xi.length&&v(wi)?yi[zi]=wi:yi=yi[zi]?yi[zi]:yi[zi]={};
