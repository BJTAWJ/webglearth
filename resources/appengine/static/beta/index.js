/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,j=!0,l=null,p=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function r(a){return function(){return this[a]}}function s(a){return function(){return a}}var v,w=this;function x(){}function ca(a){a.Ca=function(){return a.bj||(a.bj=new a)}}
function da(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function z(a){return a!==i}function A(a){return a===l}function B(a){return a!=l}function C(a){return da(a)=="array"}function ea(a){var b=da(a);return b=="array"||b=="object"&&typeof a.length=="number"}function D(a){return typeof a=="string"}function fa(a){return typeof a=="number"}function ga(a){return da(a)=="function"}function ha(a){a=da(a);return a=="object"||a=="array"||a=="function"}
function ia(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||e(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function E(a,b,c){E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma;return E.apply(l,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var F=Date.now||function(){return+new Date};function G(a,b){function c(){}c.prototype=b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};function H(){}H.prototype.se=p;H.prototype.l=function(){if(!this.se)this.se=j,this.i()};H.prototype.i=function(){this.Ei&&oa.apply(l,this.Ei)};function pa(a){a&&typeof a.l=="function"&&a.l()}function oa(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ea(d)?oa.apply(l,d):pa(d)}};function qa(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function ra(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var sa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function ta(a){a=""+a;return!sa.test(a)?encodeURIComponent(a):a}function ua(a){if(!va.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(wa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(xa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ya,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(za,"&quot;"));return a}
var wa=/&/g,xa=/</g,ya=/>/g,za=/\"/g,va=/[&<>\"]/;function Aa(a){return(""+a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
function Ba(a,b){for(var c=0,d=ra(""+a).split("."),f=ra(""+b).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var k=d[h]||"",m=f[h]||"",n=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var o=n.exec(k)||["","",""],u=q.exec(m)||["","",""];if(o[0].length==0&&u[0].length==0)break;c=((o[1].length==0?0:parseInt(o[1],10))<(u[1].length==0?0:parseInt(u[1],10))?-1:(o[1].length==0?0:parseInt(o[1],10))>(u[1].length==0?0:parseInt(u[1],10))?1:0)||((o[2].length==0)<(u[2].length==0)?-1:(o[2].length==
0)>(u[2].length==0)?1:0)||(o[2]<u[2]?-1:o[2]>u[2]?1:0)}while(c==0)}return c};var I=Array.prototype,Ca=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(D(a))return!D(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},J=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=D(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Da=I.filter?function(a,b,c){return I.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=D(a)?a.split(""):
a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(f[g++]=m)}return f},Ea=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=D(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Fa=I.every?function(a,b,c){return I.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=D(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return p;return j};
function Ga(a,b){var c;a:{c=a.length;for(var d=D(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?l:D(a)?a.charAt(c):a[c]}function Ha(a,b){return Ca(a,b)>=0}function Ia(a,b){var c=Ca(a,b),d;(d=c>=0)&&I.splice.call(a,c,1);return d}function Ja(a){return I.concat.apply(I,arguments)}function Ka(a){if(C(a))return Ja(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}
function La(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(C(d)||(f=ea(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,k=0;k<h;k++)a[g+k]=d[k];else a.push(d)}}function Ma(a,b,c,d){I.splice.apply(a,Na(arguments,1))}function Na(a,b,c){return arguments.length<=2?I.slice.call(a,b):I.slice.call(a,b,c)}function Oa(a,b){I.sort.call(a,b||Pa)}function Pa(a,b){return a>b?1:a<b?-1:0}
function Qa(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];C(d)?b.push.apply(b,Qa.apply(l,d)):b.push(d)}return b};var Ra,Sa,Ta,Ua,Va,Wa,Xa;function Ya(){return w.navigator?w.navigator.userAgent:l}function Za(){return w.navigator}Va=Ua=Ta=Sa=Ra=p;var $a;if($a=Ya()){var ab=Za();Ra=$a.indexOf("Opera")==0;Sa=!Ra&&$a.indexOf("MSIE")!=-1;Ua=(Ta=!Ra&&$a.indexOf("WebKit")!=-1)&&$a.indexOf("Mobile")!=-1;Va=!Ra&&!Ta&&ab.product=="Gecko"}var bb=Ra,K=Sa,L=Va,M=Ta,cb=Ua,db,eb=Za();db=eb&&eb.platform||"";Wa=db.indexOf("Mac")!=-1;Xa=db.indexOf("Win")!=-1;var fb=!!Za()&&(Za().appVersion||"").indexOf("X11")!=-1,gb;
a:{var hb="",ib;if(bb&&w.opera)var jb=w.opera.version,hb=typeof jb=="function"?jb():jb;else if(L?ib=/rv\:([^\);]+)(\)|;)/:K?ib=/MSIE\s+([^\);]+)(\)|;)/:M&&(ib=/WebKit\/(\S+)/),ib)var kb=ib.exec(Ya()),hb=kb?kb[1]:"";if(K){var lb,mb=w.document;lb=mb?mb.documentMode:i;if(lb>parseFloat(hb)){gb=""+lb;break a}}gb=hb}var nb={};function N(a){return nb[a]||(nb[a]=Ba(gb,a)>=0)}var ob={};function pb(){return ob[9]||(ob[9]=K&&document.documentMode&&document.documentMode>=9)};var qb=!K||pb(),rb=!K||pb(),sb=K&&!N("8");function tb(a,b){this.type=a;this.currentTarget=this.target=b}G(tb,H);v=tb.prototype;v.i=function(){delete this.type;delete this.target;delete this.currentTarget};v.Qc=p;v.Zd=j;v.stopPropagation=function(){this.Qc=j};v.preventDefault=function(){this.Zd=p};function ub(a){a.preventDefault()};function vb(a){vb[" "](a);return a}vb[" "]=x;function wb(a,b){a&&this.fc(a,b)}G(wb,tb);var xb=[1,4,2];v=wb.prototype;v.target=l;v.relatedTarget=l;v.offsetX=0;v.offsetY=0;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.button=0;v.keyCode=0;v.charCode=0;v.ctrlKey=p;v.altKey=p;v.shiftKey=p;v.metaKey=p;v.Tj=p;v.ta=l;
v.fc=function(a,b){var c=this.type=a.type;tb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(L){var f;a:{try{vb(d.nodeName);f=j;break a}catch(g){}f=p}f||(d=l)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Tj=Wa?a.metaKey:a.ctrlKey;this.state=a.state;this.ta=a;delete this.Zd;delete this.Qc};function yb(a,b){return qb?a.ta.button==b:a.type=="click"?b==0:!!(a.ta.button&xb[b])}function zb(a){return yb(a,0)&&!(M&&Wa&&a.ctrlKey)}
v.stopPropagation=function(){wb.b.stopPropagation.call(this);this.ta.stopPropagation?this.ta.stopPropagation():this.ta.cancelBubble=j};v.preventDefault=function(){wb.b.preventDefault.call(this);var a=this.ta;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,sb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};v.Ki=r("ta");v.i=function(){wb.b.i.call(this);this.relatedTarget=this.currentTarget=this.target=this.ta=l};function Ab(){}var Bb=0;v=Ab.prototype;v.key=0;v.Rc=p;v.Gg=p;v.fc=function(a,b,c,d,f,g){ga(a)?this.lh=j:a&&a.handleEvent&&ga(a.handleEvent)?this.lh=p:e(Error("Invalid listener argument"));this.rd=a;this.Hh=b;this.src=c;this.type=d;this.capture=!!f;this.Ae=g;this.Gg=p;this.key=++Bb;this.Rc=p};v.handleEvent=function(a){return this.lh?this.rd.call(this.Ae||this.src,a):this.rd.handleEvent.call(this.rd,a)};function Cb(a,b){this.th=b;this.Ec=[];a>this.th&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Ec.push(this.Db?this.Db():{})}G(Cb,H);Cb.prototype.Db=l;Cb.prototype.Mg=l;function Db(a){return a.Ec.length?a.Ec.pop():a.Db?a.Db():{}}function Eb(a,b){a.Ec.length<a.th?a.Ec.push(b):Fb(a,b)}function Fb(a,b){if(a.Mg)a.Mg(b);else if(ha(b))if(ga(b.l))b.l();else for(var c in b)delete b[c]}
Cb.prototype.i=function(){Cb.b.i.call(this);for(var a=this.Ec;a.length;)Fb(this,a.pop());delete this.Ec};var Gb,Hb=(Gb="ScriptEngine"in w&&w.ScriptEngine()=="JScript")?w.ScriptEngineMajorVersion()+"."+w.ScriptEngineMinorVersion()+"."+w.ScriptEngineBuildVersion():"0";var Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb;
(function(){function a(){return{w:0,kb:0}}function b(){return[]}function c(){var a=rb?function(b){return h.call(a.src,a.key,b)}:function(b){b=h.call(a.src,a.key,b);if(!b)return b};return a}function d(){return new Ab}function f(){return new wb}var g=Gb&&!(Ba(Hb,"5.7")>=0),h;Nb=function(a){h=a};if(g){Ib=function(){return Db(k)};Jb=function(a){Eb(k,a)};Kb=function(){return Db(m)};Lb=function(a){Eb(m,a)};Mb=function(){return Db(n)};Ob=function(){Eb(n,c())};Pb=function(){return Db(q)};Qb=function(a){Eb(q,
a)};Rb=function(){return Db(o)};Sb=function(a){Eb(o,a)};var k=new Cb(0,600);k.Db=a;var m=new Cb(0,600);m.Db=b;var n=new Cb(0,600);n.Db=c;var q=new Cb(0,600);q.Db=d;var o=new Cb(0,600);o.Db=f}else Ib=a,Jb=x,Kb=b,Lb=x,Mb=c,Ob=x,Pb=d,Qb=x,Rb=f,Sb=x})();function Tb(a,b){for(var c in a)b.call(i,a[c],c,a)}function Ub(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Vb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Wb(){var a=Xb,b;for(b in a)return p;return j}function Yb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Zb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function $b(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Zb.length;g++)c=Zb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ac={},bc={},cc={},dc={};
function O(a,b,c,d,f){if(b){if(C(b)){for(var g=0;g<b.length;g++)O(a,b[g],c,d,f);return l}var d=!!d,h=bc;b in h||(h[b]=Ib());h=h[b];d in h||(h[d]=Ib(),h.w++);var h=h[d],k=ia(a),m;h.kb++;if(h[k]){m=h[k];for(g=0;g<m.length;g++)if(h=m[g],h.rd==c&&h.Ae==f){if(h.Rc)break;return m[g].key}}else m=h[k]=Kb(),h.w++;g=Mb();g.src=a;h=Pb();h.fc(c,g,a,b,d,f);c=h.key;g.key=c;m.push(h);ac[c]=h;cc[k]||(cc[k]=Kb());cc[k].push(h);a.addEventListener?(a==w||!a.Lg)&&a.addEventListener(b,g,d):a.attachEvent(b in dc?dc[b]:
dc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function ec(a,b,c,d,f){if(C(b))for(var g=0;g<b.length;g++)ec(a,b[g],c,d,f);else if(d=!!d,a=fc(a,b,d))for(g=0;g<a.length;g++)if(a[g].rd==c&&a[g].capture==d&&a[g].Ae==f){P(a[g].key);break}}
function P(a){if(!ac[a])return p;var b=ac[a];if(b.Rc)return p;var c=b.src,d=b.type,f=b.Hh,g=b.capture;c.removeEventListener?(c==w||!c.Lg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in dc?dc[d]:dc[d]="on"+d,f);c=ia(c);f=bc[d][g][c];if(cc[c]){var h=cc[c];Ia(h,b);h.length==0&&delete cc[c]}b.Rc=j;f.xh=j;gc(d,g,c,f);delete ac[a];return j}
function gc(a,b,c,d){if(!d.Ie&&d.xh){for(var f=0,g=0;f<d.length;f++)if(d[f].Rc){var h=d[f].Hh;h.src=l;Ob(h);Qb(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.xh=p;g==0&&(Lb(d),delete bc[a][b][c],bc[a][b].w--,bc[a][b].w==0&&(Jb(bc[a][b]),delete bc[a][b],bc[a].w--),bc[a].w==0&&(Jb(bc[a]),delete bc[a]))}}
function hc(a){var b,c=0,d=b==l;b=!!b;if(a==l)Tb(cc,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)P(g.key),c++}});else if(a=ia(a),cc[a])for(var a=cc[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)P(g.key),c++}}function fc(a,b,c){var d=bc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a]))?d[a]:l}
function ic(a,b,c,d,f){var g=1,b=ia(b);if(a[b]){a.kb--;a=a[b];a.Ie?a.Ie++:a.Ie=1;try{for(var h=a.length,k=0;k<h;k++){var m=a[k];m&&!m.Rc&&(g&=jc(m,f)!==p)}}finally{a.Ie--,gc(c,d,b,a)}}return Boolean(g)}function jc(a,b){var c=a.handleEvent(b);a.Gg&&P(a.key);return c}
Nb(function(a,b){if(!ac[a])return j;var c=ac[a],d=c.type,f=bc;if(!(d in f))return j;var f=f[d],g,h;if(!rb){var k;if(!(k=b))a:{k="window.event".split(".");for(var m=w;g=k.shift();)if(B(m[g]))m=m[g];else{k=l;break a}k=m}g=k;k=j in f;m=p in f;if(k){if(g.keyCode<0||g.returnValue!=i)return j;a:{var n=p;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(q){n=j}if(n||g.returnValue==i)g.returnValue=j}}n=Rb();n.fc(g,this);g=j;try{if(k){for(var o=Kb(),u=n.currentTarget;u;u=u.parentNode)o.push(u);h=f[j];h.kb=h.w;
for(var t=o.length-1;!n.Qc&&t>=0&&h.kb;t--)n.currentTarget=o[t],g&=ic(h,o[t],d,j,n);if(m){h=f[p];h.kb=h.w;for(t=0;!n.Qc&&t<o.length&&h.kb;t++)n.currentTarget=o[t],g&=ic(h,o[t],d,p,n)}}else g=jc(c,n)}finally{if(o)o.length=0,Lb(o);n.l();Sb(n)}return g}d=new wb(b,this);try{g=jc(c,d)}finally{d.l()}return g});function kc(){}G(kc,H);v=kc.prototype;v.Lg=j;v.Qe=l;v.hg=ba("Qe");v.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};v.removeEventListener=function(a,b,c,d){ec(this,a,b,c,d)};
v.dispatchEvent=function(a){var b=a.type||a,c=bc;if(b in c){if(D(a))a=new tb(a,this);else if(a instanceof tb)a.target=a.target||this;else{var d=a,a=new tb(b,this);$b(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Qe)f.push(g);g=c[j];g.kb=g.w;for(var h=f.length-1;!a.Qc&&h>=0&&g.kb;h--)a.currentTarget=f[h],d&=ic(g,f[h],a.type,j,a)&&a.Zd!=p}if(p in c)if(g=c[p],g.kb=g.w,b)for(h=0;!a.Qc&&h<f.length&&g.kb;h++)a.currentTarget=f[h],d&=ic(g,f[h],a.type,p,a)&&a.Zd!=p;else for(f=this;!a.Qc&&f&&
g.kb;f=f.Qe)a.currentTarget=f,d&=ic(g,f,a.type,p,a)&&a.Zd!=p;a=Boolean(d)}else a=j;return a};v.i=function(){kc.b.i.call(this);hc(this);this.Qe=l};function lc(a,b){this.Pd=a||1;this.ge=b||mc;this.jf=E(this.sg,this);this.Rf=F()}G(lc,kc);lc.prototype.enabled=p;var mc=w.window;v=lc.prototype;v.v=l;v.setInterval=function(a){this.Pd=a;this.v&&this.enabled?(this.stop(),this.start()):this.v&&this.stop()};v.sg=function(){if(this.enabled){var a=F()-this.Rf;if(a>0&&a<this.Pd*0.8)this.v=this.ge.setTimeout(this.jf,this.Pd-a);else if(this.dispatchEvent(nc),this.enabled)this.v=this.ge.setTimeout(this.jf,this.Pd),this.Rf=F()}};
v.start=function(){this.enabled=j;if(!this.v)this.v=this.ge.setTimeout(this.jf,this.Pd),this.Rf=F()};v.stop=function(){this.enabled=p;if(this.v)this.ge.clearTimeout(this.v),this.v=l};v.i=function(){lc.b.i.call(this);this.stop();delete this.ge};var nc="tick";function oc(a){ga(a)||(a&&typeof a.handleEvent=="function"?a=E(a.handleEvent,a):e(Error("Invalid listener argument")));return mc.setTimeout(a,20)};function pc(a){if(typeof a.cc=="function")return a.cc();if(D(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ub(a)}function qc(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ea(a)||D(a))J(a,b,c);else{var d;if(typeof a.bc=="function")d=a.bc();else if(typeof a.cc!="function")if(ea(a)||D(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Vb(a);else d=i;for(var f=pc(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};var rc="StopIteration"in w?w.StopIteration:Error("StopIteration");function sc(){}sc.prototype.next=function(){e(rc)};sc.prototype.bf=function(){return this};function tc(a){if(a instanceof sc)return a;if(typeof a.bf=="function")return a.bf(p);if(ea(a)){var b=0,c=new sc;c.next=function(){for(;;){b>=a.length&&e(rc);if(b in a)return a[b++];b++}};return c}e(Error("Not implemented"))}
function uc(a,b,c){if(ea(a))try{J(a,b,c)}catch(d){d!==rc&&e(d)}else{a=tc(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==rc&&e(f)}}};function vc(a,b){this.hb={};this.O=[];var c=arguments.length;if(c>1){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof vc?(c=a.bc(),d=a.cc()):(c=Vb(a),d=Ub(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}v=vc.prototype;v.w=0;v.ke=0;v.vf=r("w");v.cc=function(){wc(this);for(var a=[],b=0;b<this.O.length;b++)a.push(this.hb[this.O[b]]);return a};v.bc=function(){wc(this);return this.O.concat()};
v.Zb=function(a){return xc(this.hb,a)};v.equals=function(a,b){if(this===a)return j;if(this.w!=a.vf())return p;var c=b||yc;wc(this);for(var d,f=0;d=this.O[f];f++)if(!c(this.get(d),a.get(d)))return p;return j};function yc(a,b){return a===b}v.clear=function(){this.hb={};this.ke=this.w=this.O.length=0};v.remove=function(a){return xc(this.hb,a)?(delete this.hb[a],this.w--,this.ke++,this.O.length>2*this.w&&wc(this),j):p};
function wc(a){if(a.w!=a.O.length){for(var b=0,c=0;b<a.O.length;){var d=a.O[b];xc(a.hb,d)&&(a.O[c++]=d);b++}a.O.length=c}if(a.w!=a.O.length){for(var f={},c=b=0;b<a.O.length;)d=a.O[b],xc(f,d)||(a.O[c++]=d,f[d]=1),b++;a.O.length=c}}v.get=function(a,b){return xc(this.hb,a)?this.hb[a]:b};v.set=function(a,b){xc(this.hb,a)||(this.w++,this.O.push(a),this.ke++);this.hb[a]=b};v.oa=function(){return new vc(this)};
v.bf=function(a){wc(this);var b=0,c=this.O,d=this.hb,f=this.ke,g=this,h=new sc;h.next=function(){for(;;){f!=g.ke&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(rc);var h=c[b++];return a?h:d[h]}};return h};function xc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var zc,Ac=!K||pb();!L&&!K||K&&pb()||L&&N("1.9.1");var Bc=K&&!N("9");function Cc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function Dc(a,b){var c=Cc(a),d=Na(arguments,1),f;f=c;for(var g=0,h=0;h<d.length;h++)Ha(f,d[h])||(f.push(d[h]),g++);f=g==d.length;a.className=c.join(" ");return f}function Ec(a,b){var c=Cc(a),d=Na(arguments,1),f;f=c;for(var g=0,h=0;h<f.length;h++)Ha(d,f[h])&&(Ma(f,h--,1),g++);f=g==d.length;a.className=c.join(" ");return f};function Q(a,b){this.x=z(a)?a:0;this.y=z(b)?b:0}Q.prototype.oa=function(){return new Q(this.x,this.y)};function Fc(a,b){return new Q(a.x-b.x,a.y-b.y)};function Gc(a,b){this.width=a;this.height=b}function Hc(a,b){return a==b?j:!a||!b?p:a.width==b.width&&a.height==b.height}v=Gc.prototype;v.oa=function(){return new Gc(this.width,this.height)};v.Gd=function(){return this.width/this.height};v.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};v.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
v.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};v.scale=function(a){this.width*=a;this.height*=a;return this};function Ic(a){return a?new Jc(R(a)):zc||(zc=new Jc)}function Kc(a){return D(a)?document.getElementById(a):a}
function Lc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!M||Mc(document)||N("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&Ha(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}return a}
function Nc(a,b){Tb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in Oc?a.setAttribute(Oc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var Oc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function S(a,b,c){return Pc(document,arguments)}
function Pc(a,b){var c=b[0],d=b[1];if(!Ac&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ua(d.name),'"');if(d.type){c.push(' type="',ua(d.type),'"');var f={};$b(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)D(d)?c.className=d:C(d)?Dc.apply(l,[c].concat(d)):Nc(c,d);b.length>2&&Qc(a,c,b,2);return c}
function Qc(a,b,c,d){function f(c){c&&b.appendChild(D(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ea(g)&&!(ha(g)&&g.nodeType>0)?J(Rc(g)?Ka(g):g,f):f(g)}}function Mc(a){return a.compatMode=="CSS1Compat"}function Sc(a,b){Qc(R(a),a,arguments,1)}function Tc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Uc(a){return a&&a.parentNode?a.parentNode.removeChild(a):l}
function Vc(a){if(a.firstElementChild!=i)a=a.firstElementChild;else for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function Wc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function R(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Xc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Tc(a),a.appendChild(R(a).createTextNode(b))}var Yc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Zc={IMG:" ",BR:"\n"};function $c(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,fa(a)&&a>=0&&a<32768):p}function ad(a){var b=[];bd(a,b,p);return b.join("")}
function bd(a,b,c){if(!(a.nodeName in Yc))if(a.nodeType==3)c?b.push((""+a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Zc)b.push(Zc[a.nodeName]);else for(a=a.firstChild;a;)bd(a,b,c),a=a.nextSibling}function Rc(a){if(a&&typeof a.length=="number"){if(ha(a))return typeof a.item=="function"||typeof a.item=="string";if(ga(a))return typeof a.item=="function"}return p}function Jc(a){this.A=a||w.document||document}v=Jc.prototype;v.$=Ic;function cd(a){return a.A}
v.c=function(a){return D(a)?this.A.getElementById(a):a};v.t=function(a,b,c){return Pc(this.A,arguments)};v.createElement=function(a){return this.A.createElement(a)};v.createTextNode=function(a){return this.A.createTextNode(a)};function dd(a){return Mc(a.A)}function ed(a){var b=a.A,a=!M&&Mc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Q(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}v.appendChild=function(a,b){a.appendChild(b)};v.Jh=Tc;v.removeNode=Uc;v.Qg=Vc;
v.contains=Wc;function fd(a,b,c){this.Sd=a;this.pc=c;this.k=b;O(b,[gd,hd,id,jd],this);this.mb=l;this.ra=[];this.va=-1;this.Ba=0;this.Ac=this.Y=l;this.kh={}}G(fd,kc);v=fd.prototype;v.lj=10;v.mi=j;v.Dg=p;v.di=p;v.Xh=p;var gd="hilite",hd="select",jd="dismiss",id="canceldismiss";v=fd.prototype;v.handleEvent=function(a){if(a.target==this.k)switch(a.type){case gd:this.fb(a.row);break;case hd:kd(this);break;case id:ld(this);break;case jd:md(this)}};v.ld=r("Y");v.Qa=function(){return this.k.ba()};
function nd(a){var b=a.Ba+a.ra.length-1;a.va>=a.Ba&&a.va<b?a.fb(a.va+1):a.va==-1?a.fb(a.Ba):a.va==b&&(a.Dg?a.fb(-1):a.di&&a.fb(a.Ba))}function od(a){a.va>a.Ba?a.fb(a.va-1):a.Dg&&a.va==a.Ba?a.fb(-1):a.di&&(a.va==-1||a.va==a.Ba)&&a.fb(a.Ba+a.ra.length-1)}v.fb=function(a){this.va=a;this.k.fb(a);return qd(this,a)!=-1};
function kd(a){var b=qd(a,a.va);if(b!=-1){var b=a.ra[b],c=a.pc,d=b.toString();if(z(i)?0:c.sd){var f=rd(c,c.p(),sd(c.P)),g=td(c,c.p());c.ck.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.Ci);c.pk&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.P;(L||K&&N("9"))&&d.blur();d.value=g.join("");for(var h=0,k=0;k<=f;k++)h+=g[k].length;d.focus();f=h;g=c.P;d=f;ud(g)?g.selectionStart=d:K&&(h=vd(g),k=h[0],k.inRange(h[1])&&(d=wd(g,d),k.collapse(j),k.move("character",d),
k.select()));g=c.P;ud(g)?g.selectionEnd=f:K&&(h=vd(g),d=h[1],h[0].inRange(d)&&(f=wd(g,f),g=wd(g,sd(g)),d.collapse(j),d.moveEnd("character",f-g),d.select()))}}else c.X(d);c.eg=j;a.Xh?(a.mb=l,md(a)):a.Eb();a.dispatchEvent({type:"update",row:b});a.Xh&&a.pc.update(j);return j}a.Eb();a.dispatchEvent({type:"update",row:l});return p}v.Eb=function(){this.va=-1;this.mb=l;this.Ba+=this.ra.length;this.ra=[];window.clearTimeout(this.Ac);this.Ac=l;this.k.Eb();this.dispatchEvent("suggestionsupdate")};
function md(a){if(!a.Ac)a.Ac=window.setTimeout(E(a.Eb,a),100)}v.gh=function(){return this.Ac?(window.clearTimeout(this.Ac),this.Ac=l,j):p};function ld(a){a.gh()||window.setTimeout(E(a.gh,a),10)}v.i=function(){fd.b.i.call(this);delete this.kh;this.k.l();this.pc.l();this.Sd=l};v.ij=function(a,b,c){this.mb==a&&this.cg(b,c)};
v.cg=function(a,b){var c=b?qd(this,this.va):l;this.Ba+=this.ra.length;this.ra=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.Ba+f,data:a[f]});f=l;this.Y&&(f=this.kh[ia(this.Y)]||this.Y);this.k.li=f;this.k.cg(d,this.mb,this.Y);this.mi&&d.length!=0&&this.mb?this.fb(c!=l?this.Ba+c:this.Ba):this.va=-1;this.dispatchEvent("suggestionsupdate")};function qd(a,b){var c=b-a.Ba;return c<0||c>=a.ra.length?-1:c}v.hf=function(a){var b=this.pc;b.hf.apply(b,arguments)};v.update=function(a){this.pc.update(a)};function xd(){this.Ih=F()}new xd;xd.prototype.set=ba("Ih");xd.prototype.get=r("Ih");function yd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}yd.prototype.oa=function(){return new yd(this.top,this.right,this.bottom,this.left)};yd.prototype.contains=function(a){return!this||!a?p:a instanceof yd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function zd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}zd.prototype.oa=function(){return new zd(this.left,this.top,this.width,this.height)};zd.prototype.contains=function(a){return a instanceof zd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};zd.prototype.Ib=function(){return new Gc(this.width,this.height)};function Ad(a,b){var c=R(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b):""}function Bd(a,b){return a.currentStyle?a.currentStyle[b]:l}function Cd(a,b){return Ad(a,b)||Bd(a,b)||a.style[b]}function Dd(a,b,c){var d,f=L&&(Wa||fb)&&N("1.9");b instanceof Q?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ed(d,f);a.style.top=Ed(b,f)}function Fd(a){a=a?a.nodeType==9?a:R(a):document;return K&&!pb()&&!dd(Ic(a))?a.body:a.documentElement}
function Gd(a){var b=a.getBoundingClientRect();if(K)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Hd(a){if(K)return a.offsetParent;for(var b=R(a),c=Cd(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Cd(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return l}
function Id(a){for(var b=new yd(0,Infinity,Infinity,0),c=Ic(a),d=c.A.body,f=c.A.documentElement,g=!M&&Mc(c.A)?c.A.documentElement:c.A.body;a=Hd(a);)if((!K||a.clientWidth!=0)&&(!M||a.clientHeight!=0||a!=d)&&a!=d&&a!=f&&Cd(a,"overflow")!="visible"){var h=Kd(a),k;k=a;if(L&&!N("1.9")){var m=parseFloat(Ad(k,"borderLeftWidth"));if(Ld(k)){var n=k.offsetWidth-k.clientWidth-m-parseFloat(Ad(k,"borderRightWidth"));m+=n}k=new Q(m,parseFloat(Ad(k,"borderTopWidth")))}else k=new Q(k.clientLeft,k.clientTop);h.x+=
k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=c.A.parentWindow||c.A.defaultView||window;f=c.document;M&&!N("500")&&!cb?(typeof c.innerHeight=="undefined"&&(c=window),f=c.innerHeight,a=c.document.documentElement.scrollHeight,c==c.top&&a<f&&(f-=15),c=new Gc(c.innerWidth,f)):(c=Mc(f)?f.documentElement:f.body,c=
new Gc(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:l}
function Kd(a){var b,c=R(a),d=Cd(a,"position"),f=L&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new Q(0,0),h=Fd(c);if(a==h)return g;if(a.getBoundingClientRect)b=Gd(a),a=ed(Ic(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(M&&
Cd(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(bb||M&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Hd(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!bb||b.tagName!="TR")g.y-=b.scrollTop}return g}
function Md(a){var b=new Q;if(a.nodeType==1)if(a.getBoundingClientRect)a=Gd(a),b.x=a.left,b.y=a.top;else{var c=ed(Ic(a)),a=Kd(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=ga(a.Ki),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.ta.targetTouches&&(d=a.ta.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Nd(a,b,c){var d=Kd(a);if(b instanceof Q)c=b.y,b=b.x;Dd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}function Ed(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function Od(a){if(Cd(a,"display")!="none")return Pd(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Pd(a);b.display=c;b.position=f;b.visibility=d;return a}function Pd(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;return(!z(b)||d)&&a.getBoundingClientRect?(a=Gd(a),new Gc(a.right-a.left,a.bottom-a.top)):new Gc(b,c)}function Qd(a){var b=Kd(a),a=Od(a);return new zd(b.x,b.y,a.width,a.height)}
function Rd(a,b){a.style.display=b?"":"none"}function Ld(a){return"rtl"==Cd(a,"direction")}var Sd=L?"MozUserSelect":M?"WebkitUserSelect":l;function Td(a,b,c){c=!c?a.getElementsByTagName("*"):l;if(Sd){if(b=b?"none":"",a.style[Sd]=b,c)for(var a=0,d;d=c[a];a++)d.style[Sd]=b}else if(K||bb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function Ud(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}var Vd={thin:2,medium:4,thick:6};function Wd(a,b){if(Bd(a,b+"Style")=="none")return 0;var c=Bd(a,b+"Width");return c in Vd?Vd[c]:Ud(a,c)}
function Xd(a){if(K){var b=Wd(a,"borderLeft"),c=Wd(a,"borderRight"),d=Wd(a,"borderTop"),a=Wd(a,"borderBottom");return new yd(d,c,a,b)}b=Ad(a,"borderLeftWidth");c=Ad(a,"borderRightWidth");d=Ad(a,"borderTopWidth");a=Ad(a,"borderBottomWidth");return new yd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function T(a,b,c){return Math.min(Math.max(a,b),c)}function Yd(a,b){var c=a%b;return c*b<0?c+b:c}function Zd(a){return a*Math.PI/180}function $d(a){return a*180/Math.PI};function U(a,b){if(a instanceof U)this.B=a.he();else{var c;if(c=ea(a))a:{for(var d=c=0;d<a.length;d++){if(!ea(a[d])||c>0&&a[d].length!=c){c=p;break a}for(var f=0;f<a[d].length;f++)if(!fa(a[d][f])){c=p;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Ka(a):a instanceof Gc?this.B=ae(a.height,a.width):fa(a)&&fa(b)&&a>0&&b>0?this.B=ae(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.n=new Gc(this.B[0].length,this.B.length)}
function be(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new U(b)}function ce(a,b,c){for(var d=0;d<a.Ib().height;d++)for(var f=0;f<a.Ib().width;f++)b.call(c,a.B[d][f],d,f,a)}function de(a,b){var c=new U(a.Ib());ce(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function ae(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}v=U.prototype;
v.add=function(a){Hc(this.n,a.Ib())||e(Error("Matrix summation is only supported on arrays of equal size"));return de(this,function(b,c,d){return b+a.B[c][d]})};function ee(a,b){a.n.height!=b.Ib().height&&e(Error("The given matrix has height "+b.n.height+", but  needs to have height "+a.n.height+"."));var c=new U(a.n.height,a.n.width+b.n.width);ce(a,function(a,b,g){c.B[b][g]=a});ce(b,function(a,b,g){c.B[b][this.n.width+g]=a},a);return c}
v.equals=function(a,b){if(this.n.width!=a.n.width)return p;if(this.n.height!=a.n.height)return p;for(var c=b||0,d=0;d<this.n.height;d++)for(var f=0;f<this.n.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return p;return j};v.Ib=r("n");function fe(a){var b=new U(a.n.width,a.n.height);ce(a,function(a,d,f){b.B[f][d]=a});return b}function ge(a,b,c){return!(b>=0&&b<a.n.height&&c>=0&&c<a.n.width)?l:a.B[b][c]}
function he(a,b,c,d){b>=0&&b<a.n.height&&c>=0&&c<a.n.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.n.height+","+a.n.width+")"));a.B[b][c]=d}v.multiply=function(a){if(a instanceof U)return this.n.width!=a.Ib().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),ie(this,a);if(fa(a))return je(this,a);e(Error("A matrix can only be multiplied by a number or another matrix."))};
v.qg=function(a){Hc(this.n,a.Ib())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return de(this,function(b,c,d){return b-a.B[c][d]})};v.he=r("B");function ke(a,b,c,d){var f=new U((c?c:a.n.height-1)-0+1,(d?d:a.n.width-1)-b+1);ce(f,function(a,c,d){f.B[c][d]=this.B[0+c][b+d]},a);return f}function ie(a,b){var c=new U(a.n.height,b.Ib().width);ce(c,function(a,f,g){for(var h=a=0;h<this.n.width;h++)a+=ge(this,f,h)*ge(b,h,g);he(c,f,g,a)},a);return c}
function je(a,b){return de(a,function(a){return a*b})};function le(){this.wa=be(4)}le.prototype.translate=function(a,b,c){this.wa=this.wa.multiply(new U([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};le.prototype.scale=function(a,b,c){this.wa=this.wa.multiply(new U([[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]]))};function me(a,b){var c=Math.cos(b),d=Math.sin(b);a.wa=a.wa.multiply(new U([[c,0,d,0],[0,1,0,0],[-d,0,c,0],[0,0,0,1]]))}function ne(a,b){var c=Math.cos(b),d=Math.sin(b);a.wa=a.wa.multiply(new U([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}
function oe(a,b){var c=Math.cos(b),d=Math.sin(b);a.wa=a.wa.multiply(new U([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))};function pe(a,b,c){for(var d=l,f=["webgl","experimental-webgl"],g=0;A(d)&&g<f.length;++g)if(!d)a:{try{var h=a.getContext(f[g],{premultipliedAlpha:p});if(B(h)){d=h;break a}}catch(k){}d=l}A(d)&&(z(c)?c():e(Error("unable to get a valid WebGL context")));d.enable(d.CULL_FACE);d.cullFace(d.BACK);d.clearColor(0,0,0,0);d.clearDepth(1);d.enable(d.DEPTH_TEST);d.depthFunc(d.LEQUAL);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);this.canvas=a;this.tf=b||l;this.h=d;this.qb=a.width;this.pb=a.height;d.viewport(0,
0,this.qb,this.pb);this.me=this.Dc=0;this.le=1;this.Gd=this.qb/this.pb;this.Pc=be(4);this.Ea=new le;this.Me=this.Le=this.Pc;this.uf=this.ve=this.Of=this.Fg=this.sf=0;O(window,"resize",this.Se,p,this);this.ff=l}function qe(a){a.Dc=Zd(50);a.me=1.0E-6;a.le=5;a.Gd=a.qb/a.pb;re(a)}function re(a){var b=1/Math.tan(a.Dc/2);a.Pc=new U([[b/a.Gd,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);se(a)}function te(a,b,c){a.me=b;a.le=c;se(a)}
function se(a){var b=a.me-a.le;he(a.Pc,2,2,(a.le+a.me)/b);he(a.Pc,2,3,2*a.le*a.me/b)}pe.prototype.Se=function(){this.qb=this.canvas.width=this.canvas.clientWidth;this.pb=this.canvas.height=this.canvas.clientHeight;this.h.viewport(0,0,this.qb,this.pb);this.Gd=this.qb/this.pb;re(this);ue(this.o)};pe.prototype.o=l;
function ve(a){a.Le=a.Pc.multiply(a.Ea.wa);var b,c=a.Le;c.n.width!=c.n.height&&e(Error("An inverse can only be taken on a square matrix."));b=be(c.n.height);a:{for(var c=ee(c,b),d=new U(c),f=0,g=0;g<d.n.height;g++){if(f>=d.n.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.n.height&&(h=g,f++,f==d.n.width)){c=d;break a}var k=c,m=g,n=k.B[h];k.B[h]=k.B[m];k.B[m]=n;h=d.B[g][f];for(k=f;k<d.n.width;k++)d.B[g][k]/=h;for(h=0;h<d.n.height;h++)if(h!=g){m=d.B[h][f];for(k=f;k<d.n.width;k++)d.B[h][k]-=m*d.B[g][k]}f++}c=
d}b=!ke(c,0,b.n.width-1,b.n.height-1).equals(b)?l:ke(c,b.n.width);a.Me=b;return a.Le}pe.prototype.Xf=x;pe.prototype.Xd="";function we(){this.g=V;this.ac=this.startTime=l}G(we,kc);var V=0;we.prototype.jb=function(){this.ja("begin")};we.prototype.wb=function(){this.ja("end")};we.prototype.ja=function(a){this.dispatchEvent(a)};var Xb={},xe=l;function ye(a){a=ia(a);delete Xb[a];Wb()&&xe&&(mc.clearTimeout(xe),xe=l)}function ze(){xe||(xe=oc(function(){xe=l;Ae()}))}function Ae(){var a=F();Tb(Xb,function(b){Be(b,a)});Wb()||ze()};function Ce(a,b,c,d){we.call(this);(!C(a)||!C(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Bd=a;this.Gi=b;this.duration=c;this.Ag=d;this.coords=[]}G(Ce,we);v=Ce.prototype;v.Pg=0;v.Ua=0;v.Pf=l;
v.play=function(a){if(a||this.g==V)this.Ua=0,this.coords=this.Bd;else if(this.g==1)return p;ye(this);this.startTime=a=F();this.g==-1&&(this.startTime-=this.duration*this.Ua);this.ac=this.startTime+this.duration;this.Pf=this.startTime;this.Ua||this.jb();this.ja("play");this.g==-1&&this.ja("resume");this.g=1;var b=ia(this);b in Xb||(Xb[b]=this);ze();Be(this,a);return j};v.stop=function(a){ye(this);this.g=V;if(a)this.Ua=1;De(this,this.Ua);this.ja("stop");this.wb()};
v.i=function(){this.g==V||this.stop(p);this.ja("destroy");Ce.b.i.call(this)};function Be(a,b){a.Ua=(b-a.startTime)/(a.ac-a.startTime);if(a.Ua>=1)a.Ua=1;a.Pg=1E3/(b-a.Pf);a.Pf=b;De(a,a.Ua);a.Ua==1?(a.g=V,ye(a),a.ja("finish"),a.wb()):a.g==1&&a.Vf()}function De(a,b){ga(a.Ag)&&(b=a.Ag(b));a.coords=Array(a.Bd.length);for(var c=0;c<a.Bd.length;c++)a.coords[c]=(a.Gi[c]-a.Bd[c])*b+a.Bd[c]}v.Vf=function(){this.ja("animate")};v.ja=function(a){this.dispatchEvent(new Ee(a,this))};
function Ee(a,b){tb.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.I=b.coords[2];this.duration=b.duration;this.Ua=b.Ua;this.sf=b.Pg;this.state=b.g;this.sk=b}G(Ee,tb);function Fe(a){this.dh=a;this.O=[]}G(Fe,H);var Ge=[];Fe.prototype.j=function(a,b,c,d,f){C(b)||(Ge[0]=b,b=Ge);for(var g=0;g<b.length;g++)this.O.push(O(a,b[g],c||this,d||p,f||this.dh||this));return this};Fe.prototype.da=function(a,b,c,d,f){if(C(b))for(var g=0;g<b.length;g++)this.da(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.dh||this;d=!!d;if(a=fc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Rc&&a[b].rd==c&&a[b].capture==d&&a[b].Ae==f){a=a[b];break a}a=l}if(a)a=a.key,P(a),Ia(this.O,a)}return this};
function He(a){J(a.O,P);a.O.length=0}Fe.prototype.i=function(){Fe.b.i.call(this);He(this)};Fe.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Ie(){we.call(this);this.W=[]}G(Ie,we);Ie.prototype.add=function(a){Ha(this.W,a)||(this.W.push(a),O(a,"finish",this.Wf,p,this))};Ie.prototype.remove=function(a){Ia(this.W,a)&&ec(a,"finish",this.Wf,p,this)};Ie.prototype.i=function(){J(this.W,function(a){a.l()});this.W.length=0;Ie.b.i.call(this)};function Je(){Ie.call(this);this.qf=0}G(Je,Ie);
Je.prototype.play=function(a){if(this.W.length==0)return p;if(a||this.g==V)this.qf=0,this.jb();else if(this.g==1)return p;this.ja("play");this.g==-1&&this.ja("resume");var b=this.g==-1&&!a;this.startTime=F();this.ac=l;this.g=1;J(this.W,function(c){(!b||c.g==-1)&&c.play(a)});return j};Je.prototype.stop=function(a){J(this.W,function(b){b.g==V||b.stop(a)});this.g=V;this.ac=F();this.ja("stop");this.wb()};
Je.prototype.Wf=function(){this.qf++;if(this.qf==this.W.length)this.ac=F(),this.g=V,this.ja("finish"),this.wb()};function Ke(){Ie.call(this);this.ab=0}G(Ke,Ie);Ke.prototype.play=function(a){if(this.W.length==0)return p;if(a||this.g==V)this.ab<this.W.length&&this.W[this.ab].g!=V&&this.W[this.ab].stop(p),this.ab=0,this.jb();else if(this.g==1)return p;this.ja("play");this.g==-1&&this.ja("resume");this.startTime=F();this.ac=l;this.g=1;this.W[this.ab].play(a);return j};
Ke.prototype.stop=function(a){this.g=V;this.ac=F();if(a)for(a=this.ab;a<this.W.length;++a){var b=this.W[a];b.g==V&&b.play();b.g==V||b.stop(j)}else this.ab<this.W.length&&this.W[this.ab].stop(p);this.ja("stop");this.wb()};Ke.prototype.Wf=function(){if(this.g==1)this.ab++,this.ab<this.W.length?this.W[this.ab].play():(this.ac=F(),this.g=V,this.ja("finish"),this.wb())};function Le(a){var b=z(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(l);return b?"":c.responseText}function Me(a){a=Yd(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a}function Ne(a){var b=document.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));Lc(document,"head",i,i)[0].appendChild(b)};function Oe(a){this.e=a;this.Lb=this.vb=0;this.la=1E7;this.Mh=this.Rb=this.pd=0}G(Oe,kc);v=Oe.prototype;v.setPosition=function(a,b){this.vb=T(a,-1.57,1.57);this.Lb=Me(b);this.dispatchEvent(new Pe(Qe))};function Re(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.Mh);b/=Math.max(Math.abs(Math.cos(a.Rb)),0.1);d(a.pd);a.setPosition(a.vb+b,a.Lb+c)}v.getPosition=function(){return[this.vb,this.Lb]};
function Se(a,b){a.la=T(b,250,1E7);a.dispatchEvent(new Pe(Te))}v.ld=function(){return Ue(this.e,this.e.a.qb/2,this.e.a.pb/2,j)};v.setHeading=ba("pd");v.setTilt=ba("Rb");v.getHeading=r("pd");v.getTilt=r("Rb");var Qe="poschanged",Te="altchanged";function Pe(a){tb.call(this,a)}G(Pe,tb);function Ve(a){this.Wb=a;this.D=l;this.We=[];this.ue=[]}
function We(a,b,c,d){function f(a){var b=a*a;a*=a*a;return 6*a*b+-15*b*b+10*a}B(a.D)&&a.Yf();a.D=new Je;var g=a.Wb.getPosition();a.We=[0,0,a.Wb.getHeading(),a.Wb.getTilt()];a.ue=[0,0,0,0];Xe(a,g[0],g[1],b,c);var h=["begin","animate","end"],k=new Ce(a.We,a.ue,3E3,f);O(k,h,a.Nj,p,a);a.D.add(k);if(d)c=Ye(g[0],g[1],b,c),b=a.Wb.la,c=Math.min(b,d)+c*0.2,c=Math.max(Math.max(b,d),c),b=new Ce([b],[c],1500,f),d=new Ce([c],[d],1500,f),O(b,h,a.zh,p,a),O(d,h,a.zh,p,a),h=new Ke,h.add(b),h.add(d),a.D.add(h);O(a.D,
"end",a.Yf,p,a);a.D.play()}function Xe(a,b,c,d,f){var c=Yd(c,2*Math.PI),f=Yd(f,2*Math.PI),g=c-f;g<-Math.PI?c+=2*Math.PI:g>Math.PI&&(f+=2*Math.PI);a.We[0]=b;a.We[1]=c;a.ue[0]=d;a.ue[1]=f}Ve.prototype.Nj=function(a){this.Wb.setPosition(a.coords[0],a.coords[1]);this.Wb.setHeading(a.coords[2]);this.Wb.setTilt(a.coords[3])};Ve.prototype.zh=function(a){Se(this.Wb,a.coords[0])};Ve.prototype.Yf=function(){if(B(this.D))this.D.l(),this.D=l};Ve.prototype.cancel=function(){this.Yf()};function Ze(a,b,c){this.x=z(a)?a:0;this.y=z(b)?b:0;this.I=z(c)?c:0}Ze.prototype.oa=function(){return new Ze(this.x,this.y,this.I)};Ze.prototype.he=function(){return[this.x,this.y,this.I]};function $e(a,b,c){this.x=a;this.y=b;this.I=c}G($e,Ze);v=$e.prototype;v.oa=function(){return new $e(this.x,this.y,this.I)};v.scale=function(a){this.x*=a;this.y*=a;this.I*=a;return this};v.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.I*this.I))};v.add=function(a){this.x+=a.x;this.y+=a.y;this.I+=a.I;return this};v.qg=function(a){this.x-=a.x;this.y-=a.y;this.I-=a.I;return this};v.equals=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.I==a.I};function af(a,b,c,d,f,g){if(A(d))return l;a=d.multiply(new U([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(ge(a,3,0)==0)return l;a=a.multiply(1/ge(a,3,0));return new $e(ge(a,0,0),ge(a,1,0),ge(a,2,0))};function bf(a,b,c,d,f){function g(a,b,c,d){a?a=b:(a=b/Math.max(1,Math.sqrt(c*c+d*d)),a=Math.max(1,Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))));return a}a=a.h;this.ob=[];this.cd=[];this.z=[];for(var h=-b/2;h<b/2;++h)for(var k=-c/2;k<c/2;++k){var m=g(f,d,h,k),n=[k+1<c/2&&g(f,d,h,k+1)>m,h+1<b/2&&g(f,d,h+1,k)>m,k-1>-c/2&&g(f,d,h,k-1)>m,h-1>-b/2&&g(f,d,h-1,k)>m];cf(this,h,k,m,n)}this.af=a.createBuffer();this.Ze=a.createBuffer();this.ih=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.af);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.ob),a.STATIC_DRAW);this.af.Kf=2;a.bindBuffer(a.ARRAY_BUFFER,this.Ze);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.cd),a.STATIC_DRAW);this.Ze.Kf=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ih);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.z),a.STATIC_DRAW);this.Hj=this.z.length}
function cf(a,b,c,d,f){for(var g=a.ob.length/2,h=0;h<=d;++h)for(var k=0;k<=d;++k)a.ob.push(b+k/d,c+h/d),a.cd.push(k/d,1-h/d);var m=[0,0,0,0];if(f[0]){m[0]=a.ob.length/2;for(k=0;k<d;++k)a.ob.push(b+(k+0.5)/d,c+1),a.cd.push((k+0.5)/d,0)}if(f[1]){m[1]=a.ob.length/2;for(h=0;h<d;++h)a.ob.push(b+1,c+(h+0.5)/d),a.cd.push(1,1-(h+0.5)/d)}if(f[2]){m[2]=a.ob.length/2;for(k=0;k<d;++k)a.ob.push(b+(k+0.5)/d,c),a.cd.push((k+0.5)/d,1)}if(f[3]){m[3]=a.ob.length/2;for(h=0;h<d;++h)a.ob.push(b,c+(h+0.5)/d),a.cd.push(0,
1-(h+0.5)/d)}b=E(aa(),a);c=d+1;for(h=0;h<d;++h)for(k=0;k<d;++k){var n=g+h*c+k;a.z.push(n);var q=h==0&&f[2],o=k==0&&f[3];q&&!o?(a.z.push(m[2]+k),a.z.push(n+c),b(),a.z.push(m[2]+k)):o&&!q?(a.z.push(n+1),a.z.push(m[3]+h),b(),a.z.push(m[3]+h)):o&&q&&(a.z.push(m[2]+k),a.z.push(m[3]+h),b(),a.z.push(m[3]+h),a.z.push(m[2]+k),a.z.push(n+c),b(),a.z.push(m[2]+k));a.z.push(n+1);a.z.push(n+c);b();a.z.push(n+c+1);q=h==d-1&&f[0];o=k==d-1&&f[1];q&&!o?(a.z.push(m[0]+k),a.z.push(n+1),b(),a.z.push(m[0]+k)):o&&!q?(a.z.push(n+
c),a.z.push(m[1]+h),b(),a.z.push(m[1]+h)):q&&o&&(a.z.push(m[0]+k),a.z.push(m[1]+h),b(),a.z.push(m[1]+h),a.z.push(m[0]+k),a.z.push(n+1),b(),a.z.push(m[0]+k));a.z.push(n+c);a.z.push(n+1);b()}};function df(a,b,c){a=a.h||a;c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);a.getShaderParameter(c,a.COMPILE_STATUS)?A(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.getShaderInfoLog(c)));return c};function ef(a,b,c){var d;d=this.Jb=a.h,a=d;this.Dd=b;this.Ic=c;this.Va=a.createTexture();ff(this)}ef.prototype.Se=function(a,b){if(!(this.Dd==a&&this.Ic==b))this.Dd=a,this.Ic=b,this.Jb.deleteTexture(this.Va),this.Va=this.Jb.createTexture(),ff(this)};
function ff(a){var b=a.Jb;b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,a.Va);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.Dd,a.Ic,0,b.RGBA,b.UNSIGNED_BYTE,l);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR);b.generateMipmap(b.TEXTURE_2D)}ef.prototype.clear=function(){this.Jb.deleteTexture(this.Va);this.Va=this.Jb.createTexture();ff(this)};function gf(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};function hf(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.Og=0;this.mc=d||0;this.Id=this.dc=l;this.state=jf}G(hf,H);hf.prototype.getKey=function(){return this.zoom+"_"+this.x+"_"+this.y};hf.prototype.zi=x;hf.prototype.i=function(){this.dc=l;if(this.Id)this.zi(this.Id),this.Id=l};var jf=0;function kf(a){this.name=a;this.jc=0;this.pf=[];this.vj=-1.4844222297453324;this.jj=1.4844222297453324;this.wj=-Math.PI;this.kj=Math.PI;this.kf=[];this.opacity=1}function lf(a,b){if(!B(a.kf[b])){var c=1<<b,d=Math.floor((a.wj/(2*Math.PI)+0.5)*c),f=Math.floor((a.kj/(2*Math.PI)+0.5)*c),g=Math.floor((0.5-mf(a.jj)/(Math.PI*2))*c),c=Math.floor((0.5-mf(a.vj)/(Math.PI*2))*c);a.kf[b]=new yd(g,f,c,d)}return a.kf[b]}v=kf.prototype;v.kd=s(0);v.lf=s(p);v.ig=s(p);v.mh=s(j);
function nf(a){J(a.pf,function(a){this.jc--;this.He(a.hk,a.onload,a.Rj)},a);a.pf=[]}function of(a,b,c,d){a.mh()?a.He(b,c,d):(a.pf.push(new pf(b,c,d)),a.jc++)}v.ad=aa();v.xf=s(l);v.Yj=x;v.Kg=x;function qf(a,b,c,d,f){this.uk=a;this.vk=b;this.Ck=c;this.Dk=d;this.Fk=f}function pf(a,b,c){this.hk=a;this.onload=b;this.Rj=c};function rf(a){this.Qb=new vc;this.Lc=[];this.gk=512;this.Jg=new lc(2E4);O(this.Jg,nc,this.yi,p,this);this.Jg.start();sf(this,a)}function sf(a,b){a.Wh=F();a.La=b;qc(a.Qb,function(a){a.l()});a.Qb.clear();a.Lc=[]}v=rf.prototype;v.La=l;v.Wh=0;v.ik=x;v.yi=function(){var a=Da(this.Qb.cc(),function(a){return a.state==20||a.state==jf||a.state==-10});for(Oa(a,function(a,b){return a.mc-b.mc});this.Qb.vf()>this.gk&&a.length>0;){var b=a.shift();b.state==jf&&Ia(this.Lc,b);this.Qb.remove(b.getKey());b.l()}};
v.kk=function(a){a.mc<this.Wh?(a.state=-10,this.Qb.remove(a.getKey()),a.l()):this.ik(a)};function tf(a){Oa(a.Lc,function(a,b){return a.mc-b.mc});for(var b=Math.min(a.Lc.length,5-a.La.jc),c=0;c<b;c++)of(a.La,a.Lc.pop(),E(a.kk,a))};function uf(a,b,c,d){this.Na=b;this.Vb=[];this.u=c;this.La=a;this.tg=new rf(a);this.ya=d;this.Ka=1<<this.ya;this.fd=this.u>=this.Ka;this.Nb=this.Nc=0;this.buffer=l;this.xa=[];vf(this)}function vf(a){a.xa=[];for(var b=0;b<a.u;++b)a.xa.push(Array(a.u));a.buffer&&a.buffer.clear()}uf.prototype.disable=function(){this.Vb=[];vf(this);this.buffer=l};uf.prototype.Xb=function(a){this.La=a;sf(this.tg,a);this.Vb=[];vf(this)};
function wf(a){a.Vb=[];for(var b=E(function(a,b){var c=(this.fd?this.Ka:this.u)/2;a+=c;b+=c;this.xa[b][a]!==1&&xf(this,this.Nc+a,this.Nb+b,d)},a),c=E(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=F(),a=Math.min(a.u,a.Ka)/2;a>0;--a)c(d+a,a)}
function xf(a,b,c,d){var b=Yd(b,a.Ka),c=Yd(c,a.Ka),f;a:{f=a.tg;var g=a.ya,h=b,k=c,c=g+"_"+h+"_"+k,b=f.Qb.get(c);if(B(b))b.state==-10?d-b.mc>7E3&&(b.l(),b=new hf(g,h,k,d),f.Qb.set(c,b),f.Lc.push(b)):b.mc=d;else{d=b=new hf(g,h,k,d);g=lf(f.La,d.zoom);if(!(d.x>=g.left&&d.x<=g.right&&d.y>=g.top&&d.y<=g.bottom)){f=l;break a}f.Qb.set(c,b);f.Lc.push(b)}f=b}!A(f)&&f.state==20&&a.Vb.push(f)};function yf(a,b,c){function d(b){g.isTexture(h)&&(b.Og>=3||of(a,b,f,d))}function f(c){if(g.isTexture(h)){g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,h);try{g.texSubImage2D(g.TEXTURE_2D,0,c.x*m,(k-c.y-1)*m,g.RGBA,g.UNSIGNED_BYTE,c.Id?l:c.dc)}catch(n){a.lf()&&(a.ig(b.Xd)||!(c.dc&&c.dc.src.lastIndexOf(b.Xd,0)==0))?of(a,c,f,d):b.Xf()}}}var g=this.Jb=b.h,h=g.createTexture();this.Va=h;var k=1<<c,m=a.md();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
1);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,m*k,m*k,0,g.RGBA,g.UNSIGNED_BYTE,l);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);for(var n=0;n<k;++n)for(var q=0;q<k;++q)of(a,new hf(c,n,q),f,d)}G(yf,H);yf.prototype.i=function(){this.Jb.deleteTexture(this.Va)};function zf(a,b,c,d,f,g,h){this.Na=b;this.u=c;this.Sa=f;this.Je=g;this.La=a;var k=a.md();this.Bb=[];for(var m=0;m<d;++m)this.Bb.push(new ef(b,this.u*k,this.u*k));for(this.fa=[];f<=g;++f)this.fa.push(new uf(a,b,c,f));for(m=0;m<d;++m)this.fa[m].buffer=this.Bb[m];this.Xa=0;this.Qd=h?l:new yf(a,b,2)}zf.prototype.Xb=function(a){if(!A(this.Qd))this.Qd.l(),this.Qd=new yf(a,this.Na,2);this.La=a;var b=this.u*a.md();J(this.Bb,function(a){a.Se(b,b)});J(this.fa,function(b){b.Xb(a)});Af(this)};
function Bf(a,b,c,d,f,g){for(var g=T(g,a.Sa,a.Je),h=g-(a.Sa+a.Xa+a.Bb.length-1);h>0;){var k=a.fa[a.Xa].buffer;a.fa[a.Xa].disable();a.fa[++a.Xa+a.Bb.length-1].buffer=k;h--}for(;h<0&&a.Xa>0;)k=a.fa[a.Xa+a.Bb.length-1].buffer,a.fa[a.Xa+a.Bb.length-1].disable(),a.fa[--a.Xa].buffer=k,h++;for(var h=1<<g,m=p,c=(c/(2*Math.PI)+0.5)*h,b=(0.5-mf(b)/(Math.PI*2))*h,f=(f/(2*Math.PI)+0.5)*h,k=(0.5-mf(d)/(Math.PI*2))*h,d=g-a.Sa;d>=a.Xa;d--){var n=T(c-a.u/2,f-a.u,f),q=T(b-a.u/2,k-a.u,k),o=lf(a.La,a.Sa+d),n=T(n,o.left,
o.right+1-a.u),q=T(q,o.top,o.bottom+1-a.u),n=Yd(Math.round(n),h),q=Math.round(q),o=a.fa[d],u=q,q=p;if(!o.fd){var t=n-o.Nc,Z=u-o.Nb;Math.abs(t)>o.Ka/2&&(t=(t-(t==0?0:t<0?-1:1)*o.Ka)%o.Ka);o.Nc=n;o.Nb=u;if(Math.abs(t)>=o.u||Math.abs(Z)>=o.u)vf(o),q=j;else{q=t!=0||Z!=0;if(t>0)for(n=0;n<o.u;++n)o.xa[n].splice(0,t),o.xa[n].push.apply(o.xa[n],Array(t));if(t<0)for(n=0;n<o.u;++n)o.xa[n].splice(o.u+t,-t),o.xa[n].unshift.apply(o.xa[n],Array(-t));if(Z>0)for(n=0;n<Z;++n)o.xa.shift(),o.xa.push(Array(o.u));if(Z<
0)for(n=0;n<-Z;++n)o.xa.pop(),o.xa.unshift(Array(o.u))}}wf(o);m|=q;c/=2;b/=2;f/=2;k/=2}m&&Af(a);f=1;for(d=a.Xa;f>0&&d<=g-a.Sa;d++){h=f;c=a.fa[d];b=0;if(c.Vb.length>0){f=Math.min(c.Vb.length,f>=0?1:0);for(k=0;k<f;k++){n=c;m=c.Vb.pop();if(!A(n.buffer)&&m.zoom==n.ya&&(o=m.x-n.Nc,q=m.y-n.Nb,t=1<<n.ya,o=Yd(o,t),q=Yd(q,t),!(o<0||o>=n.u||q<0||q>=n.u))){t=n.Na.h;u=n.La.md();t.bindTexture(t.TEXTURE_2D,n.buffer.Va);Z=Yd(o+n.Nc,n.u)*u;u*=n.u-Yd(q+n.Nb,n.u)-1;try{t.texSubImage2D(t.TEXTURE_2D,0,Z,u,t.RGBA,t.UNSIGNED_BYTE,
m.Id?l:m.dc),n.xa[q][o]=1}catch(pd){n.La.lf()&&(n.La.ig(n.Na.Xd)||!(m.dc&&m.dc.src.lastIndexOf(n.Na.Xd,0)==0))?xf(n,m.x,m.y,m.mc):n.Na.Xf()}}b++}}tf(c.tg);b>0&&(c.Na.h.activeTexture(c.Na.h.TEXTURE0),c.Na.h.bindTexture(c.Na.h.TEXTURE_2D,c.buffer.Va),c.Na.h.generateMipmap(c.Na.h.TEXTURE_2D));f=h-b}}function Cf(a,b,c){return b>a.Je||b-c<a.Sa?Array(a.u*a.u):Qa(a.fa[b-a.Sa-c].xa)}function Df(a,b,c){return b>a.Je||b-c<a.Sa?l:a.fa[b-a.Sa-c].buffer.Va}
function Ef(a,b,c){if(b>a.Je)return Array(2*c);for(var d=[],f=b-a.Sa;f>b-a.Sa-c;--f)d.push(Math.round(a.fa[Math.max(0,f)].Nc),Math.round(a.fa[Math.max(0,f)].Nb));return d}
function Af(a){for(var b=Array(a.Bb.length),c=0;c<a.Bb.length;c++){var d=a.fa[a.Xa+c],f=Ff((0.5-d.Nb/d.Ka)*2*Math.PI),g=Ff((0.5-(d.Nb+d.u)/d.Ka)*2*Math.PI);b[c]=new qf(d.fd?0:Ff((0.5-(d.Nb+d.u/2)/d.Ka)*2*Math.PI),d.fd?0:((d.Nc+d.u/2)/d.Ka-0.5)*2*Math.PI,d.fd?Math.PI/2:Math.abs(f-g),d.fd?Math.PI:d.u/d.Ka*2*Math.PI,d.ya)}a.La.Yj(b)};function Gf(a,b,c,d){b=b.h;this.C=a;this.Yc=b.getAttribLocation(this.C,"aVertexPosition");this.rg=b.getAttribLocation(this.C,"aTextureCoord");this.Ej=W(b,this.C,"uMVPMatrix");this.nj=W(b,this.C,"uMetaL0A");this.qj=W(b,this.C,"uMetaL1A");this.tj=W(b,this.C,"uMetaL2A");this.dj=W(b,this.C,"uOffLA");this.ni=W(b,this.C,"uBufferL0A");this.qi=W(b,this.C,"uBufferL1A");this.ti=W(b,this.C,"uBufferL2A");this.vi=W(b,this.C,"uBufferLnA");if(c)this.oj=W(b,this.C,"uMetaL0B"),this.rj=W(b,this.C,"uMetaL1B"),this.uj=
W(b,this.C,"uMetaL2B"),this.ej=W(b,this.C,"uOffLB"),this.oi=W(b,this.C,"uBufferL0B"),this.ri=W(b,this.C,"uBufferL1B"),this.ui=W(b,this.C,"uBufferL2B"),this.xj=W(b,this.C,"uMixFactor");if(d)this.Di=W(b,this.C,"uDegradationT"),this.pj=W(b,this.C,"uMetaL0T"),this.sj=W(b,this.C,"uMetaL1T"),this.fj=W(b,this.C,"uOffLT"),this.pi=W(b,this.C,"uBufferL0T"),this.si=W(b,this.C,"uBufferL1T"),this.wi=W(b,this.C,"uBufferLnT");this.jk=W(b,this.C,"uTileCount");this.Ij=W(b,this.C,"uOffset")}
function W(a,b,c){a=a.getUniformLocation(b,c);A(a)&&e(Error("Invalid name "+c));return a};var Hf={"earth-fs-overlay.glsl":"precision mediump float;uniform sampler2D uBufferL0A;uniform sampler2D uBufferL1A;uniform sampler2D uBufferL2A;uniform sampler2D uBufferLnA;varying float vFallbackA;varying vec2 vTCA;uniform sampler2D uBufferL0B;uniform sampler2D uBufferL1B;uniform sampler2D uBufferL2B;varying float vFallbackB;varying vec2 vTCB;uniform float uMixFactor;void main(){float fallbackA=floor(vFallbackA+0.5);vec4 colorA;if(fallbackA==0.0){colorA=texture2D(uBufferL0A,vTCA);}else if(fallbackA==1.0){colorA=texture2D(uBufferL1A,vTCA);}else if(fallbackA==2.0){colorA=texture2D(uBufferL2A,vTCA);}else if(fallbackA==-1.0){colorA=texture2D(uBufferLnA,vTCA);}else{discard;}float fallbackB=floor(vFallbackB+0.5);vec4 colorB=vec4(0.0);if(fallbackB==0.0){colorB=texture2D(uBufferL0B,vTCB);}else if(fallbackB==1.0){colorB=texture2D(uBufferL1B,vTCB);}else if(fallbackB==2.0){colorB=texture2D(uBufferL2B,vTCB);}gl_FragColor=mix(colorA,colorB,uMixFactor*colorB.a);}",
"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0A;uniform sampler2D uBufferL1A;uniform sampler2D uBufferL2A;uniform sampler2D uBufferLnA;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0A,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1A,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2A,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLnA,vTCA);}else{discard;}}",
"earth-vs-overlay.glsl":"#define BUFF_SIDE 4.0\n#define BUFF_SIZE 16\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0A[BUFF_SIZE];uniform float uMetaL1A[BUFF_SIZE];uniform float uMetaL2A[BUFF_SIZE];uniform vec2 uOffLA[3];varying float vFallbackA;varying vec2 vTCA;uniform float uMetaL0B[BUFF_SIZE];uniform float uMetaL1B[BUFF_SIZE];uniform float uMetaL2B[BUFF_SIZE];uniform vec2 uOffLB[3];varying float vFallbackB;varying vec2 vTCB;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffLA[0],uTileCount);if(validateOffset(off)&&uMetaL0A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLA[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLA[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffLA[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;vFallbackB=-1.0;off=modFirst(tileCoords-uOffLB[0],uTileCount);if(validateOffset(off)&&uMetaL0B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLB[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLB[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=2.0;}}}if(vFallbackB>=0.0){vTCB=(off+aTextureCoord/exp2(vFallbackB)+mod(uOffLB[int(vFallbackB)],BUFF_SIDE))/BUFF_SIDE;}else{vTCB=(tileCoords+aTextureCoord)/uTileCount;}vTCB.y=1.0-vTCB.y;}",
"earth-vs.glsl":"#define BUFF_SIDE 8.0\n#define BUFF_SIZE 64\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0A[BUFF_SIZE];uniform float uMetaL1A[BUFF_SIZE];uniform float uMetaL2A[BUFF_SIZE];uniform vec2 uOffLA[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffLA[0],uTileCount);if(validateOffset(off)&&uMetaL0A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLA[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLA[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffLA[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}",
"halo-fs.glsl":"precision lowp float;uniform sampler2D uGradient;varying vec2 vCoords;void main(){float distance=vCoords.x*vCoords.x+vCoords.y*vCoords.y;if(distance<0.98){discard;}else{gl_FragColor=texture2D(uGradient,vec2((sqrt(distance)-1.0)/0.1,0.5));}}","halo-vs.glsl":"precision lowp float;attribute vec2 aVertexPosition;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying vec2 vCoords;void main(){gl_Position=uPMatrix*(uMVMatrix[3]+uMVMatrix[0]*aVertexPosition.x+uMVMatrix[1]*aVertexPosition.y);gl_Position.z=0.0;vCoords=aVertexPosition;}",
"miniglobe-fs.glsl":"precision lowp float;varying vec2 vTextureCoord;uniform sampler2D uSampler;void main(){gl_FragColor=texture2D(uSampler,vTextureCoord);}","miniglobe-vs.glsl":"precision mediump float;attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform float uAspect;varying vec2 vTextureCoord;void main(){gl_Position=uPMatrix*uMVMatrix*vec4(aVertexPosition,1.0);gl_Position.x*=uAspect;gl_Position.z=0.0;vTextureCoord=aTextureCoord;}","polygon-fs.glsl":"precision lowp float;uniform vec4 uColor;void main(){gl_FragColor=uColor;}",
"polygon-vs.glsl":"precision highp float;attribute vec3 aVertexCoords;uniform mat4 uMVPMatrix;void main(){gl_Position=uMVPMatrix*vec4(aVertexCoords,1.0);}"};function If(a){return a in Hf?Hf[a]:Le("../we/shaders/"+a)};function Jf(a){kf.call(this,a);this.bg=""}G(Jf,kf);Jf.prototype.lf=s(j);Jf.prototype.ig=function(a){var b=this.bg!=a;this.bg=a;return b};Jf.prototype.He=function(a,b,c){var d=new Image;d.onload=E(function(){a.state=20;this.jc--;b(a)},this);d.onerror=E(function(){a.Og++;a.state=-10;this.jc--;c&&c(a)},this);a.state=10;a.dc=d;d.crossOrigin="";var f=this.Sg(a.zoom,a.x,a.y);d.src=this.bg+f;this.jc++};function Kf(a,b,c,d,f,g,h,k){Jf.call(this,a);this.url=b;this.minZoom=c;this.maxZoom=d;this.tileSize=f;this.Ii=g===j;this.og=h||[];this.copyright=k||""}G(Kf,Jf);v=Kf.prototype;v.kd=r("minZoom");v.Hb=r("maxZoom");v.md=r("tileSize");v.Sg=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.Ii?(1<<a)-c-1:c).toFixed(0));this.og.length>0&&(d=d.replace("{sub}",this.og[Yd(b+c+a,this.og.length)]));return d};
v.ad=function(a){this.copyright.length>0&&Sc(a,this.copyright)};function Lf(a){Kf.call(this,a||"MapQuest OSM","http://otile{sub}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",0,18,256,p,["1","2","3","4"])}G(Lf,Kf);Lf.prototype.ad=function(a){Sc(a,"Map data \u00a9 ",S("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",S("br"));Sc(a,"Tiles Courtesy of ",S("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",S("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function Mf(a,b){this.a=a.a;this.o=a;this.$a=b||new Lf;this.Ha=new zf(this.$a,this.a,8,3,1,19);this.na=this.dd=l;if(this.Vc=p)this.Ye=new Kf("Terrain","http://srtm.webglearth.com/srtm/{z}/{x}/{y}.png",0,10,256),this.Yb=new zf(this.Ye,this.a,2,3,this.Ye.kd(),this.Ye.Hb());this.Xb(this.$a,j);this.Wc=1;this.lc=[0,0];this.Oh=[new bf(this.a,1,1,1),new bf(this.a,4,4,16,j),new bf(this.a,6,6,8,j),new bf(this.a,8,8,8,j),new bf(this.a,10,10,8),new bf(this.a,64,64,this.Vc?8:4)];this.gj=Nf(this,p);this.hj=Nf(this,
j);this.ya=l;O(this.o.d,Te,this.xg,p,this)}function Of(a){for(var b=a.Ha,c="",d=0;d<b.fa.length;++d)c+=d+b.Sa+":"+b.fa[d].Vb.length+" ";b="BufferQueue size: "+c+"; Loading tiles: "+a.$a.jc;a.dd&&(b+=" + "+a.dd.jc);return b}v=Mf.prototype;
v.Xb=function(a,b,c){if(a)a.Kg=E(this.o.wg,this.o);if(c)if(this.dd=a)B(this.na)?this.na.Xb(a):(this.Ha=new zf(this.$a,this.a,4,3,1,19),this.na=new zf(this.dd,this.a,4,3,0,15));else{if(B(this.na))this.Ha=new zf(this.$a,this.a,8,3,1,19),this.na=l}else{if(!a)return;this.Ha.Xb(a);this.$a=a}b!==j&&(ue(this.o),this.o.wg(),this.setZoom(this.getZoom()))};function Pf(a,b){return b?a.dd:a.$a}
v.draw=function(){var a=this.a.h;this.Wc=1<<this.getZoom();var b=this.o.d.getPosition(),c=this.o.d.ld()||b;this.lc[0]=Math.floor(b[1]/(2*Math.PI)*this.Wc);this.lc[1]=T(Math.floor(mf(b[0])/(Math.PI*2)*this.Wc),-this.Wc/2,this.Wc/2);Bf(this.Ha,c[0],c[1],b[0],b[1],Math.floor(this.getZoom()));this.na&&Bf(this.na,c[0],c[1],b[0],b[1],Math.floor(this.getZoom()));this.Vc&&Bf(this.Yb,c[0],c[1],b[0],b[1],Math.floor(this.getZoom())-5);c=Math.floor(this.getZoom());this.Wc=1<<c;b=this.na?this.hj:this.gj;a.useProgram(b.C);
a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,Df(this.Ha,c,0));a.uniform1i(b.ni,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Df(this.Ha,c,1));a.uniform1i(b.qi,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Df(this.Ha,c,2));a.uniform1i(b.ti,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Ha.Qd.Va);a.uniform1i(b.vi,3);a.uniform1fv(b.nj,new Float32Array(Cf(this.Ha,c,0)));a.uniform1fv(b.qj,new Float32Array(Cf(this.Ha,c,1)));a.uniform1fv(b.tj,new Float32Array(Cf(this.Ha,
c,2)));a.uniform2fv(b.dj,new Float32Array(Ef(this.Ha,c,3)));this.na&&(a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,Df(this.na,c,0)),a.uniform1i(b.oi,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,Df(this.na,c,1)),a.uniform1i(b.ri,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,Df(this.na,c,2)),a.uniform1i(b.ui,6),a.uniform1fv(b.oj,new Float32Array(Cf(this.na,c,0))),a.uniform1fv(b.rj,new Float32Array(Cf(this.na,c,1))),a.uniform1fv(b.uj,new Float32Array(Cf(this.na,c,2))),
a.uniform2fv(b.ej,new Float32Array(Ef(this.na,c,3))),a.uniform1f(b.xj,this.dd.opacity));if(this.Vc){var d=T(c-5,2,this.Ye.Hb());a.uniform1f(b.Di,c-d);a.activeTexture(a.TEXTURE7);a.bindTexture(a.TEXTURE_2D,Df(this.Yb,d,0));a.uniform1i(b.pi,7);a.activeTexture(a.TEXTURE8);a.bindTexture(a.TEXTURE_2D,Df(this.Yb,d,1));a.uniform1i(b.si,8);a.activeTexture(a.TEXTURE9);a.bindTexture(a.TEXTURE_2D,this.Yb.Qd.Va);a.uniform1i(b.wi,9);a.uniform1fv(b.pj,new Float32Array(Cf(this.Yb,d,0)));a.uniform1fv(b.sj,new Float32Array(Cf(this.Yb,
d,1)));a.uniform2fv(b.fj,new Float32Array(Ef(this.Yb,d,2)))}d=new Float32Array(Qa(fe(ve(this.a)).he()));c=this.Oh[Math.min(c,this.Oh.length-1)];a.bindBuffer(a.ARRAY_BUFFER,c.af);a.vertexAttribPointer(b.Yc,c.af.Kf,a.FLOAT,p,0,0);a.enableVertexAttribArray(b.Yc);a.bindBuffer(a.ARRAY_BUFFER,c.Ze);a.vertexAttribPointer(b.rg,c.Ze.Kf,a.FLOAT,p,0,0);a.enableVertexAttribArray(b.rg);a.uniformMatrix4fv(b.Ej,p,d);a.uniform1f(b.jk,this.Wc);a.uniform2fv(b.Ij,new Float32Array(this.lc));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
c.ih);a.drawElements(a.TRIANGLES,c.Hj,a.UNSIGNED_SHORT,0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,l);a.disableVertexAttribArray(b.Yc);a.disableVertexAttribArray(b.rg)};
function Nf(a,b){var c=a.a.h,d=If("earth-fs"+(b?"-overlay":"")+".glsl"),f=If("earth-vs"+(b?"-overlay":"")+".glsl"),f=f.replace("%TERRAIN_BOOL%",a.Vc?"1":"0");a.Vc&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",a.Yb.u.toFixed(1)));var d=df(a.a,d,c.FRAGMENT_SHADER),f=df(a.a,f,c.VERTEX_SHADER),g=c.createProgram();A(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||e(Error("Shader program err: "+
c.getProgramInfoLog(g)));return new Gf(g,a.a,b,a.Vc)}v.setZoom=function(a){this.ya=T(a,this.$a.kd(),this.$a.Hb());Se(this.o.d,Qf(this,this.ya,this.o.d.vb))};v.xg=function(){this.ya=l};v.getZoom=function(){A(this.ya)&&Rf(this);return this.ya};function Rf(a,b){var c=a.o.d,d=2*(c.la/6378137)*Math.tan(a.a.Dc/2)/a.o.ee,c=Math.log(Math.cos(Math.abs(c.vb))*2*Math.PI/d)/Math.LN2;if(b)return c;a.ya=T(c,a.$a.kd(),a.$a.Hb());return a.ya}
function Qf(a,b,c){b=Math.cos(Math.abs(c))*2*Math.PI/Math.pow(2,b)*a.o.ee;return 1/Math.tan(a.a.Dc/2)*(b/2)*6378137}function Ye(a,b,c,d){var f=Math.sin((c-a)/2),b=Math.sin((d-b)/2);return 6378137*2*Math.asin(Math.sqrt(f*f+Math.cos(a)*Math.cos(c)*b*b))};function Sf(a){var c;this.a=a.a;c=this.h=a.a.h,a=c;this.ai=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ai);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1.1,1.1,-1.1,1.1,1.1,-1.1,-1.1,-1.1]),a.STATIC_DRAW);this.Tg=a.createTexture();var b=new Uint8Array([224,224,255,255,207,218,250,220,179,194,245,180,137,166,237,145,84,123,221,110,51,94,198,75,25,67,178,30,13,53,161,0]);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,this.Tg);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,8,1,0,a.RGBA,a.UNSIGNED_BYTE,
b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);b=If("halo-fs.glsl");a=If("halo-vs.glsl");b=df(this.a,b,this.h.FRAGMENT_SHADER);a=df(this.a,a,this.h.VERTEX_SHADER);this.Ta=this.h.createProgram();A(this.Ta)&&e(Error("Unknown"));this.h.attachShader(this.Ta,a);this.h.attachShader(this.Ta,b);this.h.bindAttribLocation(this.Ta,
0,"aVertexPosition");this.h.linkProgram(this.Ta);this.h.getProgramParameter(this.Ta,this.h.LINK_STATUS)||e(Error("Shader program err: "+this.h.getProgramInfoLog(this.Ta)));this.Yc=this.h.getAttribLocation(this.Ta,"aVertexPosition");this.Dj=this.h.getUniformLocation(this.Ta,"uMVMatrix");this.Sj=this.h.getUniformLocation(this.Ta,"uPMatrix");this.Li=this.h.getUniformLocation(this.Ta,"uGradient")}
Sf.prototype.draw=function(){this.h.useProgram(this.Ta);this.h.activeTexture(this.h.TEXTURE0);this.h.bindTexture(this.h.TEXTURE_2D,this.Tg);this.h.uniform1i(this.Li,0);var a=new Float32Array(Qa(fe(this.a.Ea.wa).he())),b=new Float32Array(Qa(fe(this.a.Pc).he()));this.h.uniformMatrix4fv(this.Dj,p,a);this.h.uniformMatrix4fv(this.Sj,p,b);this.h.bindBuffer(this.h.ARRAY_BUFFER,this.ai);this.h.bindBuffer(this.h.ELEMENT_ARRAY_BUFFER,l);this.h.vertexAttribPointer(this.Yc,2,this.h.FLOAT,p,0,0);this.h.enableVertexAttribArray(this.Yc);
this.h.drawArrays(this.h.TRIANGLE_STRIP,0,4);this.h.disableVertexAttribArray(this.Yc)};function Tf(a,b,c,d,f,g,h){this.a=a;this.jh=b||l;this.zb=c||document.createElement("div");if(!z(c))a=this.a.canvas,a.parentNode&&a.parentNode.insertBefore(this.zb,a.nextSibling);this.Cd=d||document.createElement("img");if(!z(d))d=this.zb,d.parentNode&&d.parentNode.insertBefore(this.Cd,d.nextSibling);this.gi=g||l;this.d=new Oe(this);this.F=new Mf(this,f);this.wh=l;this.Ug=h===j?l:new Sf(this);this.hi=[];this.ee=0;ue(this);this.wg()}
Tf.prototype.wg=function(){if(!A(this.zb)){Tc(this.zb);Sc(this.zb,this.gi);Pf(this.F).ad(this.zb);Pf(this.F,j)&&(Sc(this.zb,S("br"),S("strong",{},"Overlay data:"),S("br")),Pf(this.F,j).ad(this.zb));this.zb.style.Fh="none";for(var a=this.zb.getElementsByTagName("a"),b=0;b<a.length;++b)a[b].style.Fh="auto"}if(!A(this.Cd))A(Pf(this.F).xf())?this.Cd.style.visibility="hidden":(this.Cd.src=Pf(this.F).xf(),this.Cd.style.visibility="visible"),this.Cd.style.Fh="none"};
function Uf(a){return Math.max(1,Pf(a.F).kd())}function ue(a){a.ee=0.7*a.a.canvas.height/Pf(a.F).md()}
Tf.prototype.draw=function(){var a=this.a.h;if(!A(this.jh))this.jh.innerHTML=$d(this.d.vb).toFixed(4)+"; "+$d(this.d.Lb).toFixed(4)+" @ "+this.d.la.toFixed(0)+"m -> z="+this.F.getZoom().toFixed(3)+"; "+Of(this.F);var b=this.d.la/6378137;te(this.a,0.25*b,1+b);if(this.Ug){a.enable(a.BLEND);a.disable(a.DEPTH_TEST);var b=Math.sin((Math.PI-this.a.Dc)/2),c=Math.sin(this.a.Dc/2);this.a.Ea.wa=be(4);ne(this.a.Ea,-this.d.getTilt());this.a.Ea.translate(0,0,c-1-this.d.la/6378137);this.a.Ea.scale(b,b,b);this.Ug.draw();
a.disable(a.BLEND);a.enable(a.DEPTH_TEST)}this.a.Ea.wa=be(4);oe(this.a.Ea,-this.d.Mh);ne(this.a.Ea,-this.d.getTilt());oe(this.a.Ea,-this.d.getHeading());this.a.Ea.translate(0,0,-1-this.d.la/6378137);ne(this.a.Ea,this.d.vb);me(this.a.Ea,-this.d.Lb);this.F.draw();J(this.hi,function(a){a.draw()});this.wh&&this.wh.draw()};
function Vf(a,b){var c=a.oa();c.x=-c.x;c.y=-c.y;c.I=-c.I;var d=b.x*c.x+b.y*c.y+b.I*c.I,f=d*d-(c.x*c.x+c.y*c.y+c.I*c.I)+1;if(f<0)return l;c=Math.min(d+Math.sqrt(f),d-Math.sqrt(f));d=Math.max(d+Math.sqrt(f),d-Math.sqrt(f));return[c,d]}
function Ue(a,b,c,d){var f=af(b,c,0,a.a.Me,a.a.qb,a.a.pb),a=af(b,c,1,a.a.Me,a.a.qb,a.a.pb);if(A(f)||A(a))return l;a.qg(f);a.normalize();b=Vf(f,a);if(A(b))return l;a=a.scale(b[0]);f=new $e(f.x+a.x,f.y+a.y,f.I+a.I);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.I<0&&(a=Math.PI-a);return d==j?[Math.asin(f.y),Me(a)]:[$d(Math.asin(f.y)),$d(Me(a))]}function mf(a){return Math.log(Math.tan(a/2+Math.PI/4))}function Ff(a){return 2*Math.atan(Math.exp(a))-Math.PI/2};function Wf(a,b){Jf.call(this,"Bing Maps - "+a);var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;w[c]=z(w[c])?gf(E(this.Ph,this),w[c]):E(this.Ph,this);c=document.createElement("script");c.src=d;c.type="text/javascript";Lc(document,"head",i,i)[0].appendChild(c)}G(Wf,Jf);v=Wf.prototype;v.mh=function(){return!A(this.lb)};v.Ph=function(a){this.Td=a;if(a.resourceSets.length>0)this.lb=a.resourceSets[0].resources[0],nf(this);this.Kg()};
v.kd=function(){return A(this.lb)?0:this.lb.zoomMin};v.Hb=function(){return A(this.lb)?18:this.lb.zoomMax};v.md=s(256);function Xf(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}v.Sg=function(a,b,c){return A(this.lb)?"":this.lb.imageUrl.replace("{subdomain}",this.lb.imageUrlSubdomains[Math.floor(Math.random()*this.lb.imageUrlSubdomains.length)]).replace("{quadkey}",Xf(a,b,c))};v.He=function(a,b,c){return A(this.lb)?p:Wf.b.He.call(this,a,b,c)};
v.ad=function(a){A(this.Td)||Sc(a,this.Td.copyright)};v.xf=function(){return!A(this.Td)?this.Td.brandLogoUri:l};v.Td=l;v.lb=l;var Yf=E(document.createElement,document);document.createElement=function(a){var b=Yf(a);if(a=="img")b.crossOrigin="";return b};function Zf(a){Kf.call(this,a||"OpenStreetMaps","http://{sub}.tile.openstreetmap.org/{z}/{x}/{y}.png",0,18,256,p,["a","b","c"])}G(Zf,Kf);Zf.prototype.ad=function(a){Sc(a,"\u00a9 ",S("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function $f(a){this.f=a;this.M=O(this.f,L?"DOMMouseScroll":"mousewheel",this)}G($f,kc);
$f.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.ta;if(a.type=="mousewheel"){c=1;if(K||M&&(Xa||N("532.0")))c=40;d=M&&Wa&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;z(a.wheelDeltaX)?(b=M&&Wa&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=M&&Wa&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),z(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.uh)&&(b=T(b,-this.uh,this.uh));fa(this.vh)&&(c=T(c,-this.vh,this.vh));b=new ag(d,a,
b,c);try{this.dispatchEvent(b)}finally{b.l()}};$f.prototype.i=function(){$f.b.i.call(this);P(this.M);delete this.M};function ag(a,b,c,d){b&&this.fc(b,i);this.type="mousewheel";this.detail=a;this.gd=c;this.$b=d}G(ag,wb);function bg(a){this.e=a;this.kc=new $f(a.a.canvas);this.M=O(this.kc,"mousewheel",function(a){this.ya(-(a.$b==0?0:a.$b<0?-1:1));a.preventDefault()},p,this);this.Ai=O(a.a.canvas,"dblclick",E(function(a){Se(this.d,this.d.la/2);var c=Ue(this,a.offsetX,a.offsetY,j)||this.d.ld(this);if(c){var d=(this.d.Lb+c[1])/2;Math.abs(this.d.Lb-c[1])>Math.PI&&(d+=Math.PI);this.d.setPosition((this.d.vb+c[0])/2,d)}a.preventDefault()},a));this.ak=O(a.a.canvas,"mouseup",E(function(a){if(yb(a,2)){Se(this.d,this.d.la*2);
var c=Ue(this,a.offsetX,a.offsetY,j)||this.d.ld(this);c&&this.d.setPosition(2*this.d.vb-c[0],2*this.d.Lb-c[1]);a.preventDefault()}},a));this.Gj=O(a.a.canvas,"contextmenu",function(a){a.preventDefault()});this.D=l;this.Uc=this.Tc=0}G(bg,H);
bg.prototype.ya=function(a){var b=120;a*=-1;if(this.D){if(this.Uc>this.Tc==a>0)return;this.D.l();this.D=l;b*=(this.e.d.la-this.Tc)/(this.Uc-this.Tc);a=this.Uc;this.Uc=this.Tc;this.Tc=a}else this.Tc=this.e.d.la,this.Uc=T(this.Tc*Math.pow(2,a),250,1E7);if(!(isNaN(b)||b<=0)){var a=this.e.d.getPosition(),c=this.e.d.ld()||a,d=this.Uc/this.e.d.la;a.push(this.e.d.la);this.D=new Ce(a,[c[0]+d*(a[0]-c[0]),c[1]+d*(a[1]-c[1]),this.Uc],b);O(this.D,["animate","finish"],function(a){this.e.d.setPosition(a.x,a.y);
Se(this.e.d,a.I)},p,this);O(this.D,["finish"],this.Hi,p,this);this.D.play(p)}};bg.prototype.Hi=function(){if(this.D)this.D.l(),this.D=l};bg.prototype.i=function(){P(this.M);P(this.Ai);P(this.ak);P(this.Gj);this.kc.l();this.D.l()};function cg(a){return 1-Math.pow(1-a,3)};function dg(a,b){this.e=a;this.Oa=p;this.Oe=this.Ne=this.Ja=this.Ia=0;this.Jc=this.M=l;O(this.e.a.canvas,"mousedown",E(this.Zf,this));O(R(this.e.a.canvas),"mouseup",E(this.$f,this));this.Ab=b||l}v=dg.prototype;v.Zf=function(a){if(yb(a,0)&&!a.ctrlKey&&!a.altKey){B(this.Ab)&&this.Ab.cancel();if(this.Jc)this.Jc.stop(p),this.Jc.l(),this.Jc=l;this.Oa=j;this.Ne=this.Ia=a.screenX;this.Oe=this.Ja=a.screenY;if(!A(this.M))P(this.M),this.M=l;this.M=O(R(this.e.a.canvas),"mousemove",E(this.Vd,this));a.preventDefault()}};
v.$f=function(a){if(this.Oa){a.preventDefault();this.Oa=p;if(!A(this.M))P(this.M),this.M=l;if(yb(a,0)){var b=a.screenX-this.Ne,c=a.screenY-this.Oe,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.Ia==this.Ne&&this.Ja==this.Oe&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.Jc=new Ce([this.Ia,this.Ja],[this.Ia+a*b,this.Ja+a*c],1300,cg),O(this.Jc,["animate"],this.aj,p,this),this.Jc.play(p)}}};
v.wd=function(a,b){var c=Math.PI*(1/this.e.a.canvas.height)*(this.e.ee/Math.pow(2,Rf(this.e.F,j)));Re(this.e.d,b*c,-2*a*c)};v.Vd=function(a){this.wd(a.screenX-this.Ia,a.screenY-this.Ja);this.Ne=this.Ia;this.Oe=this.Ja;this.Ia=a.screenX;this.Ja=a.screenY;a.preventDefault()};v.aj=function(a){this.wd(a.x-this.Ia,a.y-this.Ja);this.Ia=a.x;this.Ja=a.y};function eg(a,b){this.e=a;this.Pb=i;this.Ja=this.Ia=this.Nh=0;this.M=l;O(this.e.a.canvas,"mousedown",E(this.Zf,this));O(R(this.e.a.canvas),"mouseup",E(this.$f,this));this.Ab=b||l}
eg.prototype.Zf=function(a){if(!yb(a,2)&&!a.ctrlKey&&!a.altKey){B(this.Ab)&&this.Ab.cancel();this.Ia=a.screenX;this.Ja=a.screenY;if(yb(a,1)||yb(a,0)&&a.shiftKey)if(this.Pb=this.e.d.ld(),B(this.Pb)){if(window.Jd)window.Jd.lat=$d(this.Pb[0]),window.Jd.Sf=$d(this.Pb[1]),window.Jd.enable(j);this.Nh=this.e.d.getTilt()==0?this.e.d.la:Math.sin(Math.PI-this.e.d.getTilt()-(Math.PI-Math.asin((1+this.e.d.la/6378137)*Math.sin(this.e.d.getTilt()))))/Math.sin(this.e.d.getTilt())*6378137}if(!A(this.M))P(this.M),
this.M=l;this.M=O(R(this.e.a.canvas),"mousemove",E(this.Vd,this));a.preventDefault()}};eg.prototype.$f=function(a){a.preventDefault();this.Pb=i;window.Jd&&window.Jd.enable(p);if(!A(this.M))P(this.M),this.M=l};
eg.prototype.wd=function(a,b){if(z(this.Pb)){var c=a/this.e.a.canvas.width*Math.PI*-2,d=b/this.e.a.canvas.height*Math.PI/2;if(A(this.Pb))this.e.d.setHeading(this.e.d.getHeading()+c),this.e.d.setTilt(this.e.d.getTilt()+d);else{var f=this.e.d,g=this.Pb[0],h=this.Pb[1],k=this.Nh;f.pd+=c;c=Math.asin(6378137/Math.sqrt(k*k+40680631590769));f.Rb=T(f.Rb+d,-c,c);d=Math.asin(k/6378137*Math.sin(f.Rb));Math.abs(f.Rb)<1.0E-4?Se(f,k):Se(f,(Math.sin(Math.PI-f.Rb-d)/Math.sin(f.Rb)-1)*6378137);g-=Math.cos(f.pd)*d;
f.setPosition(g,h+Math.sin(f.pd)*d/Math.cos(g))}}};eg.prototype.Vd=function(a){this.wd(a.screenX-this.Ia,a.screenY-this.Ja);this.Ia=a.screenX;this.Ja=a.screenY;a.preventDefault()};function fg(a,b,c){this.lat=a;this.Sf=b;this.element=c;this.parentElement=l;this.enabled=j;this.visible=p}v=fg.prototype;v.Hd=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};v.detach=function(){if(this.parentElement)Uc(this.element),this.parentElement=l};v.enable=function(a){(this.enabled=a||p)||this.show(p)};v.isEnabled=r("enabled");v.ba=r("visible");
v.show=function(a){this.visible=a==j;this.element.style.display=this.visible?"block":"none"};function gg(a,b){var c=S("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
fg.call(this,a,b,c);this.show(p)}G(gg,fg);function hg(a,b){this.e=a;this.f=b;this.Rd=new vc}function ig(a,b,c){b=b||Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^F()).toString(36);c.Hd(a.f);a.Rd.set(b,c)}
hg.prototype.mk=function(a){a=this.Rd.get(a);if(a.isEnabled()){var b;a:{var c=this.e;b=a.lat;var d=a.Sf;b=Zd(b);var d=Zd(d),f=Math.cos(b),f=new $e(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.a.Le.multiply(new U([[f.x],[f.y],[f.I],[1]]));if(ge(d,3,0)==0)b=l;else{d=d.multiply(1/ge(d,3,0));b=(ge(d,0,0)+1)/2*c.a.qb;var d=(ge(d,1,0)-1)/-2*c.a.pb,g=1;if(b<0||b>c.a.qb||d<0||d>c.a.pb)g=0;else{c=af(0.5,0.5,0,c.a.Me,1,1);if(A(c)){b=l;break a}var g=f.x-c.x,h=f.y-c.y,k=f.I-c.I,g=Math.sqrt(g*g+h*h+k*k),f=f.qg(c).normalize(),
f=Vf(c,f),g=A(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}B(b)?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(j),a.show(b[2]>0)):a.show(p)}};hg.prototype.forEach=function(a){J(this.Rd.bc(),function(b){(b=this.Rd.get(b))&&a(b)},this)};function jg(a,b,c){var d=S("div",{"class":"we-pp-content"});d.innerHTML=a;a=S("div",{"class":"we-pp-wrapper"},d);d=S("div",{"class":"we-pp-tip-cont"},S("div",{"class":"we-pp-tip"}));this.ha=S("div",{"class":"we-pp"});if(c!==p)c=S("a",{"class":"we-pp-close",href:"#"}),c.onclick=E(this.show,this,p),this.ha.appendChild(c);this.ha.appendChild(a);this.ha.appendChild(d);b=b||300;this.ha.style.width=b.toFixed(0)+"px";this.ha.style.left=(-b/2).toFixed(0)+"px";this.show(p)}jg.prototype.c=r("ha");
jg.prototype.show=function(a){a?(this.ha.style.opacity=1,this.ha.style.visibility="visible"):(this.ha.style.opacity=0,this.ha.style.visibility="hidden")};Ne('.we-pp-content p{margin:18px 0;text-align:justify;}.we-pp-wrapper{padding:1px;text-align:left;border-radius:20px;}.we-pp{z-index:100;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear;position:absolute;}.we-pp-wrapper,.we-pp-tip{background:white;box-shadow:0 1px 10px #888;-moz-box-shadow:0 1px 10px #888;-webkit-box-shadow:0 1px 14px #999;}.we-pp-close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAk1BMVEX////Ny8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8sw0horAAAAMHRSTlMA/bGBFK1LgjellwUx2+VZo73SE6z5fQYOtzLRpxI22CC4g6ieV+yAEc8/ZocEHTzU+GNbAAAAV0lEQVQI1wXBBQKDMADAwLRl7szdgCks/3/d7hh0ehl0W21IwZgNR44nTNVZribmC1WXqzVstmpIALu9Gg5HOJ1VNV64arjd1YKy8sEz+nrD51tD0//xB/w6CnrIHetcAAAAAElFTkSuQmCC);position:absolute;top:9px;right:9px;width:10px;height:10px;overflow:hidden;}.we-pp-content{display:inline-block;margin:19px;font:12px/1.4 "Helvetica Neue",Arial,Helvetica,sans-serif;}.we-pp-tip-cont{margin:0 auto;width:40px;height:16px;position:relative;overflow:hidden;}.we-pp-tip{width:15px;height:15px;padding:1px;margin:-8px auto 0;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);}');function kg(a,b,c,d,f){var g=S("div",{"class":"we-pm-icon"});if(D(c))g.style.backgroundImage="url("+c+")";this.Dd=d||25;this.Ic=f||41;g.style.width=this.Dd.toFixed(0)+"px";g.style.height=this.Ic.toFixed(0)+"px";g.style.marginLeft=(-this.Dd/2).toFixed(0)+"px";g.style.marginTop=(-this.Ic).toFixed(0)+"px";c=S("div",{style:"position:absolute;"},g);fg.call(this,a,b,c);this.ha=l;this.show(p);this.mg(p);g.onclick=E(this.mg,this,j)}G(kg,fg);kg.prototype.mg=function(a){this.ha&&this.ha.show(a)};Ne(".we-pm-icon{position:absolute;z-index:64;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFtklEQVR42p3Wa0xTZxgH8CYkS5aQLGFxcXNZNNu4FIFCK9eCWOQm3lDizLYP+zTnxLk5wQpICxRaLuWi3FpQFMU55xDkjiBTFMeA9Zy2JzMxWUZisoS4TyRuQvG/pydQKb3Q2uSXw3nf93n+5z2nLRVIiga88RERL/MlAgDrosJ+d/zISTJMEFt2B9LyEV5kySBo7G+iI9vdhyj7nfEhcjKfUvcAma0z+Pwa5+BwuxG7myaRUH4XtHaAhLgI6VvLjwwn14zj0CUWn13lkHXZhPQWBml6e3svGq3zvIyGX0F1z0mWQ4hY0buaH3mcUvsAn17hcKDNhFQdsy4K5Nfv108jsXIM1OOoqxAfMppMAYepIF3PIrmZ8cqhy2ZkXjBYQyxE9iqksGeFXKa9h0PtHF0di6Qmxhk+fKeLOcLX72r8DdRvjvjxIRGFt638yPz+Vha7W0zY0cDYydAbkXWJ4+1rYWx/H2gzO6wl/JysehzUUw0+5Oxtq+zEyns42MYhsZ6xQ2N0C0yQae9DouhFZt1dOvYgnt5RGU3T/Dw1tqtJ1xn5Gur7D/ERRBR0W43vapzhd5FwnrHZ02Kmt+jvkBTeRsOdPzD/7wJWXkPGp0hSD2BnzUMcuMjZ1RF+LFY1BOotFYQXdPkSy/5WDvF1DKSr8GOau7g1/RecvWafzSOuuBf79CYkNxodandox0G9VYLw/FvCSGUf9rZQci1js6PeiPRGAw7WjTgNePnyJa9mgJ5h1QPsWVOf0kTBdZOg/p0CUV6nNKp4ALv1HKJrGJu0Znqo1RNQds64DLBYLBjjniK6ZMihXtZgRPK5KVD/UYHozM+R1p1k6DhEaRmblAYK0U4g/8aUy4DFxUUMMLOIUQ071CfVm5BUOwnq30shNzeJC7qwq5nDtirGJq6GRWoDixR1HxYsS3YhS0tLWFhY4OVdf4TEqgmkNprt6ukiafwhqL9OECb/yYfMpzaaEKllIa5kbNKa6D6XjqK632i3C9oBH3DPPIttyn5+XUy1Y22cegzUO18QdvqGVWdC5SNK5xBezqyg3dB9pW1Hl4wgu20cM3/O4b+FRTx++gwNgywkeTfhrE5cwfBj4oJuUG+hIDT3RyuZpLAXO+s5hGkYOzHVRn5cWv4Q4rM91iJE5HchpnQMsjrWWY1tPfUd5j/xoTnXV0zEV05Cds6MUDVjR6RhkXSecxBTbXJYG0ZojnbRA+opXQ75YUWmpLCfro7D1lLmdfH1Us0EqN+o7Vs45NS1FT7kSXzVDGK1ZghVzGtJpJAI2gX1Sn4V8n3HakcliiEk1HIILGG8FldtRqxmEtRn2u6f1taTHau9SebitCzCNUb4FzNekdZwCC/oA/XIsg/57upaKrFiBHFaDh8rGY9FVZgRrZ4C1T8mPnYhwd9eWWsDeR5TaUKwyogPFYxHYqo4iPL7QbVf8M3tQ9qd0UUoxhBdyWFLIbOucLUJkeoZUN0secMx5MRlZwKIhW4BXSWLzWcZt6IqrLsYBNWccPq7S/jNJVe6wxX3sU1jxgf5BpeExUZIygyg9XPE13nI8TZXtm89dRNiCnk/z+AKPx+aNwhaX+jyZ2pQ9kV3JkTKRxCVmrDpjMGBv4JFRBkLWjdP3nITcsGdT4JzuiAqM+NduWEtfjzkzBBoXQXf0GXIsVZ3fMiTsKIpBBYZsfG0wWZzAQuRygSaf0E2ug0J/LplPdnBOT0IVZnxTq5hBX8eLB8Gzev4Zu5D9OvxJXMhRQZsoavfkEPPQ84gpMQEGreQLeuGBBzVe0IVlDuA4GIz3j5l4I9B8hHQeIfbAFvIVzpPbCQvhEoT3pOzEBaZEZh9BTQW4mFIs6d0gbl3EKSkAPkY6LyXCDwLOdLsKWHAsXYEKswIOH4NdC4lnoX4H2nyRnfA6THQ8Zflcw9Dvmz0xnb/7A7QMW353OMQb7USgTch/wNGSWfRl/HE1wAAAABJRU5ErkJggg==);}");function lg(a,b){a.setAttribute("role",b);a.Ak=b}function X(a,b,c){a.setAttribute("aria-"+b,c)};function sd(a){var b;a:{var c=0,d=0;if(ud(a))c=a.selectionStart,d=-1;else if(K){var f=vd(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=p;!d;)b.compareEndPoints("StartToEnd",b)==0?d=j:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=j);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function vd(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function wd(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function ud(a){try{return typeof a.selectionStart=="number"}catch(b){return p}};function mg(a,b,c,d,f){if(!K&&(!M||!N("525")))return j;if(Wa&&f)return ng(a);if(f&&!d)return p;if(!c&&(b==17||b==18))return p;if(K&&d&&b==a)return p;switch(a){case 13:return!(K&&pb());case 27:return!M}return ng(a)}
function ng(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;if(M&&a==0)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return p}};function og(a,b){a&&this.Hd(a,b)}G(og,kc);v=og.prototype;v.f=l;v.Ee=l;v.Mf=l;v.Fe=l;v.ic=-1;v.hc=-1;
var pg={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},rg={61:187,59:186},sg=K||M&&N("525");v=og.prototype;
v.Cf=function(a){if(M&&(this.ic==17&&!a.ctrlKey||this.ic==18&&!a.altKey))this.hc=this.ic=-1;sg&&!mg(a.keyCode,this.ic,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.hc=L&&a.keyCode in rg?rg[a.keyCode]:a.keyCode};v.Ri=function(){this.hc=this.ic=-1};
v.handleEvent=function(a){var b=a.ta,c,d;K&&a.type=="keypress"?(c=this.hc,d=c!=13&&c!=27?b.keyCode:0):M&&a.type=="keypress"?(c=this.hc,d=b.charCode>=0&&b.charCode<63232&&ng(c)?b.charCode:0):bb?(c=this.hc,d=ng(c)?b.keyCode:0):(c=b.keyCode||this.hc,d=b.charCode||0,Wa&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in pg?f=pg[c]:c==25&&a.shiftKey&&(f=9):g&&g in qg&&(f=qg[g]);a=f==this.ic;this.ic=f;b=new tg(f,d,a,b);try{this.dispatchEvent(b)}finally{b.l()}};v.c=r("f");
v.Hd=function(a,b){this.Fe&&this.detach();this.f=a;this.Ee=O(this.f,"keypress",this,b);this.Mf=O(this.f,"keydown",this.Cf,b,this);this.Fe=O(this.f,"keyup",this.Ri,b,this)};v.detach=function(){if(this.Ee)P(this.Ee),P(this.Mf),P(this.Fe),this.Fe=this.Mf=this.Ee=l;this.f=l;this.hc=this.ic=-1};v.i=function(){og.b.i.call(this);this.detach()};function tg(a,b,c,d){d&&this.fc(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}G(tg,wb);var ug,vg;vg=ug=p;var wg=Ya();wg&&(wg.indexOf("Firefox")!=-1||wg.indexOf("Camino")!=-1||(wg.indexOf("iPhone")!=-1||wg.indexOf("iPod")!=-1?ug=j:wg.indexOf("iPad")!=-1&&(vg=j)));var xg=ug,yg=vg;function zg(a,b,c,d){d=d||150;this.ae=B(a)?a:Ag;this.Ci=this.ae.substring(0,1);a=this.sd?"[\\s"+this.ae+"]+":"[\\s]+";this.Yh=RegExp("^"+a+"|"+a+"$","g");this.ck=RegExp("\\s*["+this.ae+"]$");this.rh=b||"";this.Vj=this.sd=c!=l?c:j;this.v=d>0?new lc(d):l;this.sa=new Fe(this);this.cf=new Fe(this);this.L=new og;this.oh=-1}G(zg,H);var Bg=(xg||yg)&&!N("533.17.9"),Ag=",;";v=zg.prototype;v.pk=j;v.Ji=j;v.$h=p;v.ek=j;v.dk=j;v.df=l;v.P=l;v.Qf="";v.vc=p;v.eg=p;v.Zh=j;v.p=function(){return this.P.value};
v.X=function(a){this.P.value=a};v.hf=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ha(c)&&c.nodeType==1&&X(c,"haspopup",j);this.sa.j(c,"focus",this.Fc);this.sa.j(c,"blur",this.Kb);if(!this.P&&(this.cf.j(c,"keydown",this.Oj),ha(c)&&c.nodeType==1)){var d;a:{var f=R(c);try{d=f&&f.activeElement;break a}catch(g){}d=l}d==c&&Cg(this,c)}}};v.i=function(){zg.b.i.call(this);this.df!=l&&window.clearTimeout(this.df);this.sa.l();delete this.sa;this.cf.l();this.L.l()};
function Dg(a){a.v?a.v.setInterval(300):a.v=new lc(300)}
v.eb=function(a){switch(a.keyCode){case 40:if(this.N.Qa())return this.$h?od(this.N):nd(this.N),a.preventDefault(),j;if(!this.sd)return this.update(j),a.preventDefault(),j;break;case 38:if(this.N.Qa())return this.$h?nd(this.N):od(this.N),a.preventDefault(),j;break;case 9:if(this.N.Qa()&&!a.shiftKey){if(this.update(),kd(this.N)&&this.Vj)return a.preventDefault(),j}else this.N.Eb();break;case 13:if(this.N.Qa()){if(this.update(),kd(this.N))return a.preventDefault(),a.stopPropagation(),j}else this.N.Eb();
break;case 27:if(this.N.Qa())return this.N.Eb(),a.preventDefault(),a.stopPropagation(),j;break;case 229:if(!this.vc){if(!this.vc)this.sa.j(this.P,"keyup",this.Ch),this.sa.j(this.P,"keypress",this.Bh),this.vc=j;return j}break;default:this.v&&!this.Zh&&(this.v.stop(),this.v.start())}return Eg(this,a)};function Eg(a,b){var c=a.sd&&b.charCode&&a.ae.indexOf(String.fromCharCode(b.charCode))!=-1;a.ek&&c&&a.update();return a.dk&&c&&kd(a.N)?(b.preventDefault(),j):p}v.Qi=s(p);
v.Fc=function(a){Cg(this,a.target||l)};function Cg(a,b){He(a.cf);a.N&&ld(a.N);if(b!=a.P)a.P=b,a.v&&(a.v.start(),a.sa.j(a.v,nc,a.td)),a.Qf=a.p(),a.L.Hd(a.P),a.sa.j(a.L,"key",a.Dh),K&&a.sa.j(a.P,"keypress",a.Ah)}v.Kb=function(){Bg?this.df=window.setTimeout(E(this.Gh,this),0):this.Gh()};
v.Gh=function(){if(this.P)this.sa.da(this.L,"key",this.Dh),this.L.detach(),this.sa.da(this.P,"keyup",this.Qi),K&&this.sa.da(this.P,"keypress",this.Ah),this.vc&&Fg(this),this.P=l,this.v&&(this.v.stop(),this.sa.da(this.v,nc,this.td)),this.N&&md(this.N)};v.td=function(){this.update()};v.Oj=function(a){this.Fc(a)};v.Dh=function(a){this.oh=a.keyCode;this.N&&this.eb(a)};v.Bh=function(){this.vc&&this.oh!=229&&Fg(this)};v.Ch=function(a){this.vc&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Fg(this)};
function Fg(a){if(a.vc)a.vc=p,a.sa.da(a.P,"keypress",a.Bh),a.sa.da(a.P,"keyup",a.Ch)}v.Ah=function(a){Eg(this,a)};v.update=function(a){if(this.P&&(a||this.p()!=this.Qf)){if(a||!this.eg){var a=sd(this.P),b=this.p(),a=td(this,b)[rd(this,b,a)],a=this.Yh?(""+a).replace(this.Yh,""):a;if(this.N&&(this.N.Y=this.P,b=this.N,this.p(),b.mb!=a))b.mb=a,Gg(b.Sd,b.mb,b.lj,E(b.ij,b)),ld(b)}this.Qf=this.p()}this.eg=p};
function rd(a,b,c){a=td(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}function td(a,b){if(!a.sd)return[b];for(var c=(""+b).split(""),d=[],f=[],g=0,h=p;g<c.length;g++)if(a.rh&&a.rh.indexOf(c[g])!=-1){if(a.Ji&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.ae.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function Y(a,b,c,d,f){Ce.call(this,b,c,d,f);this.element=a}G(Y,Ce);Y.prototype.Xc=x;Y.prototype.Vf=function(){this.Xc();Y.b.Vf.call(this)};Y.prototype.wb=function(){this.Xc();Y.b.wb.call(this)};Y.prototype.jb=function(){this.Xc();Y.b.jb.call(this)};function Hg(a,b,c,d,f){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));Y.apply(this,arguments)}G(Hg,Y);
Hg.prototype.Xc=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Ig(a,b,c,d){Hg.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}G(Ig,Hg);Ig.prototype.jb=function(){this.Bd=[this.element.offsetLeft,this.element.offsetTop];Ig.b.jb.call(this)};function Jg(a,b,c,d,f){Y.call(this,a,[b],[c],d,f)}G(Jg,Y);Jg.prototype.Xc=function(){this.element.style.width=Math.round(this.coords[0])+"px"};
function Kg(a,b,c,d,f){Y.call(this,a,[b],[c],d,f)}G(Kg,Y);Kg.prototype.Xc=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Lg(a,b,c,d,f){fa(b)&&(b=[b]);fa(c)&&(c=[c]);Y.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}G(Lg,Y);
Lg.prototype.Xc=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};Lg.prototype.show=function(){this.element.style.display=""};function Mg(a,b,c){Lg.call(this,a,1,0,b,c)}G(Mg,Lg);Mg.prototype.jb=function(){this.show();Mg.b.jb.call(this)};Mg.prototype.wb=function(){this.element.style.display="none";Mg.b.wb.call(this)};
function Ng(a,b,c){Lg.call(this,a,0,1,b,c)}G(Ng,Lg);Ng.prototype.jb=function(){this.show();Ng.b.jb.call(this)};function Og(){}ca(Og);Og.prototype.Fj=0;function Pg(a){return":"+(a.Fj++).toString(36)}Og.Ca();function Qg(a,b,c,d){this.ga=a||document.body;this.V=Ic(this.ga);this.Xj=!a;this.f=l;this.mb="";this.ra=[];this.Sc=[];this.Sh=this.Be=-1;this.U=p;this.className="ac-renderer";this.dg="ac-row";this.ph="active";this.Bg="ac-active";this.Yi="ac-highlighted";this.ed=b||l;this.ok=d!=l?d:j;this.If=p;this.$j=c!=l?c:p;this.Lf=l;this.$e=p;this.Ke=0}G(Qg,kc);v=Qg.prototype;v.c=r("f");v.cg=function(a,b,c){this.mb=b;this.ra=a;this.Be=-1;this.Sh=F();this.Y=c;this.Sc=[];Rg(this)};
v.Eb=function(){this.Y&&X(this.Y,"activedescendant","");if(this.U)this.U=p,this.Y&&X(this.Y,"haspopup",p),this.Ke>0?(pa(this.D),this.D=new Mg(this.f,this.Ke),this.D.play()):Rd(this.f,p)};v.show=function(){if(!this.U)this.U=j,this.Y&&(lg(this.Y,"combobox"),X(this.Y,"autocomplete","list"),X(this.Y,"haspopup",j)),this.Ke>0?(pa(this.D),this.D=new Ng(this.f,this.Ke),this.D.play()):Rd(this.f,j)};v.ba=r("U");
function Sg(a,b){var c=b>=0&&b<a.Sc.length?a.Sc[b]:i;if(a.dispatchEvent({type:"rowhilite",Bk:c})&&(Tg(a),a.Be=b,c)){Dc(c,a.Bg,a.ph);a.Y&&X(a.Y,"activedescendant",c?c.id:"");var d=a.f,f=Kd(c),g=Kd(d),h=Xd(d),k=f.x-g.x-h.left,f=f.y-g.y-h.top,g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(k,Math.max(k-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function Tg(a){a.Be>=0&&Ec(a.Sc[a.Be],a.Bg,a.ph)}
v.fb=function(a){if(a==-1)Sg(this,-1);else for(var b=0;b<this.ra.length;b++)if(this.ra[b].id==a){Sg(this,b);break}};function Ug(a){if(!a.f){var b=a.V.t("div",{style:"display:none"});a.f=b;Dc(b,a.className);lg(b,"listbox");b.id=Pg(Og.Ca());a.V.appendChild(a.ga,b);O(b,"click",a.Wg,p,a);O(b,"mousedown",a.ze,p,a);O(a.V.A,"mousedown",a.Yg,p,a);O(b,"mouseover",a.Zg,p,a)}}
function Rg(a){Ug(a);if(a.$e)a.f.style.visibility="hidden";if(a.qk)a.f.style.minWidth=a.qk.clientWidth+"px";a.Sc.length=0;a.V.Jh(a.f);if(a.ed&&a.ed.Ob)a.ed.Ob(a);else{var b=l;uc(a.ra,function(a){var d=this.mb,f=this.V.t("div",{className:this.dg,id:Pg(Og.Ca())});lg(f,"option");this.ed&&this.ed.Kh?this.ed.Kh(a,d,f):f.innerHTML=ua(a.data.toString());d&&this.ok&&Vg(this,f,d);Dc(f,this.dg);this.Sc.push(f);a=f;this.$e?this.f.insertBefore(a,b):this.V.appendChild(this.f,a);b=a},a)}a.ra.length==0?a.Eb():(a.show(),
a.Yd(),Td(a.f,j))}v.Yd=function(){if(this.Y&&this.Xj){var a=this.li||this.Y,b=Kd(a),c=Od(a),a=Od(Fd(a)),d=Od(this.f);b.y=this.$e?b.y-d.height:b.y+c.height;(this.$j||b.x+d.width>a.width)&&this.Lf!="LEFT"?(b.x=b.x+c.width-d.width,this.Lf="RIGHT"):this.Lf="LEFT";Nd(this.f,b);if(this.$e)this.f.style.visibility="visible"}};
v.i=function(){if(this.f)ec(this.f,"click",this.Wg,p,this),ec(this.f,"mousedown",this.ze,p,this),ec(this.V.A,"mousedown",this.Yg,p,this),ec(this.f,"mouseover",this.Zg,p,this),this.V.removeNode(this.f),this.f=l,this.U=p;pa(this.D);delete this.ga;Qg.b.i.call(this)};
function Vg(a,b,c){if(b.nodeType==3){var d=l;C(c)&&c.length>1&&!a.If&&(d=Na(c,1));c=Wg(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,k=g.exec(f),m=0;k;)m++,c.push(k[1]),c.push(k[2]),c.push(k[3]),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.If?1:m;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.V.createElement("b"),h.className=a.Yi,a.V.appendChild(h,a.V.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.V.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=Na(c,d*3);b.nodeValue=a.join("")}else d&&Vg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Vg(a,b,c),b=d}function Wg(a,b){var c="";if(!b)return c;a.If?C(b)?(c=Da(b,function(a){return!/^[\s\xa0]*$/.test(a==l?"":""+a)}),c=Ea(c,Aa),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Aa(c),c=c.replace(/ /g,"|")):c=C(b)?b.length>0?Aa(b[0]):"":Aa(b);return c}
function Xg(a,b){for(;b&&b!=a.f&&!Ha(Cc(b),a.dg);)b=b.parentNode;return b?Ca(a.Sc,b):-1}v.Wg=function(a){var b=Xg(this,a.target);b>=0&&this.dispatchEvent({type:hd,row:this.ra[b].id});a.stopPropagation()};v.ze=function(a){this.dispatchEvent(id);a.stopPropagation();a.preventDefault()};v.Yg=function(a){this.Y==a.target?(Tg(this),a.stopPropagation()):this.dispatchEvent(jd)};v.Zg=function(a){a=Xg(this,a.target);a>=0&&!(F()-this.Sh<300)&&this.dispatchEvent({type:gd,row:this.ra[a].id})};var Yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Zg(a,b){var c;a instanceof Zg?(this.zd(b==l?a.ub:b),$g(this,a.nc),ah(this,a.je),bh(this,a.Bc),ch(this,a.vd),this.setPath(a.getPath()),dh(this,a.xb.oa()),eh(this,a.Ld)):a&&(c=(""+a).match(Yg))?(this.zd(!!b),$g(this,c[1]||"",j),ah(this,c[2]||"",j),bh(this,c[3]||"",j),ch(this,c[4]),this.setPath(c[5]||"",j),dh(this,c[6]||"",j),eh(this,c[7]||"",j)):(this.zd(!!b),this.xb=new fh(l,this,this.ub))}v=Zg.prototype;v.nc="";v.je="";v.Bc="";v.vd=l;v.Oc="";v.Ld="";v.cj=p;v.ub=p;
v.toString=function(){if(this.Ya)return this.Ya;var a=[];this.nc&&a.push(gh(this.nc,hh),":");this.Bc&&(a.push("//"),this.je&&a.push(gh(this.je,hh),"@"),a.push(D(this.Bc)?encodeURIComponent(this.Bc):l),this.vd!=l&&a.push(":",""+this.vd));this.Oc&&(this.Bc&&this.Oc.charAt(0)!="/"&&a.push("/"),a.push(gh(this.Oc,this.Oc.charAt(0)=="/"?ih:jh)));var b=""+this.xb;b&&a.push("?",b);this.Ld&&a.push("#",gh(this.Ld,kh));return this.Ya=a.join("")};
v.oa=function(){var a=this.nc,b=this.je,c=this.Bc,d=this.vd,f=this.Oc,g=this.xb.oa(),h=this.Ld,k=new Zg(l,this.ub);a&&$g(k,a);b&&ah(k,b);c&&bh(k,c);d&&ch(k,d);f&&k.setPath(f);g&&dh(k,g);h&&eh(k,h);return k};function $g(a,b,c){lh(a);delete a.Ya;a.nc=c?b?decodeURIComponent(b):"":b;if(a.nc)a.nc=a.nc.replace(/:$/,"")}function ah(a,b,c){lh(a);delete a.Ya;a.je=c?b?decodeURIComponent(b):"":b}function bh(a,b,c){lh(a);delete a.Ya;a.Bc=c?b?decodeURIComponent(b):"":b}
function ch(a,b){lh(a);delete a.Ya;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.vd=b):a.vd=l}v.getPath=r("Oc");v.setPath=function(a,b){lh(this);delete this.Ya;this.Oc=b?a?decodeURIComponent(a):"":a;return this};function dh(a,b,c){lh(a);delete a.Ya;b instanceof fh?(a.xb=b,a.xb.ie=a,a.xb.zd(a.ub)):(c||(b=gh(b,mh)),a.xb=new fh(b,a,a.ub))}function nh(a,b,c){lh(a);delete a.Ya;C(c)||(c=[""+c]);a.xb.setValues(b,c)}
function eh(a,b,c){lh(a);delete a.Ya;a.Ld=c?b?decodeURIComponent(b):"":b}function lh(a){a.cj&&e(Error("Tried to modify a read-only Uri"))}v.zd=function(a){this.ub=a;this.xb&&this.xb.zd(a);return this};var oh=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function gh(a,b){var c=l;D(a)&&(c=a,oh.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,ph)));return c}function ph(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hh=/[#\/\?@]/g,jh=/[\#\?:]/g,ih=/[\#\?]/g,mh=/[\#\?@]/g,kh=/#/g;
function fh(a,b,c){this.Fb=a||l;this.ie=b||l;this.ub=!!c}function qh(a){if(!a.H&&(a.H=new vc,a.w=0,a.Fb))for(var b=a.Fb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=l,g=l;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=rh(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}v=fh.prototype;v.H=l;v.w=l;v.vf=function(){qh(this);return this.w};
v.add=function(a,b){qh(this);sh(this);a=rh(this,a);if(this.Zb(a)){var c=this.H.get(a);C(c)?c.push(b):this.H.set(a,[c,b])}else this.H.set(a,b);this.w++;return this};v.remove=function(a){qh(this);a=rh(this,a);if(this.H.Zb(a)){sh(this);var b=this.H.get(a);C(b)?this.w-=b.length:this.w--;return this.H.remove(a)}return p};v.clear=function(){sh(this);this.H&&this.H.clear();this.w=0};v.Zb=function(a){qh(this);a=rh(this,a);return this.H.Zb(a)};
v.bc=function(){qh(this);for(var a=this.H.cc(),b=this.H.bc(),c=[],d=0;d<b.length;d++){var f=a[d];if(C(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};v.cc=function(a){qh(this);if(a)if(a=rh(this,a),this.Zb(a)){var b=this.H.get(a);if(C(b))return b;a=[];a.push(b)}else a=[];else for(var b=this.H.cc(),a=[],c=0;c<b.length;c++){var d=b[c];C(d)?La(a,d):a.push(d)}return a};
v.set=function(a,b){qh(this);sh(this);a=rh(this,a);if(this.Zb(a)){var c=this.H.get(a);C(c)?this.w-=c.length:this.w--}this.H.set(a,b);this.w++;return this};v.get=function(a,b){qh(this);a=rh(this,a);if(this.Zb(a)){var c=this.H.get(a);return C(c)?c[0]:c}return b};v.setValues=function(a,b){qh(this);sh(this);a=rh(this,a);if(this.Zb(a)){var c=this.H.get(a);C(c)?this.w-=c.length:this.w--}b.length>0&&(this.H.set(a,b),this.w+=b.length)};
v.toString=function(){if(this.Fb)return this.Fb;if(!this.H)return"";for(var a=[],b=0,c=this.H.bc(),d=0;d<c.length;d++){var f=c[d],g=ta(f),f=this.H.get(f);if(C(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",ta(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",ta(f)),b++}return this.Fb=a.join("")};function sh(a){delete a.nf;delete a.Fb;a.ie&&delete a.ie.Ya}
v.oa=function(){var a=new fh;if(this.nf)a.nf=this.nf;if(this.Fb)a.Fb=this.Fb;if(this.H)a.H=this.H.oa();return a};function rh(a,b){var c=""+b;a.ub&&(c=c.toLowerCase());return c}v.zd=function(a){a&&!this.ub&&(qh(this),sh(this),qc(this.H,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.ub=a};function th(a,b){this.ie=new Zg(a);this.xi=b?b:"callback";this.fe=5E3}var uh=0;
th.prototype.send=function(a,b,c,d){a=a||l;if(!document.documentElement.firstChild)return c&&c(a),l;d=d||"_"+(uh++).toString(36)+F().toString(36);w._callbacks_||(w._callbacks_={});var f=document.createElement("script"),g=l;this.fe>0&&(g=w.setTimeout(vh(d,f,a,c),this.fe));c=this.ie.oa();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&nh(c,h,a[h]);b&&(w._callbacks_[d]=wh(d,f,b,g),nh(c,this.xi,"_callbacks_."+d));Nc(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{gb:d,fe:g}};th.prototype.cancel=function(a){if(a&&a.gb){var b=Kc(a.gb);b&&b.tagName=="SCRIPT"&&typeof w._callbacks_[a.gb]=="function"&&(a.fe&&w.clearTimeout(a.fe),xh(a.gb,b,p))}};function vh(a,b,c,d){return function(){xh(a,b,p);d&&d(c)}}function wh(a,b,c,d){return function(f){w.clearTimeout(d);xh(a,b,j);c.apply(i,arguments)}}function xh(a,b,c){w.setTimeout(function(){Uc(b)},0);w._callbacks_[a]&&(c?delete w._callbacks_[a]:w._callbacks_[a]=x)};function yh(a,b){this.nk=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Wd=b||{};this.nh=new th(this.nk,"json_callback")}
function Gg(a,b,c,d){a.Wd.q=b;a.Wd.format="json";a.Wd.addressdetails=1;a.Wd.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.Jj=b;if(!(c>1&&b===a.Jj))a.Lh!==l&&a.nh.cancel(a.Lh),a.Lh=a.nh.send(a.Wd,function(a){var c=Da(a,function(a){return a["class"]=="place"});c.length>0?(J(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};function zh(a,b,c){var d=new Qg(l,{Kh:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.Sd=new yh(b,c);b=new zg(l,l,p);Dg(b);b.Zh=p;b.N=this;b.hf(a);fd.call(this,this.Sd,d,b);this.addEventListener("update",function(b){a.value=b.row.display_name})}G(zh,fd);zh.prototype.search=function(a,b,c){Gg(this.Sd,a,b,c)};function Ah(a){this.V=a||Ic();this.$d=Bh}G(Ah,kc);Ah.prototype.Zi=Og.Ca();var Bh=l;function Ch(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}v=Ah.prototype;v.gb=l;v.G=p;v.f=l;v.$d=l;v.Uf=l;v.ga=l;v.ma=l;v.Ma=l;v.bi=p;
function Dh(a){return a.gb||(a.gb=Pg(a.Zi))}function Eh(a,b){if(a.ga&&a.ga.Ma){var c=a.ga.Ma,d=a.gb;d in c&&delete c[d];Yb(a.ga.Ma,b,a)}a.gb=b}v.c=r("f");v.ua=function(){return this.nd||(this.nd=new Fe(this))};function Fh(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.ga&&a.gb&&Gh(a.ga,a.gb)&&a.ga!=b&&e(Error("Unable to set parent component"));a.ga=b;Ah.b.hg.call(a,b)}v.getParent=r("ga");v.hg=function(a){this.ga&&this.ga!=a&&e(Error("Method not supported"));Ah.b.hg.call(this,a)};v.$=r("V");
v.t=function(){this.f=this.V.createElement("div")};v.Ob=function(a){Hh(this,a)};function Hh(a,b,c){a.G&&e(Error("Component already rendered"));a.f||a.t();b?b.insertBefore(a.f,c||l):a.V.A.body.appendChild(a.f);(!a.ga||a.ga.G)&&a.ea()}v.ia=function(a){this.G&&e(Error("Component already rendered"));if(a&&this.Za(a)){this.bi=j;if(!this.V||this.V.A!=R(a))this.V=Ic(a);this.rb(a);this.ea()}else e(Error("Invalid element to decorate"))};v.Za=s(j);v.rb=ba("f");
v.ea=function(){this.G=j;Ih(this,function(a){!a.G&&a.c()&&a.ea()})};v.Pa=function(){Ih(this,function(a){a.G&&a.Pa()});this.nd&&He(this.nd);this.G=p};v.i=function(){Ah.b.i.call(this);this.G&&this.Pa();this.nd&&(this.nd.l(),delete this.nd);Ih(this,function(a){a.l()});!this.bi&&this.f&&Uc(this.f);this.ga=this.Uf=this.f=this.Ma=this.ma=l};v.Ed=function(a,b){this.Fd(a,Jh(this),b)};
v.Fd=function(a,b,c){a.G&&(c||!this.G)&&e(Error("Component already rendered"));(b<0||b>Jh(this))&&e(Error("Child component index out of bounds"));if(!this.Ma||!this.ma)this.Ma={},this.ma=[];a.getParent()==this?(this.Ma[Dh(a)]=a,Ia(this.ma,a)):Yb(this.Ma,Dh(a),a);Fh(a,this);Ma(this.ma,b,0,a);a.G&&this.G&&a.getParent()==this?(c=this.Z(),c.insertBefore(a.c(),c.childNodes[b]||l)):c?(this.f||this.t(),b=Kh(this,b+1),Hh(a,this.Z(),b?b.f:l)):this.G&&!a.G&&a.f&&a.ea()};v.Z=r("f");
function Lh(a){if(a.$d==l)a.$d=Ld(a.G?a.f:a.V.A.body);return a.$d}v.Ad=function(a){this.G&&e(Error("Component already rendered"));this.$d=a};function Jh(a){return a.ma?a.ma.length:0}function Gh(a,b){return a.Ma&&b?(b in a.Ma?a.Ma[b]:i)||l:l}function Kh(a,b){return a.ma?a.ma[b]||l:l}function Ih(a,b,c){a.ma&&J(a.ma,b,c)}function Nh(a,b){return a.ma&&b?Ca(a.ma,b):-1}
v.removeChild=function(a,b){if(a){var c=D(a)?a:Dh(a),a=Gh(this,c);if(c&&a){var d=this.Ma;c in d&&delete d[c];Ia(this.ma,a);b&&(a.Pa(),a.f&&Uc(a.f));Fh(a,l)}}a||e(Error("Child is not in parent component"));return a};v.Jh=function(a){for(;this.ma&&this.ma.length!=0;)this.removeChild(Kh(this,0),a)};function Oh(){}var Ph;ca(Oh);v=Oh.prototype;v.tb=aa();v.t=function(a){var b=a.$().t("div",this.jd(a).join(" "),a.getContent());this.Te(a,b);return b};v.Z=function(a){return a};v.Kd=function(a,b,c){if(a=a.c?a.c():a)if(K&&!N("7")){var d=Qh(Cc(a),b);d.push(b);na(c?Dc:Ec,a).apply(l,d)}else c?Dc(a,b):Ec(a,b)};v.Za=s(j);
v.ia=function(a,b){b.id&&Eh(a,b.id);var c=this.Z(b);c&&c.firstChild?Rh(a,c.firstChild.nextSibling?Ka(c.childNodes):c.firstChild):a.bd=l;var d=0,f=this.r(),g=this.r(),h=p,k=p,c=p,m=Cc(b);J(m,function(a){!h&&a==f?(h=j,g==f&&(k=j)):!k&&a==g?k=j:d|=this.zf(a)},this);a.g=d;h||(m.push(f),g==f&&(k=j));k||m.push(g);var n=a.cb;n&&m.push.apply(m,n);if(K&&!N("7")){var q=Qh(m);q.length>0&&(m.push.apply(m,q),c=j)}if(!h||!k||n||c)b.className=m.join(" ");this.Te(a,b);return b};
v.qd=function(a){Lh(a)&&this.Ad(a.c(),j);a.isEnabled()&&this.rc(a,a.ba())};v.Te=function(a,b){a.isEnabled()||this.Ga(b,1,j);a.g&8&&this.Ga(b,8,j);a.T&16&&this.Ga(b,16,!!(a.g&16));a.T&64&&this.Ga(b,64,a.Qa())};v.be=function(a,b){Td(a,!b,!K&&!bb)};v.Ad=function(a,b){this.Kd(a,this.r()+"-rtl",b)};v.gc=function(a){var b;return a.T&32&&(b=a.aa())?$c(b):p};v.rc=function(a,b){var c;if(a.T&32&&(c=a.aa())){if(!b&&a.g&32){try{c.blur()}catch(d){}a.g&32&&a.Kb(l)}if($c(c)!=b)b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex"))}};
v.setVisible=function(a,b){Rd(a,b)};v.Fa=function(a,b,c){var d=a.c();if(d){var f=this.Md(b);f&&this.Kd(a,f,c);this.Ga(d,b,c)}};v.Ga=function(a,b,c){Ph||(Ph={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ph[b])&&X(a,b,c)};v.setContent=function(a,b){var c=this.Z(a);if(c&&(Tc(c),b))if(D(b))Xc(c,b);else{var d=function(a){if(a){var b=R(c);c.appendChild(D(a)?b.createTextNode(a):a)}};C(b)?J(b,d):ea(b)&&!("nodeType"in b)?J(Ka(b),d):d(b)}};v.aa=function(a){return a.c()};v.r=s("goog-control");
v.jd=function(a){var b=this.r(),c=[b],d=this.r();d!=b&&c.push(d);b=a.g;for(d=[];b;){var f=b&-b;d.push(this.Md(f));b&=~f}c.push.apply(c,d);(a=a.cb)&&c.push.apply(c,a);K&&!N("7")&&c.push.apply(c,Qh(c));return c};function Qh(a,b){var c=[];b&&(a=a.concat([b]));J([],function(d){Fa(d,na(Ha,a))&&(!b||Ha(d,b))&&c.push(d.join("_"))});return c}v.Md=function(a){this.oe||Sh(this);return this.oe[a]};
v.zf=function(a){if(!this.Vh){this.oe||Sh(this);var b=this.oe,c={},d;for(d in b)c[b[d]]=d;this.Vh=c}a=parseInt(this.Vh[a],10);return isNaN(a)?0:a};function Sh(a){var b=a.r();a.oe={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Th(a,b){a||e(Error("Invalid class name "+a));ga(b)||e(Error("Invalid decorator function "+b));Uh[a]=b}var Vh={},Uh={};function $(a,b,c){Ah.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ia(b);if(d=Vh[d])break;b=b.b?b.b.constructor:l}b=d?ga(d.Ca)?d.Ca():new d:l}this.k=b;this.bd=a}G($,Ah);v=$.prototype;v.bd=l;v.g=0;v.T=39;v.Eg=255;v.Xe=0;v.U=j;v.cb=l;v.Ef=j;v.ne=p;v.Re=l;function Wh(a,b){a.G&&b!=a.Ef&&Xh(a,b);a.Ef=b}v.aa=function(){return this.k.aa(this)};v.xe=function(){return this.L||(this.L=new og)};function Yh(a,b){if(b)a.cb?Ha(a.cb,b)||a.cb.push(b):a.cb=[b],a.k.Kd(a,b,j)}
v.Kd=function(a,b){if(b)Yh(this,a);else if(a&&this.cb){Ia(this.cb,a);if(this.cb.length==0)this.cb=l;this.k.Kd(this,a,p)}};v.t=function(){var a=this.k.t(this);this.f=a;var b=this.Re||this.k.tb();b&&lg(a,b);this.ne||this.k.be(a,p);this.ba()||this.k.setVisible(a,p)};v.Z=function(){return this.k.Z(this.c())};v.Za=function(a){return this.k.Za(a)};v.rb=function(a){this.f=a=this.k.ia(this,a);var b=this.Re||this.k.tb();b&&lg(a,b);this.ne||this.k.be(a,p);this.U=a.style.display!="none"};
v.ea=function(){$.b.ea.call(this);this.k.qd(this);if(this.T&-2&&(this.Ef&&Xh(this,j),this.T&32)){var a=this.aa();if(a){var b=this.xe();b.Hd(a);this.ua().j(b,"key",this.eb).j(a,"focus",this.Fc).j(a,"blur",this.Kb)}}};function Xh(a,b){var c=a.ua(),d=a.c();b?(c.j(d,"mouseover",a.Gf).j(d,"mousedown",a.Gc).j(d,"mouseup",a.Hc).j(d,"mouseout",a.Ff),K&&c.j(d,"dblclick",a.Xg)):(c.da(d,"mouseover",a.Gf).da(d,"mousedown",a.Gc).da(d,"mouseup",a.Hc).da(d,"mouseout",a.Ff),K&&c.da(d,"dblclick",a.Xg))}
v.Pa=function(){$.b.Pa.call(this);this.L&&this.L.detach();this.ba()&&this.isEnabled()&&this.k.rc(this,p)};v.i=function(){$.b.i.call(this);this.L&&(this.L.l(),delete this.L);delete this.k;this.cb=this.bd=l};v.getContent=r("bd");v.setContent=function(a){this.k.setContent(this.c(),a);this.bd=a};function Rh(a,b){a.bd=b}
v.hd=function(){var a=this.getContent();if(!a)return"";if(!D(a))if(C(a))a=Ea(a,ad).join("");else{if(Bc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];bd(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Bc||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return qa(a)};v.Ad=function(a){$.b.Ad.call(this,a);var b=this.c();b&&this.k.Ad(b,a)};v.be=function(a){this.ne=a;var b=this.c();b&&this.k.be(b,a)};v.ba=r("U");
v.setVisible=function(a,b){if(b||this.U!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.k.setVisible(c,a);this.isEnabled()&&this.k.rc(this,a);this.U=a;return j}return p};v.isEnabled=function(){return!(this.g&1)};v.qc=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&Zh(this,1,!a))a||(this.setActive(p),this.yb(p)),this.ba()&&this.k.rc(this,a),this.Fa(1,!a)};v.yb=function(a){Zh(this,2,a)&&this.Fa(2,a)};
v.setActive=function(a){Zh(this,4,a)&&this.Fa(4,a)};v.jg=function(a){Zh(this,8,a)&&this.Fa(8,a)};v.Qa=function(){return!!(this.g&64)};v.S=function(a){Zh(this,64,a)&&this.Fa(64,a)};v.Fa=function(a,b){if(this.T&a&&b!=!!(this.g&a))this.k.Fa(this,a,b),this.g=b?this.g|a:this.g&~a};function $h(a,b,c){a.G&&a.g&b&&!c&&e(Error("Component already rendered"));!c&&a.g&b&&a.Fa(b,p);a.T=c?a.T|b:a.T&~b}function ai(a,b){return!!(a.Eg&b)&&!!(a.T&b)}
function Zh(a,b,c){return!!(a.T&b)&&!!(a.g&b)!=c&&(!(a.Xe&b)||a.dispatchEvent(Ch(b,c)))&&!a.se}v.Gf=function(a){(!a.relatedTarget||!Wc(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&ai(this,2)&&this.yb(j)};v.Ff=function(a){if((!a.relatedTarget||!Wc(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))ai(this,4)&&this.setActive(p),ai(this,2)&&this.yb(p)};
v.Gc=function(a){this.isEnabled()&&(ai(this,2)&&this.yb(j),zb(a)&&(ai(this,4)&&this.setActive(j),this.k.gc(this)&&this.aa().focus()));!this.ne&&zb(a)&&a.preventDefault()};v.Hc=function(a){this.isEnabled()&&(ai(this,2)&&this.yb(j),this.g&4&&this.ud(a)&&ai(this,4)&&this.setActive(p))};v.Xg=function(a){this.isEnabled()&&this.ud(a)};
v.ud=function(a){if(ai(this,16)){var b=!(this.g&16);Zh(this,16,b)&&this.Fa(16,b)}ai(this,8)&&this.jg(j);ai(this,64)&&this.S(!this.Qa());b=new tb("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};v.Fc=function(){ai(this,32)&&Zh(this,32,j)&&this.Fa(32,j)};v.Kb=function(){ai(this,4)&&this.setActive(p);ai(this,32)&&Zh(this,32,p)&&this.Fa(32,p)};
v.eb=function(a){return this.ba()&&this.isEnabled()&&this.od(a)?(a.preventDefault(),a.stopPropagation(),j):p};v.od=function(a){return a.keyCode==13&&this.ud(a)};ga($)||e(Error("Invalid component class "+$));ga(Oh)||e(Error("Invalid renderer class "+Oh));var bi=ia($);Vh[bi]=Oh;Th("goog-control",function(){return new $(l)});function ci(a,b){this.e=a;this.v=new lc(20);this.zg=this.yg=0.1;this.Jf=p;this.zc=new $("");this.zc.Xe|=255;this.ei=O(this.zc,"activate",this.Kj,p,this);this.Bi=O(this.zc,"deactivate",this.Lj,p,this);this.xk=O(this.zc,"enter",this.Mj,p,this);this.sg=O(this.v,nc,this.td,p,this);this.Aj=O(R(this.e.a.canvas),"mousemove",this.Vd,p,this);this.zj=O(R(this.e.a.canvas),"mousedown",function(){this.Jf=j},p,this);this.Bj=O(R(this.e.a.canvas),"mouseup",function(){this.Jf=p},p,this);this.zc.Ob(b)}G(ci,H);v=ci.prototype;
v.Mj=function(){this.Jf&&(this.zc.Fa(4,j),this.v.start())};v.Kj=function(){this.v.start()};v.Lj=function(){this.v&&this.v.stop()};v.td=function(){this.wd(this.yg,this.zg)};v.Vd=function(a){this.yg=-(a.offsetX-a.target.offsetWidth/2)*2;this.zg=-(a.offsetY-a.target.offsetHeight/2)};v.i=function(){P(this.ei);P(this.Aj);P(this.Bj);P(this.zj);P(this.Bi);P(this.sg);this.zc.l()};v.wd=function(a,b){var c=Math.PI*(1/this.e.a.canvas.height)*(this.e.ee/Math.pow(2,Rf(this.e.F,j)));Re(this.e.d,b*c,-2*a*c)};function di(){this.Ig=[]}G(di,Oh);ca(di);function ei(a,b){var c=a.Ig[b];if(!c){switch(b){case 0:c=a.r()+"-highlight";break;case 1:c=a.r()+"-checkbox";break;case 2:c=a.r()+"-content"}a.Ig[b]=c}return c}v=di.prototype;v.tb=s("menuitem");v.t=function(a){var b=a.$().t("div",this.jd(a).join(" "),fi(this,a.getContent(),a.$()));gi(this,a,b,!!(a.T&8)||!!(a.T&16));return b};v.Z=function(a){return a&&a.firstChild};
v.ia=function(a,b){var c=Vc(b),d=ei(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(fi(this,b.childNodes,a.$()));Ha(Cc(b),"goog-option")&&(a.Ue(j),this.Ue(a,b,j));return di.b.ia.call(this,a,b)};v.setContent=function(a,b){var c=this.Z(a),d=hi(this,a)?c.firstChild:l;di.b.setContent.call(this,a,b);d&&!hi(this,a)&&c.insertBefore(d,c.firstChild||l)};function fi(a,b,c){a=ei(a,2);return c.t("div",a,b)}v.Ue=function(a,b,c){b&&(lg(b,c?"menuitemcheckbox":this.tb()),gi(this,a,b,c))};
function hi(a,b){var c=a.Z(b);if(c){var c=c.firstChild,d=ei(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return p}function gi(a,b,c,d){d!=hi(a,c)&&(d?Dc(c,"goog-option"):Ec(c,"goog-option"),c=a.Z(c),d?(a=ei(a,1),c.insertBefore(b.$().t("div",a),c.firstChild||l)):c.removeChild(c.firstChild))}v.Md=function(a){switch(a){case 2:return ei(this,0);case 16:case 8:return"goog-option-selected";default:return di.b.Md.call(this,a)}};
v.zf=function(a){var b=ei(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return di.b.zf.call(this,a)}};v.r=s("goog-menuitem");function ii(a,b,c,d){$.call(this,a,d||di.Ca(),c);this.X(b)}G(ii,$);v=ii.prototype;v.p=function(){var a=this.Uf;return a!=l?a:this.hd()};v.X=ba("Uf");v.Ue=function(a){$h(this,16,a);var b=this.c();b&&this.k.Ue(this,b,a)};v.hd=function(){var a=this.getContent();return C(a)?(a=Ea(a,function(a){return Ha(Cc(a),"goog-menuitem-accel")?"":ad(a)}).join(""),qa(a)):ii.b.hd.call(this)};
v.Hc=function(a){var b=this.getParent();if(b){var c=b.Eh;b.Eh=l;if(b=c&&fa(a.clientX))b=new Q(a.clientX,a.clientY),b=c==b?j:!c||!b?p:c.x==b.x&&c.y==b.y;if(b)return}ii.b.Hc.call(this,a)};Th("goog-menuitem",function(){return new ii(l)});function ji(a,b,c,d,f,g,h,k){var m,n=c.offsetParent;if(n){var q=n.tagName=="HTML"||n.tagName=="BODY";if(!q||Cd(n,"position")!="static")m=Kd(n),q||(m=Fc(m,new Q(n.scrollLeft,n.scrollTop)))}n=Qd(a);if(q=Id(a)){var o=new zd(q.left,q.top,q.right-q.left,q.bottom-q.top),q=Math.max(n.left,o.left),u=Math.min(n.left+n.width,o.left+o.width);if(q<=u){var t=Math.max(n.top,o.top),o=Math.min(n.top+n.height,o.top+o.height);if(t<=o)n.left=q,n.top=t,n.width=u-q,n.height=o-t}}q=Ic(a);t=Ic(c);if(q.A!=t.A){var u=q.A.body,
t=t.A.parentWindow||t.A.defaultView,o=new Q(0,0),Z=R(u)?R(u).parentWindow||R(u).defaultView:window,pd=u;do{var Mh=Z==t?Kd(pd):Md(pd);o.x+=Mh.x;o.y+=Mh.y}while(Z&&Z!=t&&(pd=Z.frameElement)&&(Z=Z.parent));u=Fc(o,Kd(u));K&&!dd(q)&&(u=Fc(u,ed(q)));n.left+=u.x;n.top+=u.y}a=(b&4&&Ld(a)?b^2:b)&-5;b=new Q(a&2?n.left+n.width:n.left,a&1?n.top+n.height:n.top);m&&(b=Fc(b,m));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var y;if(h&&(y=Id(c))&&m)y.top-=m.y,y.right-=m.x,y.bottom-=m.y,y.left-=m.x;a:{m=b.oa();f=0;
a=(d&4&&Ld(c)?d^2:d)&-5;d=Od(c);k=k?k.oa():d.oa();if(g||a!=0)a&2?m.x-=k.width+(g?g.right:0):g&&(m.x+=g.left),a&1?m.y-=k.height+(g?g.bottom:0):g&&(m.y+=g.top);if(h){if(y){g=m;f=0;if((h&65)==65&&(g.x<y.left||g.x>=y.right))h&=-2;if((h&132)==132&&(g.y<y.top||g.y>=y.bottom))h&=-5;if(g.x<y.left&&h&1)g.x=y.left,f|=1;g.x<y.left&&g.x+k.width>y.right&&h&16&&(k.width-=g.x+k.width-y.right,f|=4);if(g.x+k.width>y.right&&h&1)g.x=Math.max(y.right-k.width,y.left),f|=1;h&2&&(f|=(g.x<y.left?16:0)|(g.x+k.width>y.right?
32:0));if(g.y<y.top&&h&4)g.y=y.top,f|=2;g.y>=y.top&&g.y+k.height>y.bottom&&h&32&&(k.height-=g.y+k.height-y.bottom,f|=8);if(g.y+k.height>y.bottom&&h&4)g.y=Math.max(y.bottom-k.height,y.top),f|=2;h&8&&(f|=(g.y<y.top?64:0)|(g.y+k.height>y.bottom?128:0));h=f}else h=256;f=h;if(f&496){c=f;break a}}Dd(c,m);if(!Hc(d,k))g=dd(Ic(R(c))),K&&(!g||!N("8"))?(h=c.style,g?(K?(g=Ud(c,Bd(c,"paddingLeft")),d=Ud(c,Bd(c,"paddingRight")),m=Ud(c,Bd(c,"paddingTop")),y=Ud(c,Bd(c,"paddingBottom")),g=new yd(m,d,y,g)):(g=Ad(c,
"paddingLeft"),d=Ad(c,"paddingRight"),m=Ad(c,"paddingTop"),y=Ad(c,"paddingBottom"),g=new yd(parseFloat(m),parseFloat(d),parseFloat(y),parseFloat(g))),c=Xd(c),h.pixelWidth=k.width-c.left-g.left-g.right-c.right,h.pixelHeight=k.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=k.width,h.pixelHeight=k.height)):(c=c.style,L?c.MozBoxSizing="border-box":M?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=k.width+"px",c.height=k.height+"px");c=f}return c};function ki(){}ki.prototype.Yd=aa();function li(a,b){this.element=a;this.mf=b}G(li,ki);li.prototype.Yd=function(a,b,c){ji(this.element,this.mf,a,b,i,c)};function mi(a,b,c){li.call(this,a,b);this.ii=c}G(mi,li);mi.prototype.Rg=s(5);mi.prototype.Yd=function(a,b,c,d){var f=ji(this.element,this.mf,a,b,l,c,10,d);if(f&496){var g=ni(f,this.mf),b=ni(f,b),f=ji(this.element,g,a,b,l,c,10,d);f&496&&(g=ni(f,g),b=ni(f,b),this.ii?ji(this.element,g,a,b,l,c,this.Rg(),d):ji(this.element,g,a,b,l,c,0,d))}};function ni(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function oi(a,b,c,d){mi.call(this,a,b,c||d);this.Zj=d}G(oi,mi);oi.prototype.Rg=function(){return 65|(this.Zj?32:132)};function pi(){}G(pi,Oh);ca(pi);v=pi.prototype;v.tb=s("button");v.Ga=function(a,b,c){b==16?X(a,"pressed",c):pi.b.Ga.call(this,a,b,c)};v.t=function(a){var b=pi.b.t.call(this,a),c=a.Od();c&&this.lg(b,c);(c=a.p())&&this.X(b,c);a.T&16&&this.Ga(b,16,!!(a.g&16));return b};v.ia=function(a,b){var b=pi.b.ia.call(this,a,b),c=this.p(b);a.nb=c;a.ug=this.Od(b);a.T&16&&this.Ga(b,16,!!(a.g&16));return b};v.p=x;v.X=x;v.Od=function(a){return a.title};v.lg=function(a,b){if(a)a.title=b||""};v.r=s("goog-button");function qi(){}G(qi,pi);ca(qi);v=qi.prototype;v.tb=aa();v.t=function(a){ri(a);return a.$().t("button",{"class":this.jd(a).join(" "),disabled:!a.isEnabled(),title:a.Od()||"",value:a.p()||""},a.hd()||"")};v.Za=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};v.ia=function(a,b){ri(a);b.disabled&&Dc(b,this.Md(1));return qi.b.ia.call(this,a,b)};v.qd=function(a){a.ua().j(a.c(),"click",a.ud)};v.be=x;v.Ad=x;v.gc=function(a){return a.isEnabled()};
v.rc=x;v.Fa=function(a,b,c){qi.b.Fa.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};v.p=function(a){return a.value};v.X=function(a,b){if(a)a.value=b};v.Ga=x;function ri(a){Wh(a,p);a.Eg&=-256;$h(a,32,p)};function si(a,b,c){$.call(this,a,b||qi.Ca(),c)}G(si,$);v=si.prototype;v.p=r("nb");v.X=function(a){this.nb=a;this.k.X(this.c(),a)};v.Od=r("ug");v.lg=function(a){this.ug=a;this.k.lg(this.c(),a)};v.i=function(){si.b.i.call(this);delete this.nb;delete this.ug};v.ea=function(){si.b.ea.call(this);if(this.T&32){var a=this.aa();a&&this.ua().j(a,"keyup",this.od)}};v.od=function(a){return a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup"?this.ud(a):a.keyCode==32};Th("goog-button",function(){return new si(l)});function ti(){}G(ti,Oh);ca(ti);ti.prototype.t=function(a){return a.$().t("div",this.r())};ti.prototype.ia=function(a,b){b.id&&Eh(a,b.id);if(b.tagName=="HR"){var c=b,b=this.t(a);c.parentNode&&c.parentNode.insertBefore(b,c);Uc(c)}else Dc(b,this.r());return b};ti.prototype.setContent=aa();ti.prototype.r=s("goog-menuseparator");function ui(a,b){$.call(this,l,a||ti.Ca(),b);$h(this,1,p);$h(this,2,p);$h(this,4,p);$h(this,32,p);this.g=1}G(ui,$);ui.prototype.ea=function(){ui.b.ea.call(this);lg(this.c(),"separator")};Th("goog-menuseparator",function(){return new ui});function vi(){}ca(vi);v=vi.prototype;v.tb=aa();function wi(a,b){if(a)a.tabIndex=b?0:-1}v.t=function(a){return a.$().t("div",this.jd(a).join(" "))};v.Z=function(a){return a};v.Za=function(a){return a.tagName=="DIV"};v.ia=function(a,b){b.id&&Eh(a,b.id);var c=this.r(),d=p,f=Cc(b);f&&J(f,function(b){b==c?d=j:b&&(b==c+"-disabled"?a.qc(p):b==c+"-horizontal"?a.Ve(xi):b==c+"-vertical"&&a.Ve(yi))},this);d||Dc(b,c);zi(this,a,this.Z(b));return b};
function zi(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.wf(d);if(g)g.f=d,b.isEnabled()||g.qc(p),b.Ed(g),g.ia(d)}else(!d.nodeValue||ra(d.nodeValue)=="")&&c.removeChild(d);d=f}}v.wf=function(a){a:{for(var b=Cc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Uh?Uh[b[c]]():l)break a;a=l}return a};v.qd=function(a){a=a.c();Td(a,j,L);if(K)a.hideFocus=j;var b=this.tb();b&&lg(a,b)};v.aa=function(a){return a.c()};v.r=s("goog-container");
v.jd=function(a){var b=this.r(),c=[b,a.Q==xi?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Ai(a,b,c){Ah.call(this,c);this.k=b||vi.Ca();this.Q=a||yi}G(Ai,Ah);var xi="horizontal",yi="vertical";v=Ai.prototype;v.Nf=l;v.L=l;v.k=l;v.Q=l;v.U=j;v.bb=j;v.rf=j;v.ka=-1;v.ca=l;v.Mb=p;v.ji=p;v.Qj=j;v.Cb=l;v.aa=function(){return this.Nf||this.k.aa(this)};v.xe=function(){return this.L||(this.L=new og(this.aa()))};v.t=function(){this.f=this.k.t(this)};v.Z=function(){return this.k.Z(this.c())};v.Za=function(a){return this.k.Za(a)};
v.rb=function(a){this.f=this.k.ia(this,a);if(a.style.display=="none")this.U=p};v.ea=function(){Ai.b.ea.call(this);Ih(this,function(a){a.G&&Bi(this,a)},this);var a=this.c();this.k.qd(this);this.setVisible(this.U,j);this.ua().j(this,"enter",this.Af).j(this,"highlight",this.Bf).j(this,"unhighlight",this.Hf).j(this,"open",this.Vi).j(this,"close",this.Ni).j(a,"mousedown",this.Gc).j(R(a),"mouseup",this.Pi).j(a,["mousedown","mouseup","mouseover","mouseout"],this.Mi);this.gc()&&Ci(this,j)};
function Ci(a,b){var c=a.ua(),d=a.aa();b?c.j(d,"focus",a.Fc).j(d,"blur",a.Kb).j(a.xe(),"key",a.eb):c.da(d,"focus",a.Fc).da(d,"blur",a.Kb).da(a.xe(),"key",a.eb)}v.Pa=function(){Di(this,-1);this.ca&&this.ca.S(p);this.Mb=p;Ai.b.Pa.call(this)};v.i=function(){Ai.b.i.call(this);if(this.L)this.L.l(),this.L=l;this.k=this.ca=this.Cb=this.Nf=l};v.Af=s(j);
v.Bf=function(a){var b=Nh(this,a.target);if(b>-1&&b!=this.ka){var c=Kh(this,this.ka);c&&c.yb(p);this.ka=b;c=Kh(this,this.ka);this.Mb&&c.setActive(j);this.Qj&&this.ca&&c!=this.ca&&(c.T&64?c.S(j):this.ca.S(p))}X(this.c(),"activedescendant",a.target.c().id)};v.Hf=function(a){if(a.target==Kh(this,this.ka))this.ka=-1;X(this.c(),"activedescendant","")};v.Vi=function(a){if((a=a.target)&&a!=this.ca&&a.getParent()==this)this.ca&&this.ca.S(p),this.ca=a};v.Ni=function(a){if(a.target==this.ca)this.ca=l};
v.Gc=function(a){if(this.bb)this.Mb=j;var b=this.aa();b&&$c(b)?b.focus():a.preventDefault()};v.Pi=function(){this.Mb=p};v.Mi=function(a){var b;a:{b=a.target;if(this.Cb)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Cb){b=this.Cb[d];break a}b=b.parentNode}b=l}if(b)switch(a.type){case "mousedown":b.Gc(a);break;case "mouseup":b.Hc(a);break;case "mouseover":b.Gf(a);break;case "mouseout":b.Ff(a)}};v.Fc=aa();v.Kb=function(){Di(this,-1);this.Mb=p;this.ca&&this.ca.S(p)};
v.eb=function(a){return this.isEnabled()&&this.ba()&&(Jh(this)!=0||this.Nf)&&this.od(a)?(a.preventDefault(),a.stopPropagation(),j):p};
v.od=function(a){var b=Kh(this,this.ka);if(b&&typeof b.eb=="function"&&b.eb(a))return j;if(this.ca&&this.ca!=b&&typeof this.ca.eb=="function"&&this.ca.eb(a))return j;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return p;switch(a.keyCode){case 27:if(this.gc())this.aa().blur();else return p;break;case 36:Ei(this);break;case 35:Fi(this);break;case 38:if(this.Q==yi)Gi(this);else return p;break;case 37:if(this.Q==xi)Lh(this)?Hi(this):Gi(this);else return p;break;case 40:if(this.Q==yi)Hi(this);else return p;
break;case 39:if(this.Q==xi)Lh(this)?Gi(this):Hi(this);else return p;break;default:return p}return j};function Bi(a,b){var c=b.c(),c=c.id||(c.id=Dh(b));if(!a.Cb)a.Cb={};a.Cb[c]=b}v.Ed=function(a,b){Ai.b.Ed.call(this,a,b)};v.Fd=function(a,b,c){a.Xe|=2;a.Xe|=64;(this.gc()||!this.ji)&&$h(a,32,p);Wh(a,p);Ai.b.Fd.call(this,a,b,c);a.G&&this.G&&Bi(this,a);b<=this.ka&&this.ka++};
v.removeChild=function(a,b){if(a=D(a)?Gh(this,a):a){var c=Nh(this,a);c!=-1&&(c==this.ka?a.yb(p):c<this.ka&&this.ka--);var d=a.c();if(d&&d.id&&this.Cb)c=this.Cb,d=d.id,d in c&&delete c[d]}a=Ai.b.removeChild.call(this,a,b);Wh(a,j);return a};v.Ve=function(a){this.c()&&e(Error("Component already rendered"));this.Q=a};v.ba=r("U");
v.setVisible=function(a,b){if(b||this.U!=a&&this.dispatchEvent(a?"show":"hide")){this.U=a;var c=this.c();c&&(Rd(c,a),this.gc()&&wi(this.aa(),this.bb&&this.U),b||this.dispatchEvent(this.U?"aftershow":"afterhide"));return j}return p};v.isEnabled=r("bb");v.qc=function(a){if(this.bb!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.bb=j,Ih(this,function(a){a.ci?delete a.ci:a.qc(j)})):(Ih(this,function(a){a.isEnabled()?a.qc(p):a.ci=j}),this.Mb=this.bb=p),this.gc()&&wi(this.aa(),a&&this.U)};v.gc=r("rf");
v.rc=function(a){a!=this.rf&&this.G&&Ci(this,a);this.rf=a;this.bb&&this.U&&wi(this.aa(),a)};function Di(a,b){var c=Kh(a,b);c?c.yb(j):a.ka>-1&&Kh(a,a.ka).yb(p)}v.yb=function(a){Di(this,Nh(this,a))};function Ei(a){Ii(a,function(a,c){return(a+1)%c},Jh(a)-1)}function Fi(a){Ii(a,function(a,c){a--;return a<0?c-1:a},0)}function Hi(a){Ii(a,function(a,c){return(a+1)%c},a.ka)}function Gi(a){Ii(a,function(a,c){a--;return a<0?c-1:a},a.ka)}
function Ii(a,b,c){for(var c=c<0?Nh(a,a.ca):c,d=Jh(a),c=b.call(a,c,d),f=0;f<=d;){var g=Kh(a,c);if(g&&a.Hg(g)){Di(a,c);break}f++;c=b.call(a,c,d)}}v.Hg=function(a){return a.ba()&&a.isEnabled()&&!!(a.T&2)};function Ji(){}G(Ji,Oh);ca(Ji);Ji.prototype.r=s("goog-menuheader");function Ki(a,b,c){$.call(this,a,c||Ji.Ca(),b);$h(this,1,p);$h(this,2,p);$h(this,4,p);$h(this,32,p);this.g=1}G(Ki,$);Th("goog-menuheader",function(){return new Ki(l)});function Li(){}G(Li,vi);ca(Li);v=Li.prototype;v.tb=s("menu");v.Za=function(a){return a.tagName=="UL"||Li.b.Za.call(this,a)};v.wf=function(a){return a.tagName=="HR"?new ui:Li.b.wf.call(this,a)};v.yc=function(a,b){return Wc(a.c(),b)};v.r=s("goog-menu");v.qd=function(a){Li.b.qd.call(this,a);X(a.c(),"haspopup","true")};Th("goog-menuseparator",function(){return new ui});function Mi(a,b){Ai.call(this,yi,b||Li.Ca(),a);this.rc(p)}G(Mi,Ai);v=Mi.prototype;v.gf=j;v.ki=p;v.r=function(){return this.k.r()};v.yc=function(a){if(this.k.yc(this,a))return j;for(var b=0,c=Jh(this);b<c;b++){var d=Kh(this,b);if(typeof d.yc=="function"&&d.yc(a))return j}return p};v.Tb=function(a){this.Ed(a,j)};v.$c=function(a,b){this.Fd(a,b,j)};v.Nd=function(a){return Kh(this,a)};v.we=function(){return Jh(this)};
v.setPosition=function(a,b){var c=this.ba();c||Rd(this.c(),j);Nd(this.c(),a,b);c||Rd(this.c(),p)};v.getPosition=function(){return this.ba()?Kd(this.c()):l};v.setVisible=function(a,b,c){(b=Mi.b.setVisible.call(this,a,b))&&a&&this.G&&this.gf&&this.aa().focus();this.Eh=a&&c&&fa(c.clientX)?new Q(c.clientX,c.clientY):l;return b};v.Af=function(a){this.gf&&this.aa().focus();return Mi.b.Af.call(this,a)};v.Hg=function(a){return(this.ki||a.isEnabled())&&a.ba()&&!!(a.T&2)};
v.rb=function(a){var b=this.k,c;c=this.$();c=Lc(c.A,"div",b.r()+"-content",a);for(var d=c.length,f=0;f<d;f++)zi(b,this,c[f]);Mi.b.rb.call(this,a)};function Ni(){}G(Ni,pi);ca(Ni);v=Ni.prototype;v.t=function(a){var b={"class":"goog-inline-block "+this.jd(a).join(" "),title:a.Od()||""},b=a.$().t("div",b,this.pe(a.getContent(),a.$()));this.Te(a,b);return b};v.tb=s("button");v.Te=function(a,b){a.isEnabled()||this.Ga(b,1,j);a.g&8&&this.Ga(b,8,j);a.T&16&&this.Ga(b,16,j);a.Qa()&&this.Ga(b,64,j)};v.Z=function(a){return a&&a.firstChild.firstChild};
v.pe=function(a,b){return b.t("div","goog-inline-block "+(this.r()+"-outer-box"),b.t("div","goog-inline-block "+(this.r()+"-inner-box"),a))};v.Za=function(a){return a.tagName=="DIV"};v.ia=function(a,b){Oi(b,j);Oi(b,p);var c;a:{if((c=a.$().Qg(b))&&c.className.indexOf(this.r()+"-outer-box")!=-1)if((c=a.$().Qg(c))&&c.className.indexOf(this.r()+"-inner-box")!=-1){c=j;break a}c=p}c||b.appendChild(this.pe(b.childNodes,a.$()));Dc(b,"goog-inline-block",this.r());return Ni.b.ia.call(this,a,b)};v.r=s("goog-custom-button");
function Oi(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(ra(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Pi(){}G(Pi,Ni);ca(Pi);if(L)Pi.prototype.setContent=function(a,b){var c=Pi.b.Z.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,Ic(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};v=Pi.prototype;v.Z=function(a){a=Pi.b.Z.call(this,a&&a.firstChild);if(L&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};v.ia=function(a,b){var c=Lc(document,"*","goog-menu",b)[0];if(c){Rd(c,p);R(c).body.appendChild(c);var d=new Mi;d.ia(c);a.de(d)}return Pi.b.ia.call(this,a,b)};
v.pe=function(a,b){return Pi.b.pe.call(this,[this.createCaption(a,b),b.t("div","goog-inline-block "+(this.r()+"-dropdown"),"\u00a0")],b)};v.createCaption=function(a,b){return b.t("div","goog-inline-block "+(this.r()+"-caption"),a)};v.r=s("goog-menu-button");function Qi(a,b,c,d){si.call(this,a,c||Pi.Ca(),d);$h(this,64,j);b&&this.de(b);this.mj=l;this.v=new lc(500);if((xg||yg)&&!N("533.17.9"))this.De=j}G(Qi,si);v=Qi.prototype;v.Cg=j;v.fg=p;v.De=p;v.Wj=p;v.ea=function(){Qi.b.ea.call(this);this.m&&Ri(this,this.m,j);X(this.c(),"haspopup","true")};v.Pa=function(){Qi.b.Pa.call(this);if(this.m){this.S(p);this.m.Pa();Ri(this,this.m,p);var a=this.m.c();a&&Uc(a)}};v.i=function(){Qi.b.i.call(this);this.m&&(this.m.l(),delete this.m);delete this.Uj;this.v.l()};
v.Gc=function(a){Qi.b.Gc.call(this,a);if(this.g&4&&(this.S(!this.Qa(),a),this.m))this.m.Mb=this.Qa()};v.Hc=function(a){Qi.b.Hc.call(this,a);if(this.m&&!(this.g&4))this.m.Mb=p};v.ud=function(){this.setActive(p);return j};v.Oi=function(a){this.m&&this.m.ba()&&!this.yc(a.target)&&this.S(p)};v.yc=function(a){return a&&Wc(this.c(),a)||this.m&&this.m.yc(a)||p};
v.od=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return p}else if(a.type!="key")return p;if(this.m&&this.m.ba()){var b=this.m.eb(a);return a.keyCode==27?(this.S(p),j):b}return a.keyCode==40||a.keyCode==38||a.keyCode==32?(this.S(j),j):p};v.Df=function(){this.S(p)};v.Si=function(){this.g&4||this.S(p)};v.Kb=function(a){this.De||this.S(p);Qi.b.Kb.call(this,a)};function Si(a){a.m||a.de(new Mi(a.$()));return a.m||l}
v.de=function(a){var b=this.m;if(a!=b&&(b&&(this.S(p),this.G&&Ri(this,b,p),delete this.m),a)){this.m=a;Fh(a,this);a.setVisible(p);var c=this.De;(a.gf=c)&&a.rc(j);this.G&&Ri(this,a,j)}return b};v.Tb=function(a){Si(this).Ed(a,j)};v.$c=function(a,b){Si(this).Fd(a,b,j)};v.Nd=function(a){return this.m?Kh(this.m,a):l};v.we=function(){return this.m?Jh(this.m):0};v.setVisible=function(a,b){var c=Qi.b.setVisible.call(this,a,b);c&&!this.ba()&&this.S(p);return c};
v.qc=function(a){Qi.b.qc.call(this,a);this.isEnabled()||this.S(p)};
v.S=function(a,b){Qi.b.S.call(this,a);if(this.m&&!!(this.g&64)==a){if(a)this.m.G||(this.Wj?this.m.Ob(this.c().parentNode):this.m.Ob()),this.Zc=Id(this.c()),this.xc=Qd(this.c()),Ti(this),Di(this.m,-1);else if(this.setActive(p),this.m.Mb=p,this.c()&&X(this.c(),"activedescendant",""),B(this.Pe)){this.Pe=i;var c=this.m.c();if(c){var d="",f;d instanceof Gc?(f=d.height,d=d.width):f="";c.style.width=Ed(d,j);c.style.height=Ed(f,j)}}this.m.setVisible(a,p,b);this.se||(c=this.ua(),d=a?c.j:c.da,d.call(c,cd(this.$()),
"mousedown",this.Oi,j),this.De&&d.call(c,this.m,"blur",this.Si),d.call(c,this.v,nc,this.td),a?this.v.start():this.v.stop())}};function Ti(a){if(a.m.G){var b=new oi(a.Uj||a.c(),a.Cg?5:7,!a.fg,a.fg),c=a.m.c();if(!a.m.ba())c.style.visibility="hidden",Rd(c,j);if(!a.Pe&&a.fg)a.Pe=Od(c);b.Yd(c,a.Cg?4:6,a.mj,a.Pe);if(!a.m.ba())Rd(c,p),c.style.visibility="visible"}}
v.td=function(){var a=Qd(this.c()),b=Id(this.c());if(!(this.xc==a||(!this.xc||!a?0:this.xc.left==a.left&&this.xc.width==a.width&&this.xc.top==a.top&&this.xc.height==a.height))||!(this.Zc==b||(!this.Zc||!b?0:this.Zc.top==b.top&&this.Zc.right==b.right&&this.Zc.bottom==b.bottom&&this.Zc.left==b.left)))this.xc=a,this.Zc=b,Ti(this)};function Ri(a,b,c){var d=a.ua(),c=c?d.j:d.da;c.call(d,b,"action",a.Df);c.call(d,b,"highlight",a.Bf);c.call(d,b,"unhighlight",a.Hf)}
v.Bf=function(a){X(this.c(),"activedescendant",a.target.c().id)};v.Hf=function(){Kh(this.m,this.m.ka)||X(this.c(),"activedescendant","")};Th("goog-menu-button",function(){return new Qi(l)});function Ui(a){this.Kc=[];Vi(this,a)}G(Ui,kc);v=Ui.prototype;v.oc=l;v.pc=l;v.we=function(){return this.Kc.length};v.Nd=function(a){return this.Kc[a]||l};function Vi(a,b){b&&(J(b,function(a){Wi(this,a,p)},a),La(a.Kc,b))}v.Tb=function(a){this.$c(a,this.we())};v.$c=function(a,b){a&&(Wi(this,a,p),Ma(this.Kc,b,0,a))};v.ye=r("oc");v.sc=function(a){if(a!=this.oc)Wi(this,this.oc,p),this.oc=a,Wi(this,a,j);this.dispatchEvent("select")};v.yf=function(){return this.oc?Ca(this.Kc,this.oc):-1};v.Qh=function(a){this.sc(this.Nd(a))};
v.clear=function(){var a=this.Kc;if(!C(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.oc=l};v.i=function(){Ui.b.i.call(this);delete this.Kc;this.oc=l};function Wi(a,b,c){b&&(typeof a.pc=="function"?a.pc(b,c):typeof b.jg=="function"&&b.jg(c))};function Xi(a,b,c,d){Qi.call(this,a,b,c,d);this.re=a;Yi(this);this.Re="listbox"}G(Xi,Qi);v=Xi.prototype;v.J=l;v.re=l;v.ea=function(){Xi.b.ea.call(this);Yi(this);Zi(this);X(this.c(),"haspopup","false")};v.rb=function(a){Xi.b.rb.call(this,a);(a=this.hd())?(this.re=a,Yi(this)):this.Qh(0)};v.i=function(){Xi.b.i.call(this);if(this.J)this.J.l(),this.J=l;this.re=l};v.Df=function(a){this.sc(a.target);Xi.b.Df.call(this,a);a.stopPropagation();this.dispatchEvent("action")};
v.Xi=function(){var a=this.ye();Xi.b.X.call(this,a&&a.p());Yi(this)};v.de=function(a){var b=Xi.b.de.call(this,a);a!=b&&(this.J&&this.J.clear(),a&&(this.J?Ih(a,function(a){$i(a);this.J.Tb(a)},this):aj(this,a)));return b};v.Tb=function(a){$i(a);Xi.b.Tb.call(this,a);this.J?this.J.Tb(a):aj(this,Si(this))};v.$c=function(a,b){$i(a);Xi.b.$c.call(this,a,b);this.J?this.J.$c(a,b):aj(this,Si(this))};v.sc=function(a){this.J&&this.J.sc(a)};v.Qh=function(a){this.J&&this.sc(this.J.Nd(a))};
v.X=function(a){if(B(a)&&this.J)for(var b=0,c;c=this.J.Nd(b);b++)if(c&&typeof c.p=="function"&&c.p()==a){this.sc(c);return}this.sc(l)};v.ye=function(){return this.J?this.J.ye():l};v.yf=function(){return this.J?this.J.yf():-1};function aj(a,b){a.J=new Ui;b&&Ih(b,function(a){$i(a);this.J.Tb(a)},a);Zi(a)}function Zi(a){a.J&&a.ua().j(a.J,"select",a.Xi)}function Yi(a){var b=a.ye();a.setContent(b?b.hd():a.re)}function $i(a){a.Re=a instanceof ii?"option":"separator"}
v.S=function(a,b){Xi.b.S.call(this,a,b);this.Qa()&&Di(Si(this),this.yf())};Th("goog-select",function(){return new Xi(l)});function bj(a,b){this.e=a;this.xd=new Xi("---");this.M=O(this.xd,"action",function(b){a.F.Xb(b.target.p())});this.xd.Ob(b)}G(bj,H);bj.prototype.wc=function(a,b){var c=new ii(a.name,a);this.xd.Tb(c);if(b||this.xd.we()==1)this.xd.sc(c),this.e.F.Xb(a)};bj.prototype.i=function(){P(this.M);this.xd.l()};function cj(a,b,c){si.call(this,a,b||Ni.Ca(),c)}G(cj,si);Th("goog-custom-button",function(){return new cj(l)});function dj(a,b,c){this.target=a;this.handle=b||a;this.qh=c||new zd(NaN,NaN,NaN,NaN);this.A=R(a);this.sb=new Fe(this);O(this.handle,["touchstart","mousedown"],this.Rh,p,this)}G(dj,kc);var ej=K||L&&N("1.9.3");v=dj.prototype;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.Th=0;v.Uh=0;v.gd=0;v.$b=0;v.bb=j;v.Oa=p;v.fh=0;v.yj=0;v.$i=p;v.ua=r("sb");v.qc=ba("bb");
v.i=function(){dj.b.i.call(this);ec(this.handle,["touchstart","mousedown"],this.Rh,p,this);this.sb.l();delete this.target;delete this.handle;delete this.sb};
v.Rh=function(a){var b=a.type=="mousedown";if(this.bb&&!this.Oa&&(!b||zb(a))){fj(a);if(this.fh==0)if(gj(this,a),this.Oa)a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!ej;this.sb.j(b,["touchmove","mousemove"],this.Ui,d);this.sb.j(b,["touchend","mouseup"],this.te,d);ej?(c.setCapture(p),this.sb.j(c,"losecapture",this.te)):this.sb.j(b?b.parentWindow||b.defaultView:window,"blur",this.te);K&&this.$i&&this.sb.j(b,"dragstart",ub);this.bk&&this.sb.j(this.bk,"scroll",
this.Pj,d);this.clientX=this.Th=a.clientX;this.clientY=this.Uh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.gd=this.target.offsetLeft;this.$b=this.target.offsetTop;this.ag=ed(Ic(this.A));this.yj=F()}else this.dispatchEvent("earlycancel")};function gj(a,b){if(a.dispatchEvent(new hj("start",a,b.clientX,b.clientY,b))!==p)a.Oa=j}
v.te=function(a,b){He(this.sb);ej&&this.A.releaseCapture();var c=ij(this,this.gd),d=jj(this,this.$b);this.Oa?(fj(a),this.Oa=p,this.dispatchEvent(new hj("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function fj(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.fc(a.ta.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.fc(a.ta.changedTouches[0],a.currentTarget)}
v.Ui=function(a){if(this.bb){fj(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Oa){var d=this.Th-this.clientX,f=this.Uh-this.clientY;if(d*d+f*f>this.fh&&(gj(this,a),!this.Oa)){this.te(a);return}}c=kj(this,b,c);b=c.x;c=c.y;this.Oa&&this.dispatchEvent(new hj("beforedrag",this,a.clientX,a.clientY,a,b,c))!==p&&(lj(this,a,b,c),a.preventDefault())}};
function kj(a,b,c){var d=ed(Ic(a.A));b+=d.x-a.ag.x;c+=d.y-a.ag.y;a.ag=d;a.gd+=b;a.$b+=c;b=ij(a,a.gd);a=jj(a,a.$b);return new Q(b,a)}v.Pj=function(a){var b=kj(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;lj(this,a,b.x,b.y)};function lj(a,b,c,d){a.of(c,d);a.dispatchEvent(new hj("drag",a,b.clientX,b.clientY,b,c,d))}function ij(a,b){var c=a.qh,d=!isNaN(c.left)?c.left:l,c=!isNaN(c.width)?c.width:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}
function jj(a,b){var c=a.qh,d=!isNaN(c.top)?c.top:l,c=!isNaN(c.height)?c.height:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}v.of=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function hj(a,b,c,d,f,g,h,k){tb.call(this,a);this.clientX=c;this.clientY=d;this.tk=f;this.left=z(g)?g:b.gd;this.top=z(h)?h:b.$b;this.Ng=b;this.wk=!!k}G(hj,tb);function mj(){}G(mj,kc);v=mj.prototype;v.nb=0;v.ib=0;v.Ra=100;v.Aa=0;v.uc=1;v.Da=p;v.Mc=p;v.X=function(a){a=nj(this,a);if(this.nb!=a)this.nb=a+this.Aa>this.Ra?this.Ra-this.Aa:a<this.ib?this.ib:a,!this.Da&&!this.Mc&&this.dispatchEvent("change")};v.p=function(){return nj(this,this.nb)};v.yd=function(a){a=nj(this,a);if(this.Aa!=a)this.Aa=a<0?0:this.nb+a>this.Ra?this.Ra-this.nb:a,!this.Da&&!this.Mc&&this.dispatchEvent("change")};v.Gb=function(){return this.uc==l?this.Aa:Math.round(this.Aa/this.uc)*this.uc};
v.gg=function(a){if(this.ib!=a){var b=this.Da;this.Da=j;this.ib=a;if(a+this.Aa>this.Ra)this.Aa=this.Ra-this.ib;a>this.nb&&this.X(a);if(a>this.Ra)this.Aa=0,this.ce(a),this.X(a);this.Da=b;!this.Da&&!this.Mc&&this.dispatchEvent("change")}};v.qa=function(){return nj(this,this.ib)};
v.ce=function(a){a=nj(this,a);if(this.Ra!=a){var b=this.Da;this.Da=j;this.Ra=a;a<this.nb+this.Aa&&this.X(a-this.Aa);if(a<this.ib)this.Aa=0,this.gg(a),this.X(this.Ra);if(a<this.ib+this.Aa)this.Aa=this.Ra-this.ib;this.Da=b;!this.Da&&!this.Mc&&this.dispatchEvent("change")}};v.pa=function(){return nj(this,this.Ra)};v.kg=function(a){if(this.uc!=a)this.uc=a,a=this.Da,this.Da=j,this.ce(this.pa()),this.yd(this.Gb()),this.X(this.p()),this.Da=a,!this.Da&&!this.Mc&&this.dispatchEvent("change")};
function nj(a,b){return a.uc==l?b:a.ib+Math.round((b-a.ib)/a.uc)*a.uc};function oj(a){Ah.call(this,a);this.s=new mj;O(this.s,"change",this.Wi,p,this)}G(oj,Ah);v=oj.prototype;v.Q="horizontal";v.Ce=p;v.Cj=p;v.Ub=10;v.Ud=0;v.t=function(){oj.b.t.call(this);this.rb(this.$().t("div",this.r(this.Q)))};v.rb=function(a){oj.b.rb.call(this,a);Dc(a,this.r(this.Q));var a=this.c(),b=Lc(document,l,"goog-slider-thumb",a)[0];b||(b=this.$().t("div","goog-slider-thumb"),lg(b,"button"),a.appendChild(b));this.K=this.za=b;lg(this.c(),"slider");pj(this)};
v.ea=function(){oj.b.ea.call(this);this.Sb=new dj(this.K);this.Cc=new dj(this.za);this.Sb.of=this.Cc.of=x;this.L=new og(this.c());this.kc=new $f(this.c());this.ua().j(this.Sb,"beforedrag",this.Vg).j(this.Cc,"beforedrag",this.Vg).j(this.Sb,["start","end"],this.ah).j(this.Cc,["start","end"],this.ah).j(this.L,"key",this.Cf).j(this.c(),"mousedown",this.ze).j(this.kc,"mousewheel",this.Ti);this.c().tabIndex=0;qj(this)};v.Pa=function(){oj.b.Pa.call(this);oa(this.Sb,this.Cc,this.L,this.kc)};
v.Vg=function(a){var b=a.Ng==this.Sb?this.K:this.za,c;this.Q=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.pa()-this.qa())+this.qa()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.pa()-this.qa())+this.qa();c=a.Ng==this.Sb?Math.min(Math.max(c,this.qa()),this.p()+this.Gb()):Math.min(Math.max(c,this.p()),this.pa());rj(this,b,c)};
v.ah=function(a){var b=a.type=="start",c=this.c();b?Dc(c,"goog-slider-dragging"):Ec(c,"goog-slider-dragging");a=a.target.handle;b?Dc(a,"goog-slider-thumb-dragging"):Ec(a,"goog-slider-thumb-dragging")};
v.Cf=function(a){var b=j;switch(a.keyCode){case 36:sj(this,this.qa());break;case 35:sj(this,this.pa());break;case 33:tj(this,this.Ub);break;case 34:tj(this,-this.Ub);break;case 37:case 40:tj(this,a.shiftKey?-this.Ub:-this.vg);break;case 39:case 38:tj(this,a.shiftKey?this.Ub:this.vg);break;default:b=p}b&&a.preventDefault()};
v.ze=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!Wc(this.K,b)&&!Wc(this.za,b))if(this.Cj)sj(this,uj(this,a));else{this.ng(a);this.Wa=vj(this,uj(this,a));this.hh=this.Q=="vertical"?this.Ge<this.Wa.offsetTop:this.Ge>this.Wa.offsetLeft+this.Wa.offsetWidth;a=R(this.c());this.ua().j(a,"mouseup",this.$g,j).j(this.c(),"mousemove",this.ng);if(!this.ec)this.ec=new lc(200),this.ua().j(this.ec,nc,this.bh);this.bh();this.ec.start()}};v.Ti=function(a){tj(this,(a.detail>0?-1:1)*this.vg);a.preventDefault()};
v.bh=function(){var a;if(this.Q=="vertical"){var b=this.Ge,c=this.Wa.offsetTop;this.hh?b<c&&(a=wj(this,this.Wa)+this.Ub):b>c+this.Wa.offsetHeight&&(a=wj(this,this.Wa)-this.Ub)}else b=this.Ge,c=this.Wa.offsetLeft,this.hh?b>c+this.Wa.offsetWidth&&(a=wj(this,this.Wa)+this.Ub):b<c&&(a=wj(this,this.Wa)-this.Ub);z(a)&&rj(this,this.Wa,a)};v.$g=function(){this.ec&&this.ec.stop();var a=R(this.c());this.ua().da(a,"mouseup",this.$g,j).da(this.c(),"mousemove",this.ng)};
function xj(a,b){var c,d=a.c();c=Md(b);d=Md(d);c=new Q(c.x-d.x,c.y-d.y);return a.Q=="vertical"?c.y:c.x}v.ng=function(a){this.Ge=xj(this,a)};function uj(a,b){var c=a.qa(),d=a.pa();if(a.Q=="vertical"){var f=a.K.offsetHeight,g=a.c().clientHeight-f,f=xj(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.K.offsetWidth;g=a.c().clientWidth-f;f=xj(a,b)-f/2;return(d-c)*f/g+c}function wj(a,b){if(b==a.K)return a.s.p();if(b==a.za)return a.s.p()+a.s.Gb();e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}
function tj(a,b){var c=wj(a,a.K)+b,d=wj(a,a.za)+b,c=T(c,a.qa(),a.pa()-a.Ud),d=T(d,a.qa()+a.Ud,a.pa());yj(a,c,d-c)}function rj(a,b,c){var d=l;b==a.za&&c<=a.s.pa()&&c>=a.s.p()+a.Ud&&(d=c-a.s.p());var f=d||a.s.Gb();b==a.K&&c>=a.qa()&&c<=a.s.p()+f-a.Ud&&(b=f-(c-a.s.p()),nj(a.s,c)+nj(a.s,b)==nj(a.s,c+b)&&(yj(a,c,b),d=l));d!=l&&a.s.yd(d)}
function yj(a,b,c){if(a.qa()<=b&&b<=a.pa()-c&&a.Ud<=c&&c<=a.pa()-b&&!(b==a.p()&&c==a.Gb()))a.s.Mc=j,a.s.yd(0),a.s.X(b),a.s.yd(c),a.s.Mc=p,qj(a),a.dispatchEvent("change")}v.qa=function(){return this.s.qa()};v.gg=function(a){this.s.gg(a)};v.pa=function(){return this.s.pa()};v.ce=function(a){this.s.ce(a)};function vj(a,b){return b<=a.s.p()+a.s.Gb()/2?a.K:a.za}v.Wi=function(){qj(this);pj(this);this.dispatchEvent("change")};
function qj(a){if(a.K&&!a.Ce){var b=zj(a,wj(a,a.K)),c=zj(a,wj(a,a.za));if(a.Q=="vertical"){if(a.K.style.top=b.y+"px",a.za.style.top=c.y+"px",a.R)b=Aj(c.y,b.y,a.K.offsetHeight),a.R.style.top=b.lc+"px",a.R.style.height=b.size+"px"}else if(a.K.style.left=b.x+"px",a.za.style.left=c.x+"px",a.R)b=Aj(b.x,c.x,a.K.offsetWidth),a.R.style.left=b.lc+"px",a.R.style.width=b.size+"px"}}function Aj(a,b,c){var d=Math.ceil(c/2);return{lc:a+d,size:Math.max(b-a+c-2*d,0)}}
function zj(a,b){var c=new Q;if(a.K){var d=a.qa(),f=a.pa(),f=b==d&&d==f?0:(b-d)/(f-d);a.Q=="vertical"?(d=a.c().clientHeight-a.K.offsetHeight,f=Math.round(f*d),c.y=d-f):(d=Math.round(f*(a.c().clientWidth-a.K.offsetWidth)),c.x=d)}return c}
function sj(a,b){b=Math.min(a.pa(),Math.max(b,a.qa()));a.Ce&&a.qe.stop(j);var c=new Je,d=vj(a,b),f=zj(a,b);c.add(new Ig(d,a.Q=="vertical"?[d.offsetLeft,f.y]:[f.x,d.offsetTop],100));if(a.R){var g=zj(a,a.s.p()),h=zj(a,a.s.p()+a.s.Gb());d==a.K?g=f:h=f;a.Q=="vertical"?(f=Aj(h.y,g.y,a.K.offsetHeight),c.add(new Ig(a.R,[a.R.offsetLeft,f.lc],100)),c.add(new Kg(a.R,a.R.offsetHeight,f.size,100))):(f=Aj(g.x,h.x,a.K.offsetWidth),c.add(new Ig(a.R,[f.lc,a.R.offsetTop],100)),c.add(new Jg(a.R,a.R.offsetWidth,f.size,
100)))}a.qe=c;a.ua().j(c,"end",a.Fi);a.Ce=j;rj(a,d,b);c.play(p)}v.Fi=function(){this.Ce=p};v.Ve=function(a){if(this.Q!=a){var b=this.r(this.Q),c=this.r(a);this.Q=a;if(this.c()){for(var a=this.c(),d=Cc(a),f=p,g=0;g<d.length;g++)d[g]==b&&(Ma(d,g--,1),f=j);if(f)d.push(c),a.className=d.join(" ");this.K.style.left=this.K.style.top="";this.za.style.left=this.za.style.top="";if(this.R)this.R.style.left=this.R.style.top="",this.R.style.width=this.R.style.height="";qj(this)}}};
v.i=function(){oj.b.i.call(this);this.ec&&this.ec.l();delete this.ec;this.qe&&this.qe.l();delete this.qe;delete this.K;delete this.za;this.R&&delete this.R;this.s.l();delete this.s;this.L&&(this.L.l(),delete this.L);this.kc&&(this.kc.l(),delete this.kc);this.Sb&&(this.Sb.l(),delete this.Sb);this.Cc&&(this.Cc.l(),delete this.Cc)};v.vg=1;v.kg=function(a){this.s.kg(a)};v.p=function(){return this.s.p()};v.X=function(a){rj(this,this.K,a)};v.Gb=function(){return this.s.Gb()};
v.yd=function(a){rj(this,this.za,this.s.p()+a)};v.setVisible=function(a){Rd(this.c(),a);a&&qj(this)};function pj(a){var b=a.c();b&&(X(b,"valuemin",a.qa()),X(b,"valuemax",a.pa()),X(b,"valuenow",a.p()))};function Bj(a){oj.call(this,a);this.s.yd(0)}G(Bj,oj);Bj.prototype.r=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function Cj(a,b){this.e=a;this.tc=new Bj;this.tc.Ve("vertical");this.tc.ce(1);this.tc.kg(0.01);Dj=p;this.tc.X((this.e.F.getZoom()-Uf(this.e))/Pf(this.e.F).Hb());this.M=O(this.tc,"change",function(b){Dj==p&&a.F.setZoom(b.target.p()*(Pf(a.F).Hb()-Uf(a))+Uf(a));Dj=p});this.rk=O(this.e.d,Te,this.xg,p,this);this.ef=new cj("");Yh(this.ef,"weapp-zoomslider-add");this.pg=new cj("");Yh(this.pg,"weapp-zoomslider-substract");this.fi=O(this.ef,"action",function(){a.F.setZoom(Math.floor(a.F.getZoom()+1))});this.fk=
O(this.pg,"action",function(){a.F.setZoom(Math.floor(a.F.getZoom()-1))});this.ef.Ob(b);this.tc.Ob(b);this.pg.Ob(b)}var Dj;G(Cj,H);Cj.prototype.xg=function(){Dj=j;this.tc.X((this.e.F.getZoom()-Uf(this.e))/Pf(this.e.F).Hb())};Cj.prototype.i=function(){P(this.M);P(this.rk);P(this.fi);P(this.fk);this.tc.l()};function Ej(a){A(a)||function(){this.a=new pe(a,Kc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});qe(this.a);this.sh=new lc(15);O(this.sh,nc,E(function(){var a=this.a,b=a.h;if(!A(a.tf)){var c=F();if(a.Of<F()-2E3)a.sf=1E3*a.ve/(F()-a.Of),a.Fg=a.uf/a.ve,a.Of=F(),a.ve=0,a.uf=0,a.tf.innerHTML=a.Fg.toFixed(2)+" ms / fps: "+a.sf.toFixed(2);a.ve++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.Ea.wa=be(4);a.o.draw();!A(a.tf)&&(a.uf+=F()-c);if(a.ff)a.ff(),
a.ff=l;a=this.Tf;J(a.Rd.bc(),a.mk,a)},this));this.a.Xd="http://srtm.webglearth.com/cgi-bin/corsproxy.fcgi?url=";var b=p;this.a.Xf=function(){if(!b)b=j,window.location="http://data.webglearth.com/"};this.a.o=new Tf(this.a,Kc("weapp-infobox"),Kc("weapp-mapcopyright"),Kc("weapp-maplogo"));this.a.Se();this.Ab=new Ve(this.a.o.d);this.yk=new dg(this.a.o,this.Ab);this.Ek=new eg(this.a.o,this.Ab);this.Gk=new bg(this.a.o);this.lk=new bj(this.a.o,Kc("weapp-tileprovider"));this.Hk=new Cj(this.a.o,Kc("weapp-zoomslider"));
this.zk=new ci(this.a.o,Kc("weapp-pancontrol"));var c=Kc("weapp-nominatim");this.yh=new zh(c);this.Tf=new hg(this.a.o,a.parentNode);var d=new gg(0,0);d.enable(p);ig(this.Tf,"nominatimMarker",d);var f=E(function(a){var b=a.boundingbox,c=Zd(parseFloat(a.lat)),f=Zd(parseFloat(a.lon)),g,o=Zd(parseFloat(b[0])),u=Zd(parseFloat(b[1]));g=this.a.Dc;var t=(o+u)/2,b=Ye(t,Zd(parseFloat(b[2])),t,Zd(parseFloat(b[3]))),o=Ye(o,0,u,0),u=Math.min(Math.max(this.a.Gd,b/o),1);g=Zd($d(g)/(u+0.4)-2);b=Math.max(o,b);b=Math.min(Math.PI/
2,g+b/12756274);g=9567205.5*(Math.sin(b)*Math.sqrt(1+1/Math.pow(Math.tan(g),2))-1);b=Qf(this.a.o.F,Pf(this.a.o.F).Hb()+0.1,c);We(this.Ab,c,f,Math.max(g,b));d.enable(j);d.lat=a.lat;d.Sf=a.lon},this);this.yh.addEventListener("update",function(a){f(a.row)});O(Kc("weapp-nominatimform"),"submit",E(function(a){a.preventDefault();this.yh.search(c.value,1,function(a,b){b.length>0&&f(b[0])})},this));var g=E(function(){function a(c){c+="=";var d=Ga(b,function(a){return a.indexOf(c)===0});if(B(d)&&(d=d.substr(c.length),
d.length>0))return d}var b=window.location.hash.substr(1).split(";"),c=a("zoom")||a("z");isNaN(c)||this.a.o.F.setZoom(c);c=a("alt");isNaN(c)||Se(this.a.o.d,c);c=a("t");isNaN(c)||this.a.o.d.setTilt(parseFloat(c));c=a("h");isNaN(c)||this.a.o.d.setHeading(parseFloat(c));c=a("ll");if(B(c))c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.a.o.d.setPosition(Zd(c[0]),Zd(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.a.o.d.setPosition(Zd(c),Zd(d))}},this);this.eh=new lc(2E3);
O(this.eh,nc,E(function(){var a=[$d(this.a.o.d.vb),$d(this.a.o.d.Lb)];window.location.hash="#ll="+a[0].toFixed(5)+","+a[1].toFixed(5)+";alt="+this.a.o.d.la.toFixed(0)+";h="+this.a.o.d.getHeading().toFixed(3)+";t="+this.a.o.d.getTilt().toFixed(3)},this));this.eh.start();window.addEventListener("hashchange",g,p);g();O(this.a.canvas,"click",E(function(a){if(a.ctrlKey){var b=Ue(this.a.o,a.offsetX,a.offsetY),b=new kg(b[0],b[1]),c=new jg("<h2>Title</h2><br/><b>aa</b>bb");b.ha&&Uc(b.ha.c());b.ha=c;b.element.appendChild(b.ha.c());
c.ha.style.bottom=b.Ic.toFixed(0)+"px";b.mg(j);ig(this.Tf,l,b);a.preventDefault()}},this))}.call(this)}Ej.prototype.wc=function(a){this.lk.wc(a)};Ej.prototype.start=function(){this.sh.start()};
function Fj(){var a=new Ej(Kc("weapp-canvas"));a.wc(new Zf);a.wc(new Lf);a.wc(new Wf("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.wc(new Wf("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.wc(new Wf("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.start()}var Gj="WEApp".split("."),Hj=w;!(Gj[0]in Hj)&&Hj.execScript&&Hj.execScript("var "+Gj[0]);
for(var Ij;Gj.length&&(Ij=Gj.shift());)!Gj.length&&z(Fj)?Hj[Ij]=Fj:Hj=Hj[Ij]?Hj[Ij]:Hj[Ij]={};
