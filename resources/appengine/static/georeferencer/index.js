/*
 * Copyright (C) 2011 Klokan Technologies GmbH (info@klokantech.com)
 *
 * THE COMPLETE SOURCE CODE OF THIS APPLICATION IS AVAILABLE AT:
 *
 *                 http://www.webglearth.org/
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU GPL for more details.
 *
 * USE OF THIS CODE OR ANY PART OF IT IN A NONFREE SOFTWARE IS NOT ALLOWED
 * WITHOUT PRIOR WRITTEN PERMISSION FROM KLOKAN TECHNOLOGIES GMBH.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 */
function e(a){throw a;}var i=void 0,n=null;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function p(a){return function(){return this[a]}}function q(a){return function(){return a}}var r,s=this;function t(){}function ca(a){a.Aa=function(){return a.Ui||(a.Ui=new a)}}
function da(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==i}function w(a){return a===n}function z(a){return da(a)=="array"}function A(a){var b=da(a);return b=="array"||b=="object"&&typeof a.length=="number"}function B(a){return typeof a=="string"}function ea(a){return typeof a=="number"}function fa(a){return da(a)=="function"}function ga(a){a=da(a);return a=="object"||a=="array"||a=="function"}function ha(a){return a[ia]||(a[ia]=++ja)}
var ia="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){a||e(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function C(a,b,c){C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ka:la;return C.apply(n,arguments)}function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var D=Date.now||function(){return+new Date};function E(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function na(a){return function(){return a}}var oa=na(!0),pa=na(n);function qa(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};function F(){}F.prototype.ie=!1;F.prototype.j=function(){if(!this.ie)this.ie=!0,this.g()};F.prototype.g=function(){this.wi&&ra.apply(n,this.wi)};function sa(a){a&&typeof a.j=="function"&&a.j()}function ra(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];A(d)?ra.apply(n,d):sa(d)}};function ta(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.jf=0;this.Ic=d||0;this.Uc=this.Bf=n;this.state=ua}E(ta,F);ta.prototype.setData=ba("Uc");ta.prototype.Dg=pa;function va(a){return a.Uc?a.Dg(a.Uc):a.Bf}ta.prototype.Bg=t;ta.prototype.g=function(){this.Bf=n;if(this.Uc)this.Bg(this.Uc),this.Uc=n};var ua=0;function G(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}G.prototype.ha=function(){return new G(this.x,this.y)};function wa(a,b){return new G(a.x-b.x,a.y-b.y)};function xa(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}xa.prototype.ha=function(){return new xa(this.top,this.right,this.bottom,this.left)};xa.prototype.contains=function(a){return!this||!a?!1:a instanceof xa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function ya(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function za(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Aa=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Ba(a){a=String(a);return!Aa.test(a)?encodeURIComponent(a):a}function Ca(a){if(!Da.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ea,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Fa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ga,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ha,"&quot;"));return a}
var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;function Ia(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ja(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^D()).toString(36)}
function Ka(a,b){for(var c=0,d=za(String(a)).split("."),f=za(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var j=d[h]||"",k=f[h]||"",l=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var m=l.exec(j)||["","",""],y=o.exec(k)||["","",""];if(m[0].length==0&&y[0].length==0)break;c=La(m[1].length==0?0:parseInt(m[1],10),y[1].length==0?0:parseInt(y[1],10))||La(m[2].length==0,y[2].length==0)||La(m[2],y[2])}while(c==0)}return c}
function La(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var Ma,Na,Oa,Pa,Qa,Ra,Sa;function Ta(){return s.navigator?s.navigator.userAgent:n}function Ua(){return s.navigator}Qa=Pa=Oa=Na=Ma=!1;var Va;if(Va=Ta()){var Wa=Ua();Ma=Va.indexOf("Opera")==0;Na=!Ma&&Va.indexOf("MSIE")!=-1;Pa=(Oa=!Ma&&Va.indexOf("WebKit")!=-1)&&Va.indexOf("Mobile")!=-1;Qa=!Ma&&!Oa&&Wa.product=="Gecko"}var Xa=Ma,H=Na,I=Qa,J=Oa,Ya=Pa,Za,$a=Ua();Za=$a&&$a.platform||"";Ra=Za.indexOf("Mac")!=-1;Sa=Za.indexOf("Win")!=-1;var ab=!!Ua()&&(Ua().appVersion||"").indexOf("X11")!=-1,bb;
a:{var cb="",db;if(Xa&&s.opera)var eb=s.opera.version,cb=typeof eb=="function"?eb():eb;else if(I?db=/rv\:([^\);]+)(\)|;)/:H?db=/MSIE\s+([^\);]+)(\)|;)/:J&&(db=/WebKit\/(\S+)/),db)var fb=db.exec(Ta()),cb=fb?fb[1]:"";if(H){var gb,hb=s.document;gb=hb?hb.documentMode:i;if(gb>parseFloat(cb)){bb=String(gb);break a}}bb=cb}var ib={};function K(a){return ib[a]||(ib[a]=Ka(bb,a)>=0)}var jb={};function kb(){return jb[9]||(jb[9]=H&&document.documentMode&&document.documentMode>=9)};function lb(a,b){for(var c in a)b.call(i,a[c],c,a)}function mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ob(){var a=pb,b;for(b in a)return!1;return!0}function qb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var rb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function sb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<rb.length;g++)c=rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var L=Array.prototype,tb=L.indexOf?function(a,b,c){return L.indexOf.call(a,b,c)}:function(a,b,c){c=c==n?0:c<0?Math.max(0,a.length+c):c;if(B(a))return!B(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},M=L.forEach?function(a,b,c){L.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=B(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},ub=L.filter?function(a,b,c){return L.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=B(a)?a.split(""):
a,j=0;j<d;j++)if(j in h){var k=h[j];b.call(c,k,j,a)&&(f[g++]=k)}return f},vb=L.map?function(a,b,c){return L.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=B(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},wb=L.every?function(a,b,c){return L.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=B(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};
function xb(a,b){var c;a:{c=a.length;for(var d=B(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return c<0?n:B(a)?a.charAt(c):a[c]}function yb(a,b){return tb(a,b)>=0}function zb(a,b){var c=tb(a,b),d;(d=c>=0)&&L.splice.call(a,c,1);return d}function Ab(a){return L.concat.apply(L,arguments)}function Bb(a){if(z(a))return Ab(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Cb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(z(d)||(f=A(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,j=0;j<h;j++)a[g+j]=d[j];else a.push(d)}}function Db(a,b,c,d){L.splice.apply(a,Eb(arguments,1))}function Eb(a,b,c){return arguments.length<=2?L.slice.call(a,b):L.slice.call(a,b,c)}function Fb(a,b){L.sort.call(a,b||Gb)}function Gb(a,b){return a>b?1:a<b?-1:0}
function Hb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];z(d)?b.push.apply(b,Hb.apply(n,d)):b.push(d)}return b};function Ib(a){if(typeof a.sb=="function")a=a.sb();else if(A(a)||B(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a}function Jb(a){if(typeof a.Ka=="function")return a.Ka();if(B(a))return a.split("");if(A(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mb(a)}function Kb(a){if(typeof a.vc=="function")return a.vc();if(typeof a.Ka!="function"){if(A(a)||B(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return nb(a)}}
function Lb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(A(a)||B(a))M(a,b,c);else for(var d=Kb(a),f=Jb(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}function Mb(a,b){if(typeof a.every=="function")return a.every(b,i);if(A(a)||B(a))return wb(a,b,i);for(var c=Kb(a),d=Jb(a),f=d.length,g=0;g<f;g++)if(!b.call(i,d[g],c&&c[g],a))return!1;return!0};var Nb="StopIteration"in s?s.StopIteration:Error("StopIteration");function Ob(){}Ob.prototype.next=function(){e(Nb)};Ob.prototype.rd=function(){return this};function Pb(a){if(a instanceof Ob)return a;if(typeof a.rd=="function")return a.rd(!1);if(A(a)){var b=0,c=new Ob;c.next=function(){for(;;)if(b>=a.length&&e(Nb),b in a)return a[b++];else b++};return c}e(Error("Not implemented"))}
function Qb(a,b,c){if(A(a))try{M(a,b,c)}catch(d){d!==Nb&&e(d)}else{a=Pb(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==Nb&&e(f)}}};function Rb(a,b){this.P={};this.I=[];var c=arguments.length;if(c>1){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.We(a)}r=Rb.prototype;r.w=0;r.Yd=0;r.sb=p("w");r.Ka=function(){Sb(this);for(var a=[],b=0;b<this.I.length;b++)a.push(this.P[this.I[b]]);return a};r.vc=function(){Sb(this);return this.I.concat()};r.Cb=function(a){return Tb(this.P,a)};
r.cf=function(a){for(var b=0;b<this.I.length;b++){var c=this.I[b];if(Tb(this.P,c)&&this.P[c]==a)return!0}return!1};r.equals=function(a,b){if(this===a)return!0;if(this.w!=a.sb())return!1;var c=b||Ub;Sb(this);for(var d,f=0;d=this.I[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ub(a,b){return a===b}r.clear=function(){this.P={};this.Yd=this.w=this.I.length=0};r.remove=function(a){return Tb(this.P,a)?(delete this.P[a],this.w--,this.Yd++,this.I.length>2*this.w&&Sb(this),!0):!1};
function Sb(a){if(a.w!=a.I.length){for(var b=0,c=0;b<a.I.length;){var d=a.I[b];Tb(a.P,d)&&(a.I[c++]=d);b++}a.I.length=c}if(a.w!=a.I.length){for(var f={},c=b=0;b<a.I.length;)d=a.I[b],Tb(f,d)||(a.I[c++]=d,f[d]=1),b++;a.I.length=c}}r.get=function(a,b){return Tb(this.P,a)?this.P[a]:b};r.set=function(a,b){Tb(this.P,a)||(this.w++,this.I.push(a),this.Yd++);this.P[a]=b};r.We=function(a){var b;a instanceof Rb?(b=a.vc(),a=a.Ka()):(b=nb(a),a=mb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.ha=function(){return new Rb(this)};
r.rd=function(a){Sb(this);var b=0,c=this.I,d=this.P,f=this.Yd,g=this,h=new Ob;h.next=function(){for(;;){f!=g.Yd&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(Nb);var h=c[b++];return a?h:d[h]}};return h};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Vb(a){this.P=new Rb;a&&this.We(a)}function Wb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+ha(a):b.substr(0,1)+a}r=Vb.prototype;r.sb=function(){return this.P.sb()};r.add=function(a){this.P.set(Wb(a),a)};r.We=function(a){for(var a=Jb(a),b=a.length,c=0;c<b;c++)this.add(a[c])};r.Kd=function(a){for(var a=Jb(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.P.remove(Wb(a))};r.clear=function(){this.P.clear()};r.contains=function(a){return this.P.Cb(Wb(a))};
r.Yg=function(a){for(var b=new Vb,a=Jb(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};r.Ka=function(){return this.P.Ka()};r.ha=function(){return new Vb(this)};r.equals=function(a){return this.sb()==Ib(a)&&Xb(this,a)};
function Xb(a,b){var c=Ib(b);if(a.sb()>c)return!1;!(b instanceof Vb)&&c>5&&(b=new Vb(b));return Mb(a,function(a){if(typeof b.contains=="function")a=b.contains(a);else if(typeof b.cf=="function")a=b.cf(a);else if(A(b)||B(b))a=yb(b,a);else a:{for(var c in b)if(b[c]==a){a=!0;break a}a=!1}return a})}r.rd=function(){return this.P.rd(!1)};function Yb(a){this.name=a;this.Za=0;this.hf=[];this.lh=-1.4844222297453324;this.jh=1.4844222297453324;this.mh=-Math.PI;this.kh=Math.PI;this.ce=[]}function Zb(a,b){if(a.ce[b]==n){var c=1<<b,d=Math.floor((a.mh/(2*Math.PI)+0.5)*c),f=Math.floor((a.kh/(2*Math.PI)+0.5)*c),g=Math.floor((0.5-$b(a.jh)/(Math.PI*2))*c),c=Math.floor((0.5-$b(a.lh)/(Math.PI*2))*c);a.ce[b]=new xa(g,f,c,d)}return a.ce[b]}r=Yb.prototype;r.Zc=q(0);r.Df=q(!0);
function ac(a){M(a.hf,function(a){this.Za--;this.Fd(a.Uj,a.onload,a.Dj)},a);a.hf=[]}function bc(a,b,c,d){a.Df()?a.Fd(b,c,d):(a.hf.push(new cc(b,c,d)),a.Za++)}r.nc=aa();r.oe=q(n);r.Ah=t;r.df=t;function dc(a,b,c,d,f){this.oi=a;this.pi=b;this.Qj=c;this.Rj=d;this.fk=f}function cc(a,b,c){this.Uj=a;this.onload=b;this.Dj=c};function ec(a){Yb.call(this,a)}E(ec,Yb);ec.prototype.Fd=function(a,b,c){var d=new Image;d.onload=C(function(){a.state=20;this.Za--;b(a)},this);d.onerror=C(function(){a.jf++;a.state=-10;this.Za--;c&&c(a)},this);a.state=10;a.Bf=d;d.crossOrigin="";d.src=this.Bd(a.zoom,a.x,a.y);this.Za++};function fc(a){return Math.floor(Math.random()*a)}function N(a,b,c){return Math.min(Math.max(a,b),c)}function gc(a,b){var c=a%b;return c*b<0?c+b:c}function hc(a){return a*Math.PI/180}function ic(a){return a*180/Math.PI};function jc(a){var b=v(i),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&i(c.responseText)};c.open("GET",a,b);c.send(n);return b?"":c.responseText}function kc(a){a=gc(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a};function lc(a,b,c,d,f,g,h){Yb.call(this,a);this.url=b;this.minZoom=c;this.maxZoom=d;this.tileSize=f;this.Bi=g===!0;this.gg=h||[]}E(lc,ec);lc.prototype.Zc=p("minZoom");lc.prototype.Ua=p("maxZoom");lc.prototype.Ib=p("tileSize");lc.prototype.Bd=function(a,b,c){var d=this.url.replace("{z}",a.toFixed(0)),d=d.replace("{x}",b.toFixed(0)),d=d.replace("{y}",(this.Bi?(1<<a)-c-1:c).toFixed(0));this.gg.length>0&&(d=d.replace("{sub}",this.gg[fc(this.gg.length)]));return d};var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function nc(a,b){var c;a instanceof nc?(this.nd(b==n?a.tb:b),oc(this,a.ec),pc(this,a.Xd),qc(this,a.sc),rc(this,a.jd),this.setPath(a.getPath()),sc(this,a.bb.ha()),tc(this,a.yd)):a&&(c=String(a).match(mc))?(this.nd(!!b),oc(this,c[1]||"",!0),pc(this,c[2]||"",!0),qc(this,c[3]||"",!0),rc(this,c[4]),this.setPath(c[5]||"",!0),sc(this,c[6]||"",!0),tc(this,c[7]||"",!0)):(this.nd(!!b),this.bb=new uc(n,this,this.tb))}r=nc.prototype;r.ec="";r.Xd="";r.sc="";r.jd=n;r.Ec="";r.yd="";r.Vi=!1;r.tb=!1;
r.toString=function(){if(this.Qa)return this.Qa;var a=[];this.ec&&a.push(vc(this.ec,wc),":");this.sc&&(a.push("//"),this.Xd&&a.push(vc(this.Xd,wc),"@"),a.push(B(this.sc)?encodeURIComponent(this.sc):n),this.jd!=n&&a.push(":",String(this.jd)));this.Ec&&(this.sc&&this.Ec.charAt(0)!="/"&&a.push("/"),a.push(vc(this.Ec,this.Ec.charAt(0)=="/"?xc:yc)));var b=String(this.bb);b&&a.push("?",b);this.yd&&a.push("#",vc(this.yd,zc));return this.Qa=a.join("")};
r.ha=function(){var a=this.ec,b=this.Xd,c=this.sc,d=this.jd,f=this.Ec,g=this.bb.ha(),h=this.yd,j=new nc(n,this.tb);a&&oc(j,a);b&&pc(j,b);c&&qc(j,c);d&&rc(j,d);f&&j.setPath(f);g&&sc(j,g);h&&tc(j,h);return j};function oc(a,b,c){Ac(a);delete a.Qa;a.ec=c?b?decodeURIComponent(b):"":b;if(a.ec)a.ec=a.ec.replace(/:$/,"")}function pc(a,b,c){Ac(a);delete a.Qa;a.Xd=c?b?decodeURIComponent(b):"":b}function qc(a,b,c){Ac(a);delete a.Qa;a.sc=c?b?decodeURIComponent(b):"":b}
function rc(a,b){Ac(a);delete a.Qa;b?(b=Number(b),(isNaN(b)||b<0)&&e(Error("Bad port number "+b)),a.jd=b):a.jd=n}r.getPath=p("Ec");r.setPath=function(a,b){Ac(this);delete this.Qa;this.Ec=b?a?decodeURIComponent(a):"":a;return this};function sc(a,b,c){Ac(a);delete a.Qa;b instanceof uc?(a.bb=b,a.bb.Wd=a,a.bb.nd(a.tb)):(c||(b=vc(b,Bc)),a.bb=new uc(b,a,a.tb))}function Cc(a,b,c){Ac(a);delete a.Qa;z(c)||(c=[String(c)]);a.bb.setValues(b,c)}
function tc(a,b,c){Ac(a);delete a.Qa;a.yd=c?b?decodeURIComponent(b):"":b}function Ac(a){a.Vi&&e(Error("Tried to modify a read-only Uri"))}r.nd=function(a){this.tb=a;this.bb&&this.bb.nd(a);return this};var Dc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function vc(a,b){var c=n;B(a)&&(c=a,Dc.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,Ec)));return c}function Ec(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wc=/[#\/\?@]/g,yc=/[\#\?:]/g,xc=/[\#\?]/g,Bc=/[\#\?@]/g,zc=/#/g;
function uc(a,b,c){this.Fb=a||n;this.Wd=b||n;this.tb=!!c}function Fc(a){if(!a.F&&(a.F=new Rb,a.w=0,a.Fb))for(var b=a.Fb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=n,g=n;d>=0?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Gc(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}r=uc.prototype;r.F=n;r.w=n;r.sb=function(){Fc(this);return this.w};
r.add=function(a,b){Fc(this);Hc(this);a=Gc(this,a);if(this.Cb(a)){var c=this.F.get(a);z(c)?c.push(b):this.F.set(a,[c,b])}else this.F.set(a,b);this.w++;return this};r.remove=function(a){Fc(this);a=Gc(this,a);if(this.F.Cb(a)){Hc(this);var b=this.F.get(a);z(b)?this.w-=b.length:this.w--;return this.F.remove(a)}return!1};r.clear=function(){Hc(this);this.F&&this.F.clear();this.w=0};r.Cb=function(a){Fc(this);a=Gc(this,a);return this.F.Cb(a)};r.cf=function(a){var b=this.Ka();return yb(b,a)};
r.vc=function(){Fc(this);for(var a=this.F.Ka(),b=this.F.vc(),c=[],d=0;d<b.length;d++){var f=a[d];if(z(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};r.Ka=function(a){Fc(this);if(a)if(a=Gc(this,a),this.Cb(a)){var b=this.F.get(a);if(z(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.F.Ka(),a=[],c=0;c<b.length;c++){var d=b[c];z(d)?Cb(a,d):a.push(d)}return a};
r.set=function(a,b){Fc(this);Hc(this);a=Gc(this,a);if(this.Cb(a)){var c=this.F.get(a);z(c)?this.w-=c.length:this.w--}this.F.set(a,b);this.w++;return this};r.get=function(a,b){Fc(this);a=Gc(this,a);if(this.Cb(a)){var c=this.F.get(a);return z(c)?c[0]:c}else return b};r.setValues=function(a,b){Fc(this);Hc(this);a=Gc(this,a);if(this.Cb(a)){var c=this.F.get(a);z(c)?this.w-=c.length:this.w--}b.length>0&&(this.F.set(a,b),this.w+=b.length)};
r.toString=function(){if(this.Fb)return this.Fb;if(!this.F)return"";for(var a=[],b=0,c=this.F.vc(),d=0;d<c.length;d++){var f=c[d],g=Ba(f),f=this.F.get(f);if(z(f))for(var h=0;h<f.length;h++)b>0&&a.push("&"),a.push(g),f[h]!==""&&a.push("=",Ba(f[h])),b++;else b>0&&a.push("&"),a.push(g),f!==""&&a.push("=",Ba(f)),b++}return this.Fb=a.join("")};function Hc(a){delete a.ff;delete a.Fb;a.Wd&&delete a.Wd.Qa}
r.ha=function(){var a=new uc;if(this.ff)a.ff=this.ff;if(this.Fb)a.Fb=this.Fb;if(this.F)a.F=this.F.ha();return a};function Gc(a,b){var c=String(b);a.tb&&(c=c.toLowerCase());return c}r.nd=function(a){a&&!this.tb&&(Fc(this),Hc(this),Lb(this.F,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.tb=a};var Ic;function Jc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function O(a,b){var c=Jc(a),d=Eb(arguments,1),f;f=c;for(var g=0,h=0;h<d.length;h++)yb(f,d[h])||(f.push(d[h]),g++);f=g==d.length;a.className=c.join(" ");return f}function Kc(a,b){var c=Jc(a),d=Eb(arguments,1),f;f=c;for(var g=0,h=0;h<f.length;h++)yb(d,f[h])&&(Db(f,h--,1),g++);f=g==d.length;a.className=c.join(" ");return f};function Lc(a,b){this.width=a;this.height=b}function Mc(a,b){return a==b?!0:!a||!b?!1:a.width==b.width&&a.height==b.height}r=Lc.prototype;r.ha=function(){return new Lc(this.width,this.height)};r.be=function(){return this.width/this.height};r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};r.scale=function(a){this.width*=a;this.height*=a;return this};var Nc=!H||kb();!I&&!H||H&&kb()||I&&K("1.9.1");var Oc=H&&!K("9");function P(a){return a?new Pc(Q(a)):Ic||(Ic=new Pc)}function Qc(a){return B(a)?document.getElementById(a):a}
function Rc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!J||Sc(document)||K("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName)if(a=a.getElementsByClassName(c),b){for(var d={},f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}else return a;a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,typeof b.split=="function"&&yb(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}else return a}
function Tc(a,b){lb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in Uc?a.setAttribute(Uc[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var Uc={"cellpadding":"cellPadding","cellspacing":"cellSpacing","colspan":"colSpan","rowspan":"rowSpan","valign":"vAlign","height":"height","width":"width","usemap":"useMap","frameborder":"frameBorder","maxlength":"maxLength","type":"type"};function Vc(a,b,c){return Wc(document,arguments)}
function Wc(a,b){var c=b[0],d=b[1];if(!Nc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ca(d.name),'"');if(d.type){c.push(' type="',Ca(d.type),'"');var f={};sb(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)B(d)?c.className=d:z(d)?O.apply(n,[c].concat(d)):Tc(c,d);b.length>2&&Xc(a,c,b,2);return c}
function Xc(a,b,c,d){function f(c){c&&b.appendChild(B(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];A(g)&&!(ga(g)&&g.nodeType>0)?M(Yc(g)?Bb(g):g,f):f(g)}}function Sc(a){return a.compatMode=="CSS1Compat"}function Zc(a,b){Xc(Q(a),a,arguments,1)}function $c(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ad(a){return a&&a.parentNode?a.parentNode.removeChild(a):n}
function bd(a){if(a.firstElementChild!=i)a=a.firstElementChild;else for(a=a.firstChild;a&&a.nodeType!=1;)a=a.nextSibling;return a}function cd(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Q(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function dd(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else $c(a),a.appendChild(Q(a).createTextNode(b))}var ed={"SCRIPT":1,"STYLE":1,"HEAD":1,"IFRAME":1,"OBJECT":1},fd={"IMG":" ","BR":"\n"};function gd(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ea(a)&&a>=0&&a<32768):!1}function hd(a){var b=[];id(a,b,!1);return b.join("")}
function id(a,b,c){if(!(a.nodeName in ed))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in fd)b.push(fd[a.nodeName]);else for(a=a.firstChild;a;)id(a,b,c),a=a.nextSibling}function Yc(a){if(a&&typeof a.length=="number")if(ga(a))return typeof a.item=="function"||typeof a.item=="string";else if(fa(a))return typeof a.item=="function";return!1}function Pc(a){this.A=a||s.document||document}r=Pc.prototype;r.X=P;
function jd(a){return a.A}r.c=function(a){return B(a)?this.A.getElementById(a):a};r.t=function(a,b,c){return Wc(this.A,arguments)};r.createElement=function(a){return this.A.createElement(a)};r.createTextNode=function(a){return this.A.createTextNode(a)};function kd(a){return Sc(a.A)}function ld(a){var b=a.A,a=!J&&Sc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new G(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}r.appendChild=function(a,b){a.appendChild(b)};
r.append=Zc;r.yh=$c;r.removeNode=ad;r.Ig=bd;r.contains=cd;function md(a,b){this.Wd=new nc(a);this.ni=b?b:"callback";this.Td=5E3}var nd=0;
md.prototype.send=function(a,b,c,d){a=a||n;if(!document.documentElement.firstChild)return c&&c(a),n;d=d||"_"+(nd++).toString(36)+D().toString(36);s._callbacks_||(s._callbacks_={});var f=document.createElement("script"),g=n;this.Td>0&&(g=s.setTimeout(od(d,f,a,c),this.Td));c=this.Wd.ha();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&Cc(c,h,a[h]);b&&(s._callbacks_[d]=pd(d,f,b,g),Cc(c,this.ni,"_callbacks_."+d));Tc(f,{"type":"text/javascript","id":d,"charset":"UTF-8","src":c.toString()});
document.getElementsByTagName("head")[0].appendChild(f);return{Ya:d,Td:g}};md.prototype.cancel=function(a){if(a&&a.Ya){var b=Qc(a.Ya);b&&b.tagName=="SCRIPT"&&typeof s._callbacks_[a.Ya]=="function"&&(a.Td&&s.clearTimeout(a.Td),qd(a.Ya,b,!1))}};function od(a,b,c,d){return function(){qd(a,b,!1);d&&d(c)}}function pd(a,b,c,d){return function(f){s.clearTimeout(d);qd(a,b,!0);c.apply(i,arguments)}}
function qd(a,b,c){s.setTimeout(function(){ad(b)},0);s._callbacks_[a]&&(c?delete s._callbacks_[a]:s._callbacks_[a]=t)};function rd(a,b){this.$j=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Jd=b||{};this.$g=new md(this.$j,"json_callback")}
function sd(a,b,c,d){a.Jd.q=b;a.Jd.format="json";a.Jd.addressdetails=1;a.Jd.limit=c;if(!b||b.length==1)d(b,[]);else{if(c==1)a.uj=b;if(!(c>1&&b===a.uj))a.Bh!==n&&a.$g.cancel(a.Bh),a.Bh=a.$g.send(a.Jd,function(a){var c=ub(a,function(a){return a["class"]=="place"});c.length>0?(M(c,function(a){var b=a.address.country_code=="us"?a.address.state:a.address.country;a.type=="suburb"&&(b=a.address.city+", "+b);a.display_name=a.address[a.type]?a.address[a.type]+", "+b:a.display_name}),d(b,c)):d(b,a)})}};var td;var ud=!H||kb(),vd=H&&!K("8");function R(a,b){this.type=a;this.currentTarget=this.target=b}E(R,F);r=R.prototype;r.g=function(){delete this.type;delete this.target;delete this.currentTarget};r.Fc=!1;r.Md=!0;r.stopPropagation=function(){this.Fc=!0};r.preventDefault=function(){this.Md=!1};function xd(a){a.preventDefault()};function yd(a){yd[" "](a);return a}yd[" "]=t;function zd(a,b){a&&this.Yb(a,b)}E(zd,R);var Ad=[1,4,2];r=zd.prototype;r.target=n;r.relatedTarget=n;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=!1;r.altKey=!1;r.shiftKey=!1;r.metaKey=!1;r.Ej=!1;r.qa=n;
r.Yb=function(a,b){var c=this.type=a.type;R.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I){var f;a:{try{yd(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=n)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ej=Ra?a.metaKey:a.ctrlKey;this.state=a.state;this.qa=a;delete this.Md;delete this.Fc};function Bd(a,b){return ud?a.qa.button==b:a.type=="click"?b==0:!!(a.qa.button&Ad[b])}function Cd(a){return Bd(a,0)&&!(J&&Ra&&a.ctrlKey)}
r.stopPropagation=function(){zd.a.stopPropagation.call(this);this.qa.stopPropagation?this.qa.stopPropagation():this.qa.cancelBubble=!0};r.preventDefault=function(){zd.a.preventDefault.call(this);var a=this.qa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};r.Di=p("qa");r.g=function(){zd.a.g.call(this);this.relatedTarget=this.currentTarget=this.target=this.qa=n};function Dd(){}var Ed=0;r=Dd.prototype;r.key=0;r.Hc=!1;r.xg=!1;r.Yb=function(a,b,c,d,f,g){fa(a)?this.Zg=!0:a&&a.handleEvent&&fa(a.handleEvent)?this.Zg=!1:e(Error("Invalid listener argument"));this.dd=a;this.wh=b;this.src=c;this.type=d;this.capture=!!f;this.re=g;this.xg=!1;this.key=++Ed;this.Hc=!1};r.handleEvent=function(a){return this.Zg?this.dd.call(this.re||this.src,a):this.dd.handleEvent.call(this.dd,a)};var Fd,Gd=(Fd="ScriptEngine"in s&&s.ScriptEngine()=="JScript")?s.ScriptEngineMajorVersion()+"."+s.ScriptEngineMinorVersion()+"."+s.ScriptEngineBuildVersion():"0";function Hd(a,b){this.gh=b;this.uc=[];a>this.gh&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.uc.push(this.Db?this.Db():{})}E(Hd,F);Hd.prototype.Db=n;Hd.prototype.Eg=n;Hd.prototype.getObject=function(){return this.uc.length?this.uc.pop():this.Db?this.Db():{}};function Id(a,b){a.uc.length<a.gh?a.uc.push(b):Jd(a,b)}function Jd(a,b){if(a.Eg)a.Eg(b);else if(ga(b))if(fa(b.j))b.j();else for(var c in b)delete b[c]}
Hd.prototype.g=function(){Hd.a.g.call(this);for(var a=this.uc;a.length;)Jd(this,a.pop());delete this.uc};var Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud;
(function(){function a(){return{w:0,cb:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Dd}function f(){return new zd}var g=Fd&&!(Ka(Gd,"5.7")>=0),h;Pd=function(a){h=a};if(g){Kd=function(){return j.getObject()};Ld=function(a){Id(j,a)};Md=function(){return k.getObject()};Nd=function(a){Id(k,a)};Od=function(){return l.getObject()};Qd=function(){Id(l,c())};Rd=function(){return o.getObject()};Sd=function(a){Id(o,a)};Td=function(){return m.getObject()};
Ud=function(a){Id(m,a)};var j=new Hd(0,600);j.Db=a;var k=new Hd(0,600);k.Db=b;var l=new Hd(0,600);l.Db=c;var o=new Hd(0,600);o.Db=d;var m=new Hd(0,600);m.Db=f}else Kd=a,Ld=t,Md=b,Nd=t,Od=c,Qd=t,Rd=d,Sd=t,Td=f,Ud=t})();var Vd={},S={},Wd={},Xd={};
function T(a,b,c,d,f){if(b)if(z(b)){for(var g=0;g<b.length;g++)T(a,b[g],c,d,f);return n}else{var d=!!d,h=S;b in h||(h[b]=Kd());h=h[b];d in h||(h[d]=Kd(),h.w++);var h=h[d],j=ha(a),k;h.cb++;if(h[j]){k=h[j];for(g=0;g<k.length;g++)if(h=k[g],h.dd==c&&h.re==f){if(h.Hc)break;return k[g].key}}else k=h[j]=Md(),h.w++;g=Od();g.src=a;h=Rd();h.Yb(c,g,a,b,d,f);c=h.key;g.key=c;k.push(h);Vd[c]=h;Wd[j]||(Wd[j]=Md());Wd[j].push(h);a.addEventListener?(a==s||!a.Cg)&&a.addEventListener(b,g,d):a.attachEvent(b in Xd?Xd[b]:
Xd[b]="on"+b,g);return c}else e(Error("Invalid event type"))}function Yd(a,b,c,d,f){if(z(b))for(var g=0;g<b.length;g++)Yd(a,b[g],c,d,f);else if(d=!!d,a=Zd(a,b,d))for(g=0;g<a.length;g++)if(a[g].dd==c&&a[g].capture==d&&a[g].re==f){V(a[g].key);break}}
function V(a){if(!Vd[a])return!1;var b=Vd[a];if(b.Hc)return!1;var c=b.src,d=b.type,f=b.wh,g=b.capture;c.removeEventListener?(c==s||!c.Cg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Xd?Xd[d]:Xd[d]="on"+d,f);c=ha(c);f=S[d][g][c];if(Wd[c]){var h=Wd[c];zb(h,b);h.length==0&&delete Wd[c]}b.Hc=!0;f.oh=!0;$d(d,g,c,f);delete Vd[a];return!0}
function $d(a,b,c,d){if(!d.ye&&d.oh){for(var f=0,g=0;f<d.length;f++)if(d[f].Hc){var h=d[f].wh;h.src=n;Qd(h);Sd(d[f])}else f!=g&&(d[g]=d[f]),g++;d.length=g;d.oh=!1;g==0&&(Nd(d),delete S[a][b][c],S[a][b].w--,S[a][b].w==0&&(Ld(S[a][b]),delete S[a][b],S[a].w--),S[a].w==0&&(Ld(S[a]),delete S[a]))}}
function ae(a){var b,c=0,d=b==n;b=!!b;if(a==n)lb(Wd,function(a){for(var f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)V(g.key),c++}});else if(a=ha(a),Wd[a])for(var a=Wd[a],f=a.length-1;f>=0;f--){var g=a[f];if(d||b==g.capture)V(g.key),c++}}function Zd(a,b,c){var d=S;return b in d&&(d=d[b],c in d&&(d=d[c],a=ha(a),d[a]))?d[a]:n}
function be(a,b,c,d,f){var g=1,b=ha(b);if(a[b]){a.cb--;a=a[b];a.ye?a.ye++:a.ye=1;try{for(var h=a.length,j=0;j<h;j++){var k=a[j];k&&!k.Hc&&(g&=ce(k,f)!==!1)}}finally{a.ye--,$d(c,d,b,a)}}return Boolean(g)}function ce(a,b){var c=a.handleEvent(b);a.xg&&V(a.key);return c}
Pd(function(a,b){if(!Vd[a])return!0;var c=Vd[a],d=c.type,f=S;if(!(d in f))return!0;var f=f[d],g,h;td===i&&(td=H&&!s.addEventListener);if(td){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=s;g=j.shift();)if(k[g]!=n)k=k[g];else{j=n;break a}j=k}g=j;j=!0 in f;k=!1 in f;if(j){if(g.keyCode<0||g.returnValue!=i)return!0;a:{var l=!1;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(o){l=!0}if(l||g.returnValue==i)g.returnValue=!0}}l=Td();l.Yb(g,this);g=!0;try{if(j){for(var m=Md(),y=l.currentTarget;y;y=
y.parentNode)m.push(y);h=f[!0];h.cb=h.w;for(var u=m.length-1;!l.Fc&&u>=0&&h.cb;u--)l.currentTarget=m[u],g&=be(h,m[u],d,!0,l);if(k){h=f[!1];h.cb=h.w;for(u=0;!l.Fc&&u<m.length&&h.cb;u++)l.currentTarget=m[u],g&=be(h,m[u],d,!1,l)}}else g=ce(c,l)}finally{if(m)m.length=0,Nd(m);l.j();Ud(l)}return g}d=new zd(b,this);try{g=ce(c,d)}finally{d.j()}return g});function de(){}E(de,F);r=de.prototype;r.Cg=!0;r.Ge=n;r.cg=ba("Ge");r.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){Yd(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=S;if(b in c){if(B(a))a=new R(a,this);else if(a instanceof R)a.target=a.target||this;else{var d=a,a=new R(b,this);sb(a,d)}var d=1,f,c=c[b],b=!0 in c,g;if(b){f=[];for(g=this;g;g=g.Ge)f.push(g);g=c[!0];g.cb=g.w;for(var h=f.length-1;!a.Fc&&h>=0&&g.cb;h--)a.currentTarget=f[h],d&=be(g,f[h],a.type,!0,a)&&a.Md!=!1}if(!1 in c)if(g=c[!1],g.cb=g.w,b)for(h=0;!a.Fc&&h<f.length&&g.cb;h++)a.currentTarget=f[h],d&=be(g,f[h],a.type,!1,a)&&a.Md!=!1;else for(f=this;!a.Fc&&
f&&g.cb;f=f.Ge)a.currentTarget=f,d&=be(g,f,a.type,!1,a)&&a.Md!=!1;a=Boolean(d)}else a=!0;return a};r.g=function(){de.a.g.call(this);ae(this);this.Ge=n};function ee(a,b,c){this.Gd=a;this.gc=c;this.i=b;T(b,[fe,ge,he,ie],this);this.hb=n;this.na=[];this.ta=-1;this.za=0;this.rc=this.$=n}E(ee,de);r=ee.prototype;r.bj=10;r.ci=!0;r.vg=!1;r.Wh=!1;r.Ph=!1;var fe="hilite",ge="select",ie="dismiss",he="canceldismiss";r=ee.prototype;r.handleEvent=function(a){if(a.target==this.i)switch(a.type){case fe:this.Xa(a.row);break;case ge:je(this);break;case he:ke(this);break;case ie:le(this)}};r.$c=p("$");r.La=function(){return this.i.u};
function me(a){var b=a.za+a.na.length-1;a.ta>=a.za&&a.ta<b?a.Xa(a.ta+1):a.ta==-1?a.Xa(a.za):a.ta==b&&(a.vg?a.Xa(-1):a.Wh&&a.Xa(a.za))}function ne(a){a.ta>a.za?a.Xa(a.ta-1):a.vg&&a.ta==a.za?a.Xa(-1):a.Wh&&(a.ta==-1||a.ta==a.za)&&a.Xa(a.za+a.na.length-1)}r.Xa=function(a){this.ta=a;this.i.Xa(a);return oe(this,a)!=-1};
function je(a){var b=oe(a,a.ta);if(b!=-1){var b=a.na[b],c=a.gc,d=b.toString();if(v(i)?0:c.ed){var f=pe(c,c.n(),qe(c.N)),g=re(c,c.n());c.Nj.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.ui);c.bk&&(f!=0&&!/^[\s\xa0]*$/.test(g[f-1])&&(d=" "+d),f==g.length-1&&(d+=" "));if(d!=g[f]){g[f]=d;d=c.N;I&&d.blur();d.value=g.join("");for(var h=0,j=0;j<=f;j++)h+=g[j].length;d.focus();f=h;g=c.N;d=f;se(g)?g.selectionStart=d:H&&(h=te(g),j=h[0],j.inRange(h[1])&&(d=ue(g,d),j.collapse(!0),j.move("character",d),j.select()));
g=c.N;se(g)?g.selectionEnd=f:H&&(h=te(g),d=h[1],h[0].inRange(d)&&(f=ue(g,f),g=ue(g,qe(g)),d.collapse(!0),d.moveEnd("character",f-g),d.select()))}}else c.S(d);c.ag=!0;a.Ph?(a.hb=n,le(a)):a.Eb();a.dispatchEvent({type:"update",row:b});a.Ph&&a.gc.update(!0);return!0}else return a.Eb(),a.dispatchEvent({type:"update",row:n}),!1}r.Eb=function(){this.ta=-1;this.hb=n;this.za+=this.na.length;this.na=[];window.clearTimeout(this.rc);this.rc=n;this.i.Eb();this.dispatchEvent("suggestionsupdate")};
function le(a){if(!a.rc)a.rc=window.setTimeout(C(a.Eb,a),100)}function ke(a){window.setTimeout(C(function(){if(this.rc)window.clearTimeout(this.rc),this.rc=n},a),10)}r.g=function(){ee.a.g.call(this);this.i.j();this.gc.j();this.Gd=n};r.aj=function(a,b,c){this.hb==a&&this.Zf(b,c)};
r.Zf=function(a,b){var c=b?oe(this,this.ta):n;this.za+=this.na.length;this.na=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.za+f,data:a[f]});this.i.Zf(d,this.hb,this.$);this.ci&&d.length!=0&&this.hb?this.Xa(c!=n?this.za+c:this.za):this.ta=-1;this.dispatchEvent("suggestionsupdate")};function oe(a,b){var c=b-a.za;return c<0||c>=a.na.length?-1:c}r.Ze=function(a){var b=this.gc;b.Ze.apply(b,arguments)};r.update=function(a){this.gc.update(a)};function ve(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}ve.prototype.ha=function(){return new ve(this.left,this.top,this.width,this.height)};ve.prototype.Yg=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
ve.prototype.contains=function(a){return a instanceof ve?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};ve.prototype.Hb=function(){return new Lc(this.width,this.height)};function we(a,b){var c=Q(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,n))?c[b]||c.getPropertyValue(b):""}function xe(a,b){return a.currentStyle?a.currentStyle[b]:n}function ye(a,b){return we(a,b)||xe(a,b)||a.style[b]}function ze(a,b,c){var d,f=I&&(Ra||ab)&&K("1.9");b instanceof G?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ae(d,f);a.style.top=Ae(b,f)}function Be(a){a=a?a.nodeType==9?a:Q(a):document;return H&&!kb()&&!kd(P(a))?a.body:a.documentElement}
function Ce(a){var b=a.getBoundingClientRect();if(H)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function De(a){if(H)return a.offsetParent;for(var b=Q(a),c=ye(a,"position"),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ye(a,"position"),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return n}
function Ee(a){for(var b=new xa(0,Infinity,Infinity,0),c=P(a),d=c.A.body,f=c.A.documentElement,g=!J&&Sc(c.A)?c.A.documentElement:c.A.body;a=De(a);)if((!H||a.clientWidth!=0)&&(!J||a.clientHeight!=0||a!=d)&&a!=d&&a!=f&&ye(a,"overflow")!="visible"){var h=Fe(a),j;j=a;if(I&&!K("1.9")){var k=parseFloat(we(j,"borderLeftWidth"));if(Ge(j)){var l=j.offsetWidth-j.clientWidth-k-parseFloat(we(j,"borderRightWidth"));k+=l}j=new G(k,parseFloat(we(j,"borderTopWidth")))}else j=new G(j.clientLeft,j.clientTop);h.x+=
j.x;h.y+=j.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=c.A.parentWindow||c.A.defaultView||window;f=c.document;J&&!K("500")&&!Ya?(typeof c.innerHeight=="undefined"&&(c=window),f=c.innerHeight,a=c.document.documentElement.scrollHeight,c==c.top&&a<f&&(f-=15),c=new Lc(c.innerWidth,f)):(c=Sc(f)?f.documentElement:f.body,c=
new Lc(c.clientWidth,c.clientHeight));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:n}
function Fe(a){var b,c=Q(a),d=ye(a,"position"),f=I&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new G(0,0),h=Be(c);if(a==h)return g;if(a.getBoundingClientRect)b=Ce(a),a=ld(P(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(J&&
ye(b,"position")=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Xa||J&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=De(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!Xa||b.tagName!="TR")g.y-=b.scrollTop}return g}
function He(a){var b=new G;if(a.nodeType==1)if(a.getBoundingClientRect)a=Ce(a),b.x=a.left,b.y=a.top;else{var c=ld(P(a)),a=Fe(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=fa(a.Di),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.qa.targetTouches&&(d=a.qa.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Ie(a,b,c){var d=Fe(a);if(b instanceof G)c=b.y,b=b.x;ze(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}function Ae(a,b){typeof a=="number"&&(a=(b?Math.round(a):a)+"px");return a}
function Je(a){if(ye(a,"display")!="none")return Ke(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Ke(a);b.display=c;b.position=f;b.visibility=d;return a}function Ke(a){var b=a.offsetWidth,c=a.offsetHeight,d=J&&!b&&!c;return(!v(b)||d)&&a.getBoundingClientRect?(a=Ce(a),new Lc(a.right-a.left,a.bottom-a.top)):new Lc(b,c)}function Le(a){var b=Fe(a),a=Je(a);return new ve(b.x,b.y,a.width,a.height)}
function Me(a,b){a.style.display=b?"":"none"}function Ge(a){return"rtl"==ye(a,"direction")}var Ne=I?"MozUserSelect":J?"WebkitUserSelect":n;function Oe(a,b,c){c=!c?a.getElementsByTagName("*"):n;if(Ne){if(b=b?"none":"",a.style[Ne]=b,c)for(var a=0,d;d=c[a];a++)d.style[Ne]=b}else if(H||Xa)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function Pe(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}}var Qe={"thin":2,"medium":4,"thick":6};function Re(a,b){if(xe(a,b+"Style")=="none")return 0;var c=xe(a,b+"Width");return c in Qe?Qe[c]:Pe(a,c)}
function Se(a){if(H){var b=Re(a,"borderLeft"),c=Re(a,"borderRight"),d=Re(a,"borderTop"),a=Re(a,"borderBottom");return new xa(d,c,a,b)}else return b=we(a,"borderLeftWidth"),c=we(a,"borderRightWidth"),d=we(a,"borderTopWidth"),a=we(a,"borderBottomWidth"),new xa(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Te(a,b){this.Dd=a||1;this.Ud=b||Ue;this.af=C(this.jg,this);this.Lf=D()}E(Te,de);Te.prototype.enabled=!1;var Ue=s.window;r=Te.prototype;r.v=n;r.setInterval=function(a){this.Dd=a;this.v&&this.enabled?(this.stop(),this.start()):this.v&&this.stop()};r.jg=function(){if(this.enabled){var a=D()-this.Lf;if(a>0&&a<this.Dd*0.8)this.v=this.Ud.setTimeout(this.af,this.Dd-a);else if(this.dispatchEvent(Ve),this.enabled)this.v=this.Ud.setTimeout(this.af,this.Dd),this.Lf=D()}};
r.start=function(){this.enabled=!0;if(!this.v)this.v=this.Ud.setTimeout(this.af,this.Dd),this.Lf=D()};r.stop=function(){this.enabled=!1;if(this.v)this.Ud.clearTimeout(this.v),this.v=n};r.g=function(){Te.a.g.call(this);this.stop();delete this.Ud};var Ve="tick";function We(a,b,c,d){(!z(a)||!z(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.qd=a;this.yi=b;this.duration=c;this.sg=d;this.coords=[]}E(We,de);var pb={},Xe=n;function Ye(){Ze();var a=D(),b;for(b in pb)$e(pb[b],a);Xe=ob()?n:Ue.setTimeout(Ye,20)}function Ze(){Xe&&(Ue.clearTimeout(Xe),Xe=n)}function af(a){a=ha(a);delete pb[a];ob()&&Ze()}r=We.prototype;r.o=0;r.Hg=0;r.Ea=0;r.startTime=n;r.Gg=n;r.Jf=n;
r.play=function(a){if(a||this.o==0)this.Ea=0,this.coords=this.qd;else if(this.o==1)return!1;af(this);this.startTime=a=D();this.o==-1&&(this.startTime-=this.duration*this.Ea);this.Gg=this.startTime+this.duration;this.Jf=this.startTime;this.Ea||this.ab();bf(this,"play");this.o==-1&&this.Vf();this.o=1;var b=ha(this);b in pb||(pb[b]=this);Xe||(Xe=Ue.setTimeout(Ye,20));$e(this,a);return!0};r.stop=function(a){af(this);this.o=0;if(a)this.Ea=1;cf(this,this.Ea);this.Wf();this.fd()};
r.g=function(){this.o!=0&&this.stop(!1);this.Tf();We.a.g.call(this)};function $e(a,b){a.Ea=(b-a.startTime)/(a.Gg-a.startTime);if(a.Ea>=1)a.Ea=1;a.Hg=1E3/(b-a.Jf);a.Jf=b;cf(a,a.Ea);a.Ea==1?(a.o=0,af(a),bf(a,"finish"),a.fd()):a.o==1&&a.Sf()}function cf(a,b){fa(a.sg)&&(b=a.sg(b));a.coords=Array(a.qd.length);for(var c=0;c<a.qd.length;c++)a.coords[c]=(a.yi[c]-a.qd[c])*b+a.qd[c]}r.Sf=function(){bf(this,"animate")};r.ab=function(){bf(this,"begin")};r.Tf=function(){bf(this,"destroy")};
r.fd=function(){bf(this,"end")};r.Vf=function(){bf(this,"resume")};r.Wf=function(){bf(this,"stop")};function bf(a,b){a.dispatchEvent(new df(b,a))}function df(a,b){R.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.G=b.coords[2];this.duration=b.duration;this.Ea=b.Ea;this.lf=b.Hg;this.state=b.o;this.gk=b}E(df,R);function W(a,b,c,d,f){We.call(this,b,c,d,f);this.element=a}E(W,We);W.prototype.Oc=t;W.prototype.Sf=function(){this.Oc();W.a.Sf.call(this)};W.prototype.fd=function(){this.Oc();W.a.fd.call(this)};W.prototype.ab=function(){this.Oc();W.a.ab.call(this)};function ef(a,b,c,d,f){(b.length!=2||c.length!=2)&&e(Error("Start and end points must be 2D"));W.apply(this,arguments)}E(ef,W);
ef.prototype.Oc=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function ff(a,b,c,d){ef.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}E(ff,ef);ff.prototype.ab=function(){this.qd=[this.element.offsetLeft,this.element.offsetTop];ff.a.ab.call(this)};function gf(a,b,c,d,f){W.call(this,a,[b],[c],d,f)}E(gf,W);gf.prototype.Oc=function(){this.element.style.width=Math.round(this.coords[0])+"px"};
function hf(a,b,c,d,f){W.call(this,a,[b],[c],d,f)}E(hf,W);hf.prototype.Oc=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function jf(a,b,c,d,f){ea(b)&&(b=[b]);ea(c)&&(c=[c]);W.call(this,a,b,c,d,f);(b.length!=1||c.length!=1)&&e(Error("Start and end points must be 1D"))}E(jf,W);
jf.prototype.Oc=function(){var a=this.coords[0],b=this.element.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"};jf.prototype.show=function(){this.element.style.display=""};function kf(a,b,c){jf.call(this,a,1,0,b,c)}E(kf,jf);kf.prototype.ab=function(){this.show();kf.a.ab.call(this)};kf.prototype.fd=function(){this.element.style.display="none";kf.a.fd.call(this)};
function lf(a,b,c){jf.call(this,a,0,1,b,c)}E(lf,jf);lf.prototype.ab=function(){this.show();lf.a.ab.call(this)};function mf(){}ca(mf);mf.prototype.qj=0;function nf(a){return":"+(a.qj++).toString(36)}mf.Aa();function of(a,b){a.setAttribute("role",b);a.pk=b}function X(a,b,c){a.setAttribute("aria-"+b,c)};function pf(a,b,c,d){this.ea=a||document.body;this.U=P(this.ea);this.Ij=!a;this.f=n;this.hb="";this.na=[];this.Jc=[];this.Jh=this.se=-1;this.u=!1;this.className="ac-renderer";this.$f="ac-row";this.bh="active";this.tg="ac-active";this.Qi="ac-highlighted";this.Tc=b||n;this.ak=d!=n?d:!0;this.Af=!1;this.Kj=c!=n?c:!1;this.Ff=n;this.Re=!1;this.Ae=0}E(pf,de);r=pf.prototype;r.c=p("f");r.Zf=function(a,b,c){this.hb=b;this.na=a;this.se=-1;this.Jh=D();this.$=c;this.Jc=[];qf(this)};
r.Eb=function(){this.$&&X(this.$,"activedescendant","");if(this.u)this.u=!1,this.$&&X(this.$,"haspopup",!1),this.Ae>0?(sa(this.ga),this.ga=new kf(this.f,this.Ae),this.ga.play()):Me(this.f,!1)};r.show=function(){if(!this.u)this.u=!0,this.$&&(of(this.$,"combobox"),X(this.$,"autocomplete","list"),X(this.$,"haspopup",!0)),this.Ae>0?(sa(this.ga),this.ga=new lf(this.f,this.Ae),this.ga.play()):Me(this.f,!0)};
function rf(a,b){var c=b>=0&&b<a.Jc.length?a.Jc[b]:i;if(a.dispatchEvent({type:"rowhilite",qk:c})&&(sf(a),a.se=b,c)){O(c,a.tg,a.bh);a.$&&X(a.$,"activedescendant",c?c.id:"");var d=a.f,f=Fe(c),g=Fe(d),h=Se(d),j=f.x-g.x-h.left,f=f.y-g.y-h.top,g=d.clientHeight-c.offsetHeight;d.scrollLeft+=Math.min(j,Math.max(j-(d.clientWidth-c.offsetWidth),0));d.scrollTop+=Math.min(f,Math.max(f-g,0))}}function sf(a){a.se>=0&&Kc(a.Jc[a.se],a.tg,a.bh)}
r.Xa=function(a){if(a==-1)rf(this,-1);else for(var b=0;b<this.na.length;b++)if(this.na[b].id==a){rf(this,b);break}};function tf(a){if(!a.f){var b=a.U.t("div",{style:"display:none"});a.f=b;O(b,a.className);of(b,"listbox");b.id=nf(mf.Aa());a.U.appendChild(a.ea,b);T(b,"click",a.Lg,!1,a);T(b,"mousedown",a.qe,!1,a);T(a.U.A,"mousedown",a.Ng,!1,a);T(b,"mouseover",a.Og,!1,a)}}
function qf(a){tf(a);if(a.Re)a.f.style.visibility="hidden";if(a.ck)a.f.style.minWidth=a.ck.clientWidth+"px";a.Jc.length=0;a.U.yh(a.f);if(a.Tc&&a.Tc.xb)a.Tc.xb(a);else{var b=n;Qb(a.na,function(a){var d=this.hb,f=this.U.t("div",{className:this.$f,id:nf(mf.Aa())});of(f,"option");this.Tc&&this.Tc.zh?this.Tc.zh(a,d,f):f.innerHTML=Ca(a.data.toString());d&&this.ak&&uf(this,f,d);O(f,this.$f);this.Jc.push(f);a=f;this.Re?this.f.insertBefore(a,b):this.U.appendChild(this.f,a);b=a},a)}a.na.length==0?a.Eb():(a.show(),
a.Ld(),Oe(a.f,!0))}r.Ld=function(){if(this.$&&this.Ij){var a=Fe(this.$),b=Je(this.$),c=Je(Be(this.$)),d=Je(this.f);a.y=this.Re?a.y-d.height:a.y+b.height;(this.Kj||a.x+d.width>c.width)&&this.Ff!="LEFT"?(a.x=a.x+b.width-d.width,this.Ff="RIGHT"):this.Ff="LEFT";Ie(this.f,a);if(this.Re)this.f.style.visibility="visible"}};
r.g=function(){if(this.f)Yd(this.f,"click",this.Lg,!1,this),Yd(this.f,"mousedown",this.qe,!1,this),Yd(this.U.A,"mousedown",this.Ng,!1,this),Yd(this.f,"mouseover",this.Og,!1,this),this.U.removeNode(this.f),this.f=n,this.u=!1;sa(this.ga);delete this.ea;pf.a.g.call(this)};
function uf(a,b,c){if(b.nodeType==3){var d=n;z(c)&&c.length>1&&!a.Af&&(d=Eb(c,1));c=vf(a,c);if(c.length!=0){for(var f=b.nodeValue,g=RegExp("(.*?)(^|\\W+)("+c+")","gi"),c=[],h=0,j=g.exec(f),k=0;j;)k++,c.push(j[1]),c.push(j[2]),c.push(j[3]),h=g.lastIndex,j=g.exec(f);c.push(f.substring(h));if(c.length>1){d=!a.Af?1:k;for(f=0;f<d;f++)g=3*f,b.nodeValue=c[g]+c[g+1],h=a.U.createElement("b"),h.className=a.Qi,a.U.appendChild(h,a.U.createTextNode(c[g+2])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.U.createTextNode(""),
h.nextSibling),b=h.nextSibling;a=Eb(c,d*3);b.nodeValue=a.join("")}else d&&uf(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,uf(a,b,c),b=d}function vf(a,b){var c="";if(!b)return c;a.Af?z(b)?(c=ub(b,function(a){return!/^[\s\xa0]*$/.test(a==n?"":String(a))}),c=vb(c,Ia),c=c.join("|")):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ia(c),c=c.replace(/ /g,"|")):c=z(b)?b.length>0?Ia(b[0]):"":Ia(b);return c}
function wf(a,b){for(;b&&b!=a.f&&!yb(Jc(b),a.$f);)b=b.parentNode;return b?tb(a.Jc,b):-1}r.Lg=function(a){var b=wf(this,a.target);b>=0&&this.dispatchEvent({type:ge,row:this.na[b].id});a.stopPropagation()};r.qe=function(a){this.dispatchEvent(he);a.stopPropagation();a.preventDefault()};r.Ng=function(a){this.$==a.target?(sf(this),a.stopPropagation()):this.dispatchEvent(ie)};r.Og=function(a){a=wf(this,a.target);a>=0&&!(D()-this.Jh<300)&&this.dispatchEvent({type:fe,row:this.na[a].id})};function xf(a){this.Sg=a;this.I=[]}E(xf,F);var yf=[];r=xf.prototype;r.h=function(a,b,c,d,f){z(b)||(yf[0]=b,b=yf);for(var g=0;g<b.length;g++)this.I.push(T(a,b[g],c||this,d||!1,f||this.Sg||this));return this};r.aa=function(a,b,c,d,f){if(z(b))for(var g=0;g<b.length;g++)this.aa(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.Sg||this;d=!!d;if(a=Zd(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Hc&&a[b].dd==c&&a[b].capture==d&&a[b].re==f){a=a[b];break a}a=n}if(a)a=a.key,V(a),zb(this.I,a)}return this};
r.Kd=function(){M(this.I,V);this.I.length=0};r.g=function(){xf.a.g.call(this);this.Kd()};r.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function qe(a){var b;a:{var c=0,d=0;if(se(a))c=a.selectionStart,d=-1;else if(H){var f=te(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if(a.type=="textarea"){f.duplicate();c=a=b.text;for(d=!1;!d;)b.compareEndPoints("StartToEnd",b)==0?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function te(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();a.type=="textarea"?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function ue(a,b){if(a.type=="textarea")b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length;return b}function se(a){try{return typeof a.selectionStart=="number"}catch(b){return!1}};var zf,Af;Af=zf=!1;var Bf=Ta();Bf&&(Bf.indexOf("Firefox")!=-1||Bf.indexOf("Camino")!=-1||(Bf.indexOf("iPhone")!=-1||Bf.indexOf("iPod")!=-1?zf=!0:Bf.indexOf("iPad")!=-1&&(Af=!0)));var Cf=zf,Df=Af;function Ef(a,b,c,d,f){if(!H&&(!J||!K("525")))return!0;if(Ra&&f)return Ff(a);if(f&&!d)return!1;if(!c&&(b==17||b==18))return!1;if(H&&d&&b==a)return!1;switch(a){case 13:return!(H&&kb());case 27:return!J}return Ff(a)}
function Ff(a){if(a>=48&&a<=57)return!0;if(a>=96&&a<=106)return!0;if(a>=65&&a<=90)return!0;if(J&&a==0)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};function Gf(a,b){a&&this.ud(a,b)}E(Gf,de);r=Gf.prototype;r.f=n;r.ve=n;r.Gf=n;r.we=n;r.ac=-1;r.$b=-1;
var Hf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},If={"Up":38,"Down":40,"Left":37,"Right":39,"Enter":13,"F1":112,"F2":113,"F3":114,"F4":115,"F5":116,"F6":117,"F7":118,"F8":119,"F9":120,"F10":121,"F11":122,"F12":123,"U+007F":46,"Home":36,"End":35,"PageUp":33,"PageDown":34,"Insert":45},Jf={61:187,59:186},
Kf=H||J&&K("525");r=Gf.prototype;r.tf=function(a){if(J&&(this.ac==17&&!a.ctrlKey||this.ac==18&&!a.altKey))this.$b=this.ac=-1;Kf&&!Ef(a.keyCode,this.ac,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.$b=I&&a.keyCode in Jf?Jf[a.keyCode]:a.keyCode};r.Ji=function(){this.$b=this.ac=-1};
r.handleEvent=function(a){var b=a.qa,c,d;H&&a.type=="keypress"?(c=this.$b,d=c!=13&&c!=27?b.keyCode:0):J&&a.type=="keypress"?(c=this.$b,d=b.charCode>=0&&b.charCode<63232&&Ff(c)?b.charCode:0):Xa?(c=this.$b,d=Ff(c)?b.keyCode:0):(c=b.keyCode||this.$b,d=b.charCode||0,Ra&&d==63&&!c&&(c=191));var f=c,g=b.keyIdentifier;c?c>=63232&&c in Hf?f=Hf[c]:c==25&&a.shiftKey&&(f=9):g&&g in If&&(f=If[g]);a=f==this.ac;this.ac=f;b=new Lf(f,d,a,b);try{this.dispatchEvent(b)}finally{b.j()}};r.c=p("f");
r.ud=function(a,b){this.we&&this.detach();this.f=a;this.ve=T(this.f,"keypress",this,b);this.Gf=T(this.f,"keydown",this.tf,b,this);this.we=T(this.f,"keyup",this.Ji,b,this)};r.detach=function(){if(this.ve)V(this.ve),V(this.Gf),V(this.we),this.we=this.Gf=this.ve=n;this.f=n;this.$b=this.ac=-1};r.g=function(){Gf.a.g.call(this);this.detach()};function Lf(a,b,c,d){d&&this.Yb(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}E(Lf,zd);function Mf(a,b,c,d){d=d||150;this.Od=a!=n?a:Of;this.ui=this.Od.substring(0,1);a=this.ed?"[\\s"+this.Od+"]+":"[\\s]+";this.Qh=RegExp("^"+a+"|"+a+"$","g");this.Nj=RegExp("\\s*["+this.Od+"]$");this.eh=b||"";this.Gj=this.ed=c!=n?c:!0;this.v=d>0?new Te(d):n;this.pa=new xf(this);this.Te=new xf(this);this.L=new Gf;this.ah=-1}E(Mf,F);var Pf=(Cf||Df)&&!K("533.17.9"),Of=",;";r=Mf.prototype;r.bk=!0;r.Ci=!0;r.Sh=!1;r.Pj=!0;r.Oj=!0;r.Ve=n;r.N=n;r.Kf="";r.mc=!1;r.ag=!1;r.Rh=!0;r.n=function(){return this.N.value};
r.S=function(a){this.N.value=a};r.Ze=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ga(c)&&c.nodeType==1&&X(c,"haspopup",!0);this.pa.h(c,"focus",this.wc);this.pa.h(c,"blur",this.Jb);if(!this.N&&(this.Te.h(c,"keydown",this.yj),ga(c)&&c.nodeType==1)){var d=Q(c);(d&&d.activeElement)==c&&Qf(this,c)}}};r.g=function(){Mf.a.g.call(this);this.Ve!=n&&window.clearTimeout(this.Ve);this.pa.j();delete this.pa;this.Te.j();this.L.j()};function Rf(a){a.v?a.v.setInterval(300):a.v=new Te(300)}
r.Wa=function(a){switch(a.keyCode){case 40:if(this.M.La())return this.Sh?ne(this.M):me(this.M),a.preventDefault(),!0;else if(!this.ed)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.M.La())return this.Sh?me(this.M):ne(this.M),a.preventDefault(),!0;break;case 9:if(this.M.La()&&!a.shiftKey){if(this.update(),je(this.M)&&this.Gj)return a.preventDefault(),!0}else this.M.Eb();break;case 13:if(this.M.La()){if(this.update(),je(this.M))return a.preventDefault(),a.stopPropagation(),!0}else this.M.Eb();
break;case 27:if(this.M.La())return this.M.Eb(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.mc){if(!this.mc)this.pa.h(this.N,"keyup",this.sh),this.pa.h(this.N,"keypress",this.rh),this.mc=!0;return!0}break;default:this.v&&!this.Rh&&(this.v.stop(),this.v.start())}return Sf(this,a)};function Sf(a,b){var c=a.ed&&b.charCode&&a.Od.indexOf(String.fromCharCode(b.charCode))!=-1;a.Pj&&c&&a.update();return a.Oj&&c&&je(a.M)?(b.preventDefault(),!0):!1}r.Ii=q(!1);
r.wc=function(a){Qf(this,a.target||n)};function Qf(a,b){a.Te.Kd();a.M&&ke(a.M);if(b!=a.N)a.N=b,a.v&&(a.v.start(),a.pa.h(a.v,Ve,a.gd)),a.Kf=a.n(),a.L.ud(a.N),a.pa.h(a.L,"key",a.th),H&&a.pa.h(a.N,"keypress",a.qh)}r.Jb=function(){Pf?this.Ve=window.setTimeout(C(this.vh,this),0):this.vh()};
r.vh=function(){if(this.N)this.pa.aa(this.L,"key",this.th),this.L.detach(),this.pa.aa(this.N,"keyup",this.Ii),H&&this.pa.aa(this.N,"keypress",this.qh),this.mc&&Tf(this),this.N=n,this.v&&(this.v.stop(),this.pa.aa(this.v,Ve,this.gd)),this.M&&le(this.M)};r.gd=function(){this.update()};r.yj=function(a){this.wc(a)};r.th=function(a){this.ah=a.keyCode;this.M&&this.Wa(a)};r.rh=function(){this.mc&&this.ah!=229&&Tf(this)};r.sh=function(a){this.mc&&(a.keyCode==13||a.keyCode==77&&a.ctrlKey)&&Tf(this)};
function Tf(a){if(a.mc)a.mc=!1,a.pa.aa(a.N,"keypress",a.rh),a.pa.aa(a.N,"keyup",a.sh)}r.qh=function(a){Sf(this,a)};r.update=function(a){if(this.N&&(a||this.n()!=this.Kf)){if(a||!this.ag){var a=qe(this.N),b=this.n(),a=re(this,b)[pe(this,b,a)],a=this.Qh?String(a).replace(this.Qh,""):a;if(this.M&&(this.M.$=this.N,b=this.M,this.n(),b.hb!=a))b.hb=a,sd(b.Gd,b.hb,b.bj,C(b.aj,b)),ke(b)}this.Kf=this.n()}this.ag=!1};
function pe(a,b,c){a=re(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}function re(a,b){if(!a.ed)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)if(a.eh&&a.eh.indexOf(c[g])!=-1){if(a.Ci&&!h)d.push(f.join("")),f.length=0;f.push(c[g]);h=!h}else!h&&a.Od.indexOf(c[g])!=-1?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};function Uf(a,b,c){var d=new pf(n,{zh:function(a,b,c){c.innerHTML=a.data.display_name+" ("+a.data.type+")"}});this.Gd=new rd(b,c);b=new Mf(n,n,!1);Rf(b);b.Rh=!1;b.M=this;b.Ze(a);ee.call(this,this.Gd,d,b);this.addEventListener("update",function(b){a.value=b.row.display_name})}E(Uf,ee);Uf.prototype.search=function(a,b,c){sd(this.Gd,a,b,c)};function Vf(){this.xh=D()}new Vf;Vf.prototype.set=ba("xh");Vf.prototype.get=p("xh");function Wf(a,b){this.nb=Fd?[]:"";a!=n&&this.append.apply(this,arguments)}Wf.prototype.set=function(a){this.clear();this.append(a)};Fd?(Wf.prototype.bf=0,Wf.prototype.append=function(a,b,c){b==n?this.nb[this.bf++]=a:(this.nb.push.apply(this.nb,arguments),this.bf=this.nb.length);return this}):Wf.prototype.append=function(a,b,c){this.nb+=a;if(b!=n)for(var d=1;d<arguments.length;d++)this.nb+=arguments[d];return this};Wf.prototype.clear=function(){Fd?this.bf=this.nb.length=0:this.nb=""};
Wf.prototype.toString=function(){if(Fd){var a=this.nb.join("");this.clear();a&&this.append(a);return a}else return this.nb};function Xf(a){Yb.call(this,a||"OpenStreetMaps")}E(Xf,ec);Xf.prototype.Ua=q(18);Xf.prototype.Ib=q(256);Xf.prototype.Bd=function(a,b,c){var d=["a","b","c"];return(new Wf("http://",d[fc(d.length)],".tile.openstreetmap.org/",a,"/",b,"/",c,".png")).toString()};Xf.prototype.nc=function(a){Zc(a,"\u00a9 ",Vc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function Yf(){Xf.call(this,"MapQuest OSM")}E(Yf,Xf);Yf.prototype.Bd=function(a,b,c){return(new Wf("http://otile",1+fc(3),".mqcdn.com/tiles/1.0.0/osm/",a,"/",b,"/",c,".png")).toString()};Yf.prototype.nc=function(a){Zc(a,"Map data \u00a9 ",Vc("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",Vc("br"));Zc(a,"Tiles Courtesy of ",Vc("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",Vc("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function Zf(a){this.U=a||P();this.Nd=$f}E(Zf,de);Zf.prototype.Ri=mf.Aa();var $f=n;function ag(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}r=Zf.prototype;r.Ya=n;r.H=!1;r.f=n;r.Nd=n;r.Rf=n;r.ea=n;r.ka=n;r.Ga=n;r.Uh=!1;
function bg(a){return a.Ya||(a.Ya=nf(a.Ri))}function cg(a,b){if(a.ea&&a.ea.Ga){var c=a.ea.Ga,d=a.Ya;d in c&&delete c[d];qb(a.ea.Ga,b,a)}a.Ya=b}r.c=p("f");r.ra=function(){return this.ad||(this.ad=new xf(this))};function dg(a,b){a==b&&e(Error("Unable to set parent component"));b&&a.ea&&a.Ya&&eg(a.ea,a.Ya)&&a.ea!=b&&e(Error("Unable to set parent component"));a.ea=b;Zf.a.cg.call(a,b)}r.getParent=p("ea");r.cg=function(a){this.ea&&this.ea!=a&&e(Error("Method not supported"));Zf.a.cg.call(this,a)};r.X=p("U");
r.t=function(){this.f=this.U.createElement("div")};r.xb=function(a){fg(this,a)};function fg(a,b,c){a.H&&e(Error("Component already rendered"));a.f||a.t();b?b.insertBefore(a.f,c||n):a.U.A.body.appendChild(a.f);(!a.ea||a.ea.H)&&a.ba()}r.ia=function(a){if(this.H)e(Error("Component already rendered"));else if(a&&this.Ra(a)){this.Uh=!0;if(!this.U||this.U.A!=Q(a))this.U=P(a);this.pb(a);this.ba()}else e(Error("Invalid element to decorate"))};r.Ra=q(!0);r.pb=ba("f");
r.ba=function(){this.H=!0;gg(this,function(a){!a.H&&a.c()&&a.ba()})};r.Ja=function(){gg(this,function(a){a.H&&a.Ja()});this.ad&&this.ad.Kd();this.H=!1};r.g=function(){Zf.a.g.call(this);this.H&&this.Ja();this.ad&&(this.ad.j(),delete this.ad);gg(this,function(a){a.j()});!this.Uh&&this.f&&ad(this.f);this.ea=this.Rf=this.f=this.Ga=this.ka=n};r.sd=function(a,b){this.td(a,hg(this),b)};
r.td=function(a,b,c){a.H&&(c||!this.H)&&e(Error("Component already rendered"));(b<0||b>hg(this))&&e(Error("Child component index out of bounds"));if(!this.Ga||!this.ka)this.Ga={},this.ka=[];a.getParent()==this?(this.Ga[bg(a)]=a,zb(this.ka,a)):qb(this.Ga,bg(a),a);dg(a,this);Db(this.ka,b,0,a);a.H&&this.H&&a.getParent()==this?(c=this.W(),c.insertBefore(a.c(),c.childNodes[b]||n)):c?(this.f||this.t(),b=ig(this,b+1),fg(a,this.W(),b?b.f:n)):this.H&&!a.H&&a.f&&a.ba()};r.W=p("f");
function jg(a){if(a.Nd==n)a.Nd=Ge(a.H?a.f:a.U.A.body);return a.Nd}r.pd=function(a){this.H&&e(Error("Component already rendered"));this.Nd=a};function hg(a){return a.ka?a.ka.length:0}function eg(a,b){return a.Ga&&b?(b in a.Ga?a.Ga[b]:i)||n:n}function ig(a,b){return a.ka?a.ka[b]||n:n}function gg(a,b,c){a.ka&&M(a.ka,b,c)}function kg(a,b){return a.ka&&b?tb(a.ka,b):-1}
r.removeChild=function(a,b){if(a){var c=B(a)?a:bg(a),a=eg(this,c);if(c&&a){var d=this.Ga;c in d&&delete d[c];zb(this.ka,a);b&&(a.Ja(),a.f&&ad(a.f));dg(a,n)}}a||e(Error("Child is not in parent component"));return a};r.yh=function(a){for(;this.ka&&this.ka.length!=0;)this.removeChild(ig(this,0),a)};function lg(){}var mg;ca(lg);r=lg.prototype;r.rb=aa();r.t=function(a){var b=a.X().t("div",this.Yc(a).join(" "),a.getContent());this.Ke(a,b);return b};r.W=function(a){return a};r.xd=function(a,b,c){if(a=a.c?a.c():a)if(H&&!K("7")){var d=ng(Jc(a),b);d.push(b);ma(c?O:Kc,a).apply(n,d)}else c?O(a,b):Kc(a,b)};r.Ra=q(!0);
r.ia=function(a,b){b.id&&cg(a,b.id);var c=this.W(b);c&&c.firstChild?og(a,c.firstChild.nextSibling?Bb(c.childNodes):c.firstChild):a.Rc=n;var d=0,f=this.p(),g=this.p(),h=!1,j=!1,c=!1,k=Jc(b);M(k,function(a){!h&&a==f?(h=!0,g==f&&(j=!0)):!j&&a==g?j=!0:d|=this.qf(a)},this);a.o=d;h||(k.push(f),g==f&&(j=!0));j||k.push(g);var l=a.Ta;l&&k.push.apply(k,l);if(H&&!K("7")){var o=ng(k);o.length>0&&(k.push.apply(k,o),c=!0)}if(!h||!j||l||c)b.className=k.join(" ");this.Ke(a,b);return b};
r.cd=function(a){jg(a)&&this.pd(a.c(),!0);a.isEnabled()&&this.ic(a,a.u)};r.Ke=function(a,b){a.isEnabled()||this.Da(b,1,!0);a.o&8&&this.Da(b,8,!0);a.T&16&&this.Da(b,16,!!(a.o&16));a.T&64&&this.Da(b,64,a.La())};r.Pd=function(a,b){Oe(a,!b,!H&&!Xa)};r.pd=function(a,b){this.xd(a,this.p()+"-rtl",b)};r.Zb=function(a){var b;return a.T&32&&(b=a.Y())?gd(b):!1};r.ic=function(a,b){var c;if(a.T&32&&(c=a.Y())){if(!b&&a.o&32){try{c.blur()}catch(d){}a.o&32&&a.Jb(n)}if(gd(c)!=b)b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex"))}};
r.setVisible=function(a,b){Me(a,b)};r.Ca=function(a,b,c){var d=a.c();if(d){var f=this.zd(b);f&&this.xd(a,f,c);this.Da(d,b,c)}};r.Da=function(a,b,c){mg||(mg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=mg[b])&&X(a,b,c)};r.setContent=function(a,b){var c=this.W(a);if(c&&($c(c),b))if(B(b))dd(c,b);else{var d=function(a){if(a){var b=Q(c);c.appendChild(B(a)?b.createTextNode(a):a)}};z(b)?M(b,d):A(b)&&!("nodeType"in b)?M(Bb(b),d):d(b)}};r.Y=function(a){return a.c()};r.p=q("goog-control");
r.Yc=function(a){var b=this.p(),c=[b],d=this.p();d!=b&&c.push(d);b=a.o;for(d=[];b;){var f=b&-b;d.push(this.zd(f));b&=~f}c.push.apply(c,d);(a=a.Ta)&&c.push.apply(c,a);H&&!K("7")&&c.push.apply(c,ng(c));return c};function ng(a,b){var c=[];b&&(a=a.concat([b]));M([],function(d){wb(d,ma(yb,a))&&(!b||yb(d,b))&&c.push(d.join("_"))});return c}r.zd=function(a){this.de||pg(this);return this.de[a]};
r.qf=function(a){if(!this.Mh){this.de||pg(this);var b=this.de,c={},d;for(d in b)c[b[d]]=d;this.Mh=c}a=parseInt(this.Mh[a],10);return isNaN(a)?0:a};function pg(a){var b=a.p();a.de={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function qg(a,b){a||e(Error("Invalid class name "+a));fa(b)||e(Error("Invalid decorator function "+b));rg[a]=b}var sg={},rg={};function Y(a,b,c){Zf.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ha(b);if(d=sg[d])break;b=b.a?b.a.constructor:n}b=d?fa(d.Aa)?d.Aa():new d:n}this.i=b;this.Rc=a}E(Y,Zf);r=Y.prototype;r.Rc=n;r.o=0;r.T=39;r.$e=255;r.Oe=0;r.u=!0;r.Ta=n;r.vf=!0;r.ae=!1;r.He=n;function tg(a,b){a.H&&b!=a.vf&&ug(a,b);a.vf=b}r.Y=function(){return this.i.Y(this)};r.ne=function(){return this.L||(this.L=new Gf)};function vg(a,b){if(b)a.Ta?yb(a.Ta,b)||a.Ta.push(b):a.Ta=[b],a.i.xd(a,b,!0)}
r.xd=function(a,b){if(b)vg(this,a);else if(a&&this.Ta){zb(this.Ta,a);if(this.Ta.length==0)this.Ta=n;this.i.xd(this,a,!1)}};r.t=function(){var a=this.i.t(this);this.f=a;var b=this.He||this.i.rb();b&&of(a,b);this.ae||this.i.Pd(a,!1);this.u||this.i.setVisible(a,!1)};r.W=function(){return this.i.W(this.c())};r.Ra=function(a){return this.i.Ra(a)};r.pb=function(a){this.f=a=this.i.ia(this,a);var b=this.He||this.i.rb();b&&of(a,b);this.ae||this.i.Pd(a,!1);this.u=a.style.display!="none"};
r.ba=function(){Y.a.ba.call(this);this.i.cd(this);if(this.T&-2&&(this.vf&&ug(this,!0),this.T&32)){var a=this.Y();if(a){var b=this.ne();b.ud(a);this.ra().h(b,"key",this.Wa).h(a,"focus",this.wc).h(a,"blur",this.Jb)}}};function ug(a,b){var c=a.ra(),d=a.c();b?(c.h(d,"mouseover",a.xf).h(d,"mousedown",a.xc).h(d,"mouseup",a.yc).h(d,"mouseout",a.wf),H&&c.h(d,"dblclick",a.Mg)):(c.aa(d,"mouseover",a.xf).aa(d,"mousedown",a.xc).aa(d,"mouseup",a.yc).aa(d,"mouseout",a.wf),H&&c.aa(d,"dblclick",a.Mg))}
r.Ja=function(){Y.a.Ja.call(this);this.L&&this.L.detach();this.u&&this.isEnabled()&&this.i.ic(this,!1)};r.g=function(){Y.a.g.call(this);this.L&&(this.L.j(),delete this.L);delete this.i;this.Ta=this.Rc=n};r.getContent=p("Rc");r.setContent=function(a){this.i.setContent(this.c(),a);this.Rc=a};function og(a,b){a.Rc=b}
r.Xc=function(){var a=this.getContent();if(!a)return"";if(!B(a))if(z(a))a=vb(a,hd).join("");else{if(Oc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];id(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Oc||(a=a.replace(/ +/g," "));a!=" "&&(a=a.replace(/^\s*/,""))}return ya(a)};r.pd=function(a){Y.a.pd.call(this,a);var b=this.c();b&&this.i.pd(b,a)};r.Pd=function(a){this.ae=a;var b=this.c();b&&this.i.Pd(b,a)};
r.setVisible=function(a,b){if(b||this.u!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.i.setVisible(c,a);this.isEnabled()&&this.i.ic(this,a);this.u=a;return!0}return!1};r.isEnabled=function(){return!(this.o&1)};r.hc=function(a){var b=this.getParent();if((!b||typeof b.isEnabled!="function"||b.isEnabled())&&wg(this,1,!a))a||(this.setActive(!1),this.yb(!1)),this.u&&this.i.ic(this,a),this.Ca(1,!a)};r.yb=function(a){wg(this,2,a)&&this.Ca(2,a)};
r.setActive=function(a){wg(this,4,a)&&this.Ca(4,a)};r.dg=function(a){wg(this,8,a)&&this.Ca(8,a)};r.La=function(){return!!(this.o&64)};r.R=function(a){wg(this,64,a)&&this.Ca(64,a)};r.Ca=function(a,b){if(this.T&a&&b!=!!(this.o&a))this.i.Ca(this,a,b),this.o=b?this.o|a:this.o&~a};function xg(a,b,c){a.H&&a.o&b&&!c&&e(Error("Component already rendered"));!c&&a.o&b&&a.Ca(b,!1);a.T=c?a.T|b:a.T&~b}function yg(a,b){return!!(a.$e&b)&&!!(a.T&b)}
function wg(a,b,c){return!!(a.T&b)&&!!(a.o&b)!=c&&(!(a.Oe&b)||a.dispatchEvent(ag(b,c)))&&!a.ie}r.xf=function(a){(!a.relatedTarget||!cd(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&yg(this,2)&&this.yb(!0)};r.wf=function(a){if((!a.relatedTarget||!cd(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))yg(this,4)&&this.setActive(!1),yg(this,2)&&this.yb(!1)};
r.xc=function(a){this.isEnabled()&&(yg(this,2)&&this.yb(!0),Cd(a)&&(yg(this,4)&&this.setActive(!0),this.i.Zb(this)&&this.Y().focus()));!this.ae&&Cd(a)&&a.preventDefault()};r.yc=function(a){this.isEnabled()&&(yg(this,2)&&this.yb(!0),this.o&4&&this.hd(a)&&yg(this,4)&&this.setActive(!1))};r.Mg=function(a){this.isEnabled()&&this.hd(a)};
r.hd=function(a){if(yg(this,16)){var b=!(this.o&16);wg(this,16,b)&&this.Ca(16,b)}yg(this,8)&&this.dg(!0);yg(this,64)&&this.R(!this.La());b=new R("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};r.wc=function(){yg(this,32)&&wg(this,32,!0)&&this.Ca(32,!0)};r.Jb=function(){yg(this,4)&&this.setActive(!1);yg(this,32)&&wg(this,32,!1)&&this.Ca(32,!1)};
r.Wa=function(a){return this.u&&this.isEnabled()&&this.bd(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};r.bd=function(a){return a.keyCode==13&&this.hd(a)};fa(Y)||e(Error("Invalid component class "+Y));fa(lg)||e(Error("Invalid renderer class "+lg));var zg=ha(Y);sg[zg]=lg;qg("goog-control",function(){return new Y(n)});function Ag(){}E(Ag,lg);ca(Ag);r=Ag.prototype;r.rb=q("button");r.Da=function(a,b,c){b==16?X(a,"pressed",c):Ag.a.Da.call(this,a,b,c)};r.t=function(a){var b=Ag.a.t.call(this,a),c=a.Cd();c&&this.eg(b,c);(c=a.n())&&this.S(b,c);a.T&16&&this.Da(b,16,!!(a.o&16));return b};r.ia=function(a,b){var b=Ag.a.ia.call(this,a,b),c=this.n(b);a.ib=c;a.mg=this.Cd(b);a.T&16&&this.Da(b,16,!!(a.o&16));return b};r.n=t;r.S=t;r.Cd=function(a){return a.title};r.eg=function(a,b){if(a)a.title=b||""};r.p=q("goog-button");function Bg(){}E(Bg,Ag);ca(Bg);r=Bg.prototype;r.rb=aa();r.t=function(a){tg(a,!1);a.$e&=-256;xg(a,32,!1);return a.X().t("button",{"class":this.Yc(a).join(" "),"disabled":!a.isEnabled(),"title":a.Cd()||"","value":a.n()||""},a.Xc()||"")};r.Ra=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};r.ia=function(a,b){tg(a,!1);a.$e&=-256;xg(a,32,!1);b.disabled&&O(b,this.zd(1));return Bg.a.ia.call(this,a,b)};
r.cd=function(a){a.ra().h(a.c(),"click",a.hd)};r.Pd=t;r.pd=t;r.Zb=function(a){return a.isEnabled()};r.ic=t;r.Ca=function(a,b,c){Bg.a.Ca.call(this,a,b,c);if((a=a.c())&&b==1)a.disabled=c};r.n=function(a){return a.value};r.S=function(a,b){if(a)a.value=b};r.Da=t;function Cg(a,b,c){Y.call(this,a,b||Bg.Aa(),c)}E(Cg,Y);r=Cg.prototype;r.n=p("ib");r.S=function(a){this.ib=a;this.i.S(this.c(),a)};r.Cd=p("mg");r.eg=function(a){this.mg=a;this.i.eg(this.c(),a)};r.g=function(){Cg.a.g.call(this);delete this.ib;delete this.mg};r.ba=function(){Cg.a.ba.call(this);if(this.T&32){var a=this.Y();a&&this.ra().h(a,"keyup",this.bd)}};r.bd=function(a){return a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup"?this.hd(a):a.keyCode==32};qg("goog-button",function(){return new Cg(n)});function Dg(){}E(Dg,Ag);ca(Dg);r=Dg.prototype;r.t=function(a){var b={"class":"goog-inline-block "+this.Yc(a).join(" "),"title":a.Cd()||""},b=a.X().t("div",b,this.fe(a.getContent(),a.X()));this.Ke(a,b);return b};r.rb=q("button");r.Ke=function(a,b){a.isEnabled()||this.Da(b,1,!0);a.o&8&&this.Da(b,8,!0);a.T&16&&this.Da(b,16,!0);a.La()&&this.Da(b,64,!0)};r.W=function(a){return a&&a.firstChild.firstChild};
r.fe=function(a,b){return b.t("div","goog-inline-block "+(this.p()+"-outer-box"),b.t("div","goog-inline-block "+(this.p()+"-inner-box"),a))};r.Ra=function(a){return a.tagName=="DIV"};r.ia=function(a,b){Eg(b,!0);Eg(b,!1);var c;a:{if((c=a.X().Ig(b))&&c.className.indexOf(this.p()+"-outer-box")!=-1)if((c=a.X().Ig(c))&&c.className.indexOf(this.p()+"-inner-box")!=-1){c=!0;break a}c=!1}c||b.appendChild(this.fe(b.childNodes,a.X()));O(b,"goog-inline-block",this.p());return Dg.a.ia.call(this,a,b)};r.p=q("goog-custom-button");
function Eg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(za(f)=="")a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Fg(a,b,c){Cg.call(this,a,b||Dg.Aa(),c)}E(Fg,Cg);qg("goog-custom-button",function(){return new Fg(n)});function Gg(a){this.e=a;this.Kb=this.ub=0;this.oa=1E7;this.va=n;this.Ch=this.tilt=this.heading=0}E(Gg,de);r=Gg.prototype;r.setPosition=function(a,b){this.ub=N(a,-1.57,1.57);this.Kb=kc(b);this.va=n;this.dispatchEvent(new Hg(Ig))};function Jg(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.Ch);b/=Math.max(Math.abs(Math.cos(a.tilt)),0.1);d(a.heading);a.setPosition(a.ub+b,a.Kb+c)}r.getPosition=function(){return[this.ub,this.Kb]};
function Kg(a,b){a.oa=N(b,250,1E7);a.va=n;a.dispatchEvent(new Hg(Lg));a.dispatchEvent(new Hg(Ig))}r.setZoom=function(a){this.va=N(a,Mg(this.e),this.e.V.wa.Ua());a=Math.cos(Math.abs(this.ub))*2*Math.PI/Math.pow(2,this.va)*this.e.Sd;this.oa=1/Math.tan(this.e.b.ke/2)*(a/2)*6378137;this.dispatchEvent(new Hg(Ig));this.dispatchEvent(new Hg(Lg))};
r.getZoom=function(){if(w(this.va)){var a=2*(this.oa/6378137)*Math.tan(this.e.b.ke/2)/this.e.Sd;this.va=N(Math.log(Math.cos(Math.abs(this.ub))*2*Math.PI/a)/Math.LN2,Mg(this.e),this.e.V.wa.Ua())}return this.va};r.$c=function(){return Ng(this.e,this.e.b.lb/2,this.e.b.kb/2,!0)};var Ig="zoomchanged",Lg="altchanged";function Hg(a){R.call(this,a)}E(Hg,R);function Og(a,b,c,d,f){function g(a,b,c,d){a?a=b:(a=b/Math.max(1,Math.sqrt(c*c+d*d)),a=Math.max(1,Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))));return a}a=a.sa;this.jb=[];this.Sc=[];this.z=[];for(var h=-b/2;h<b/2;++h)for(var j=-c/2;j<c/2;++j){var k=g(f,d,h,j),l=[j+1<c/2&&g(f,d,h,j+1)>k,h+1<b/2&&g(f,d,h+1,j)>k,j-1>-c/2&&g(f,d,h,j-1)>k,h-1>-b/2&&g(f,d,h-1,j)>k];Pg(this,h,j,k,l)}this.Se=a.createBuffer();this.Qe=a.createBuffer();this.Wg=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Se);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.jb),a.STATIC_DRAW);this.Se.Ef=2;a.bindBuffer(a.ARRAY_BUFFER,this.Qe);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.Sc),a.STATIC_DRAW);this.Qe.Ef=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Wg);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.z),a.STATIC_DRAW);this.sj=this.z.length}
function Pg(a,b,c,d,f){for(var g=a.jb.length/2,h=0;h<=d;++h)for(var j=0;j<=d;++j)a.jb.push(b+j/d,c+h/d),a.Sc.push(j/d,1-h/d);var k=[0,0,0,0];if(f[0]){k[0]=a.jb.length/2;for(j=0;j<d;++j)a.jb.push(b+(j+0.5)/d,c+1),a.Sc.push((j+0.5)/d,0)}if(f[1]){k[1]=a.jb.length/2;for(h=0;h<d;++h)a.jb.push(b+1,c+(h+0.5)/d),a.Sc.push(1,1-(h+0.5)/d)}if(f[2]){k[2]=a.jb.length/2;for(j=0;j<d;++j)a.jb.push(b+(j+0.5)/d,c),a.Sc.push((j+0.5)/d,1)}if(f[3]){k[3]=a.jb.length/2;for(h=0;h<d;++h)a.jb.push(b,c+(h+0.5)/d),a.Sc.push(0,
1-(h+0.5)/d)}b=C(aa(),a);c=d+1;for(h=0;h<d;++h)for(j=0;j<d;++j){var l=g+h*c+j;a.z.push(l);var o=h==0&&f[2],m=j==0&&f[3];o&&!m?(a.z.push(k[2]+j),a.z.push(l+c),b(),a.z.push(k[2]+j)):m&&!o?(a.z.push(l+1),a.z.push(k[3]+h),b(),a.z.push(k[3]+h)):m&&o&&(a.z.push(k[2]+j),a.z.push(k[3]+h),b(),a.z.push(k[3]+h),a.z.push(k[2]+j),a.z.push(l+c),b(),a.z.push(k[2]+j));a.z.push(l+1);a.z.push(l+c);b();a.z.push(l+c+1);o=h==d-1&&f[0];m=j==d-1&&f[1];o&&!m?(a.z.push(k[0]+j),a.z.push(l+1),b(),a.z.push(k[0]+j)):m&&!o?(a.z.push(l+
c),a.z.push(k[1]+h),b(),a.z.push(k[1]+h)):o&&m&&(a.z.push(k[0]+j),a.z.push(k[1]+h),b(),a.z.push(k[1]+h),a.z.push(k[0]+j),a.z.push(l+1),b(),a.z.push(k[0]+j));a.z.push(l+c);a.z.push(l+1);b()}};function Z(a,b){if(a instanceof Z)this.B=a.lg();else{var c;if(c=A(a))a:{for(var d=c=0;d<a.length;d++){if(!A(a[d])||c>0&&a[d].length!=c){c=!1;break a}for(var f=0;f<a[d].length;f++)if(!ea(a[d][f])){c=!1;break a}if(c==0)c=a[d].length}c=c!=0}c?this.B=Bb(a):a instanceof Lc?this.B=Qg(a.height,a.width):ea(a)&&ea(b)&&a>0&&b>0?this.B=Qg(a,b):e(Error("Invalid argument(s) for Matrix contructor"))}this.l=new Lc(this.B[0].length,this.B.length)}
function Rg(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Z(b)}function Sg(a,b,c){for(var d=0;d<a.Hb().height;d++)for(var f=0;f<a.Hb().width;f++)b.call(c,a.B[d][f],d,f,a)}function Tg(a,b){var c=new Z(a.Hb());Sg(a,function(d,f,g){c.B[f][g]=b.call(i,d,f,g,a)});return c}function Qg(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var f=0;f<b;f++)c[d][f]=0}return c}r=Z.prototype;
r.add=function(a){Mc(this.l,a.Hb())||e(Error("Matrix summation is only supported on arrays of equal size"));return Tg(this,function(b,c,d){return b+a.B[c][d]})};function Ug(a,b){a.l.height!=b.Hb().height&&e(Error("The given matrix has height "+b.l.height+", but  needs to have height "+a.l.height+"."));var c=new Z(a.l.height,a.l.width+b.l.width);Sg(a,function(a,b,g){c.B[b][g]=a});Sg(b,function(a,b,g){c.B[b][this.l.width+g]=a},a);return c}
r.equals=function(a,b){if(this.l.width!=a.l.width)return!1;if(this.l.height!=a.l.height)return!1;for(var c=b||0,d=0;d<this.l.height;d++)for(var f=0;f<this.l.width;f++)if(!(Math.abs(this.B[d][f]-a.B[d][f])<=(c||1.0E-6)))return!1;return!0};r.Hb=p("l");function Vg(a){var b=new Z(a.l.width,a.l.height);Sg(a,function(a,d,f){b.B[f][d]=a});return b}function Wg(a,b,c){return!(b>=0&&b<a.l.height&&c>=0&&c<a.l.width)?n:a.B[b][c]}
function Xg(a,b,c,d){b>=0&&b<a.l.height&&c>=0&&c<a.l.width||e(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.l.height+","+a.l.width+")"));a.B[b][c]=d}r.multiply=function(a){if(a instanceof Z)return this.l.width!=a.Hb().height&&e(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Yg(this,a);else if(ea(a))return Zg(this,a);else e(Error("A matrix can only be multiplied by a number or another matrix."))};
r.ig=function(a){Mc(this.l,a.Hb())||e(Error("Matrix subtraction is only supported on arrays of equal size."));return Tg(this,function(b,c,d){return b-a.B[c][d]})};r.lg=p("B");function $g(a,b,c,d){var f=new Z((c?c:a.l.height-1)-0+1,(d?d:a.l.width-1)-b+1);Sg(f,function(a,c,d){f.B[c][d]=this.B[0+c][b+d]},a);return f}function Yg(a,b){var c=new Z(a.l.height,b.Hb().width);Sg(c,function(a,f,g){for(var h=a=0;h<this.l.width;h++)a+=Wg(this,f,h)*Wg(b,h,g);Xg(c,f,g,a)},a);return c}
function Zg(a,b){return Tg(a,function(a){return a*b})};function ah(){this.wb=Rg(4)}ah.prototype.translate=function(a,b,c){this.wb=this.wb.multiply(new Z([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};function bh(a,b){var c=Math.cos(b),d=Math.sin(b);a.wb=a.wb.multiply(new Z([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}function ch(a,b){var c=Math.cos(b),d=Math.sin(b);a.wb=a.wb.multiply(new Z([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))};function dh(a,b,c){function d(a,b){try{var c=a.getContext(b);if(c!=n)return c}catch(d){}return n}for(var f=n,g=["webgl","experimental-webgl"],h=0;w(f)&&h<g.length;++h)f=f||d(a,g[h]);w(f)&&(v(c)?c():e(Error("unable to get a valid WebGL context")));f.enable(f.CULL_FACE);f.cullFace(f.BACK);f.clearColor(0,0,0,0);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.depthFunc(f.LEQUAL);this.canvas=a;this.mf=b||n;this.sa=f;this.lb=a.width;this.kb=a.height;f.viewport(0,0,this.lb,this.kb);this.$d=this.ke=0;this.Zd=1;
this.be=this.lb/this.kb;this.kd=Rg(4);this.bc=new ah;this.Ce=this.Be=this.kd;this.nf=this.le=this.If=this.wg=this.lf=0;T(s,"resize",this.Ie,!1,this)}function eh(a){a.ke=hc(50);a.$d=1.0E-6;a.Zd=5;a.be=a.lb/a.kb;fh(a)}function fh(a){var b=1/Math.tan(a.ke/2);a.kd=new Z([[b/a.be,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);gh(a)}function gh(a){var b=a.$d-a.Zd;Xg(a.kd,2,2,(a.Zd+a.$d)/b);Xg(a.kd,2,3,2*a.Zd*a.$d/b)}
dh.prototype.Ie=function(){this.lb=this.canvas.width=this.canvas.clientWidth;this.kb=this.canvas.height=this.canvas.clientHeight;this.sa.viewport(0,0,this.lb,this.kb);this.be=this.lb/this.kb;fh(this);hh(this.m)};dh.prototype.m=n;
function ih(a){a.Be=a.kd.multiply(a.bc.wb);var b,c=a.Be;c.l.width!=c.l.height&&e(Error("An inverse can only be taken on a square matrix."));b=Rg(c.l.height);a:{for(var c=Ug(c,b),d=new Z(c),f=0,g=0;g<d.l.height;g++){if(f>=d.l.width)break;for(var h=g;d.B[h][f]==0;)if(h++,h==d.l.height&&(h=g,f++,f==d.l.width)){c=d;break a}var j=c,k=g,l=j.B[h];j.B[h]=j.B[k];j.B[k]=l;h=d.B[g][f];for(j=f;j<d.l.width;j++)d.B[g][j]/=h;for(h=0;h<d.l.height;h++)if(h!=g){k=d.B[h][f];for(j=f;j<d.l.width;j++)d.B[h][j]-=k*d.B[g][j]}f++}c=
d}b=!$g(c,0,b.l.width-1,b.l.height-1).equals(b)?n:$g(c,b.l.width);a.Ce=b;return a.Be};function jh(a,b,c){c=a.sa.createShader(c);a.sa.shaderSource(c,b);a.sa.compileShader(c);a.sa.getShaderParameter(c,a.sa.COMPILE_STATUS)?w(c)&&e(Error("Unknown")):e(Error("Shader err: "+a.sa.getShaderInfoLog(c)));return c};function kh(a,b,c){b=b.sa;this.D=a;this.Th=b.getAttribLocation(this.D,"aVertexPosition");b.enableVertexAttribArray(this.Th);this.Nh=b.getAttribLocation(this.D,"aTextureCoord");b.enableVertexAttribArray(this.Nh);this.pj=$(b,this.D,"uMVPMatrix");this.cj=$(b,this.D,"uMetaL0A");this.fj=$(b,this.D,"uMetaL1A");this.ij=$(b,this.D,"uMetaL2A");this.Xi=$(b,this.D,"uOffLA");this.di=$(b,this.D,"uBufferL0A");this.gi=$(b,this.D,"uBufferL1A");this.ji=$(b,this.D,"uBufferL2A");this.li=$(b,this.D,"uBufferLnA");this.dj=
$(b,this.D,"uMetaL0B");this.gj=$(b,this.D,"uMetaL1B");this.jj=$(b,this.D,"uMetaL2B");this.Yi=$(b,this.D,"uOffLB");this.ei=$(b,this.D,"uBufferL0B");this.hi=$(b,this.D,"uBufferL1B");this.ki=$(b,this.D,"uBufferL2B");this.kj=$(b,this.D,"uMixFactor");if(c)this.vi=$(b,this.D,"uDegradationT"),this.ej=$(b,this.D,"uMetaL0T"),this.hj=$(b,this.D,"uMetaL1T"),this.Zi=$(b,this.D,"uOffLT"),this.fi=$(b,this.D,"uBufferL0T"),this.ii=$(b,this.D,"uBufferL1T"),this.mi=$(b,this.D,"uBufferLnT");this.Wj=$(b,this.D,"uTileCount");
this.tj=$(b,this.D,"uOffset")}function $(a,b,c){a=a.getUniformLocation(b,c);w(a)&&e(Error("Invalid name "+c));return a};var lh={"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0A;uniform sampler2D uBufferL1A;uniform sampler2D uBufferL2A;uniform sampler2D uBufferLnA;varying float vFallbackA;varying vec2 vTCA;uniform sampler2D uBufferL0B;uniform sampler2D uBufferL1B;uniform sampler2D uBufferL2B;varying float vFallbackB;varying vec2 vTCB;uniform float uMixFactor;void main(){float fallbackA=floor(vFallbackA+0.5);vec4 colorA;if(fallbackA==0.0){colorA=texture2D(uBufferL0A,vTCA);}else if(fallbackA==1.0){colorA=texture2D(uBufferL1A,vTCA);}else if(fallbackA==2.0){colorA=texture2D(uBufferL2A,vTCA);}else if(fallbackA==-1.0){colorA=texture2D(uBufferLnA,vTCA);}else{discard;}float fallbackB=floor(vFallbackB+0.5);vec4 colorB=vec4(0.0);if(fallbackB==0.0){colorB=texture2D(uBufferL0B,vTCB);}else if(fallbackB==1.0){colorB=texture2D(uBufferL1B,vTCB);}else if(fallbackB==2.0){colorB=texture2D(uBufferL2B,vTCB);}gl_FragColor=mix(colorA,colorB,uMixFactor*colorB.a);}",
"earth-vs.glsl":"#define BUFF_SIDE %BUFFER_SIDE_FLOAT%\n#define BUFF_SIZE int(BUFF_SIDE*BUFF_SIDE)\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0A[BUFF_SIZE];uniform float uMetaL1A[BUFF_SIZE];uniform float uMetaL2A[BUFF_SIZE];uniform vec2 uOffLA[3];varying float vFallbackA;varying vec2 vTCA;uniform float uMetaL0B[BUFF_SIZE];uniform float uMetaL1B[BUFF_SIZE];uniform float uMetaL2B[BUFF_SIZE];uniform vec2 uOffLB[3];varying float vFallbackB;varying vec2 vTCB;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffLA[0],uTileCount);if(validateOffset(off)&&uMetaL0A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLA[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLA[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffLA[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;vFallbackB=-1.0;off=modFirst(tileCoords-uOffLB[0],uTileCount);if(validateOffset(off)&&uMetaL0B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLB[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLB[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=2.0;}}}if(vFallbackB>=0.0){vTCB=(off+aTextureCoord/exp2(vFallbackB)+mod(uOffLB[int(vFallbackB)],BUFF_SIDE))/BUFF_SIDE;}else{vTCB=(tileCoords+aTextureCoord)/uTileCount;}vTCB.y=1.0-vTCB.y;}"};function mh(a){return a in lh?lh[a]:jc("../we/shaders/"+a)};function nh(a){this.Qb=new Rb;this.Bc=[];this.Tj=512;this.Ag=new Te(2E4);T(this.Ag,Ve,this.qi,!1,this);this.Ag.start();oh(this,a)}function oh(a,b){a.Oh=D();a.gb=b;Lb(a.Qb,function(a){a.j()});a.Qb.clear();a.Bc=[]}r=nh.prototype;r.gb=n;r.Oh=0;r.Vj=t;
r.qi=function(){var a=ub(this.Qb.Ka(),function(a){return a.state==20||a.state==ua||a.state==-10});for(Fb(a,function(a,b){return a.Ic-b.Ic});this.Qb.sb()>this.Tj&&a.length>0;){var b=a.shift();b.state==ua&&zb(this.Bc,b);this.Qb.remove(b.zoom+"_"+b.x+"_"+b.y);b.j()}};r.Xj=function(a){a.Ic<this.Oh?(a.state=-10,this.Qb.remove(a.zoom+"_"+a.x+"_"+a.y),a.j()):this.Vj(a)};
function ph(a){Fb(a.Bc,function(a,b){return a.Ic-b.Ic});for(var b=Math.min(a.Bc.length,5-a.gb.Za),c=0;c<b;c++)bc(a.gb,a.Bc.pop(),C(a.Xj,a))};function qh(a,b,c,d){this.Va=b.sa;this.Ub=[];this.s=c;this.gb=a;this.kg=new nh(a);this.va=d;this.Fa=1<<this.va;this.Vc=this.s>=this.Fa;this.Mb=this.Dc=0;this.buffer=n;this.ua=[];rh(this)}function rh(a){a.ua=[];for(var b=0;b<a.s;++b)a.ua.push(Array(a.s));a.buffer&&a.buffer.clear()}qh.prototype.disable=function(){this.Ub=[];rh(this);this.buffer=n};qh.prototype.ob=function(a){this.gb=a;oh(this.kg,a);this.Ub=[];rh(this)};
function sh(a){a.Ub=[];for(var b=C(function(a,b){var c=(this.Vc?this.Fa:this.s)/2;a+=c;b+=c;if(this.ua[b][a]!==1){var j=this.Dc+a,k=this.Mb+b,j=gc(j,this.Fa),k=gc(k,this.Fa);a:{var c=this.kg,l=this.va,o=j,m=k,y=d,k=l+"_"+o+"_"+m,j=c.Qb.get(k);if(j!=n)j.state==-10?y-j.Ic>7E3&&(j.j(),j=new ta(l,o,m,y),c.Qb.set(k,j),c.Bc.push(j)):j.Ic=y;else{l=j=new ta(l,o,m,y);o=Zb(c.gb,l.zoom);if(!(l.x>=o.left&&l.x<=o.right&&l.y>=o.top&&l.y<=o.bottom)){c=n;break a}c.Qb.set(k,j);c.Bc.push(j)}c=j}!w(c)&&c.state==20&&
this.Ub.push(c)}},a),c=C(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=D(),a=Math.min(a.s,a.Fa)/2;a>0;--a)c(d+a,a)};function th(a,b,c){var d;d=this.Va=a.sa,a=d;this.pg=b;this.zf=c;this.fb=a.createTexture();uh(this)}th.prototype.Ie=function(a,b){if(!(this.pg==a&&this.zf==b))this.pg=a,this.zf=b,this.Va.deleteTexture(this.fb),this.fb=this.Va.createTexture(),uh(this)};
function uh(a){var b=a.Va;b.bindTexture(b.TEXTURE_2D,a.fb);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.pg,a.zf,0,b.RGBA,b.UNSIGNED_BYTE,n);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)}th.prototype.clear=function(){this.Va.deleteTexture(this.fb);this.fb=this.Va.createTexture();uh(this)};function vh(a,b,c){function d(b){g.isTexture(h)&&(b.jf>=3||bc(a,b,f,d))}function f(a){g.isTexture(h)&&(g.bindTexture(g.TEXTURE_2D,h),g.texSubImage2D(g.TEXTURE_2D,0,a.x*k,(j-a.y-1)*k,g.RGBA,g.UNSIGNED_BYTE,va(a)))}var g=this.Va=b.sa,h=g.createTexture();this.fb=h;var j=1<<c,k=a.Ib();g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,1);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,k*j,k*j,0,g.RGBA,g.UNSIGNED_BYTE,n);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.LINEAR);for(b=0;b<j;++b)for(var l=0;l<j;++l)bc(a,new ta(c,b,l),f,d)}E(vh,F);vh.prototype.g=function(){this.Va.deleteTexture(this.fb)};function wh(a,b,c,d,f,g,h){this.ri=b;this.s=c;this.Na=f;this.ze=g;this.gb=a;var j=a.Ib();this.zb=[];for(var k=0;k<d;++k)this.zb.push(new th(b,this.s*j,this.s*j));for(this.ca=[];f<=g;++f)this.ca.push(new qh(a,b,c,f));for(k=0;k<d;++k)this.ca[k].buffer=this.zb[k];this.Pa=0;this.Ed=h?n:new vh(a,b,2)}wh.prototype.ob=function(a){if(!w(this.Ed))this.Ed.j(),this.Ed=new vh(a,this.ri,2);this.gb=a;var b=this.s*a.Ib();M(this.zb,function(a){a.Ie(b,b)});M(this.ca,function(b){b.ob(a)});xh(this)};
function yh(a,b,c,d,f,g){for(var g=N(g,a.Na,a.ze),h=g-(a.Na+a.Pa+a.zb.length-1);h>0;){var j=a.ca[a.Pa].buffer;a.ca[a.Pa].disable();a.ca[++a.Pa+a.zb.length-1].buffer=j;h--}for(;h<0&&a.Pa>0;)j=a.ca[a.Pa+a.zb.length-1].buffer,a.ca[a.Pa+a.zb.length-1].disable(),a.ca[--a.Pa].buffer=j,h++;for(var h=1<<g,k=!1,c=(c/(2*Math.PI)+0.5)*h,b=(0.5-$b(b)/(Math.PI*2))*h,f=(f/(2*Math.PI)+0.5)*h,j=(0.5-$b(d)/(Math.PI*2))*h,d=g-a.Na;d>=a.Pa;d--){var l=N(c-a.s/2,f-a.s,f),o=N(b-a.s/2,j-a.s,j),m=Zb(a.gb,a.Na+d),l=N(l,m.left,
m.right+1-a.s),o=N(o,m.top,m.bottom+1-a.s),l=gc(Math.round(l),h),o=Math.round(o),m=a.ca[d],y=o,o=!1;if(!m.Vc){var u=l-m.Dc,U=y-m.Mb;Math.abs(u)>m.Fa/2&&(u=(u-(u==0?0:u<0?-1:1)*m.Fa)%m.Fa);m.Dc=l;m.Mb=y;if(Math.abs(u)>=m.s||Math.abs(U)>=m.s)rh(m),o=!0;else{o=u!=0||U!=0;if(u>0)for(l=0;l<m.s;++l)m.ua[l].splice(0,u),m.ua[l].push.apply(m.ua[l],Array(u));if(u<0)for(l=0;l<m.s;++l)m.ua[l].splice(m.s+u,-u),m.ua[l].unshift.apply(m.ua[l],Array(-u));if(U>0)for(l=0;l<U;++l)m.ua.shift(),m.ua.push(Array(m.s));if(U<
0)for(l=0;l<-U;++l)m.ua.pop(),m.ua.unshift(Array(m.s))}}sh(m);k|=o;c/=2;b/=2;f/=2;j/=2}k&&xh(a);f=1;for(d=a.Pa;f>0&&d<=g-a.Na;d++){h=f;c=a.ca[d];b=0;if(c.Ub.length>0){f=Math.min(c.Ub.length,f>=0?1:0);for(j=0;j<f;j++){l=c;k=c.Ub.pop();if(!w(l.buffer)&&k.zoom==l.va&&(m=k.x-l.Dc,o=k.y-l.Mb,u=1<<l.va,m=gc(m,u),o=gc(o,u),!(m<0||m>=l.s||o<0||o>=l.s)))u=l.Va,U=l.gb.Ib(),u.bindTexture(u.TEXTURE_2D,l.buffer.fb),u.texSubImage2D(u.TEXTURE_2D,0,gc(m+l.Dc,l.s)*U,(l.s-gc(o+l.Mb,l.s)-1)*U,u.RGBA,u.UNSIGNED_BYTE,
va(k)),l.ua[o][m]=1;b++}}ph(c.kg);f=h-b}}function zh(a,b,c){return b>a.ze||b-c<a.Na?Array(a.s*a.s):Hb(a.ca[b-a.Na-c].ua)}function Ah(a,b,c){return b>a.ze||b-c<a.Na?n:a.ca[b-a.Na-c].buffer.fb}function Bh(a,b,c){if(b>a.ze)return Array(2*c);for(var d=[],f=b-a.Na;f>b-a.Na-c;--f)d.push(Math.round(a.ca[Math.max(0,f)].Dc),Math.round(a.ca[Math.max(0,f)].Mb));return d}
function xh(a){for(var b=Array(a.zb.length),c=0;c<a.zb.length;c++){var d=a.ca[a.Pa+c],f=Ch((0.5-d.Mb/d.Fa)*2*Math.PI),g=Ch((0.5-(d.Mb+d.s)/d.Fa)*2*Math.PI);b[c]=new dc(d.Vc?0:Ch((0.5-(d.Mb+d.s/2)/d.Fa)*2*Math.PI),d.Vc?0:((d.Dc+d.s/2)/d.Fa-0.5)*2*Math.PI,d.Vc?Math.PI/2:Math.abs(f-g),d.Vc?Math.PI:d.s/d.Fa*2*Math.PI,d.va)}a.gb.Ah(b)};function Dh(a,b){this.b=a.b;this.m=a;var c=this.b.sa;this.wa=b||new Yf;this.Ha=new wh(this.wa,this.b,4,3,1,19);this.vd=new Yf;this.Bb=new wh(this.vd,this.b,4,3,0,15,!0);this.Xf=0.5;this.Mc=!1;this.ob(this.wa,!0);this.ob(this.vd,!0,!0);this.Nc=1;this.dc=[0,0];this.Eh=[new Og(this.b,1,1,1),new Og(this.b,4,4,16,!0),new Og(this.b,6,6,8,!0),new Og(this.b,8,8,8,!0),new Og(this.b,10,10,8),new Og(this.b,64,64,this.Mc?8:4)];var d=mh("earth-fs.glsl"),f=mh("earth-vs.glsl"),f=f.replace("%BUFFER_SIDE_FLOAT%",
this.Ha.s.toFixed(1)),f=f.replace("%TERRAIN_BOOL%",this.Mc?"1":"0");this.Mc&&(f=f.replace("%BUFFER_SIDE_T_FLOAT%",this.Vb.s.toFixed(1)));var d=jh(this.b,d,c.FRAGMENT_SHADER),f=jh(this.b,f,c.VERTEX_SHADER),g=c.createProgram();w(g)&&e(Error("Unknown"));c.attachShader(g,f);c.attachShader(g,d);c.bindAttribLocation(g,0,"aVertexPosition");c.linkProgram(g);c.getProgramParameter(g,c.LINK_STATUS)||e(Error("Shader program err: "+c.getProgramInfoLog(g)));this.C=new kh(g,this.b,this.Mc)}
Dh.prototype.ob=function(a,b,c){a.df=C(this.m.og,this.m);c?(this.Bb.ob(a),this.vd=a):(this.Ha.ob(a),this.wa=a);b!==!0&&(hh(this.m),this.m.og(),this.m.d.setZoom(this.m.d.getZoom()))};
Dh.prototype.draw=function(){var a=this.b.sa;this.Nc=1<<this.m.d.getZoom();var b=this.m.d.getPosition(),c=this.m.d.$c()||b;this.dc[0]=Math.floor(b[1]/(2*Math.PI)*this.Nc);this.dc[1]=N(Math.floor($b(b[0])/(Math.PI*2)*this.Nc),-this.Nc/2,this.Nc/2);yh(this.Ha,c[0],c[1],b[0],b[1],Math.floor(this.m.d.getZoom()));yh(this.Bb,c[0],c[1],b[0],b[1],Math.floor(this.m.d.getZoom()));this.Mc&&yh(this.Vb,c[0],c[1],b[0],b[1],Math.floor(this.m.d.getZoom())-5);b=Math.floor(this.m.d.getZoom());this.Nc=1<<b;a.useProgram(this.C.D);
a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,Ah(this.Ha,b,0));a.uniform1i(this.C.di,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Ah(this.Ha,b,1));a.uniform1i(this.C.gi,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Ah(this.Ha,b,2));a.uniform1i(this.C.ji,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Ha.Ed.fb);a.uniform1i(this.C.li,3);a.uniform1fv(this.C.cj,new Float32Array(zh(this.Ha,b,0)));a.uniform1fv(this.C.fj,new Float32Array(zh(this.Ha,b,1)));
a.uniform1fv(this.C.ij,new Float32Array(zh(this.Ha,b,2)));a.uniform2fv(this.C.Xi,new Float32Array(Bh(this.Ha,b,3)));a.activeTexture(a.TEXTURE4);a.bindTexture(a.TEXTURE_2D,Ah(this.Bb,b,0));a.uniform1i(this.C.ei,4);a.activeTexture(a.TEXTURE5);a.bindTexture(a.TEXTURE_2D,Ah(this.Bb,b,1));a.uniform1i(this.C.hi,5);a.activeTexture(a.TEXTURE6);a.bindTexture(a.TEXTURE_2D,Ah(this.Bb,b,2));a.uniform1i(this.C.ki,6);a.uniform1fv(this.C.dj,new Float32Array(zh(this.Bb,b,0)));a.uniform1fv(this.C.gj,new Float32Array(zh(this.Bb,
b,1)));a.uniform1fv(this.C.jj,new Float32Array(zh(this.Bb,b,2)));a.uniform2fv(this.C.Yi,new Float32Array(Bh(this.Bb,b,3)));a.uniform1f(this.C.kj,this.Xf);this.Mc&&(c=N(b-5,2,this.Pe.Ua()),a.uniform1f(this.C.vi,b-c),a.activeTexture(a.TEXTURE7),a.bindTexture(a.TEXTURE_2D,Ah(this.Vb,c,0)),a.uniform1i(this.C.fi,7),a.activeTexture(a.TEXTURE8),a.bindTexture(a.TEXTURE_2D,Ah(this.Vb,c,1)),a.uniform1i(this.C.ii,8),a.activeTexture(a.TEXTURE9),a.bindTexture(a.TEXTURE_2D,this.Vb.Ed.fb),a.uniform1i(this.C.mi,
9),a.uniform1fv(this.C.ej,new Float32Array(zh(this.Vb,c,0))),a.uniform1fv(this.C.hj,new Float32Array(zh(this.Vb,c,1))),a.uniform2fv(this.C.Zi,new Float32Array(Bh(this.Vb,c,2))));c=new Float32Array(Hb(Vg(ih(this.b)).lg()));b=this.Eh[Math.min(b,this.Eh.length-1)];a.bindBuffer(a.ARRAY_BUFFER,b.Se);a.vertexAttribPointer(this.C.Th,b.Se.Ef,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,b.Qe);a.vertexAttribPointer(this.C.Nh,b.Qe.Ef,a.FLOAT,!1,0,0);a.uniformMatrix4fv(this.C.pj,!1,c);a.uniform1f(this.C.Wj,this.Nc);
a.uniform2fv(this.C.tj,new Float32Array(this.dc));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.Wg);a.drawElements(a.TRIANGLES,b.sj,a.UNSIGNED_SHORT,0)};function Eh(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.G=v(c)?c:0}Eh.prototype.ha=function(){return new Eh(this.x,this.y,this.G)};Eh.prototype.lg=function(){return[this.x,this.y,this.G]};function Fh(a,b,c){this.x=a;this.y=b;this.G=c}E(Fh,Eh);r=Fh.prototype;r.ha=function(){return new Fh(this.x,this.y,this.G)};r.scale=function(a){this.x*=a;this.y*=a;this.G*=a;return this};r.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.G*this.G))};r.add=function(a){this.x+=a.x;this.y+=a.y;this.G+=a.G;return this};r.ig=function(a){this.x-=a.x;this.y-=a.y;this.G-=a.G;return this};r.equals=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.G==a.G};function Gh(a,b,c,d,f,g){if(w(d))return n;a=d.multiply(new Z([[a/f*2-1],[1-2*b/g],[c*2-1],[1]]));if(Wg(a,3,0)==0)return n;a=a.multiply(1/Wg(a,3,0));return new Fh(Wg(a,0,0),Wg(a,1,0),Wg(a,2,0))};function Hh(a,b,c,d,f,g){this.b=a;this.Xg=b||n;this.lc=c||document.createElement("div");if(!v(c))a=this.b.canvas,a.parentNode&&a.parentNode.insertBefore(this.lc,a.nextSibling);this.Vd=d||document.createElement("img");if(!v(d))d=this.lc,d.parentNode&&d.parentNode.insertBefore(this.Vd,d.nextSibling);this.Zh=g||n;this.V=new Dh(this,f);this.Sd=0;this.d=new Gg(this);hh(this);this.og()}
Hh.prototype.og=function(){w(this.lc)||($c(this.lc),Zc(this.lc,this.Zh),this.V.wa.nc(this.lc),Zc(this.lc,Vc("br"),Vc("strong",{},"Overlay data:"),Vc("br")),this.V.vd.nc(this.lc));if(!w(this.Vd))w(this.V.wa.oe())?this.Vd.style.visibility="hidden":(this.Vd.src=this.V.wa.oe(),this.Vd.style.visibility="visible")};function Mg(a){return Math.max(3,a.V.wa.Zc())}function hh(a){a.Sd=0.7*a.b.canvas.height/a.V.wa.Ib()}
Hh.prototype.draw=function(){if(!w(this.Xg)){for(var a=this.Xg,b=ic(this.d.ub).toFixed(4)+"; "+ic(this.d.Kb).toFixed(4)+" @ "+this.d.oa.toFixed(0)+"m -> z="+this.d.getZoom().toFixed(3)+"; ",c=this.V.Ha,d="",f=0;f<c.ca.length;++f)d+=f+c.Na+":"+c.ca[f].Ub.length+" ";a.innerHTML=b+("BufferQueue size: "+d+"; Loading tiles: "+this.V.wa.Za+" + "+this.V.vd.Za)}a=this.d.oa/6378137;b=this.b;b.$d=0.25*a;b.Zd=1+a;gh(b);ch(this.b.bc,-this.d.Ch);bh(this.b.bc,-this.d.tilt);ch(this.b.bc,-this.d.heading);this.b.bc.translate(0,
0,-1-this.d.oa/6378137);bh(this.b.bc,this.d.ub);a=this.b.bc;c=-this.d.Kb;b=Math.cos(c);c=Math.sin(c);a.wb=a.wb.multiply(new Z([[b,0,c,0],[0,1,0,0],[-c,0,b,0],[0,0,0,1]]));this.V.draw()};function Ih(a,b){var c=a.ha();c.x=-c.x;c.y=-c.y;c.G=-c.G;var d=b.x*c.x+b.y*c.y+b.G*c.G,f=d*d-(c.x*c.x+c.y*c.y+c.G*c.G)+1;return f<0?n:(c=Math.min(d+Math.sqrt(f),d-Math.sqrt(f)),d=Math.max(d+Math.sqrt(f),d-Math.sqrt(f)),[c,d])}
function Ng(a,b,c,d){var f=Gh(b,c,0,a.b.Ce,a.b.lb,a.b.kb),a=Gh(b,c,1,a.b.Ce,a.b.lb,a.b.kb);if(w(f)||w(a))return n;a.ig(f);a.normalize();b=Ih(f,a);if(w(b))return n;a=a.scale(b[0]);f=new Fh(f.x+a.x,f.y+a.y,f.G+a.G);a=Math.asin(f.x/Math.sqrt(1-f.y*f.y));f.G<0&&(a=Math.PI-a);return d==!0?[Math.asin(f.y),kc(a)]:[ic(Math.asin(f.y)),ic(kc(a))]}function $b(a){return Math.log(Math.tan(a/2+Math.PI/4))}function Ch(a){return 2*Math.atan(Math.exp(a))-Math.PI/2};function Jh(a,b,c){this.target=a;this.handle=b||a;this.dh=c||new ve(NaN,NaN,NaN,NaN);this.A=Q(a);this.qb=new xf(this);T(this.handle,["touchstart","mousedown"],this.Ih,!1,this)}E(Jh,de);var Kh=H||I&&K("1.9.3");r=Jh.prototype;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.Kh=0;r.Lh=0;r.Wc=0;r.Wb=0;r.Sa=!0;r.Ia=!1;r.Ug=0;r.lj=0;r.Si=!1;r.ra=p("qb");r.hc=ba("Sa");
r.g=function(){Jh.a.g.call(this);Yd(this.handle,["touchstart","mousedown"],this.Ih,!1,this);this.qb.j();delete this.target;delete this.handle;delete this.qb};
r.Ih=function(a){var b=a.type=="mousedown";if(this.Sa&&!this.Ia&&(!b||Cd(a))){Lh(a);if(this.Ug==0)if(Mh(this,a),this.Ia)a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!Kh;this.qb.h(b,["touchmove","mousemove"],this.Mi,d);this.qb.h(b,["touchend","mouseup"],this.je,d);Kh?(c.setCapture(!1),this.qb.h(c,"losecapture",this.je)):this.qb.h(b?b.parentWindow||b.defaultView:window,"blur",this.je);H&&this.Si&&this.qb.h(b,"dragstart",xd);this.Mj&&this.qb.h(this.Mj,"scroll",
this.Bj,d);this.clientX=this.Kh=a.clientX;this.clientY=this.Lh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Wc=this.target.offsetLeft;this.Wb=this.target.offsetTop;this.Yf=ld(P(this.A));this.lj=D()}else this.dispatchEvent("earlycancel")};function Mh(a,b){if(a.dispatchEvent(new Nh("start",a,b.clientX,b.clientY,b))!==!1)a.Ia=!0}
r.je=function(a,b){this.qb.Kd();Kh&&this.A.releaseCapture();var c=Oh(this,this.Wc),d=Ph(this,this.Wb);this.Ia?(Lh(a),this.Ia=!1,this.dispatchEvent(new Nh("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};
function Lh(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Yb(a.qa.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Yb(a.qa.changedTouches[0],a.currentTarget)}
r.Mi=function(a){if(this.Sa){Lh(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ia){var d=this.Kh-this.clientX,f=this.Lh-this.clientY;if(d*d+f*f>this.Ug&&(Mh(this,a),!this.Ia)){this.je(a);return}}c=Qh(this,b,c);b=c.x;c=c.y;this.Ia&&this.dispatchEvent(new Nh("beforedrag",this,a.clientX,a.clientY,a,b,c))!==!1&&(Rh(this,a,b,c),a.preventDefault())}};
function Qh(a,b,c){var d=ld(P(a.A));b+=d.x-a.Yf.x;c+=d.y-a.Yf.y;a.Yf=d;a.Wc+=b;a.Wb+=c;b=Oh(a,a.Wc);a=Ph(a,a.Wb);return new G(b,a)}r.Bj=function(a){var b=Qh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Rh(this,a,b.x,b.y)};function Rh(a,b,c,d){a.gf(c,d);a.dispatchEvent(new Nh("drag",a,b.clientX,b.clientY,b,c,d))}function Oh(a,b){var c=a.dh,d=!isNaN(c.left)?c.left:n,c=!isNaN(c.width)?c.width:0;return Math.min(d!=n?d+c:Infinity,Math.max(d!=n?d:-Infinity,b))}
function Ph(a,b){var c=a.dh,d=!isNaN(c.top)?c.top:n,c=!isNaN(c.height)?c.height:0;return Math.min(d!=n?d+c:Infinity,Math.max(d!=n?d:-Infinity,b))}r.gf=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function Nh(a,b,c,d,f,g,h,j){R.call(this,a);this.clientX=c;this.clientY=d;this.hk=f;this.left=v(g)?g:b.Wc;this.top=v(h)?h:b.Wb;this.Fg=b;this.ik=!!j}E(Nh,R);function Sh(a){this.f=a;this.da=T(this.f,I?"DOMMouseScroll":"mousewheel",this)}E(Sh,de);
Sh.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.qa;if(a.type=="mousewheel"){c=1;if(H||J&&(Sa||K("532.0")))c=40;d=J&&Ra&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=J&&Ra&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=J&&Ra&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ea(this.hh)&&(b=N(b,-this.hh,this.hh));ea(this.ih)&&(c=N(c,-this.ih,this.ih));b=new Th(d,a,
b,c);try{this.dispatchEvent(b)}finally{b.j()}};Sh.prototype.g=function(){Sh.a.g.call(this);V(this.da);delete this.da};function Th(a,b,c,d){b&&this.Yb(b,i);this.type="mousewheel";this.detail=a;this.Wc=c;this.Wb=d}E(Th,zd);function Uh(){We.call(this,[0],[0],0);this.Gc=[]}E(Uh,We);Uh.prototype.Vf=function(){Vh(this,function(a){a.play(a.Ea==0)});Uh.a.Vf.call(this)};Uh.prototype.Wf=function(){Vh(this,function(a){a.stop()});Uh.a.Wf.call(this)};Uh.prototype.Tf=function(){Wh(this);Uh.a.Tf.call(this)};function Wh(a){M(a.Gc,function(a){a.j()})}function Xh(){Uh.call(this)}E(Xh,Uh);Xh.prototype.ab=function(){for(var a=0;a<this.Gc.length;a++)this.Gc[a].play();Xh.a.ab.call(this)};function Vh(a,b){M(a.Gc,b)}
Xh.prototype.add=function(a){this.Gc.push(a);this.duration=Math.max(this.duration,a.duration)};Xh.prototype.remove=function(a){if(zb(this.Gc,a)&&a.duration==this.duration)this.duration=0,M(this.Gc,function(a){this.duration=Math.max(a.duration,this.duration)},this)};function Zh(){}E(Zh,de);r=Zh.prototype;r.ib=0;r.$a=0;r.Ma=100;r.ya=0;r.kc=1;r.Ba=!1;r.Cc=!1;r.S=function(a){a=$h(this,a);if(this.ib!=a)this.ib=a+this.ya>this.Ma?this.Ma-this.ya:a<this.$a?this.$a:a,!this.Ba&&!this.Cc&&this.dispatchEvent("change")};r.n=function(){return $h(this,this.ib)};r.md=function(a){a=$h(this,a);if(this.ya!=a)this.ya=a<0?0:this.ib+a>this.Ma?this.Ma-this.ib:a,!this.Ba&&!this.Cc&&this.dispatchEvent("change")};
r.Gb=function(){return this.kc==n?this.ya:Math.round(this.ya/this.kc)*this.kc};r.Me=function(a){if(this.$a!=a){var b=this.Ba;this.Ba=!0;this.$a=a;if(a+this.ya>this.Ma)this.ya=this.Ma-this.$a;a>this.ib&&this.S(a);if(a>this.Ma)this.ya=0,this.od(a),this.S(a);this.Ba=b;!this.Ba&&!this.Cc&&this.dispatchEvent("change")}};r.ma=function(){return $h(this,this.$a)};
r.od=function(a){a=$h(this,a);if(this.Ma!=a){var b=this.Ba;this.Ba=!0;this.Ma=a;a<this.ib+this.ya&&this.S(a-this.ya);if(a<this.$a)this.ya=0,this.Me(a),this.S(this.Ma);if(a<this.$a+this.ya)this.ya=this.Ma-this.$a;this.Ba=b;!this.Ba&&!this.Cc&&this.dispatchEvent("change")}};r.la=function(){return $h(this,this.Ma)};r.Ne=function(a){if(this.kc!=a)this.kc=a,a=this.Ba,this.Ba=!0,this.od(this.la()),this.md(this.Gb()),this.S(this.n()),this.Ba=a,!this.Ba&&!this.Cc&&this.dispatchEvent("change")};
function $h(a,b){return a.kc==n?b:a.$a+Math.round((b-a.$a)/a.kc)*a.kc};function ai(a){Zf.call(this,a);this.r=new Zh;T(this.r,"change",this.Oi,!1,this)}E(ai,Zf);r=ai.prototype;r.O="horizontal";r.te=!1;r.nh=!1;r.Tb=10;r.Id=0;r.t=function(){ai.a.t.call(this);this.pb(this.X().t("div",this.p(this.O)))};r.pb=function(a){ai.a.pb.call(this,a);O(a,this.p(this.O));var a=this.c(),b=Rc(document,n,"goog-slider-thumb",a)[0];b||(b=this.X().t("div","goog-slider-thumb"),of(b,"button"),a.appendChild(b));this.K=this.xa=b;of(this.c(),"slider");bi(this)};
r.ba=function(){ai.a.ba.call(this);this.Rb=new Jh(this.K);this.tc=new Jh(this.xa);this.Rb.gf=this.tc.gf=t;this.L=new Gf(this.c());this.cc=new Sh(this.c());this.ra().h(this.Rb,"beforedrag",this.Kg).h(this.tc,"beforedrag",this.Kg).h(this.Rb,["start","end"],this.Qg).h(this.tc,["start","end"],this.Qg).h(this.L,"key",this.tf).h(this.c(),"mousedown",this.qe).h(this.cc,"mousewheel",this.Li);this.c().tabIndex=0;ci(this)};r.Ja=function(){ai.a.Ja.call(this);ra(this.Rb,this.tc,this.L,this.cc)};
r.Kg=function(a){var b=a.Fg==this.Rb?this.K:this.xa,c;this.O=="vertical"?(c=this.c().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.la()-this.ma())+this.ma()):c=a.left/(this.c().clientWidth-b.offsetWidth)*(this.la()-this.ma())+this.ma();c=a.Fg==this.Rb?Math.min(Math.max(c,this.ma()),this.n()+this.Gb()):Math.min(Math.max(c,this.n()),this.la());di(this,b,c)};
r.Qg=function(a){var b=a.type=="start",c=this.c();b?O(c,"goog-slider-dragging"):Kc(c,"goog-slider-dragging");a=a.target.handle;b?O(a,"goog-slider-thumb-dragging"):Kc(a,"goog-slider-thumb-dragging")};
r.tf=function(a){var b=!0;switch(a.keyCode){case 36:ei(this,this.ma());break;case 35:ei(this,this.la());break;case 33:fi(this,this.Tb);break;case 34:fi(this,-this.Tb);break;case 37:case 40:fi(this,a.shiftKey?-this.Tb:-this.ng);break;case 39:case 38:fi(this,a.shiftKey?this.Tb:this.ng);break;default:b=!1}b&&a.preventDefault()};
r.qe=function(a){this.c().focus&&this.c().focus();var b=a.target;if(!cd(this.K,b)&&!cd(this.xa,b))if(this.nh)ei(this,gi(this,a));else{this.fg(a);this.Oa=hi(this,gi(this,a));this.Vg=this.O=="vertical"?this.xe<this.Oa.offsetTop:this.xe>this.Oa.offsetLeft+this.Oa.offsetWidth;a=Q(this.c());this.ra().h(a,"mouseup",this.Pg,!0).h(this.c(),"mousemove",this.fg);if(!this.Xb)this.Xb=new Te(200),this.ra().h(this.Xb,Ve,this.Rg);this.Rg();this.Xb.start()}};r.Li=function(a){fi(this,(a.detail>0?-1:1)*this.ng);a.preventDefault()};
r.Rg=function(){var a;if(this.O=="vertical"){var b=this.xe,c=this.Oa.offsetTop;this.Vg?b<c&&(a=ii(this,this.Oa)+this.Tb):b>c+this.Oa.offsetHeight&&(a=ii(this,this.Oa)-this.Tb)}else b=this.xe,c=this.Oa.offsetLeft,this.Vg?b>c+this.Oa.offsetWidth&&(a=ii(this,this.Oa)+this.Tb):b<c&&(a=ii(this,this.Oa)-this.Tb);v(a)&&di(this,this.Oa,a)};r.Pg=function(){this.Xb&&this.Xb.stop();var a=Q(this.c());this.ra().aa(a,"mouseup",this.Pg,!0).aa(this.c(),"mousemove",this.fg)};
function ji(a,b){var c,d=a.c();c=He(b);d=He(d);c=new G(c.x-d.x,c.y-d.y);return a.O=="vertical"?c.y:c.x}r.fg=function(a){this.xe=ji(this,a)};function gi(a,b){var c=a.ma(),d=a.la();if(a.O=="vertical"){var f=a.K.offsetHeight,g=a.c().clientHeight-f,f=ji(a,b)-f/2;return(d-c)*(g-f)/g+c}else return f=a.K.offsetWidth,g=a.c().clientWidth-f,f=ji(a,b)-f/2,(d-c)*f/g+c}
function ii(a,b){if(b==a.K)return a.r.n();else if(b==a.xa)return a.r.n()+a.r.Gb();else e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function fi(a,b){var c=ii(a,a.K)+b,d=ii(a,a.xa)+b,c=N(c,a.ma(),a.la()-a.Id),d=N(d,a.ma()+a.Id,a.la());ki(a,c,d-c)}function di(a,b,c){var d=n;b==a.xa&&c<=a.r.la()&&c>=a.r.n()+a.Id&&(d=c-a.r.n());var f=d||a.r.Gb();b==a.K&&c>=a.ma()&&c<=a.r.n()+f-a.Id&&(b=f-(c-a.r.n()),$h(a.r,c)+$h(a.r,b)==$h(a.r,c+b)&&(ki(a,c,b),d=n));d!=n&&a.r.md(d)}
function ki(a,b,c){if(a.ma()<=b&&b<=a.la()-c&&a.Id<=c&&c<=a.la()-b&&!(b==a.n()&&c==a.Gb()))a.r.Cc=!0,a.r.md(0),a.r.S(b),a.r.md(c),a.r.Cc=!1,ci(a),a.dispatchEvent("change")}r.ma=function(){return this.r.ma()};r.Me=function(a){this.r.Me(a)};r.la=function(){return this.r.la()};r.od=function(a){this.r.od(a)};function hi(a,b){return b<=a.r.n()+a.r.Gb()/2?a.K:a.xa}r.Oi=function(){ci(this);bi(this);this.dispatchEvent("change")};
function ci(a){if(a.K&&!a.te){var b=li(a,ii(a,a.K)),c=li(a,ii(a,a.xa));if(a.O=="vertical"){if(a.K.style.top=b.y+"px",a.xa.style.top=c.y+"px",a.Q)b=mi(c.y,b.y,a.K.offsetHeight),a.Q.style.top=b.dc+"px",a.Q.style.height=b.size+"px"}else if(a.K.style.left=b.x+"px",a.xa.style.left=c.x+"px",a.Q)b=mi(b.x,c.x,a.K.offsetWidth),a.Q.style.left=b.dc+"px",a.Q.style.width=b.size+"px"}}function mi(a,b,c){var d=Math.ceil(c/2);return{dc:a+d,size:Math.max(b-a+c-2*d,0)}}
function li(a,b){var c=new G;if(a.K){var d=a.ma(),f=a.la(),f=b==d&&d==f?0:(b-d)/(f-d);a.O=="vertical"?(d=a.c().clientHeight-a.K.offsetHeight,f=Math.round(f*d),c.y=d-f):(d=Math.round(f*(a.c().clientWidth-a.K.offsetWidth)),c.x=d)}return c}
function ei(a,b){b=Math.min(a.la(),Math.max(b,a.ma()));a.te&&a.ge.stop(!0);var c=new Xh,d=hi(a,b),f=li(a,b);c.add(new ff(d,a.O=="vertical"?[d.offsetLeft,f.y]:[f.x,d.offsetTop],100));if(a.Q){var g=li(a,a.r.n()),h=li(a,a.r.n()+a.r.Gb());d==a.K?g=f:h=f;a.O=="vertical"?(f=mi(h.y,g.y,a.K.offsetHeight),c.add(new ff(a.Q,[a.Q.offsetLeft,f.dc],100)),c.add(new hf(a.Q,a.Q.offsetHeight,f.size,100))):(f=mi(g.x,h.x,a.K.offsetWidth),c.add(new ff(a.Q,[f.dc,a.Q.offsetTop],100)),c.add(new gf(a.Q,a.Q.offsetWidth,f.size,
100)))}a.ge=c;a.ra().h(c,"end",a.xi);a.te=!0;di(a,d,b);c.play(!1)}r.xi=function(){this.te=!1};r.Rd=function(a){if(this.O!=a){var b=this.p(this.O),c=this.p(a);this.O=a;if(this.c()){for(var a=this.c(),d=Jc(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(Db(d,g--,1),f=!0);if(f)d.push(c),a.className=d.join(" ");this.K.style.left=this.K.style.top="";this.xa.style.left=this.xa.style.top="";if(this.Q)this.Q.style.left=this.Q.style.top="",this.Q.style.width=this.Q.style.height="";ci(this)}}};
r.g=function(){ai.a.g.call(this);this.Xb&&this.Xb.j();delete this.Xb;this.ge&&this.ge.j();delete this.ge;delete this.K;delete this.xa;this.Q&&delete this.Q;this.r.j();delete this.r;this.L&&(this.L.j(),delete this.L);this.cc&&(this.cc.j(),delete this.cc);this.Rb&&(this.Rb.j(),delete this.Rb);this.tc&&(this.tc.j(),delete this.tc)};r.ng=1;r.Ne=function(a){this.r.Ne(a)};r.n=function(){return this.r.n()};r.S=function(a){di(this,this.K,a)};r.Gb=function(){return this.r.Gb()};
r.md=function(a){di(this,this.xa,this.r.n()+a)};r.setVisible=function(a){Me(this.c(),a);a&&ci(this)};function bi(a){var b=a.c();b&&(X(b,"valuemin",a.ma()),X(b,"valuemax",a.la()),X(b,"valuenow",a.n()))};function ni(a){ai.call(this,a);this.r.md(0)}E(ni,ai);ni.prototype.p=function(a){return a=="vertical"?"goog-slider-vertical":"goog-slider-horizontal"};function oi(a,b){this.e=a;this.fa=new ni;this.fa.Rd("vertical");this.fa.od(1);this.fa.Ne(0.01);pi=!1;this.fa.S((this.e.d.getZoom()-Mg(this.e))/this.e.V.wa.Ua());this.da=T(this.fa,"change",function(b){pi==!1&&a.d.setZoom(b.target.n()*(a.V.wa.Ua()-Mg(a))+Mg(a));pi=!1});this.ek=T(this.e.d,Ig,this.dk,!1,this);this.Xe=new Fg("");vg(this.Xe,"weapp-zoomslider-add");this.hg=new Fg("");vg(this.hg,"weapp-zoomslider-substract");this.Yh=T(this.Xe,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()+1))});
this.Sj=T(this.hg,"action",function(){a.d.setZoom(Math.floor(a.d.getZoom()-1))});this.Xe.xb(b);this.fa.xb(b);this.hg.xb(b)}var pi;E(oi,F);oi.prototype.dk=function(){pi=!0;this.fa.S((this.e.d.getZoom()-Mg(this.e))/this.e.V.wa.Ua())};oi.prototype.g=function(){V(this.da);V(this.ek);V(this.Yh);V(this.Sj);this.fa.j()};function qi(a){function b(){w(ri)&&(ri=new google.maps.Map(document.createElement("div")));si?c():google.maps.event.addListenerOnce(ri,"idle",function(){si=!0;c()})}Yb.call(this,"Google Maps - "+a);this.vb=n;this.$i=a;this.ee=new Vb;this.Mf=0;this.Nf=[];var c=C(function(){this.vb=ri.mapTypes[ti(a)];ac(this)},this);if(s.mk!=n&&google.maps&&google.maps.Map)b();else if(w(ui)){ui="googleMapsCallback"+Ja();s[ui]=C(b,this);var d=document.createElement("script");Rc(document,"head",i,i)[0].appendChild(d);
d.type="text/javascript";d.src="http://maps.google.com/maps/api/js?v=3.5&sensor=false&callback="+ui}else s[ui]=qa(s[ui],C(b,this))}E(qi,Yb);qi.prototype.Df=function(){return!w(this.vb)};var ui=n,ri=n,si=!1;r=qi.prototype;r.Zc=function(){return w(this.vb)?0:this.vb.minZoom||0};r.Ua=function(){return w(this.vb)?18:this.vb.maxZoom};r.Ib=function(){return w(this.vb)?256:this.vb.tileSize.width};
r.Fd=function(a,b,c){function d(a){return a.getElementsByTagName("img")[0]}a.Dg=d;a.Bg=C(function(a){this.vb.releaseTile(a)},this);var f=this.vb.getTile(new google.maps.Point(a.x,a.y),a.zoom,document),g=d(f);g.onload=C(function(){if(va(a).src==va(a).__src__)a.state=20,this.Za--,b(a)},this);g.onerror=C(function(){a.jf++;a.state=-10;this.Za--;c&&c(a)},this);a.setData(f);a.state=10;this.Za++};
r.nc=function(a){this.ee.sb()>0&&Zc(a,"Map Data \u00a9 "+(new Date).getFullYear()+" "+this.ee.Ka().join(", ")+" \u2013 ");Zc(a,Vc("a",{href:"http://www.google.com/intl/en-US_US/help/terms_maps.html",target:"_blank"},"Terms of Use"))};r.oe=q("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAYCAMAAACV6r5dAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxcXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAJCQkLCwsRERESEhIZGRkjIyMsLCw6OjpNTU1WVlZhYWFvb28AAABycnJ5eXl8fHzc3NyFhYWGhoaHiIeLi4uSkpKWlpaYmJiampqenp6mpqahoaGlpaWhoaGpqampqamrq6uqqqqur66vr6+usK6ysrK4uLi9vb3CwsLExMTJycnNzc3Q0NDT09PU1NTV1dXX19fZ2dmDg4Pg4ODi4uLj4+Pj4+Pl5eXk5OTl5eXk5OTl5eXk5OTo6Ojq6urv7+/x8fH5+fn9/f3////54OudAAAAYHRSTlNgXlpSTUY/Pjs5NTMwLSsoJiQiIB4cGhcUEgoBAAYXJy43QElWWV1SFRwQQp2LiaQyqYmwRIi1hwi5hyiEWrxsfwW/xMTJycW3qA2ajweNi4+YAdios7vFy5/g6vD2/P7aB358AAADLElEQVR4XpWUe3OiSBTFOxpMfDsqKt2dZGeiBBlx8zABx3EiZBJk8phsMyb4wvv9P8VexCpnq7aym/PX6Uv/qpt7uBDOuRB8IzRva2AYxinbbkNcrKvTqdGrMvtt2hoG4Es63+JIa9PAM03PX81GNf1NXPAR3O5av+GCn858kvlQLe+bcJfRORORYuB3G/sHuJXsbZ1wZbYgaU23bPrxcqd4wGMygsQ/bKynCN/WCTegsxtfWa8dHVhxe3oNigTaZ+OzorPIDofD62EtOv0H14a4RUGKKLOwWUAIxWxLcPr8apo+jDOHXJlGduXldT6YeuNwdWeWI5wNgnusf61YnJyu5uSQb4THTBckV8m44GaVl3kiV0n54JTkmZvKmeCT6PTUYPFtv7q3AFURZAgLUuds0xw+hG+7skVPQlCv4UzSbNqFkDxAK23lfThb49MVyQ8e/JtWXZDeKmy1t0n8BRd7GH47gL4LHQyCF2fwJ9q8YPfQLyGenC3V+8moKRUOOTlewFX+ERP9YaA+T8DZwxX7BTe3cJG1GVde4MqBm/QjN0CN8J0ZdLrpUlU/YJxQD+Y7mhDYZRNv7MFd0sJMnuHiNo6Y/oJOawnn5ePASTSe8HkAV/uyrq+DYydL+J7BmChNz8NPXVg265jZBMg5duUI669LkjlxfXfhJGSOuPSAe5Q4eSKULytw/6C4qmAz02NwU4z3wn4i/QLfs4wPw7NdrZ5NzKGTstafTdqHebfUGAyYIPyx3fVhOXm6vr5f+M1q1gn9kRH0E8d0zw1dtJdJ2eY058KyW8M3mTvNlg8wCzyZIs7tuqQ6ruuNTJVkNL3YMs2vrYxMLZpXTfNLMyMzakw8x4fVebmnqt3jekq96v+U2jpfz7teK2SzxUq7qumM2Uq7UqtpDOt2o12N7OHr/GczlezDItmoVeqKjkC+dKQzxONxsi1LtzaTiH7juLB0EcWgSkeaVRiDWheWiAE7nrj/EuP0BdRcNKGjJanheqP/iUdD7n/EpOSgL2mcvwtHRbdevk5x/qRP7P24oAX1YuxctnIy5e/HMZrGh0Kx3MY43o1vo/mX3/jfzoX94Q7k9zgAAAAASUVORK5CYII=");
r.Ah=function(a){this.ee=new Vb;var b=s.GAddCopyright,c=s.GVerify,d=s.GAppFeatures;s.GAddCopyright=C(function(){arguments.length>7&&arguments[7].length>0&&this.ee.add(arguments[7])},this);s.GVerify=oa;s.GAppFeatures=C(function(){this.Mf--;if(this.Mf<=0)s.GAddCopyright=b,s.GVerify=c,s.GAppFeatures=d,M(this.Nf,function(a){a.parentNode.removeChild(a)}),this.Nf=[],this.df()},this);M(a,function(a){var b=document.createElement("script");Rc(document,"head",i,i)[0].appendChild(b);b.type="text/javascript";
this.Nf.push(b);b.src="http://maps.google.com/maps?vp="+(ic(a.oi)+","+ic(a.pi))+"&z="+a.fk+"&spn="+(ic(a.Qj)+","+ic(a.Rj))+"&t="+vi(this.$i);this.Mf++},this)};function ti(a){switch(a){case "Terrain":return google.maps.MapTypeId.TERRAIN;case "Hybrid":return google.maps.MapTypeId.HYBRID;case "Roadmap":return google.maps.MapTypeId.ROADMAP;default:case "Satellite":return google.maps.MapTypeId.SATELLITE}}
function vi(a){switch(a){case "Terrain":return"p";case "Hybrid":return"h";case "Roadmap":return"m";default:case "Satellite":return"k"}}var wi=C(document.createElement,document);document.createElement=function(a){var b=wi(a);if(a=="img")b.crossOrigin="";return b};function xi(a,b){this.kk=a;this.fa=new ni;this.fa.Rd("horizontal");this.fa.Me(0);this.fa.od(1);this.fa.Ne(0.01);this.fa.nh=!0;this.fa.S(a.Xf);this.da=T(this.fa,"change",function(b){a.Xf=b.target.n()});this.fa.xb(b)}E(xi,F);xi.prototype.g=function(){V(this.da);this.fa.j()};function yi(a,b){Yb.call(this,"Bing Maps - "+a);var c="bingsCallback_"+a,d="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+a+"?key="+b+"&jsonp="+c;s[c]=v(s[c])?qa(C(this.Fh,this),s[c]):C(this.Fh,this);c=document.createElement("script");c.src=d;c.type="text/javascript";Rc(document,"head",i,i)[0].appendChild(c)}E(yi,ec);r=yi.prototype;r.Df=function(){return!w(this.eb)};r.Fh=function(a){this.Hd=a;if(a.resourceSets.length>0)this.eb=a.resourceSets[0].resources[0],ac(this);this.df()};
r.Zc=function(){return w(this.eb)?0:this.eb.zoomMin};r.Ua=function(){return w(this.eb)?18:this.eb.zoomMax};r.Ib=q(256);function zi(a,b,c){for(var d="",f=1;f<=a;f++)d+=(c>>a-f&1)<<1|b>>a-f&1;return d}r.Bd=function(a,b,c){return w(this.eb)?"":this.eb.imageUrl.replace("{subdomain}",this.eb.imageUrlSubdomains[fc(this.eb.imageUrlSubdomains.length)]).replace("{quadkey}",zi(a,b,c))};r.Fd=function(a,b,c){return w(this.eb)?!1:yi.a.Fd.call(this,a,b,c)};r.nc=function(a){w(this.Hd)||Zc(a,this.Hd.copyright)};
r.oe=function(){return!w(this.Hd)?this.Hd.brandLogoUri:n};r.Hd=n;r.eb=n;function Ai(a){return 1-Math.pow(1-a,3)};function Bi(a){this.e=a;this.Ia=!1;this.Pb=i;this.Ee=this.De=this.Ob=this.Nb=this.Dh=0;this.zc=this.da=n;T(this.e.b.canvas,"mousedown",C(this.zj,this));T(Q(this.e.b.canvas),"mouseup",C(this.Aj,this))}r=Bi.prototype;
r.zj=function(a){if(!Bd(a,2)&&!a.ctrlKey&&!a.altKey){if(this.zc)this.zc.stop(!1),this.zc.j(),this.zc=n;this.Ia=!0;this.De=this.Nb=a.screenX;this.Ee=this.Ob=a.screenY;if(Bd(a,1)||Bd(a,0)&&a.shiftKey)if(this.Pb=this.e.d.$c(),this.Pb!=n){if(window.wd)window.wd.lat=ic(this.Pb[0]),window.wd.Of=ic(this.Pb[1]),window.wd.enable(!0);this.Dh=this.e.d.tilt==0?this.e.d.oa:Math.sin(Math.PI-this.e.d.tilt-(Math.PI-Math.asin((1+this.e.d.oa/6378137)*Math.sin(this.e.d.tilt))))/Math.sin(this.e.d.tilt)*6378137}if(!w(this.da))V(this.da),
this.da=n;this.da=T(Q(this.e.b.canvas),"mousemove",C(this.Uf,this));a.preventDefault()}};
r.Aj=function(a){if(this.Ia){a.preventDefault();this.Pb=i;window.wd&&window.wd.enable(!1);this.Ia=!1;if(!w(this.da))V(this.da),this.da=n;if(Bd(a,0)){var b=a.screenX-this.De,c=a.screenY-this.Ee,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.Nb==this.De&&this.Ob==this.Ee&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.zc=new We([this.Nb,this.Ob],[this.Nb+a*b,this.Ob+a*c],1300,Ai),T(this.zc,["animate"],this.Ti,!1,this),this.zc.play(!1)}}};
r.Je=function(a,b){if(v(this.Pb)){var c=a/this.e.b.canvas.width*Math.PI*-2,d=b/this.e.b.canvas.height*Math.PI/2;if(w(this.Pb))this.e.d.heading+=c,this.e.d.tilt+=d;else{var f=this.e.d,g=this.Pb[0],h=this.Pb[1],j=this.Dh;f.heading+=c;c=Math.asin(6378137/Math.sqrt(j*j+40680631590769));f.tilt=N(f.tilt+d,-c,c);d=Math.asin(j/6378137*Math.sin(f.tilt));Math.abs(f.tilt)<1.0E-4?Kg(f,j):Kg(f,(Math.sin(Math.PI-f.tilt-d)/Math.sin(f.tilt)-1)*6378137);g-=Math.cos(f.heading)*d;f.setPosition(g,h+Math.sin(f.heading)*
d/Math.cos(g))}}else f=Math.PI*(1/this.e.b.canvas.height)*(this.e.Sd/Math.pow(2,this.e.d.getZoom())),Jg(this.e.d,b*f,-2*a*f)};r.Uf=function(a){this.Je(a.screenX-this.Nb,a.screenY-this.Ob);this.De=this.Nb;this.Ee=this.Ob;this.Nb=a.screenX;this.Ob=a.screenY;a.preventDefault()};r.Ti=function(a){this.Je(a.x-this.Nb,a.y-this.Ob);this.Nb=a.x;this.Ob=a.y};function Ci(a,b){this.e=a;this.v=new Te(20);this.rg=this.qg=0.1;this.Cf=!1;this.qc=new Y("");this.qc.Oe|=255;this.Xh=T(this.qc,"activate",this.vj,!1,this);this.ti=T(this.qc,"deactivate",this.wj,!1,this);this.lk=T(this.qc,"enter",this.xj,!1,this);this.jg=T(this.v,Ve,this.gd,!1,this);this.nj=T(Q(this.e.b.canvas),"mousemove",this.Uf,!1,this);this.mj=T(Q(this.e.b.canvas),"mousedown",function(){this.Cf=!0},!1,this);this.oj=T(Q(this.e.b.canvas),"mouseup",function(){this.Cf=!1},!1,this);this.qc.xb(b)}
E(Ci,F);r=Ci.prototype;r.xj=function(){this.Cf&&(this.qc.Ca(4,!0),this.v.start())};r.vj=function(){this.v.start()};r.wj=function(){this.v&&this.v.stop()};r.gd=function(){this.Je(this.qg,this.rg)};r.Uf=function(a){this.qg=-(a.offsetX-a.target.offsetWidth/2)*2;this.rg=-(a.offsetY-a.target.offsetHeight/2)};r.g=function(){V(this.Xh);V(this.nj);V(this.oj);V(this.mj);V(this.ti);V(this.jg);this.qc.j()};
r.Je=function(a,b){var c=Math.PI*(1/this.e.b.canvas.height)*(this.e.Sd/Math.pow(2,this.e.d.getZoom()));Jg(this.e.d,b*c,-2*a*c)};function Di(a,b,c){this.lat=a;this.Of=b;this.element=c;this.parentElement=n;this.enabled=!0}r=Di.prototype;r.ud=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};r.detach=function(){if(this.parentElement)ad(this.element),this.parentElement=n};r.enable=function(a){(this.enabled=a||!1)||this.show(!1)};r.isEnabled=p("enabled");r.show=function(a){this.element.style.display=a===!1?"none":"block"};function Ei(a,b){this.e=a;this.f=b;this.Qf=new Rb}function Fi(a,b,c){b=b||Ja();c.ud(a.f);a.Qf.set(b,c)}
Ei.prototype.Zj=function(a){a=this.Qf.get(a);if(a.isEnabled()){var b;a:{var c=this.e;b=a.lat;var d=a.Of;b=hc(b);var d=hc(d),f=Math.cos(b),f=new Fh(Math.sin(d)*f,Math.sin(b),Math.cos(d)*f),d=c.b.Be.multiply(new Z([[f.x],[f.y],[f.G],[1]]));if(Wg(d,3,0)==0)b=n;else{d=d.multiply(1/Wg(d,3,0));b=(Wg(d,0,0)+1)/2*c.b.lb;var d=(Wg(d,1,0)-1)/-2*c.b.kb,g=1;if(b<0||b>c.b.lb||d<0||d>c.b.kb)g=0;else{c=Gh(0.5,0.5,0,c.b.Ce,1,1);if(w(c)){b=n;break a}var g=f.x-c.x,h=f.y-c.y,j=f.G-c.G,g=Math.sqrt(g*g+h*h+j*j),f=f.ig(c).normalize(),
f=Ih(c,f),g=w(f)?0:Math.abs(g-f[0])<Math.abs(g-f[1])?1:0}b=[b,d,g]}}b!=n?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(!0),a.show(b[2]>0)):a.show(!1)}};function Gi(a,b,c,d,f,g,h,j,k,l){Yb.call(this,a);b.charAt(b.length-1)!="?"&&(b+="?");this.Ue=0;if(b.length>0)this.url=b,this.Ue=1;this.version=c;this.Wi=d;this.format=g;this.minZoom=k;this.maxZoom=l;this.tileSize=256;f=="EPSG:900913"||f=="EPSG:3857"?this.Hh=f:(this.Ue=0,e(Error(f+" is an unsupported CRS, please use either EPSG:900913 or EPSG:3857.  WMS Server must support one of these.")));this.styles=h;j.length>0&&j.charAt(0)!="&"&&(j="&"+j);this.Ai=j}E(Gi,ec);Gi.prototype.Zc=p("minZoom");
Gi.prototype.Ua=p("maxZoom");Gi.prototype.Ib=q(256);
Gi.prototype.Bd=function(a,b,c){function d(a,b){var c=Math.PI-2*Math.PI*a/Math.pow(2,b);return 180/Math.PI*Math.atan(0.5*(Math.exp(c)-Math.exp(-c)))}function f(a){a>89.5&&(a=89.5);a<-89.5&&(a=-89.5);a=Math.tan(0.5*(Math.PI*0.5-a*(Math.PI/180)));return 0-6378137*Math.log(a)}var g="";if(this.Ue==1){var g=f(d(c,a)),h=f(d(c+1,a)),c=6378137*(b/Math.pow(2,a)*360-180)*(Math.PI/180),j=6378137*((b+1)/Math.pow(2,a)*360-180)*(Math.PI/180),a=Math.max(g,h),b=Math.max(c,j),h=Math.min(g,h),c=Math.min(c,j),g=this.url+
"service=WMS&request=GetMap&version="+this.version,g=g+"&Width="+this.tileSize+"&Height="+this.tileSize,g=g+"&Layers="+this.Wi+"&Format="+this.format;this.version.substr(0,3)=="1.0"||this.version.substr(0,3)=="1.1"?g=g+"&SRS="+this.Hh:this.version.substr(0,3)=="1.3"&&(g=g+"&CRS="+this.Hh);g=g+"&STYLES="+this.styles;g=g+"&BBOX="+c+","+h+","+b+","+a;g+=this.Ai}return g};function Hi(a){Gi.call(this,"Georeferencer.org - "+a,"http://wms.georeferencer.org/map/"+a+"/wms-polynomial","1.1.1","raster","EPSG:900913","image/png","","TRANSPARENT=true",0,18);var b="georeferencerCallback_"+a.substr(0,22);s[b]=C(function(a){var c=a.document;if(c!=n){var a=c.geotrans,g=c.width,h=c.height;if(a&&g&&h&&a.length>5){var j=g*a[0],c=h*a[1],k=g*a[2],l=h*a[3],o=g*(a[0]+a[2]);h*=a[1]+a[3];g=a[4]+Math.min(Math.min(0,j),Math.min(k,o));j=a[4]+Math.max(Math.max(0,j),Math.max(k,o));k=a[5]+Math.min(Math.min(0,
c),Math.min(l,h));a=a[5]+Math.max(Math.max(0,c),Math.max(l,h));this.lh=hc(k);this.jh=hc(a);this.mh=hc(g);this.kh=hc(j);this.ce=[]}}s[b]=n},this);var c=document.createElement("script");c.src="http://www.georeferencer.org/map/"+a+".js?callback="+b;c.type="text/javascript";Rc(document,"head",i,i)[0].appendChild(c)}E(Hi,Gi);Hi.prototype.nc=function(a){Zc(a,Vc("a",{href:"http://www.georeferencer.org/",target:"_blank"},"Georeferencer.org"))};function Ii(a){this.e=a;this.cc=new Sh(a.b.canvas);this.da=T(this.cc,"mousewheel",function(a){this.va(-(a.Wb==0?0:a.Wb<0?-1:1));a.preventDefault()},!1,this);this.si=T(a.b.canvas,"dblclick",C(function(a){Kg(this.d,this.d.oa/2);var c=Ng(this,a.offsetX,a.offsetY,!0)||this.d.$c(this);if(c){var d=(this.d.Kb+c[1])/2;Math.abs(this.d.Kb-c[1])>Math.PI&&(d+=Math.PI);this.d.setPosition((this.d.ub+c[0])/2,d)}a.preventDefault()},a));this.Lj=T(a.b.canvas,"mouseup",C(function(a){if(Bd(a,2)){Kg(this.d,this.d.oa*
2);var c=Ng(this,a.offsetX,a.offsetY,!0)||this.d.$c(this);c&&this.d.setPosition(2*this.d.ub-c[0],2*this.d.Kb-c[1]);a.preventDefault()}},a));this.rj=T(a.b.canvas,"contextmenu",function(a){a.preventDefault()});this.ga=n;this.Lc=this.Kc=0}E(Ii,F);
Ii.prototype.va=function(a){var b=120;a*=-1;if(this.ga)if(this.Lc>this.Kc==a>0)return;else this.ga.j(),b*=(this.e.d.oa-this.Kc)/(this.Lc-this.Kc),a=this.Lc,this.Lc=this.Kc,this.Kc=a;else this.Kc=this.e.d.oa,this.Lc=N(this.Kc*Math.pow(2,a),250,1E7);if(!(b<=0)){var a=this.e.d.getPosition(),c=this.e.d.$c()||a,d=this.Lc/this.e.d.oa;a.push(this.e.d.oa);this.ga=new We(a,[c[0]+d*(a[0]-c[0]),c[1]+d*(a[1]-c[1]),this.Lc],b);T(this.ga,["animate","finish"],function(a){this.e.d.setPosition(a.x,a.y);Kg(this.e.d,
a.G)},!1,this);T(this.ga,["finish"],this.zi,!1,this);this.ga.play(!1)}};Ii.prototype.zi=function(){if(this.ga)this.ga.j(),this.ga=n};Ii.prototype.g=function(){V(this.da);V(this.si);V(this.Lj);V(this.rj);this.cc.j();this.ga.j()};function Ji(a,b){var c=Vc("div",{style:"position:absolute;width:16px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMTYiIHZlcnNpb249IjEuMSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSI+PHBhdGggc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZD0ibTE1LDcuODdjMCwzLjQ3LTIuNzcsNi4yOC02LjE5LDYuMjhzLTYuMTktMi44MS02LjE5LTYuMjgsMi43Ny02LjI4LDYuMTktNi4yOCw2LjE5LDIuODEsNi4xOSw2LjI4em0tNi4xNiwyMy4ydi0xNi41IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjcwNzEwNjc4LDEwMjAuNzE1OCkiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjFweCIgZmlsbD0iI2UxMzUxZSIvPjwvZz48L3N2Zz4=);margin:-32px 0 0 -8px;opacity:0.8;"});
Di.call(this,a,b,c);this.show(!1)}E(Ji,Di);function Ki(a,b,c,d,f,g,h,j){var k,l=c.offsetParent;if(l){var o=l.tagName=="HTML"||l.tagName=="BODY";if(!o||ye(l,"position")!="static")k=Fe(l),o||(k=wa(k,new G(l.scrollLeft,l.scrollTop)))}l=Le(a);(o=Ee(a))&&l.Yg(new ve(o.left,o.top,o.right-o.left,o.bottom-o.top));var o=P(a),m=P(c);if(o.A!=m.A){var y=o.A.body,m=m.A.parentWindow||m.A.defaultView,u=new G(0,0),U=Q(y)?Q(y).parentWindow||Q(y).defaultView:window,Nf=y;do{var Yh=U==m?Fe(Nf):He(Nf);u.x+=Yh.x;u.y+=Yh.y}while(U&&U!=m&&(Nf=U.frameElement)&&(U=
U.parent));y=wa(u,Fe(y));H&&!kd(o)&&(y=wa(y,ld(o)));l.left+=y.x;l.top+=y.y}a=(b&4&&Ge(a)?b^2:b)&-5;b=new G(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);k&&(b=wa(b,k));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var x;if(h&&(x=Ee(c))&&k)x.top-=k.y,x.right-=k.x,x.bottom-=k.y,x.left-=k.x;a:{k=b.ha();f=0;a=(d&4&&Ge(c)?d^2:d)&-5;d=Je(c);j=j?j.ha():d.ha();if(g||a!=0)a&2?k.x-=j.width+(g?g.right:0):g&&(k.x+=g.left),a&1?k.y-=j.height+(g?g.bottom:0):g&&(k.y+=g.top);if(h){if(x){g=k;f=0;if((h&65)==65&&
(g.x<x.left||g.x>=x.right))h&=-2;if((h&132)==132&&(g.y<x.top||g.y>=x.bottom))h&=-5;if(g.x<x.left&&h&1)g.x=x.left,f|=1;g.x<x.left&&g.x+j.width>x.right&&h&16&&(j.width-=g.x+j.width-x.right,f|=4);if(g.x+j.width>x.right&&h&1)g.x=Math.max(x.right-j.width,x.left),f|=1;h&2&&(f|=(g.x<x.left?16:0)|(g.x+j.width>x.right?32:0));if(g.y<x.top&&h&4)g.y=x.top,f|=2;g.y>=x.top&&g.y+j.height>x.bottom&&h&32&&(j.height-=g.y+j.height-x.bottom,f|=8);if(g.y+j.height>x.bottom&&h&4)g.y=Math.max(x.bottom-j.height,x.top),f|=
2;h&8&&(f|=(g.y<x.top?64:0)|(g.y+j.height>x.bottom?128:0));h=f}else h=256;f=h;if(f&496){c=f;break a}}ze(c,k);if(!Mc(d,j))g=kd(P(Q(c))),H&&(!g||!K("8"))?(h=c.style,g?(H?(g=Pe(c,xe(c,"paddingLeft")),d=Pe(c,xe(c,"paddingRight")),k=Pe(c,xe(c,"paddingTop")),x=Pe(c,xe(c,"paddingBottom")),g=new xa(k,d,x,g)):(g=we(c,"paddingLeft"),d=we(c,"paddingRight"),k=we(c,"paddingTop"),x=we(c,"paddingBottom"),g=new xa(parseFloat(k),parseFloat(d),parseFloat(x),parseFloat(g))),c=Se(c),h.pixelWidth=j.width-c.left-g.left-
g.right-c.right,h.pixelHeight=j.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=j.width,h.pixelHeight=j.height)):(c=c.style,I?c.MozBoxSizing="border-box":J?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=j.width+"px",c.height=j.height+"px");c=f}return c};function Li(){}Li.prototype.Ld=aa();function Mi(a,b){this.element=a;this.ef=b}E(Mi,Li);Mi.prototype.Ld=function(a,b,c){Ki(this.element,this.ef,a,b,i,c)};function Ni(a,b,c){Mi.call(this,a,b);this.$h=c}E(Ni,Mi);Ni.prototype.Jg=q(5);Ni.prototype.Ld=function(a,b,c,d){var f=Ki(this.element,this.ef,a,b,n,c,10,d);if(f&496){var g=Oi(f,this.ef),b=Oi(f,b),f=Ki(this.element,g,a,b,n,c,10,d);f&496&&(g=Oi(f,g),b=Oi(f,b),this.$h?Ki(this.element,g,a,b,n,c,this.Jg(),d):Ki(this.element,g,a,b,n,c,0,d))}};function Oi(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Pi(a,b,c,d){Ni.call(this,a,b,c||d);this.Jj=d}E(Pi,Ni);Pi.prototype.Jg=function(){return 65|(this.Jj?32:132)};function Qi(){}E(Qi,lg);ca(Qi);Qi.prototype.t=function(a){return a.X().t("div",this.p())};Qi.prototype.ia=function(a,b){if(b.tagName=="HR"){var c=b,b=this.t(a);c.parentNode&&c.parentNode.insertBefore(b,c);ad(c)}else O(b,this.p());return b};Qi.prototype.setContent=aa();Qi.prototype.p=q("goog-menuseparator");function Ri(a,b){Y.call(this,n,a||Qi.Aa(),b);xg(this,1,!1);xg(this,2,!1);xg(this,4,!1);xg(this,32,!1);this.o=1}E(Ri,Y);Ri.prototype.ba=function(){Ri.a.ba.call(this);of(this.c(),"separator")};qg("goog-menuseparator",function(){return new Ri});function Si(){}ca(Si);r=Si.prototype;r.rb=aa();function Ti(a,b){if(a)a.tabIndex=b?0:-1}r.t=function(a){return a.X().t("div",this.Yc(a).join(" "))};r.W=function(a){return a};r.Ra=function(a){return a.tagName=="DIV"};r.ia=function(a,b){b.id&&cg(a,b.id);var c=this.p(),d=!1,f=Jc(b);f&&M(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.hc(!1):b==c+"-horizontal"?a.Rd(Ui):b==c+"-vertical"&&a.Rd(Vi))},this);d||O(b,c);Wi(this,a,this.W(b));return b};
function Wi(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.of(d);if(g)g.f=d,b.isEnabled()||g.hc(!1),b.sd(g),g.ia(d)}else(!d.nodeValue||za(d.nodeValue)=="")&&c.removeChild(d);d=f}}r.of=function(a){a:{for(var b=Jc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in rg?rg[b[c]]():n)break a;a=n}return a};r.cd=function(a){a=a.c();Oe(a,!0,I);if(H)a.hideFocus=!0;var b=this.rb();b&&of(a,b)};r.Y=function(a){return a.c()};r.p=q("goog-container");
r.Yc=function(a){var b=this.p(),c=[b,a.O==Ui?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function Xi(){}E(Xi,Si);ca(Xi);r=Xi.prototype;r.rb=q("menu");r.Ra=function(a){return a.tagName=="UL"||Xi.a.Ra.call(this,a)};r.of=function(a){return a.tagName=="HR"?new Ri:Xi.a.of.call(this,a)};r.pc=function(a,b){return cd(a.c(),b)};r.p=q("goog-menu");r.cd=function(a){Xi.a.cd.call(this,a);X(a.c(),"haspopup","true")};qg("goog-menuseparator",function(){return new Ri});function Yi(){this.zg=[]}E(Yi,lg);ca(Yi);function Zi(a,b){var c=a.zg[b];if(!c){switch(b){case 0:c=a.p()+"-highlight";break;case 1:c=a.p()+"-checkbox";break;case 2:c=a.p()+"-content"}a.zg[b]=c}return c}r=Yi.prototype;r.rb=q("menuitem");r.t=function(a){var b=a.X().t("div",this.Yc(a).join(" "),$i(this,a.getContent(),a.X()));aj(this,a,b,!!(a.T&8)||!!(a.T&16));return b};r.W=function(a){return a&&a.firstChild};
r.ia=function(a,b){var c=bd(b),d=Zi(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild($i(this,b.childNodes,a.X()));yb(Jc(b),"goog-option")&&(a.Le(!0),this.Le(a,b,!0));return Yi.a.ia.call(this,a,b)};r.setContent=function(a,b){var c=this.W(a),d=bj(this,a)?c.firstChild:n;Yi.a.setContent.call(this,a,b);d&&!bj(this,a)&&c.insertBefore(d,c.firstChild||n)};function $i(a,b,c){a=Zi(a,2);return c.t("div",a,b)}r.Le=function(a,b,c){b&&(of(b,c?"menuitemcheckbox":this.rb()),aj(this,a,b,c))};
function bj(a,b){var c=a.W(b);if(c){var c=c.firstChild,d=Zi(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return!1}function aj(a,b,c,d){d!=bj(a,c)&&(d?O(c,"goog-option"):Kc(c,"goog-option"),c=a.W(c),d?(a=Zi(a,1),c.insertBefore(b.X().t("div",a),c.firstChild||n)):c.removeChild(c.firstChild))}r.zd=function(a){switch(a){case 2:return Zi(this,0);case 16:case 8:return"goog-option-selected";default:return Yi.a.zd.call(this,a)}};
r.qf=function(a){var b=Zi(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Yi.a.qf.call(this,a)}};r.p=q("goog-menuitem");function cj(a,b,c,d){Y.call(this,a,d||Yi.Aa(),c);this.S(b)}E(cj,Y);r=cj.prototype;r.n=function(){var a=this.Rf;return a!=n?a:this.Xc()};r.S=ba("Rf");r.Le=function(a){xg(this,16,a);var b=this.c();b&&this.i.Le(this,b,a)};r.Xc=function(){var a=this.getContent();return z(a)?(a=vb(a,function(a){return yb(Jc(a),"goog-menuitem-accel")?"":hd(a)}).join(""),ya(a)):cj.a.Xc.call(this)};
r.yc=function(a){var b=this.getParent();if(b){var c=b.uh;b.uh=n;if(b=c&&ea(a.clientX))b=new G(a.clientX,a.clientY),b=c==b?!0:!c||!b?!1:c.x==b.x&&c.y==b.y;if(b)return}cj.a.yc.call(this,a)};qg("goog-menuitem",function(){return new cj(n)});function dj(a,b,c){Zf.call(this,c);this.i=b||Si.Aa();this.O=a||Vi}E(dj,Zf);var Ui="horizontal",Vi="vertical";r=dj.prototype;r.Hf=n;r.L=n;r.i=n;r.O=n;r.u=!0;r.Sa=!0;r.kf=!0;r.ja=-1;r.Z=n;r.Lb=!1;r.ai=!1;r.Cj=!0;r.Ab=n;r.Y=function(){return this.Hf||this.i.Y(this)};r.ne=function(){return this.L||(this.L=new Gf(this.Y()))};r.t=function(){this.f=this.i.t(this)};r.W=function(){return this.i.W(this.c())};r.Ra=function(a){return this.i.Ra(a)};
r.pb=function(a){this.f=this.i.ia(this,a);if(a.style.display=="none")this.u=!1};r.ba=function(){dj.a.ba.call(this);gg(this,function(a){a.H&&ej(this,a)},this);var a=this.c();this.i.cd(this);this.setVisible(this.u,!0);this.ra().h(this,"enter",this.rf).h(this,"highlight",this.sf).h(this,"unhighlight",this.yf).h(this,"open",this.Ni).h(this,"close",this.Fi).h(a,"mousedown",this.xc).h(Q(a),"mouseup",this.Hi).h(a,["mousedown","mouseup","mouseover","mouseout"],this.Ei);this.Zb()&&fj(this,!0)};
function fj(a,b){var c=a.ra(),d=a.Y();b?c.h(d,"focus",a.wc).h(d,"blur",a.Jb).h(a.ne(),"key",a.Wa):c.aa(d,"focus",a.wc).aa(d,"blur",a.Jb).aa(a.ne(),"key",a.Wa)}r.Ja=function(){gj(this,-1);this.Z&&this.Z.R(!1);this.Lb=!1;dj.a.Ja.call(this)};r.g=function(){dj.a.g.call(this);if(this.L)this.L.j(),this.L=n;this.i=this.Z=this.Ab=this.Hf=n};r.rf=q(!0);
r.sf=function(a){var b=kg(this,a.target);if(b>-1&&b!=this.ja){var c=ig(this,this.ja);c&&c.yb(!1);this.ja=b;c=ig(this,this.ja);this.Lb&&c.setActive(!0);this.Cj&&this.Z&&c!=this.Z&&(c.T&64?c.R(!0):this.Z.R(!1))}X(this.c(),"activedescendant",a.target.c().id)};r.yf=function(a){if(a.target==ig(this,this.ja))this.ja=-1;X(this.c(),"activedescendant","")};r.Ni=function(a){if((a=a.target)&&a!=this.Z&&a.getParent()==this)this.Z&&this.Z.R(!1),this.Z=a};r.Fi=function(a){if(a.target==this.Z)this.Z=n};
r.xc=function(a){if(this.Sa)this.Lb=!0;var b=this.Y();b&&gd(b)?b.focus():a.preventDefault()};r.Hi=function(){this.Lb=!1};r.Ei=function(a){var b;a:{b=a.target;if(this.Ab)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.Ab){b=this.Ab[d];break a}b=b.parentNode}b=n}if(b)switch(a.type){case "mousedown":b.xc(a);break;case "mouseup":b.yc(a);break;case "mouseover":b.xf(a);break;case "mouseout":b.wf(a)}};r.wc=aa();r.Jb=function(){gj(this,-1);this.Lb=!1;this.Z&&this.Z.R(!1)};
r.Wa=function(a){return this.isEnabled()&&this.u&&(hg(this)!=0||this.Hf)&&this.bd(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
r.bd=function(a){var b=ig(this,this.ja);if(b&&typeof b.Wa=="function"&&b.Wa(a))return!0;if(this.Z&&this.Z!=b&&typeof this.Z.Wa=="function"&&this.Z.Wa(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Zb())this.Y().blur();else return!1;break;case 36:hj(this);break;case 35:ij(this);break;case 38:if(this.O==Vi)jj(this);else return!1;break;case 37:if(this.O==Ui)jg(this)?kj(this):jj(this);else return!1;break;case 40:if(this.O==Vi)kj(this);else return!1;
break;case 39:if(this.O==Ui)jg(this)?jj(this):kj(this);else return!1;break;default:return!1}return!0};function ej(a,b){var c=b.c(),c=c.id||(c.id=bg(b));if(!a.Ab)a.Ab={};a.Ab[c]=b}r.sd=function(a,b){dj.a.sd.call(this,a,b)};r.td=function(a,b,c){a.Oe|=2;a.Oe|=64;(this.Zb()||!this.ai)&&xg(a,32,!1);tg(a,!1);dj.a.td.call(this,a,b,c);c&&this.H&&ej(this,a);b<=this.ja&&this.ja++};
r.removeChild=function(a,b){if(a=B(a)?eg(this,a):a){var c=kg(this,a);c!=-1&&(c==this.ja?a.yb(!1):c<this.ja&&this.ja--);var d=a.c();if(d&&d.id&&this.Ab)c=this.Ab,d=d.id,d in c&&delete c[d]}a=dj.a.removeChild.call(this,a,b);tg(a,!0);return a};r.Rd=function(a){this.c()&&e(Error("Component already rendered"));this.O=a};
r.setVisible=function(a,b){if(b||this.u!=a&&this.dispatchEvent(a?"show":"hide")){this.u=a;var c=this.c();c&&(Me(c,a),this.Zb()&&Ti(this.Y(),this.Sa&&this.u),b||this.dispatchEvent(this.u?"aftershow":"afterhide"));return!0}return!1};r.isEnabled=p("Sa");r.hc=function(a){if(this.Sa!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Sa=!0,gg(this,function(a){a.Vh?delete a.Vh:a.hc(!0)})):(gg(this,function(a){a.isEnabled()?a.hc(!1):a.Vh=!0}),this.Lb=this.Sa=!1),this.Zb()&&Ti(this.Y(),a&&this.u)};
r.Zb=p("kf");r.ic=function(a){a!=this.kf&&this.H&&fj(this,a);this.kf=a;this.Sa&&this.u&&Ti(this.Y(),a)};function gj(a,b){var c=ig(a,b);c?c.yb(!0):a.ja>-1&&ig(a,a.ja).yb(!1)}r.yb=function(a){gj(this,kg(this,a))};function hj(a){lj(a,function(a,c){return(a+1)%c},hg(a)-1)}function ij(a){lj(a,function(a,c){a--;return a<0?c-1:a},0)}function kj(a){lj(a,function(a,c){return(a+1)%c},a.ja)}function jj(a){lj(a,function(a,c){a--;return a<0?c-1:a},a.ja)}
function lj(a,b,c){for(var c=c<0?kg(a,a.Z):c,d=hg(a),c=b.call(a,c,d),f=0;f<=d;){var g=ig(a,c);if(g&&a.yg(g)){gj(a,c);break}f++;c=b.call(a,c,d)}}r.yg=function(a){return a.u&&a.isEnabled()&&!!(a.T&2)};function mj(){}E(mj,lg);ca(mj);mj.prototype.p=q("goog-menuheader");function nj(a,b,c){Y.call(this,a,c||mj.Aa(),b);xg(this,1,!1);xg(this,2,!1);xg(this,4,!1);xg(this,32,!1);this.o=1}E(nj,Y);qg("goog-menuheader",function(){return new nj(n)});function oj(a,b){dj.call(this,Vi,b||Xi.Aa(),a);this.ic(!1)}E(oj,dj);r=oj.prototype;r.Ye=!0;r.bi=!1;r.p=function(){return this.i.p()};r.pc=function(a){if(this.i.pc(this,a))return!0;for(var b=0,c=hg(this);b<c;b++){var d=ig(this,b);if(typeof d.pc=="function"&&d.pc(a))return!0}return!1};r.Sb=function(a){this.sd(a,!0)};r.Qc=function(a,b){this.td(a,b,!0)};r.Ad=function(a){return ig(this,a)};r.me=function(){return hg(this)};
r.setPosition=function(a,b){var c=this.u;c||Me(this.c(),!0);Ie(this.c(),a,b);c||Me(this.c(),!1)};r.getPosition=function(){return this.u?Fe(this.c()):n};r.setVisible=function(a,b,c){(b=oj.a.setVisible.call(this,a,b))&&a&&this.H&&this.Ye&&this.Y().focus();this.uh=a&&c&&ea(c.clientX)?new G(c.clientX,c.clientY):n;return b};r.rf=function(a){this.Ye&&this.Y().focus();return oj.a.rf.call(this,a)};r.yg=function(a){return(this.bi||a.isEnabled())&&a.u&&!!(a.T&2)};
r.pb=function(a){var b=this.i,c;c=this.X();c=Rc(c.A,"div",b.p()+"-content",a);for(var d,f=0;d=c[f];f++)Wi(b,this,d);oj.a.pb.call(this,a)};function pj(){}E(pj,Dg);ca(pj);if(I)pj.prototype.setContent=function(a,b){var c=pj.a.W.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,P(a)),f=c.parentNode;f&&f.replaceChild(d,c)}};r=pj.prototype;r.W=function(a){a=pj.a.W.call(this,a&&a.firstChild);if(I&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};r.ia=function(a,b){var c=Rc(document,"*","goog-menu",b)[0];if(c){Me(c,!1);Q(c).body.appendChild(c);var d=new oj;d.ia(c);a.Qd(d)}return pj.a.ia.call(this,a,b)};
r.fe=function(a,b){return pj.a.fe.call(this,[this.createCaption(a,b),b.t("div","goog-inline-block "+(this.p()+"-dropdown"),"\u00a0")],b)};r.createCaption=function(a,b){return b.t("div","goog-inline-block "+(this.p()+"-caption"),a)};r.p=q("goog-menu-button");function qj(a,b,c,d){Cg.call(this,a,c||pj.Aa(),d);xg(this,64,!0);b&&this.Qd(b);this.v=new Te(500);if((Cf||Df)&&!K("533.17.9"))this.ue=!0}E(qj,Cg);r=qj.prototype;r.ug=!0;r.bg=!1;r.ue=!1;r.Hj=!1;r.ba=function(){qj.a.ba.call(this);this.k&&rj(this,this.k,!0);X(this.c(),"haspopup","true")};r.Ja=function(){qj.a.Ja.call(this);if(this.k){this.R(!1);this.k.Ja();rj(this,this.k,!1);var a=this.k.c();a&&ad(a)}};r.g=function(){qj.a.g.call(this);this.k&&(this.k.j(),delete this.k);delete this.Fj;this.v.j()};
r.xc=function(a){qj.a.xc.call(this,a);if(this.o&4&&(this.R(!this.La(),a),this.k))this.k.Lb=this.La()};r.yc=function(a){qj.a.yc.call(this,a);if(this.k&&!(this.o&4))this.k.Lb=!1};r.hd=function(){this.setActive(!1);return!0};r.Gi=function(a){this.k&&this.k.u&&!this.pc(a.target)&&this.R(!1)};r.pc=function(a){return a&&cd(this.c(),a)||this.k&&this.k.pc(a)||!1};
r.bd=function(a){if(a.keyCode==32){if(a.preventDefault(),a.type!="keyup")return!1}else if(a.type!="key")return!1;if(this.k&&this.k.u){var b=this.k.Wa(a);return a.keyCode==27?(this.R(!1),!0):b}return a.keyCode==40||a.keyCode==38||a.keyCode==32?(this.R(!0),!0):!1};r.uf=function(){this.R(!1)};r.Ki=function(){this.o&4||this.R(!1)};r.Jb=function(a){this.ue||this.R(!1);qj.a.Jb.call(this,a)};function sj(a){a.k||a.Qd(new oj(a.X()));return a.k||n}
r.Qd=function(a){var b=this.k;if(a!=b&&(b&&(this.R(!1),this.H&&rj(this,b,!1),delete this.k),a)){this.k=a;dg(a,this);a.setVisible(!1);var c=this.ue;(a.Ye=c)&&a.ic(!0);this.H&&rj(this,a,!0)}return b};r.Sb=function(a){sj(this).sd(a,!0)};r.Qc=function(a,b){sj(this).td(a,b,!0)};r.Ad=function(a){return this.k?ig(this.k,a):n};r.me=function(){return this.k?hg(this.k):0};r.setVisible=function(a,b){var c=qj.a.setVisible.call(this,a,b);c&&!this.u&&this.R(!1);return c};
r.hc=function(a){qj.a.hc.call(this,a);this.isEnabled()||this.R(!1)};
r.R=function(a,b){qj.a.R.call(this,a);if(this.k&&!!(this.o&64)==a){if(a)this.k.H||(this.Hj?this.k.xb(this.c().parentNode):this.k.xb()),this.Pc=Ee(this.c()),this.oc=Le(this.c()),tj(this),gj(this.k,-1);else if(this.setActive(!1),this.k.Lb=!1,this.c()&&X(this.c(),"activedescendant",""),this.Fe!=n){this.Fe=i;var c=this.k.c();if(c){var d="",f;d instanceof Lc?(f=d.height,d=d.width):f="";c.style.width=Ae(d,!0);c.style.height=Ae(f,!0)}}this.k.setVisible(a,!1,b);this.ie||(c=this.ra(),d=a?c.h:c.aa,d.call(c,
jd(this.X()),"mousedown",this.Gi,!0),this.ue&&d.call(c,this.k,"blur",this.Ki),d.call(c,this.v,Ve,this.gd),a?this.v.start():this.v.stop())}};function tj(a){if(a.k.H){var b=new Pi(a.Fj||a.c(),a.ug?5:7,!a.bg,a.bg),c=a.k.c();if(!a.k.u)c.style.visibility="hidden",Me(c,!0);if(!a.Fe&&a.bg)a.Fe=Je(c);b.Ld(c,a.ug?4:6,n,a.Fe);if(!a.k.u)Me(c,!1),c.style.visibility="visible"}}
r.gd=function(){var a=Le(this.c()),b=Ee(this.c());if(!(this.oc==a||(!this.oc||!a?0:this.oc.left==a.left&&this.oc.width==a.width&&this.oc.top==a.top&&this.oc.height==a.height))||!(this.Pc==b||(!this.Pc||!b?0:this.Pc.top==b.top&&this.Pc.right==b.right&&this.Pc.bottom==b.bottom&&this.Pc.left==b.left)))this.oc=a,this.Pc=b,tj(this)};function rj(a,b,c){var d=a.ra(),c=c?d.h:d.aa;c.call(d,b,"action",a.uf);c.call(d,b,"highlight",a.sf);c.call(d,b,"unhighlight",a.yf)}
r.sf=function(a){X(this.c(),"activedescendant",a.target.c().id)};r.yf=function(){ig(this.k,this.k.ja)||X(this.c(),"activedescendant","")};qg("goog-menu-button",function(){return new qj(n)});function uj(a){this.Ac=[];vj(this,a)}E(uj,de);r=uj.prototype;r.fc=n;r.gc=n;r.me=function(){return this.Ac.length};r.Ad=function(a){return this.Ac[a]||n};function vj(a,b){b&&(M(b,function(a){wj(this,a,!1)},a),Cb(a.Ac,b))}r.Sb=function(a){this.Qc(a,this.me())};r.Qc=function(a,b){a&&(wj(this,a,!1),Db(this.Ac,b,0,a))};r.pe=p("fc");r.jc=function(a){if(a!=this.fc)wj(this,this.fc,!1),this.fc=a,wj(this,a,!0);this.dispatchEvent("select")};r.pf=function(){return this.fc?tb(this.Ac,this.fc):-1};r.Gh=function(a){this.jc(this.Ad(a))};
r.clear=function(){var a=this.Ac;if(!z(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.fc=n};r.g=function(){uj.a.g.call(this);delete this.Ac;this.fc=n};function wj(a,b,c){b&&(typeof a.gc=="function"?a.gc(b,c):typeof b.dg=="function"&&b.dg(c))};function xj(a,b,c,d){qj.call(this,a,b,c,d);this.he=a;yj(this);this.He="listbox"}E(xj,qj);r=xj.prototype;r.J=n;r.he=n;r.ba=function(){xj.a.ba.call(this);yj(this);zj(this);X(this.c(),"haspopup","false")};r.pb=function(a){xj.a.pb.call(this,a);(a=this.Xc())?(this.he=a,yj(this)):this.Gh(0)};r.g=function(){xj.a.g.call(this);if(this.J)this.J.j(),this.J=n;this.he=n};r.uf=function(a){this.jc(a.target);xj.a.uf.call(this,a);a.stopPropagation();this.dispatchEvent("action")};
r.Pi=function(){var a=this.pe();xj.a.S.call(this,a&&a.n());yj(this)};r.Qd=function(a){var b=xj.a.Qd.call(this,a);a!=b&&(this.J&&this.J.clear(),a&&(this.J?gg(a,function(a){Aj(a);this.J.Sb(a)},this):Bj(this,a)));return b};r.Sb=function(a){Aj(a);xj.a.Sb.call(this,a);this.J?this.J.Sb(a):Bj(this,sj(this))};r.Qc=function(a,b){Aj(a);xj.a.Qc.call(this,a,b);this.J?this.J.Qc(a,b):Bj(this,sj(this))};r.jc=function(a){this.J&&this.J.jc(a)};r.Gh=function(a){this.J&&this.jc(this.J.Ad(a))};
r.S=function(a){if(a!=n&&this.J)for(var b=0,c;c=this.J.Ad(b);b++)if(c&&typeof c.n=="function"&&c.n()==a){this.jc(c);return}this.jc(n)};r.pe=function(){return this.J?this.J.pe():n};r.pf=function(){return this.J?this.J.pf():-1};function Bj(a,b){a.J=new uj;b&&gg(b,function(a){Aj(a);this.J.Sb(a)},a);zj(a)}function zj(a){a.J&&a.ra().h(a.J,"select",a.Pi)}function yj(a){var b=a.pe();a.setContent(b?b.Xc():a.he)}function Aj(a){a.He=a instanceof cj?"option":"separator"}
r.R=function(a,b){xj.a.R.call(this,a,b);this.La()&&gj(sj(this),this.pf())};qg("goog-select",function(){return new xj(n)});function Cj(a,b){this.e=a;this.ld=new xj("---");this.da=T(this.ld,"action",function(b){a.V.ob(b.target.n())});this.ld.xb(b)}E(Cj,F);Cj.prototype.mb=function(a,b){var c=new cj(a.name,a);this.ld.Sb(c);if(b||this.ld.me()==1)this.ld.jc(c),this.e.V.ob(a)};Cj.prototype.g=function(){V(this.da);this.ld.j()};function Dj(a){w(a)||function(){this.b=new dh(a,Qc("weapp-fpsbox"),function(){window.document.location="http://www.webglearth.com/upgrade.html"});eh(this.b);this.fh=new Te(15);T(this.fh,Ve,C(function(){var a=this.b,b=a.sa;if(!w(a.mf)){var c=D();if(a.If<D()-2E3)a.lf=1E3*a.le/(D()-a.If),a.wg=a.nf/a.le,a.If=D(),a.le=0,a.nf=0,a.mf.innerHTML=a.wg.toFixed(2)+" ms / fps: "+a.lf.toFixed(2);a.le++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.bc.wb=Rg(4);a.m.draw();!w(a.mf)&&(a.nf+=D()-c);a=this.Pf;M(a.Qf.vc(),
a.Zj,a)},this));this.b.m=new Hh(this.b,Qc("weapp-infobox"),Qc("weapp-mapcopyright"),Qc("weapp-maplogo"));this.b.Ie();this.jk=new Bi(this.b.m);this.rk=new Ii(this.b.m);this.Yj=new Cj(this.b.m,Qc("weapp-tileprovider"));this.sk=new oi(this.b.m,Qc("weapp-zoomslider"));this.ok=new Ci(this.b.m,Qc("weapp-pancontrol"));this.nk=new xi(this.b.m.V,Qc("weapp-opacityslider"));var b=Qc("weapp-nominatim");this.ph=new Uf(b);this.Pf=new Ei(this.b.m,a.parentNode);var c=new Ji(0,0);c.enable(!1);Fi(this.Pf,"nominatimMarker",
c);var d=C(function(a){this.b.m.d.setPosition(hc(a.lat),hc(a.lon));this.b.m.d.tilt=0;c.enable(!0);c.lat=a.lat;c.Of=a.lon},this);this.ph.addEventListener("update",function(a){d(a.row)});T(Qc("weapp-nominatimform"),"submit",C(function(a){a.preventDefault();this.ph.search(b.value,1,function(a,b){b.length>0&&d(b[0])})},this));var f=C(function(){function a(c){c+="=";var d=xb(b,function(a){return a.indexOf(c)===0});if(d!=n&&(d=d.substr(c.length),d.length>0))return d}var b=window.location.hash.substr(1).split(";"),
c=a("zoom")||a("z");isNaN(c)||this.b.m.d.setZoom(c);c=a("alt");isNaN(c)||Kg(this.b.m.d,c);c=a("t");if(!isNaN(c))this.b.m.d.tilt=parseFloat(c);c=a("h");if(!isNaN(c))this.b.m.d.heading=parseFloat(c);c=a("ll");if(c!=n)c=c.split(","),c.length>1&&!isNaN(c[0])&&!isNaN(c[1])&&this.b.m.d.setPosition(hc(c[0]),hc(c[1]));else{var c=a("lat"),d=a("lon")||a("long");!isNaN(c)&&!isNaN(d)&&this.b.m.d.setPosition(hc(c),hc(d))}},this);this.Tg=new Te(2E3);T(this.Tg,Ve,C(function(){var a=[ic(this.b.m.d.ub),ic(this.b.m.d.Kb)];
window.location.hash="#ll="+a[0].toFixed(5)+","+a[1].toFixed(5)+";alt="+this.b.m.d.oa.toFixed(0)+";h="+this.b.m.d.heading.toFixed(3)+";t="+this.b.m.d.tilt.toFixed(3)},this));this.Tg.start();window.addEventListener("hashchange",f,!1);f();T(this.b.canvas,"click",C(function(a){if(a.ctrlKey){var b=Ng(this.b.m,a.offsetX,a.offsetY);Fi(this.Pf,n,new Ji(b[0],b[1]));a.preventDefault()}},this))}.call(this)}Dj.prototype.mb=function(a){this.Yj.mb(a)};Dj.prototype.start=function(){this.fh.start()};
function Ej(){var a=new Dj(Qc("weapp-canvas"));a.mb(new qi("Satellite"));a.mb(new qi("Roadmap"));a.mb(new qi("Terrain"));a.mb(new Yf);a.mb(new Xf);a.mb(new yi("Aerial","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.mb(new yi("AerialWithLabels","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));a.mb(new yi("Road","AsLurrtJotbxkJmnsefUYbatUuBkeBTzTL930TvcOekeG8SaQPY9Z5LDKtiuzAOu"));var b=(new nc(document.location.toString())).bb.get("id"),b=new Hi(b?b.toString():
"4I8A6MZxOzQeiWpo2S37aZ/201009211223-ANwdJGv");a.b.m.V.ob(b,!1,!0);a.start()}var Fj="WEApp".split("."),Gj=s;!(Fj[0]in Gj)&&Gj.execScript&&Gj.execScript("var "+Fj[0]);for(var Hj;Fj.length&&(Hj=Fj.shift());)!Fj.length&&v(Ej)?Gj[Hj]=Ej:Gj=Gj[Hj]?Gj[Hj]:Gj[Hj]={};
